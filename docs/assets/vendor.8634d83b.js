function Gi(I,le){const t=Object.create(null),P=I.split(",");for(let k=0;k<P.length;k++)t[P[k]]=!0;return le?k=>!!t[k.toLowerCase()]:k=>!!t[k]}const ic="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oc=Gi(ic);function Ul(I){return!!I||I===""}function Vi(I){if(hr(I)){const le={};for(let t=0;t<I.length;t++){const P=I[t],k=Or(P)?uc(P):Vi(P);if(k)for(const e in k)le[e]=k[e]}return le}else{if(Or(I))return I;if(Ir(I))return I}}const lc=/;(?![^(]*\))/g,sc=/:(.+)/;function uc(I){const le={};return I.split(lc).forEach(t=>{if(t){const P=t.split(sc);P.length>1&&(le[P[0].trim()]=P[1].trim())}}),le}function Wi(I){let le="";if(Or(I))le=I;else if(hr(I))for(let t=0;t<I.length;t++){const P=Wi(I[t]);P&&(le+=P+" ")}else if(Ir(I))for(const t in I)I[t]&&(le+=t+" ");return le.trim()}const Nh=I=>I==null?"":hr(I)||Ir(I)&&(I.toString===Wl||!dr(I.toString))?JSON.stringify(I,Yl,2):String(I),Yl=(I,le)=>le&&le.__v_isRef?Yl(I,le.value):qa(le)?{[`Map(${le.size})`]:[...le.entries()].reduce((t,[P,k])=>(t[`${P} =>`]=k,t),{})}:Gl(le)?{[`Set(${le.size})`]:[...le.values()]}:Ir(le)&&!hr(le)&&!Zl(le)?String(le):le,wr={},Qa=[],ia=()=>{},fc=()=>!1,cc=/^on[^a-z]/,Xn=I=>cc.test(I),Zi=I=>I.startsWith("onUpdate:"),Gr=Object.assign,Xi=(I,le)=>{const t=I.indexOf(le);t>-1&&I.splice(t,1)},vc=Object.prototype.hasOwnProperty,gr=(I,le)=>vc.call(I,le),hr=Array.isArray,qa=I=>Jn(I)==="[object Map]",Gl=I=>Jn(I)==="[object Set]",dr=I=>typeof I=="function",Or=I=>typeof I=="string",Ji=I=>typeof I=="symbol",Ir=I=>I!==null&&typeof I=="object",Vl=I=>Ir(I)&&dr(I.then)&&dr(I.catch),Wl=Object.prototype.toString,Jn=I=>Wl.call(I),hc=I=>Jn(I).slice(8,-1),Zl=I=>Jn(I)==="[object Object]",ji=I=>Or(I)&&I!=="NaN"&&I[0]!=="-"&&""+parseInt(I,10)===I,jn=Gi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kn=I=>{const le=Object.create(null);return t=>le[t]||(le[t]=I(t))},dc=/-(\w)/g,fa=Kn(I=>I.replace(dc,(le,t)=>t?t.toUpperCase():"")),pc=/\B([A-Z])/g,en=Kn(I=>I.replace(pc,"-$1").toLowerCase()),$n=Kn(I=>I.charAt(0).toUpperCase()+I.slice(1)),Ki=Kn(I=>I?`on${$n(I)}`:""),Qn=(I,le)=>!Object.is(I,le),$i=(I,le)=>{for(let t=0;t<I.length;t++)I[t](le)},qn=(I,le,t)=>{Object.defineProperty(I,le,{configurable:!0,enumerable:!1,value:t})},mc=I=>{const le=parseFloat(I);return isNaN(le)?I:le};let Xl;const yc=()=>Xl||(Xl=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ia;const ei=[];class gc{constructor(le=!1){this.active=!0,this.effects=[],this.cleanups=[],!le&&Ia&&(this.parent=Ia,this.index=(Ia.scopes||(Ia.scopes=[])).push(this)-1)}run(le){if(this.active)try{return this.on(),le()}finally{this.off()}}on(){this.active&&(ei.push(this),Ia=this)}off(){this.active&&(ei.pop(),Ia=ei[ei.length-1])}stop(le){if(this.active){if(this.effects.forEach(t=>t.stop()),this.cleanups.forEach(t=>t()),this.scopes&&this.scopes.forEach(t=>t.stop(!0)),this.parent&&!le){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.active=!1}}}function bc(I,le){le=le||Ia,le&&le.active&&le.effects.push(I)}const Qi=I=>{const le=new Set(I);return le.w=0,le.n=0,le},Jl=I=>(I.w&ka)>0,jl=I=>(I.n&ka)>0,xc=({deps:I})=>{if(I.length)for(let le=0;le<I.length;le++)I[le].w|=ka},_c=I=>{const{deps:le}=I;if(le.length){let t=0;for(let P=0;P<le.length;P++){const k=le[P];Jl(k)&&!jl(k)?k.delete(I):le[t++]=k,k.w&=~ka,k.n&=~ka}le.length=t}},qi=new WeakMap;let gn=0,ka=1;const eo=30,bn=[];let za;const Oa=Symbol(""),to=Symbol("");class ro{constructor(le,t=null,P){this.fn=le,this.scheduler=t,this.active=!0,this.deps=[],bc(this,P)}run(){if(!this.active)return this.fn();if(!bn.includes(this))try{return bn.push(za=this),wc(),ka=1<<++gn,gn<=eo?xc(this):Kl(this),this.fn()}finally{gn<=eo&&_c(this),ka=1<<--gn,Ha(),bn.pop();const le=bn.length;za=le>0?bn[le-1]:void 0}}stop(){this.active&&(Kl(this),this.onStop&&this.onStop(),this.active=!1)}}function Kl(I){const{deps:le}=I;if(le.length){for(let t=0;t<le.length;t++)le[t].delete(I);le.length=0}}let tn=!0;const ao=[];function rn(){ao.push(tn),tn=!1}function wc(){ao.push(tn),tn=!0}function Ha(){const I=ao.pop();tn=I===void 0?!0:I}function Kr(I,le,t){if(!$l())return;let P=qi.get(I);P||qi.set(I,P=new Map);let k=P.get(t);k||P.set(t,k=Qi()),Ql(k)}function $l(){return tn&&za!==void 0}function Ql(I,le){let t=!1;gn<=eo?jl(I)||(I.n|=ka,t=!Jl(I)):t=!I.has(za),t&&(I.add(za),za.deps.push(I))}function ya(I,le,t,P,k,e){const a=qi.get(I);if(!a)return;let i=[];if(le==="clear")i=[...a.values()];else if(t==="length"&&hr(I))a.forEach((n,r)=>{(r==="length"||r>=P)&&i.push(n)});else switch(t!==void 0&&i.push(a.get(t)),le){case"add":hr(I)?ji(t)&&i.push(a.get("length")):(i.push(a.get(Oa)),qa(I)&&i.push(a.get(to)));break;case"delete":hr(I)||(i.push(a.get(Oa)),qa(I)&&i.push(a.get(to)));break;case"set":qa(I)&&i.push(a.get(Oa));break}if(i.length===1)i[0]&&no(i[0]);else{const n=[];for(const r of i)r&&n.push(...r);no(Qi(n))}}function no(I,le){for(const t of hr(I)?I:[...I])(t!==za||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Tc=Gi("__proto__,__v_isRef,__isVue"),ql=new Set(Object.getOwnPropertyNames(Symbol).map(I=>Symbol[I]).filter(Ji)),Mc=io(),Ac=io(!1,!0),kc=io(!0),es=Cc();function Cc(){const I={};return["includes","indexOf","lastIndexOf"].forEach(le=>{I[le]=function(...t){const P=br(this);for(let e=0,a=this.length;e<a;e++)Kr(P,"get",e+"");const k=P[le](...t);return k===-1||k===!1?P[le](...t.map(br)):k}}),["push","pop","shift","unshift","splice"].forEach(le=>{I[le]=function(...t){rn();const P=br(this)[le].apply(this,t);return Ha(),P}}),I}function io(I=!1,le=!1){return function(P,k,e){if(k==="__v_isReactive")return!I;if(k==="__v_isReadonly")return I;if(k==="__v_raw"&&e===(I?le?Gc:us:le?ss:ls).get(P))return P;const a=hr(P);if(!I&&a&&gr(es,k))return Reflect.get(es,k,e);const i=Reflect.get(P,k,e);return(Ji(k)?ql.has(k):Tc(k))||(I||Kr(P,"get",k),le)?i:Xr(i)?!a||!ji(k)?i.value:i:Ir(i)?I?fs(i):so(i):i}}const Sc=ts(),Lc=ts(!0);function ts(I=!1){return function(t,P,k,e){let a=t[P];if(!I&&!fo(k)&&(k=br(k),a=br(a),!hr(t)&&Xr(a)&&!Xr(k)))return a.value=k,!0;const i=hr(t)&&ji(P)?Number(P)<t.length:gr(t,P),n=Reflect.set(t,P,k,e);return t===br(e)&&(i?Qn(k,a)&&ya(t,"set",P,k):ya(t,"add",P,k)),n}}function Dc(I,le){const t=gr(I,le);I[le];const P=Reflect.deleteProperty(I,le);return P&&t&&ya(I,"delete",le,void 0),P}function Ec(I,le){const t=Reflect.has(I,le);return(!Ji(le)||!ql.has(le))&&Kr(I,"has",le),t}function Rc(I){return Kr(I,"iterate",hr(I)?"length":Oa),Reflect.ownKeys(I)}const rs={get:Mc,set:Sc,deleteProperty:Dc,has:Ec,ownKeys:Rc},Pc={get:kc,set(I,le){return!0},deleteProperty(I,le){return!0}},Nc=Gr({},rs,{get:Ac,set:Lc}),oo=I=>I,ti=I=>Reflect.getPrototypeOf(I);function ri(I,le,t=!1,P=!1){I=I.__v_raw;const k=br(I),e=br(le);le!==e&&!t&&Kr(k,"get",le),!t&&Kr(k,"get",e);const{has:a}=ti(k),i=P?oo:t?vo:co;if(a.call(k,le))return i(I.get(le));if(a.call(k,e))return i(I.get(e));I!==k&&I.get(le)}function ai(I,le=!1){const t=this.__v_raw,P=br(t),k=br(I);return I!==k&&!le&&Kr(P,"has",I),!le&&Kr(P,"has",k),I===k?t.has(I):t.has(I)||t.has(k)}function ni(I,le=!1){return I=I.__v_raw,!le&&Kr(br(I),"iterate",Oa),Reflect.get(I,"size",I)}function as(I){I=br(I);const le=br(this);return ti(le).has.call(le,I)||(le.add(I),ya(le,"add",I,I)),this}function ns(I,le){le=br(le);const t=br(this),{has:P,get:k}=ti(t);let e=P.call(t,I);e||(I=br(I),e=P.call(t,I));const a=k.call(t,I);return t.set(I,le),e?Qn(le,a)&&ya(t,"set",I,le):ya(t,"add",I,le),this}function is(I){const le=br(this),{has:t,get:P}=ti(le);let k=t.call(le,I);k||(I=br(I),k=t.call(le,I)),P&&P.call(le,I);const e=le.delete(I);return k&&ya(le,"delete",I,void 0),e}function os(){const I=br(this),le=I.size!==0,t=I.clear();return le&&ya(I,"clear",void 0,void 0),t}function ii(I,le){return function(P,k){const e=this,a=e.__v_raw,i=br(a),n=le?oo:I?vo:co;return!I&&Kr(i,"iterate",Oa),a.forEach((r,f)=>P.call(k,n(r),n(f),e))}}function oi(I,le,t){return function(...P){const k=this.__v_raw,e=br(k),a=qa(e),i=I==="entries"||I===Symbol.iterator&&a,n=I==="keys"&&a,r=k[I](...P),f=t?oo:le?vo:co;return!le&&Kr(e,"iterate",n?to:Oa),{next(){const{value:u,done:s}=r.next();return s?{value:u,done:s}:{value:i?[f(u[0]),f(u[1])]:f(u),done:s}},[Symbol.iterator](){return this}}}}function Ca(I){return function(...le){return I==="delete"?!1:this}}function Fc(){const I={get(e){return ri(this,e)},get size(){return ni(this)},has:ai,add:as,set:ns,delete:is,clear:os,forEach:ii(!1,!1)},le={get(e){return ri(this,e,!1,!0)},get size(){return ni(this)},has:ai,add:as,set:ns,delete:is,clear:os,forEach:ii(!1,!0)},t={get(e){return ri(this,e,!0)},get size(){return ni(this,!0)},has(e){return ai.call(this,e,!0)},add:Ca("add"),set:Ca("set"),delete:Ca("delete"),clear:Ca("clear"),forEach:ii(!0,!1)},P={get(e){return ri(this,e,!0,!0)},get size(){return ni(this,!0)},has(e){return ai.call(this,e,!0)},add:Ca("add"),set:Ca("set"),delete:Ca("delete"),clear:Ca("clear"),forEach:ii(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(e=>{I[e]=oi(e,!1,!1),t[e]=oi(e,!0,!1),le[e]=oi(e,!1,!0),P[e]=oi(e,!0,!0)}),[I,t,le,P]}const[Ic,zc,Oc,Hc]=Fc();function lo(I,le){const t=le?I?Hc:Oc:I?zc:Ic;return(P,k,e)=>k==="__v_isReactive"?!I:k==="__v_isReadonly"?I:k==="__v_raw"?P:Reflect.get(gr(t,k)&&k in P?t:P,k,e)}const Bc={get:lo(!1,!1)},Uc={get:lo(!1,!0)},Yc={get:lo(!0,!1)},ls=new WeakMap,ss=new WeakMap,us=new WeakMap,Gc=new WeakMap;function Vc(I){switch(I){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wc(I){return I.__v_skip||!Object.isExtensible(I)?0:Vc(hc(I))}function so(I){return I&&I.__v_isReadonly?I:uo(I,!1,rs,Bc,ls)}function Zc(I){return uo(I,!1,Nc,Uc,ss)}function fs(I){return uo(I,!0,Pc,Yc,us)}function uo(I,le,t,P,k){if(!Ir(I)||I.__v_raw&&!(le&&I.__v_isReactive))return I;const e=k.get(I);if(e)return e;const a=Wc(I);if(a===0)return I;const i=new Proxy(I,a===2?P:t);return k.set(I,i),i}function an(I){return fo(I)?an(I.__v_raw):!!(I&&I.__v_isReactive)}function fo(I){return!!(I&&I.__v_isReadonly)}function cs(I){return an(I)||fo(I)}function br(I){const le=I&&I.__v_raw;return le?br(le):I}function vs(I){return qn(I,"__v_skip",!0),I}const co=I=>Ir(I)?so(I):I,vo=I=>Ir(I)?fs(I):I;function Xc(I){$l()&&(I=br(I),I.dep||(I.dep=Qi()),Ql(I.dep))}function Jc(I,le){I=br(I),I.dep&&no(I.dep)}function Xr(I){return Boolean(I&&I.__v_isRef===!0)}function jc(I){return Xr(I)?I.value:I}const Kc={get:(I,le,t)=>jc(Reflect.get(I,le,t)),set:(I,le,t,P)=>{const k=I[le];return Xr(k)&&!Xr(t)?(k.value=t,!0):Reflect.set(I,le,t,P)}};function hs(I){return an(I)?I:new Proxy(I,Kc)}class $c{constructor(le,t,P){this._setter=t,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new ro(le,()=>{this._dirty||(this._dirty=!0,Jc(this))}),this.__v_isReadonly=P}get value(){const le=br(this);return Xc(le),le._dirty&&(le._dirty=!1,le._value=le.effect.run()),le._value}set value(le){this._setter(le)}}function Qc(I,le){let t,P;const k=dr(I);return k?(t=I,P=ia):(t=I.get,P=I.set),new $c(t,P,k||!P)}Promise.resolve();function qc(I,le,...t){const P=I.vnode.props||wr;let k=t;const e=le.startsWith("update:"),a=e&&le.slice(7);if(a&&a in P){const f=`${a==="modelValue"?"model":a}Modifiers`,{number:u,trim:s}=P[f]||wr;s?k=t.map(o=>o.trim()):u&&(k=t.map(mc))}let i,n=P[i=Ki(le)]||P[i=Ki(fa(le))];!n&&e&&(n=P[i=Ki(en(le))]),n&&oa(n,I,6,k);const r=P[i+"Once"];if(r){if(!I.emitted)I.emitted={};else if(I.emitted[i])return;I.emitted[i]=!0,oa(r,I,6,k)}}function ds(I,le,t=!1){const P=le.emitsCache,k=P.get(I);if(k!==void 0)return k;const e=I.emits;let a={},i=!1;if(!dr(I)){const n=r=>{const f=ds(r,le,!0);f&&(i=!0,Gr(a,f))};!t&&le.mixins.length&&le.mixins.forEach(n),I.extends&&n(I.extends),I.mixins&&I.mixins.forEach(n)}return!e&&!i?(P.set(I,null),null):(hr(e)?e.forEach(n=>a[n]=null):Gr(a,e),P.set(I,a),a)}function ho(I,le){return!I||!Xn(le)?!1:(le=le.slice(2).replace(/Once$/,""),gr(I,le[0].toLowerCase()+le.slice(1))||gr(I,en(le))||gr(I,le))}let ca=null,ps=null;function li(I){const le=ca;return ca=I,ps=I&&I.type.__scopeId||null,le}function ev(I,le=ca,t){if(!le||I._n)return I;const P=(...k)=>{P._d&&zs(-1);const e=li(le),a=I(...k);return li(e),P._d&&zs(1),a};return P._n=!0,P._c=!0,P._d=!0,P}function po(I){const{type:le,vnode:t,proxy:P,withProxy:k,props:e,propsOptions:[a],slots:i,attrs:n,emit:r,render:f,renderCache:u,data:s,setupState:o,ctx:h,inheritAttrs:p}=I;let d,y;const g=li(I);try{if(t.shapeFlag&4){const C=k||P;d=ha(f.call(C,C,u,e,o,s,h)),y=n}else{const C=le;d=ha(C.length>1?C(e,{attrs:n,slots:i,emit:r}):C(e,null)),y=le.props?n:tv(n)}}catch(C){xn.length=0,mi(C,I,1),d=va(Ga)}let D=d;if(y&&p!==!1){const C=Object.keys(y),{shapeFlag:L}=D;C.length&&L&(1|6)&&(a&&C.some(Zi)&&(y=rv(y,a)),D=wn(D,y))}return t.dirs&&(D.dirs=D.dirs?D.dirs.concat(t.dirs):t.dirs),t.transition&&(D.transition=t.transition),d=D,li(g),d}const tv=I=>{let le;for(const t in I)(t==="class"||t==="style"||Xn(t))&&((le||(le={}))[t]=I[t]);return le},rv=(I,le)=>{const t={};for(const P in I)(!Zi(P)||!(P.slice(9)in le))&&(t[P]=I[P]);return t};function av(I,le,t){const{props:P,children:k,component:e}=I,{props:a,children:i,patchFlag:n}=le,r=e.emitsOptions;if(le.dirs||le.transition)return!0;if(t&&n>=0){if(n&1024)return!0;if(n&16)return P?ms(P,a,r):!!a;if(n&8){const f=le.dynamicProps;for(let u=0;u<f.length;u++){const s=f[u];if(a[s]!==P[s]&&!ho(r,s))return!0}}}else return(k||i)&&(!i||!i.$stable)?!0:P===a?!1:P?a?ms(P,a,r):!0:!!a;return!1}function ms(I,le,t){const P=Object.keys(le);if(P.length!==Object.keys(I).length)return!0;for(let k=0;k<P.length;k++){const e=P[k];if(le[e]!==I[e]&&!ho(t,e))return!0}return!1}function nv({vnode:I,parent:le},t){for(;le&&le.subTree===I;)(I=le.vnode).el=t,le=le.parent}const iv=I=>I.__isSuspense;function ov(I,le){le&&le.pendingBranch?hr(I)?le.effects.push(...I):le.effects.push(I):lh(I)}function lv(I,le){if(Hr){let t=Hr.provides;const P=Hr.parent&&Hr.parent.provides;P===t&&(t=Hr.provides=Object.create(P)),t[I]=le}}function mo(I,le,t=!1){const P=Hr||ca;if(P){const k=P.parent==null?P.vnode.appContext&&P.vnode.appContext.provides:P.parent.provides;if(k&&I in k)return k[I];if(arguments.length>1)return t&&dr(le)?le.call(P.proxy):le}}function Fh(I){return dr(I)?{setup:I,name:I.name}:I}const yo=I=>!!I.type.__asyncLoader,ys=I=>I.type.__isKeepAlive;function sv(I,le){gs(I,"a",le)}function uv(I,le){gs(I,"da",le)}function gs(I,le,t=Hr){const P=I.__wdc||(I.__wdc=()=>{let k=t;for(;k;){if(k.isDeactivated)return;k=k.parent}return I()});if(si(le,P,t),t){let k=t.parent;for(;k&&k.parent;)ys(k.parent.vnode)&&fv(P,le,t,k),k=k.parent}}function fv(I,le,t,P){const k=si(le,I,P,!0);bs(()=>{Xi(P[le],k)},t)}function si(I,le,t=Hr,P=!1){if(t){const k=t[I]||(t[I]=[]),e=le.__weh||(le.__weh=(...a)=>{if(t.isUnmounted)return;rn(),nn(t);const i=oa(le,t,I,a);return Wa(),Ha(),i});return P?k.unshift(e):k.push(e),e}}const ga=I=>(le,t=Hr)=>(!pi||I==="sp")&&si(I,le,t),cv=ga("bm"),vv=ga("m"),hv=ga("bu"),dv=ga("u"),pv=ga("bum"),bs=ga("um"),mv=ga("sp"),yv=ga("rtg"),gv=ga("rtc");function bv(I,le=Hr){si("ec",I,le)}let go=!0;function xv(I){const le=ws(I),t=I.proxy,P=I.ctx;go=!1,le.beforeCreate&&xs(le.beforeCreate,I,"bc");const{data:k,computed:e,methods:a,watch:i,provide:n,inject:r,created:f,beforeMount:u,mounted:s,beforeUpdate:o,updated:h,activated:p,deactivated:d,beforeDestroy:y,beforeUnmount:g,destroyed:D,unmounted:C,render:L,renderTracked:x,renderTriggered:M,errorCaptured:v,serverPrefetch:m,expose:A,inheritAttrs:V,components:T,directives:Y,filters:G}=le;if(r&&_v(r,P,null,I.appContext.config.unwrapInjectedRef),a)for(const W in a){const K=a[W];dr(K)&&(P[W]=K.bind(t))}if(k){const W=k.call(t,t);Ir(W)&&(I.data=so(W))}if(go=!0,e)for(const W in e){const K=e[W],J=dr(K)?K.bind(t,t):dr(K.get)?K.get.bind(t,t):ia,ae=!dr(K)&&dr(K.set)?K.set.bind(t):ia,z=Qc({get:J,set:ae});Object.defineProperty(P,W,{enumerable:!0,configurable:!0,get:()=>z.value,set:H=>z.value=H})}if(i)for(const W in i)_s(i[W],P,t,W);if(n){const W=dr(n)?n.call(t):n;Reflect.ownKeys(W).forEach(K=>{lv(K,W[K])})}f&&xs(f,I,"c");function U(W,K){hr(K)?K.forEach(J=>W(J.bind(t))):K&&W(K.bind(t))}if(U(cv,u),U(vv,s),U(hv,o),U(dv,h),U(sv,p),U(uv,d),U(bv,v),U(gv,x),U(yv,M),U(pv,g),U(bs,C),U(mv,m),hr(A))if(A.length){const W=I.exposed||(I.exposed={});A.forEach(K=>{Object.defineProperty(W,K,{get:()=>t[K],set:J=>t[K]=J})})}else I.exposed||(I.exposed={});L&&I.render===ia&&(I.render=L),V!=null&&(I.inheritAttrs=V),T&&(I.components=T),Y&&(I.directives=Y)}function _v(I,le,t=ia,P=!1){hr(I)&&(I=bo(I));for(const k in I){const e=I[k];let a;Ir(e)?"default"in e?a=mo(e.from||k,e.default,!0):a=mo(e.from||k):a=mo(e),Xr(a)&&P?Object.defineProperty(le,k,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):le[k]=a}}function xs(I,le,t){oa(hr(I)?I.map(P=>P.bind(le.proxy)):I.bind(le.proxy),le,t)}function _s(I,le,t,P){const k=P.includes(".")?qs(t,P):()=>t[P];if(Or(I)){const e=le[I];dr(e)&&Eo(k,e)}else if(dr(I))Eo(k,I.bind(t));else if(Ir(I))if(hr(I))I.forEach(e=>_s(e,le,t,P));else{const e=dr(I.handler)?I.handler.bind(t):le[I.handler];dr(e)&&Eo(k,e,I)}}function ws(I){const le=I.type,{mixins:t,extends:P}=le,{mixins:k,optionsCache:e,config:{optionMergeStrategies:a}}=I.appContext,i=e.get(le);let n;return i?n=i:!k.length&&!t&&!P?n=le:(n={},k.length&&k.forEach(r=>ui(n,r,a,!0)),ui(n,le,a)),e.set(le,n),n}function ui(I,le,t,P=!1){const{mixins:k,extends:e}=le;e&&ui(I,e,t,!0),k&&k.forEach(a=>ui(I,a,t,!0));for(const a in le)if(!(P&&a==="expose")){const i=wv[a]||t&&t[a];I[a]=i?i(I[a],le[a]):le[a]}return I}const wv={data:Ts,props:Ba,emits:Ba,methods:Ba,computed:Ba,beforeCreate:Vr,created:Vr,beforeMount:Vr,mounted:Vr,beforeUpdate:Vr,updated:Vr,beforeDestroy:Vr,beforeUnmount:Vr,destroyed:Vr,unmounted:Vr,activated:Vr,deactivated:Vr,errorCaptured:Vr,serverPrefetch:Vr,components:Ba,directives:Ba,watch:Mv,provide:Ts,inject:Tv};function Ts(I,le){return le?I?function(){return Gr(dr(I)?I.call(this,this):I,dr(le)?le.call(this,this):le)}:le:I}function Tv(I,le){return Ba(bo(I),bo(le))}function bo(I){if(hr(I)){const le={};for(let t=0;t<I.length;t++)le[I[t]]=I[t];return le}return I}function Vr(I,le){return I?[...new Set([].concat(I,le))]:le}function Ba(I,le){return I?Gr(Gr(Object.create(null),I),le):le}function Mv(I,le){if(!I)return le;if(!le)return I;const t=Gr(Object.create(null),I);for(const P in le)t[P]=Vr(I[P],le[P]);return t}function Av(I,le,t,P=!1){const k={},e={};qn(e,vi,1),I.propsDefaults=Object.create(null),Ms(I,le,k,e);for(const a in I.propsOptions[0])a in k||(k[a]=void 0);t?I.props=P?k:Zc(k):I.type.props?I.props=k:I.props=e,I.attrs=e}function kv(I,le,t,P){const{props:k,attrs:e,vnode:{patchFlag:a}}=I,i=br(k),[n]=I.propsOptions;let r=!1;if((P||a>0)&&!(a&16)){if(a&8){const f=I.vnode.dynamicProps;for(let u=0;u<f.length;u++){let s=f[u];const o=le[s];if(n)if(gr(e,s))o!==e[s]&&(e[s]=o,r=!0);else{const h=fa(s);k[h]=xo(n,i,h,o,I,!1)}else o!==e[s]&&(e[s]=o,r=!0)}}}else{Ms(I,le,k,e)&&(r=!0);let f;for(const u in i)(!le||!gr(le,u)&&((f=en(u))===u||!gr(le,f)))&&(n?t&&(t[u]!==void 0||t[f]!==void 0)&&(k[u]=xo(n,i,u,void 0,I,!0)):delete k[u]);if(e!==i)for(const u in e)(!le||!gr(le,u))&&(delete e[u],r=!0)}r&&ya(I,"set","$attrs")}function Ms(I,le,t,P){const[k,e]=I.propsOptions;let a=!1,i;if(le)for(let n in le){if(jn(n))continue;const r=le[n];let f;k&&gr(k,f=fa(n))?!e||!e.includes(f)?t[f]=r:(i||(i={}))[f]=r:ho(I.emitsOptions,n)||(!(n in P)||r!==P[n])&&(P[n]=r,a=!0)}if(e){const n=br(t),r=i||wr;for(let f=0;f<e.length;f++){const u=e[f];t[u]=xo(k,n,u,r[u],I,!gr(r,u))}}return a}function xo(I,le,t,P,k,e){const a=I[t];if(a!=null){const i=gr(a,"default");if(i&&P===void 0){const n=a.default;if(a.type!==Function&&dr(n)){const{propsDefaults:r}=k;t in r?P=r[t]:(nn(k),P=r[t]=n.call(null,le),Wa())}else P=n}a[0]&&(e&&!i?P=!1:a[1]&&(P===""||P===en(t))&&(P=!0))}return P}function As(I,le,t=!1){const P=le.propsCache,k=P.get(I);if(k)return k;const e=I.props,a={},i=[];let n=!1;if(!dr(I)){const f=u=>{n=!0;const[s,o]=As(u,le,!0);Gr(a,s),o&&i.push(...o)};!t&&le.mixins.length&&le.mixins.forEach(f),I.extends&&f(I.extends),I.mixins&&I.mixins.forEach(f)}if(!e&&!n)return P.set(I,Qa),Qa;if(hr(e))for(let f=0;f<e.length;f++){const u=fa(e[f]);ks(u)&&(a[u]=wr)}else if(e)for(const f in e){const u=fa(f);if(ks(u)){const s=e[f],o=a[u]=hr(s)||dr(s)?{type:s}:s;if(o){const h=Ls(Boolean,o.type),p=Ls(String,o.type);o[0]=h>-1,o[1]=p<0||h<p,(h>-1||gr(o,"default"))&&i.push(u)}}}const r=[a,i];return P.set(I,r),r}function ks(I){return I[0]!=="$"}function Cs(I){const le=I&&I.toString().match(/^\s*function (\w+)/);return le?le[1]:I===null?"null":""}function Ss(I,le){return Cs(I)===Cs(le)}function Ls(I,le){return hr(le)?le.findIndex(t=>Ss(t,I)):dr(le)&&Ss(le,I)?0:-1}const Ds=I=>I[0]==="_"||I==="$stable",_o=I=>hr(I)?I.map(ha):[ha(I)],Cv=(I,le,t)=>{const P=ev((...k)=>_o(le(...k)),t);return P._c=!1,P},Es=(I,le,t)=>{const P=I._ctx;for(const k in I){if(Ds(k))continue;const e=I[k];if(dr(e))le[k]=Cv(k,e,P);else if(e!=null){const a=_o(e);le[k]=()=>a}}},Rs=(I,le)=>{const t=_o(le);I.slots.default=()=>t},Sv=(I,le)=>{if(I.vnode.shapeFlag&32){const t=le._;t?(I.slots=br(le),qn(le,"_",t)):Es(le,I.slots={})}else I.slots={},le&&Rs(I,le);qn(I.slots,vi,1)},Lv=(I,le,t)=>{const{vnode:P,slots:k}=I;let e=!0,a=wr;if(P.shapeFlag&32){const i=le._;i?t&&i===1?e=!1:(Gr(k,le),!t&&i===1&&delete k._):(e=!le.$stable,Es(le,k)),a=le}else le&&(Rs(I,le),a={default:1});if(e)for(const i in k)!Ds(i)&&!(i in a)&&delete k[i]};function Ua(I,le,t,P){const k=I.dirs,e=le&&le.dirs;for(let a=0;a<k.length;a++){const i=k[a];e&&(i.oldValue=e[a].value);let n=i.dir[P];n&&(rn(),oa(n,t,8,[I.el,i,I,le]),Ha())}}function Ps(){return{app:null,config:{isNativeTag:fc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dv=0;function Ev(I,le){return function(P,k=null){k!=null&&!Ir(k)&&(k=null);const e=Ps(),a=new Set;let i=!1;const n=e.app={_uid:Dv++,_component:P,_props:k,_container:null,_context:e,_instance:null,version:uh,get config(){return e.config},set config(r){},use(r,...f){return a.has(r)||(r&&dr(r.install)?(a.add(r),r.install(n,...f)):dr(r)&&(a.add(r),r(n,...f))),n},mixin(r){return e.mixins.includes(r)||e.mixins.push(r),n},component(r,f){return f?(e.components[r]=f,n):e.components[r]},directive(r,f){return f?(e.directives[r]=f,n):e.directives[r]},mount(r,f,u){if(!i){const s=va(P,k);return s.appContext=e,f&&le?le(s,r):I(s,r,u),i=!0,n._container=r,r.__vue_app__=n,ko(s.component)||s.component.proxy}},unmount(){i&&(I(null,n._container),delete n._container.__vue_app__)},provide(r,f){return e.provides[r]=f,n}};return n}}function wo(I,le,t,P,k=!1){if(hr(I)){I.forEach((s,o)=>wo(s,le&&(hr(le)?le[o]:le),t,P,k));return}if(yo(P)&&!k)return;const e=P.shapeFlag&4?ko(P.component)||P.component.proxy:P.el,a=k?null:e,{i,r:n}=I,r=le&&le.r,f=i.refs===wr?i.refs={}:i.refs,u=i.setupState;if(r!=null&&r!==n&&(Or(r)?(f[r]=null,gr(u,r)&&(u[r]=null)):Xr(r)&&(r.value=null)),dr(n))La(n,i,12,[a,f]);else{const s=Or(n),o=Xr(n);if(s||o){const h=()=>{if(I.f){const p=s?f[n]:n.value;k?hr(p)&&Xi(p,e):hr(p)?p.includes(e)||p.push(e):s?f[n]=[e]:(n.value=[e],I.k&&(f[I.k]=n.value))}else s?(f[n]=a,gr(u,n)&&(u[n]=a)):Xr(n)&&(n.value=a,I.k&&(f[I.k]=a))};a?(h.id=-1,Jr(h,t)):h()}}}const Jr=ov;function Rv(I){return Pv(I)}function Pv(I,le){const t=yc();t.__VUE__=!0;const{insert:P,remove:k,patchProp:e,createElement:a,createText:i,createComment:n,setText:r,setElementText:f,parentNode:u,nextSibling:s,setScopeId:o=ia,cloneNode:h,insertStaticContent:p}=I,d=(c,w,B,E=null,b=null,O=null,N=!1,R=null,j=!!w.dynamicChildren)=>{if(c===w)return;c&&!_n(c,w)&&(E=ee(c),Z(c,b,O,!0),c=null),w.patchFlag===-2&&(j=!1,w.dynamicChildren=null);const{type:se,ref:fe,shapeFlag:ce}=w;switch(se){case To:y(c,w,B,E);break;case Ga:g(c,w,B,E);break;case fi:c==null&&D(w,B,E,N);break;case ba:Y(c,w,B,E,b,O,N,R,j);break;default:ce&1?x(c,w,B,E,b,O,N,R,j):ce&6?G(c,w,B,E,b,O,N,R,j):(ce&64||ce&128)&&se.process(c,w,B,E,b,O,N,R,j,ne)}fe!=null&&b&&wo(fe,c&&c.ref,O,w||c,!w)},y=(c,w,B,E)=>{if(c==null)P(w.el=i(w.children),B,E);else{const b=w.el=c.el;w.children!==c.children&&r(b,w.children)}},g=(c,w,B,E)=>{c==null?P(w.el=n(w.children||""),B,E):w.el=c.el},D=(c,w,B,E)=>{[c.el,c.anchor]=p(c.children,w,B,E)},C=({el:c,anchor:w},B,E)=>{let b;for(;c&&c!==w;)b=s(c),P(c,B,E),c=b;P(w,B,E)},L=({el:c,anchor:w})=>{let B;for(;c&&c!==w;)B=s(c),k(c),c=B;k(w)},x=(c,w,B,E,b,O,N,R,j)=>{N=N||w.type==="svg",c==null?M(w,B,E,b,O,N,R,j):A(c,w,b,O,N,R,j)},M=(c,w,B,E,b,O,N,R)=>{let j,se;const{type:fe,props:ce,shapeFlag:ye,transition:xe,patchFlag:De,dirs:ke}=c;if(c.el&&h!==void 0&&De===-1)j=c.el=h(c.el);else{if(j=c.el=a(c.type,O,ce&&ce.is,ce),ye&8?f(j,c.children):ye&16&&m(c.children,j,null,E,b,O&&fe!=="foreignObject",N,R),ke&&Ua(c,null,E,"created"),ce){for(const Ue in ce)Ue!=="value"&&!jn(Ue)&&e(j,Ue,null,ce[Ue],O,c.children,E,b,ge);"value"in ce&&e(j,"value",null,ce.value),(se=ce.onVnodeBeforeMount)&&da(se,E,c)}v(j,c,c.scopeId,N,E)}ke&&Ua(c,null,E,"beforeMount");const Ne=(!b||b&&!b.pendingBranch)&&xe&&!xe.persisted;Ne&&xe.beforeEnter(j),P(j,w,B),((se=ce&&ce.onVnodeMounted)||Ne||ke)&&Jr(()=>{se&&da(se,E,c),Ne&&xe.enter(j),ke&&Ua(c,null,E,"mounted")},b)},v=(c,w,B,E,b)=>{if(B&&o(c,B),E)for(let O=0;O<E.length;O++)o(c,E[O]);if(b){let O=b.subTree;if(w===O){const N=b.vnode;v(c,N,N.scopeId,N.slotScopeIds,b.parent)}}},m=(c,w,B,E,b,O,N,R,j=0)=>{for(let se=j;se<c.length;se++){const fe=c[se]=R?Sa(c[se]):ha(c[se]);d(null,fe,w,B,E,b,O,N,R)}},A=(c,w,B,E,b,O,N)=>{const R=w.el=c.el;let{patchFlag:j,dynamicChildren:se,dirs:fe}=w;j|=c.patchFlag&16;const ce=c.props||wr,ye=w.props||wr;let xe;B&&Ya(B,!1),(xe=ye.onVnodeBeforeUpdate)&&da(xe,B,w,c),fe&&Ua(w,c,B,"beforeUpdate"),B&&Ya(B,!0);const De=b&&w.type!=="foreignObject";if(se?V(c.dynamicChildren,se,R,B,E,De,O):N||J(c,w,R,null,B,E,De,O,!1),j>0){if(j&16)T(R,w,ce,ye,B,E,b);else if(j&2&&ce.class!==ye.class&&e(R,"class",null,ye.class,b),j&4&&e(R,"style",ce.style,ye.style,b),j&8){const ke=w.dynamicProps;for(let Ne=0;Ne<ke.length;Ne++){const Ue=ke[Ne],Ce=ce[Ue],_e=ye[Ue];(_e!==Ce||Ue==="value")&&e(R,Ue,Ce,_e,b,c.children,B,E,ge)}}j&1&&c.children!==w.children&&f(R,w.children)}else!N&&se==null&&T(R,w,ce,ye,B,E,b);((xe=ye.onVnodeUpdated)||fe)&&Jr(()=>{xe&&da(xe,B,w,c),fe&&Ua(w,c,B,"updated")},E)},V=(c,w,B,E,b,O,N)=>{for(let R=0;R<w.length;R++){const j=c[R],se=w[R],fe=j.el&&(j.type===ba||!_n(j,se)||j.shapeFlag&(6|64))?u(j.el):B;d(j,se,fe,null,E,b,O,N,!0)}},T=(c,w,B,E,b,O,N)=>{if(B!==E){for(const R in E){if(jn(R))continue;const j=E[R],se=B[R];j!==se&&R!=="value"&&e(c,R,se,j,N,w.children,b,O,ge)}if(B!==wr)for(const R in B)!jn(R)&&!(R in E)&&e(c,R,B[R],null,N,w.children,b,O,ge);"value"in E&&e(c,"value",B.value,E.value)}},Y=(c,w,B,E,b,O,N,R,j)=>{const se=w.el=c?c.el:i(""),fe=w.anchor=c?c.anchor:i("");let{patchFlag:ce,dynamicChildren:ye,slotScopeIds:xe}=w;xe&&(R=R?R.concat(xe):xe),c==null?(P(se,B,E),P(fe,B,E),m(w.children,B,fe,b,O,N,R,j)):ce>0&&ce&64&&ye&&c.dynamicChildren?(V(c.dynamicChildren,ye,B,b,O,N,R),(w.key!=null||b&&w===b.subTree)&&Ns(c,w,!0)):J(c,w,B,fe,b,O,N,R,j)},G=(c,w,B,E,b,O,N,R,j)=>{w.slotScopeIds=R,c==null?w.shapeFlag&512?b.ctx.activate(w,B,E,N,j):S(w,B,E,b,O,N,j):U(c,w,j)},S=(c,w,B,E,b,O,N)=>{const R=c.component=jv(c,E,b);if(ys(c)&&(R.ctx.renderer=ne),Kv(R),R.asyncDep){if(b&&b.registerDep(R,W),!c.el){const j=R.subTree=va(Ga);g(null,j,w,B)}return}W(R,c,w,B,b,O,N)},U=(c,w,B)=>{const E=w.component=c.component;if(av(c,w,B))if(E.asyncDep&&!E.asyncResolved){K(E,w,B);return}else E.next=w,ih(E.update),E.update();else w.component=c.component,w.el=c.el,E.vnode=w},W=(c,w,B,E,b,O,N)=>{const R=()=>{if(c.isMounted){let{next:fe,bu:ce,u:ye,parent:xe,vnode:De}=c,ke=fe,Ne;Ya(c,!1),fe?(fe.el=De.el,K(c,fe,N)):fe=De,ce&&$i(ce),(Ne=fe.props&&fe.props.onVnodeBeforeUpdate)&&da(Ne,xe,fe,De),Ya(c,!0);const Ue=po(c),Ce=c.subTree;c.subTree=Ue,d(Ce,Ue,u(Ce.el),ee(Ce),c,b,O),fe.el=Ue.el,ke===null&&nv(c,Ue.el),ye&&Jr(ye,b),(Ne=fe.props&&fe.props.onVnodeUpdated)&&Jr(()=>da(Ne,xe,fe,De),b)}else{let fe;const{el:ce,props:ye}=w,{bm:xe,m:De,parent:ke}=c,Ne=yo(w);if(Ya(c,!1),xe&&$i(xe),!Ne&&(fe=ye&&ye.onVnodeBeforeMount)&&da(fe,ke,w),Ya(c,!0),ce&&Q){const Ue=()=>{c.subTree=po(c),Q(ce,c.subTree,c,b,null)};Ne?w.type.__asyncLoader().then(()=>!c.isUnmounted&&Ue()):Ue()}else{const Ue=c.subTree=po(c);d(null,Ue,B,E,c,b,O),w.el=Ue.el}if(De&&Jr(De,b),!Ne&&(fe=ye&&ye.onVnodeMounted)){const Ue=w;Jr(()=>da(fe,ke,Ue),b)}w.shapeFlag&256&&c.a&&Jr(c.a,b),c.isMounted=!0,w=B=E=null}},j=c.effect=new ro(R,()=>Zs(c.update),c.scope),se=c.update=j.run.bind(j);se.id=c.uid,Ya(c,!0),se()},K=(c,w,B)=>{w.component=c;const E=c.vnode.props;c.vnode=w,c.next=null,kv(c,w.props,E,B),Lv(c,w.children,B),rn(),Do(void 0,c.update),Ha()},J=(c,w,B,E,b,O,N,R,j=!1)=>{const se=c&&c.children,fe=c?c.shapeFlag:0,ce=w.children,{patchFlag:ye,shapeFlag:xe}=w;if(ye>0){if(ye&128){z(se,ce,B,E,b,O,N,R,j);return}else if(ye&256){ae(se,ce,B,E,b,O,N,R,j);return}}xe&8?(fe&16&&ge(se,b,O),ce!==se&&f(B,ce)):fe&16?xe&16?z(se,ce,B,E,b,O,N,R,j):ge(se,b,O,!0):(fe&8&&f(B,""),xe&16&&m(ce,B,E,b,O,N,R,j))},ae=(c,w,B,E,b,O,N,R,j)=>{c=c||Qa,w=w||Qa;const se=c.length,fe=w.length,ce=Math.min(se,fe);let ye;for(ye=0;ye<ce;ye++){const xe=w[ye]=j?Sa(w[ye]):ha(w[ye]);d(c[ye],xe,B,null,b,O,N,R,j)}se>fe?ge(c,b,O,!0,!1,ce):m(w,B,E,b,O,N,R,j,ce)},z=(c,w,B,E,b,O,N,R,j)=>{let se=0;const fe=w.length;let ce=c.length-1,ye=fe-1;for(;se<=ce&&se<=ye;){const xe=c[se],De=w[se]=j?Sa(w[se]):ha(w[se]);if(_n(xe,De))d(xe,De,B,null,b,O,N,R,j);else break;se++}for(;se<=ce&&se<=ye;){const xe=c[ce],De=w[ye]=j?Sa(w[ye]):ha(w[ye]);if(_n(xe,De))d(xe,De,B,null,b,O,N,R,j);else break;ce--,ye--}if(se>ce){if(se<=ye){const xe=ye+1,De=xe<fe?w[xe].el:E;for(;se<=ye;)d(null,w[se]=j?Sa(w[se]):ha(w[se]),B,De,b,O,N,R,j),se++}}else if(se>ye)for(;se<=ce;)Z(c[se],b,O,!0),se++;else{const xe=se,De=se,ke=new Map;for(se=De;se<=ye;se++){const Ve=w[se]=j?Sa(w[se]):ha(w[se]);Ve.key!=null&&ke.set(Ve.key,se)}let Ne,Ue=0;const Ce=ye-De+1;let _e=!1,Ie=0;const Ze=new Array(Ce);for(se=0;se<Ce;se++)Ze[se]=0;for(se=xe;se<=ce;se++){const Ve=c[se];if(Ue>=Ce){Z(Ve,b,O,!0);continue}let We;if(Ve.key!=null)We=ke.get(Ve.key);else for(Ne=De;Ne<=ye;Ne++)if(Ze[Ne-De]===0&&_n(Ve,w[Ne])){We=Ne;break}We===void 0?Z(Ve,b,O,!0):(Ze[We-De]=se+1,We>=Ie?Ie=We:_e=!0,d(Ve,w[We],B,null,b,O,N,R,j),Ue++)}const gt=_e?Nv(Ze):Qa;for(Ne=gt.length-1,se=Ce-1;se>=0;se--){const Ve=De+se,We=w[Ve],Ke=Ve+1<fe?w[Ve+1].el:E;Ze[se]===0?d(null,We,B,Ke,b,O,N,R,j):_e&&(Ne<0||se!==gt[Ne]?H(We,B,Ke,2):Ne--)}}},H=(c,w,B,E,b=null)=>{const{el:O,type:N,transition:R,children:j,shapeFlag:se}=c;if(se&6){H(c.component.subTree,w,B,E);return}if(se&128){c.suspense.move(w,B,E);return}if(se&64){N.move(c,w,B,ne);return}if(N===ba){P(O,w,B);for(let ce=0;ce<j.length;ce++)H(j[ce],w,B,E);P(c.anchor,w,B);return}if(N===fi){C(c,w,B);return}if(E!==2&&se&1&&R)if(E===0)R.beforeEnter(O),P(O,w,B),Jr(()=>R.enter(O),b);else{const{leave:ce,delayLeave:ye,afterLeave:xe}=R,De=()=>P(O,w,B),ke=()=>{ce(O,()=>{De(),xe&&xe()})};ye?ye(O,De,ke):ke()}else P(O,w,B)},Z=(c,w,B,E=!1,b=!1)=>{const{type:O,props:N,ref:R,children:j,dynamicChildren:se,shapeFlag:fe,patchFlag:ce,dirs:ye}=c;if(R!=null&&wo(R,null,B,c,!0),fe&256){w.ctx.deactivate(c);return}const xe=fe&1&&ye,De=!yo(c);let ke;if(De&&(ke=N&&N.onVnodeBeforeUnmount)&&da(ke,w,c),fe&6)ue(c.component,B,E);else{if(fe&128){c.suspense.unmount(B,E);return}xe&&Ua(c,null,w,"beforeUnmount"),fe&64?c.type.remove(c,w,B,b,ne,E):se&&(O!==ba||ce>0&&ce&64)?ge(se,w,B,!1,!0):(O===ba&&ce&(128|256)||!b&&fe&16)&&ge(j,w,B),E&&re(c)}(De&&(ke=N&&N.onVnodeUnmounted)||xe)&&Jr(()=>{ke&&da(ke,w,c),xe&&Ua(c,null,w,"unmounted")},B)},re=c=>{const{type:w,el:B,anchor:E,transition:b}=c;if(w===ba){ie(B,E);return}if(w===fi){L(c);return}const O=()=>{k(B),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(c.shapeFlag&1&&b&&!b.persisted){const{leave:N,delayLeave:R}=b,j=()=>N(B,O);R?R(c.el,O,j):j()}else O()},ie=(c,w)=>{let B;for(;c!==w;)B=s(c),k(c),c=B;k(w)},ue=(c,w,B)=>{const{bum:E,scope:b,update:O,subTree:N,um:R}=c;E&&$i(E),b.stop(),O&&(O.active=!1,Z(N,c,w,B)),R&&Jr(R,w),Jr(()=>{c.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},ge=(c,w,B,E=!1,b=!1,O=0)=>{for(let N=O;N<c.length;N++)Z(c[N],w,B,E,b)},ee=c=>c.shapeFlag&6?ee(c.component.subTree):c.shapeFlag&128?c.suspense.next():s(c.anchor||c.el),q=(c,w,B)=>{c==null?w._vnode&&Z(w._vnode,null,null,!0):d(w._vnode||null,c,w,null,null,null,B),js(),w._vnode=c},ne={p:d,um:Z,m:H,r:re,mt:S,mc:m,pc:J,pbc:V,n:ee,o:I};let oe,Q;return le&&([oe,Q]=le(ne)),{render:q,hydrate:oe,createApp:Ev(q,oe)}}function Ya({effect:I,update:le},t){I.allowRecurse=le.allowRecurse=t}function Ns(I,le,t=!1){const P=I.children,k=le.children;if(hr(P)&&hr(k))for(let e=0;e<P.length;e++){const a=P[e];let i=k[e];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=k[e]=Sa(k[e]),i.el=a.el),t||Ns(a,i))}}function Nv(I){const le=I.slice(),t=[0];let P,k,e,a,i;const n=I.length;for(P=0;P<n;P++){const r=I[P];if(r!==0){if(k=t[t.length-1],I[k]<r){le[P]=k,t.push(P);continue}for(e=0,a=t.length-1;e<a;)i=e+a>>1,I[t[i]]<r?e=i+1:a=i;r<I[t[e]]&&(e>0&&(le[P]=t[e-1]),t[e]=P)}}for(e=t.length,a=t[e-1];e-- >0;)t[e]=a,a=le[a];return t}const Fv=I=>I.__isTeleport,Fs="components";function Ih(I,le){return zv(Fs,I,!0,le)||I}const Iv=Symbol();function zv(I,le,t=!0,P=!1){const k=ca||Hr;if(k){const e=k.type;if(I===Fs){const i=eh(e);if(i&&(i===le||i===fa(le)||i===$n(fa(le))))return e}const a=Is(k[I]||e[I],le)||Is(k.appContext[I],le);return!a&&P?e:a}}function Is(I,le){return I&&(I[le]||I[fa(le)]||I[$n(fa(le))])}const ba=Symbol(void 0),To=Symbol(void 0),Ga=Symbol(void 0),fi=Symbol(void 0),xn=[];let Va=null;function Ov(I=!1){xn.push(Va=I?null:[])}function Hv(){xn.pop(),Va=xn[xn.length-1]||null}let ci=1;function zs(I){ci+=I}function Os(I){return I.dynamicChildren=ci>0?Va||Qa:null,Hv(),ci>0&&Va&&Va.push(I),I}function zh(I,le,t,P,k,e){return Os(Bs(I,le,t,P,k,e,!0))}function Bv(I,le,t,P,k){return Os(va(I,le,t,P,k,!0))}function Uv(I){return I?I.__v_isVNode===!0:!1}function _n(I,le){return I.type===le.type&&I.key===le.key}const vi="__vInternal",Hs=({key:I})=>I!=null?I:null,hi=({ref:I,ref_key:le,ref_for:t})=>I!=null?Or(I)||Xr(I)||dr(I)?{i:ca,r:I,k:le,f:!!t}:I:null;function Bs(I,le=null,t=null,P=0,k=null,e=I===ba?0:1,a=!1,i=!1){const n={__v_isVNode:!0,__v_skip:!0,type:I,props:le,key:le&&Hs(le),ref:le&&hi(le),scopeId:ps,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:e,patchFlag:P,dynamicProps:k,dynamicChildren:null,appContext:null};return i?(Mo(n,t),e&128&&I.normalize(n)):t&&(n.shapeFlag|=Or(t)?8:16),ci>0&&!a&&Va&&(n.patchFlag>0||e&6)&&n.patchFlag!==32&&Va.push(n),n}const va=Yv;function Yv(I,le=null,t=null,P=0,k=null,e=!1){if((!I||I===Iv)&&(I=Ga),Uv(I)){const i=wn(I,le,!0);return t&&Mo(i,t),i}if(th(I)&&(I=I.__vccOpts),le){le=Gv(le);let{class:i,style:n}=le;i&&!Or(i)&&(le.class=Wi(i)),Ir(n)&&(cs(n)&&!hr(n)&&(n=Gr({},n)),le.style=Vi(n))}const a=Or(I)?1:iv(I)?128:Fv(I)?64:Ir(I)?4:dr(I)?2:0;return Bs(I,le,t,P,k,a,e,!0)}function Gv(I){return I?cs(I)||vi in I?Gr({},I):I:null}function wn(I,le,t=!1){const{props:P,ref:k,patchFlag:e,children:a}=I,i=le?Wv(P||{},le):P;return{__v_isVNode:!0,__v_skip:!0,type:I.type,props:i,key:i&&Hs(i),ref:le&&le.ref?t&&k?hr(k)?k.concat(hi(le)):[k,hi(le)]:hi(le):k,scopeId:I.scopeId,slotScopeIds:I.slotScopeIds,children:a,target:I.target,targetAnchor:I.targetAnchor,staticCount:I.staticCount,shapeFlag:I.shapeFlag,patchFlag:le&&I.type!==ba?e===-1?16:e|16:e,dynamicProps:I.dynamicProps,dynamicChildren:I.dynamicChildren,appContext:I.appContext,dirs:I.dirs,transition:I.transition,component:I.component,suspense:I.suspense,ssContent:I.ssContent&&wn(I.ssContent),ssFallback:I.ssFallback&&wn(I.ssFallback),el:I.el,anchor:I.anchor}}function Vv(I=" ",le=0){return va(To,null,I,le)}function Oh(I,le){const t=va(fi,null,I);return t.staticCount=le,t}function Hh(I="",le=!1){return le?(Ov(),Bv(Ga,null,I)):va(Ga,null,I)}function ha(I){return I==null||typeof I=="boolean"?va(Ga):hr(I)?va(ba,null,I.slice()):typeof I=="object"?Sa(I):va(To,null,String(I))}function Sa(I){return I.el===null||I.memo?I:wn(I)}function Mo(I,le){let t=0;const{shapeFlag:P}=I;if(le==null)le=null;else if(hr(le))t=16;else if(typeof le=="object")if(P&(1|64)){const k=le.default;k&&(k._c&&(k._d=!1),Mo(I,k()),k._c&&(k._d=!0));return}else{t=32;const k=le._;!k&&!(vi in le)?le._ctx=ca:k===3&&ca&&(ca.slots._===1?le._=1:(le._=2,I.patchFlag|=1024))}else dr(le)?(le={default:le,_ctx:ca},t=32):(le=String(le),P&64?(t=16,le=[Vv(le)]):t=8);I.children=le,I.shapeFlag|=t}function Wv(...I){const le={};for(let t=0;t<I.length;t++){const P=I[t];for(const k in P)if(k==="class")le.class!==P.class&&(le.class=Wi([le.class,P.class]));else if(k==="style")le.style=Vi([le.style,P.style]);else if(Xn(k)){const e=le[k],a=P[k];e!==a&&!(hr(e)&&e.includes(a))&&(le[k]=e?[].concat(e,a):a)}else k!==""&&(le[k]=P[k])}return le}function da(I,le,t,P=null){oa(I,le,7,[t,P])}function Bh(I,le,t,P){let k;const e=t&&t[P];if(hr(I)||Or(I)){k=new Array(I.length);for(let a=0,i=I.length;a<i;a++)k[a]=le(I[a],a,void 0,e&&e[a])}else if(typeof I=="number"){k=new Array(I);for(let a=0;a<I;a++)k[a]=le(a+1,a,void 0,e&&e[a])}else if(Ir(I))if(I[Symbol.iterator])k=Array.from(I,(a,i)=>le(a,i,void 0,e&&e[i]));else{const a=Object.keys(I);k=new Array(a.length);for(let i=0,n=a.length;i<n;i++){const r=a[i];k[i]=le(I[r],r,i,e&&e[i])}}else k=[];return t&&(t[P]=k),k}const Ao=I=>I?Us(I)?ko(I)||I.proxy:Ao(I.parent):null,di=Gr(Object.create(null),{$:I=>I,$el:I=>I.vnode.el,$data:I=>I.data,$props:I=>I.props,$attrs:I=>I.attrs,$slots:I=>I.slots,$refs:I=>I.refs,$parent:I=>Ao(I.parent),$root:I=>Ao(I.root),$emit:I=>I.emit,$options:I=>ws(I),$forceUpdate:I=>()=>Zs(I.update),$nextTick:I=>ah.bind(I.proxy),$watch:I=>sh.bind(I)}),Zv={get({_:I},le){const{ctx:t,setupState:P,data:k,props:e,accessCache:a,type:i,appContext:n}=I;let r;if(le[0]!=="$"){const o=a[le];if(o!==void 0)switch(o){case 1:return P[le];case 2:return k[le];case 4:return t[le];case 3:return e[le]}else{if(P!==wr&&gr(P,le))return a[le]=1,P[le];if(k!==wr&&gr(k,le))return a[le]=2,k[le];if((r=I.propsOptions[0])&&gr(r,le))return a[le]=3,e[le];if(t!==wr&&gr(t,le))return a[le]=4,t[le];go&&(a[le]=0)}}const f=di[le];let u,s;if(f)return le==="$attrs"&&Kr(I,"get",le),f(I);if((u=i.__cssModules)&&(u=u[le]))return u;if(t!==wr&&gr(t,le))return a[le]=4,t[le];if(s=n.config.globalProperties,gr(s,le))return s[le]},set({_:I},le,t){const{data:P,setupState:k,ctx:e}=I;if(k!==wr&&gr(k,le))k[le]=t;else if(P!==wr&&gr(P,le))P[le]=t;else if(gr(I.props,le))return!1;return le[0]==="$"&&le.slice(1)in I?!1:(e[le]=t,!0)},has({_:{data:I,setupState:le,accessCache:t,ctx:P,appContext:k,propsOptions:e}},a){let i;return!!t[a]||I!==wr&&gr(I,a)||le!==wr&&gr(le,a)||(i=e[0])&&gr(i,a)||gr(P,a)||gr(di,a)||gr(k.config.globalProperties,a)}},Xv=Ps();let Jv=0;function jv(I,le,t){const P=I.type,k=(le?le.appContext:I.appContext)||Xv,e={uid:Jv++,vnode:I,type:P,parent:le,appContext:k,root:null,next:null,subTree:null,effect:null,update:null,scope:new gc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:le?le.provides:Object.create(k.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:As(P,k),emitsOptions:ds(P,k),emit:null,emitted:null,propsDefaults:wr,inheritAttrs:P.inheritAttrs,ctx:wr,data:wr,props:wr,attrs:wr,slots:wr,refs:wr,setupState:wr,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return e.ctx={_:e},e.root=le?le.root:e,e.emit=qc.bind(null,e),I.ce&&I.ce(e),e}let Hr=null;const nn=I=>{Hr=I,I.scope.on()},Wa=()=>{Hr&&Hr.scope.off(),Hr=null};function Us(I){return I.vnode.shapeFlag&4}let pi=!1;function Kv(I,le=!1){pi=le;const{props:t,children:P}=I.vnode,k=Us(I);Av(I,t,k,le),Sv(I,P);const e=k?$v(I,le):void 0;return pi=!1,e}function $v(I,le){const t=I.type;I.accessCache=Object.create(null),I.proxy=vs(new Proxy(I.ctx,Zv));const{setup:P}=t;if(P){const k=I.setupContext=P.length>1?qv(I):null;nn(I),rn();const e=La(P,I,0,[I.props,k]);if(Ha(),Wa(),Vl(e)){if(e.then(Wa,Wa),le)return e.then(a=>{Ys(I,a,le)}).catch(a=>{mi(a,I,0)});I.asyncDep=e}else Ys(I,e,le)}else Vs(I,le)}function Ys(I,le,t){dr(le)?I.type.__ssrInlineRender?I.ssrRender=le:I.render=le:Ir(le)&&(I.setupState=hs(le)),Vs(I,t)}let Gs;function Vs(I,le,t){const P=I.type;if(!I.render){if(!le&&Gs&&!P.render){const k=P.template;if(k){const{isCustomElement:e,compilerOptions:a}=I.appContext.config,{delimiters:i,compilerOptions:n}=P,r=Gr(Gr({isCustomElement:e,delimiters:i},a),n);P.render=Gs(k,r)}}I.render=P.render||ia}nn(I),rn(),xv(I),Ha(),Wa()}function Qv(I){return new Proxy(I.attrs,{get(le,t){return Kr(I,"get","$attrs"),le[t]}})}function qv(I){const le=P=>{I.exposed=P||{}};let t;return{get attrs(){return t||(t=Qv(I))},slots:I.slots,emit:I.emit,expose:le}}function ko(I){if(I.exposed)return I.exposeProxy||(I.exposeProxy=new Proxy(hs(vs(I.exposed)),{get(le,t){if(t in le)return le[t];if(t in di)return di[t](I)}}))}function eh(I){return dr(I)&&I.displayName||I.name}function th(I){return dr(I)&&"__vccOpts"in I}function La(I,le,t,P){let k;try{k=P?I(...P):I()}catch(e){mi(e,le,t)}return k}function oa(I,le,t,P){if(dr(I)){const e=La(I,le,t,P);return e&&Vl(e)&&e.catch(a=>{mi(a,le,t)}),e}const k=[];for(let e=0;e<I.length;e++)k.push(oa(I[e],le,t,P));return k}function mi(I,le,t,P=!0){const k=le?le.vnode:null;if(le){let e=le.parent;const a=le.proxy,i=t;for(;e;){const r=e.ec;if(r){for(let f=0;f<r.length;f++)if(r[f](I,a,i)===!1)return}e=e.parent}const n=le.appContext.config.errorHandler;if(n){La(n,null,10,[I,a,i]);return}}rh(I,t,k,P)}function rh(I,le,t,P=!0){console.error(I)}let yi=!1,Co=!1;const $r=[];let xa=0;const Tn=[];let Mn=null,on=0;const An=[];let Da=null,ln=0;const Ws=Promise.resolve();let So=null,Lo=null;function ah(I){const le=So||Ws;return I?le.then(this?I.bind(this):I):le}function nh(I){let le=xa+1,t=$r.length;for(;le<t;){const P=le+t>>>1;kn($r[P])<I?le=P+1:t=P}return le}function Zs(I){(!$r.length||!$r.includes(I,yi&&I.allowRecurse?xa+1:xa))&&I!==Lo&&(I.id==null?$r.push(I):$r.splice(nh(I.id),0,I),Xs())}function Xs(){!yi&&!Co&&(Co=!0,So=Ws.then(Ks))}function ih(I){const le=$r.indexOf(I);le>xa&&$r.splice(le,1)}function Js(I,le,t,P){hr(I)?t.push(...I):(!le||!le.includes(I,I.allowRecurse?P+1:P))&&t.push(I),Xs()}function oh(I){Js(I,Mn,Tn,on)}function lh(I){Js(I,Da,An,ln)}function Do(I,le=null){if(Tn.length){for(Lo=le,Mn=[...new Set(Tn)],Tn.length=0,on=0;on<Mn.length;on++)Mn[on]();Mn=null,on=0,Lo=null,Do(I,le)}}function js(I){if(An.length){const le=[...new Set(An)];if(An.length=0,Da){Da.push(...le);return}for(Da=le,Da.sort((t,P)=>kn(t)-kn(P)),ln=0;ln<Da.length;ln++)Da[ln]();Da=null,ln=0}}const kn=I=>I.id==null?1/0:I.id;function Ks(I){Co=!1,yi=!0,Do(I),$r.sort((t,P)=>kn(t)-kn(P));const le=ia;try{for(xa=0;xa<$r.length;xa++){const t=$r[xa];t&&t.active!==!1&&La(t,null,14)}}finally{xa=0,$r.length=0,js(),yi=!1,So=null,($r.length||Tn.length||An.length)&&Ks(I)}}const $s={};function Eo(I,le,t){return Qs(I,le,t)}function Qs(I,le,{immediate:t,deep:P,flush:k,onTrack:e,onTrigger:a}=wr){const i=Hr;let n,r=!1,f=!1;if(Xr(I)?(n=()=>I.value,r=!!I._shallow):an(I)?(n=()=>I,P=!0):hr(I)?(f=!0,r=I.some(an),n=()=>I.map(y=>{if(Xr(y))return y.value;if(an(y))return sn(y);if(dr(y))return La(y,i,2)})):dr(I)?le?n=()=>La(I,i,2):n=()=>{if(!(i&&i.isUnmounted))return u&&u(),oa(I,i,3,[s])}:n=ia,le&&P){const y=n;n=()=>sn(y())}let u,s=y=>{u=d.onStop=()=>{La(y,i,4)}};if(pi)return s=ia,le?t&&oa(le,i,3,[n(),f?[]:void 0,s]):n(),ia;let o=f?[]:$s;const h=()=>{if(!!d.active)if(le){const y=d.run();(P||r||(f?y.some((g,D)=>Qn(g,o[D])):Qn(y,o)))&&(u&&u(),oa(le,i,3,[y,o===$s?void 0:o,s]),o=y)}else d.run()};h.allowRecurse=!!le;let p;k==="sync"?p=h:k==="post"?p=()=>Jr(h,i&&i.suspense):p=()=>{!i||i.isMounted?oh(h):h()};const d=new ro(n,p);return le?t?h():o=d.run():k==="post"?Jr(d.run.bind(d),i&&i.suspense):d.run(),()=>{d.stop(),i&&i.scope&&Xi(i.scope.effects,d)}}function sh(I,le,t){const P=this.proxy,k=Or(I)?I.includes(".")?qs(P,I):()=>P[I]:I.bind(P,P);let e;dr(le)?e=le:(e=le.handler,t=le);const a=Hr;nn(this);const i=Qs(k,e.bind(P),t);return a?nn(a):Wa(),i}function qs(I,le){const t=le.split(".");return()=>{let P=I;for(let k=0;k<t.length&&P;k++)P=P[t[k]];return P}}function sn(I,le){if(!Ir(I)||I.__v_skip||(le=le||new Set,le.has(I)))return I;if(le.add(I),Xr(I))sn(I.value,le);else if(hr(I))for(let t=0;t<I.length;t++)sn(I[t],le);else if(Gl(I)||qa(I))I.forEach(t=>{sn(t,le)});else if(Zl(I))for(const t in I)sn(I[t],le);return I}const uh="3.2.26",fh="http://www.w3.org/2000/svg",un=typeof document!="undefined"?document:null,eu=new Map,ch={insert:(I,le,t)=>{le.insertBefore(I,t||null)},remove:I=>{const le=I.parentNode;le&&le.removeChild(I)},createElement:(I,le,t,P)=>{const k=le?un.createElementNS(fh,I):un.createElement(I,t?{is:t}:void 0);return I==="select"&&P&&P.multiple!=null&&k.setAttribute("multiple",P.multiple),k},createText:I=>un.createTextNode(I),createComment:I=>un.createComment(I),setText:(I,le)=>{I.nodeValue=le},setElementText:(I,le)=>{I.textContent=le},parentNode:I=>I.parentNode,nextSibling:I=>I.nextSibling,querySelector:I=>un.querySelector(I),setScopeId(I,le){I.setAttribute(le,"")},cloneNode(I){const le=I.cloneNode(!0);return"_value"in I&&(le._value=I._value),le},insertStaticContent(I,le,t,P){const k=t?t.previousSibling:le.lastChild;let e=eu.get(I);if(!e){const a=un.createElement("template");if(a.innerHTML=P?`<svg>${I}</svg>`:I,e=a.content,P){const i=e.firstChild;for(;i.firstChild;)e.appendChild(i.firstChild);e.removeChild(i)}eu.set(I,e)}return le.insertBefore(e.cloneNode(!0),t),[k?k.nextSibling:le.firstChild,t?t.previousSibling:le.lastChild]}};function vh(I,le,t){const P=I._vtc;P&&(le=(le?[le,...P]:[...P]).join(" ")),le==null?I.removeAttribute("class"):t?I.setAttribute("class",le):I.className=le}function hh(I,le,t){const P=I.style,k=Or(t);if(t&&!k){for(const e in t)Ro(P,e,t[e]);if(le&&!Or(le))for(const e in le)t[e]==null&&Ro(P,e,"")}else{const e=P.display;k?le!==t&&(P.cssText=t):le&&I.removeAttribute("style"),"_vod"in I&&(P.display=e)}}const tu=/\s*!important$/;function Ro(I,le,t){if(hr(t))t.forEach(P=>Ro(I,le,P));else if(le.startsWith("--"))I.setProperty(le,t);else{const P=dh(I,le);tu.test(t)?I.setProperty(en(P),t.replace(tu,""),"important"):I[P]=t}}const ru=["Webkit","Moz","ms"],Po={};function dh(I,le){const t=Po[le];if(t)return t;let P=fa(le);if(P!=="filter"&&P in I)return Po[le]=P;P=$n(P);for(let k=0;k<ru.length;k++){const e=ru[k]+P;if(e in I)return Po[le]=e}return le}const au="http://www.w3.org/1999/xlink";function ph(I,le,t,P,k){if(P&&le.startsWith("xlink:"))t==null?I.removeAttributeNS(au,le.slice(6,le.length)):I.setAttributeNS(au,le,t);else{const e=oc(le);t==null||e&&!Ul(t)?I.removeAttribute(le):I.setAttribute(le,e?"":t)}}function mh(I,le,t,P,k,e,a){if(le==="innerHTML"||le==="textContent"){P&&a(P,k,e),I[le]=t==null?"":t;return}if(le==="value"&&I.tagName!=="PROGRESS"&&!I.tagName.includes("-")){I._value=t;const i=t==null?"":t;(I.value!==i||I.tagName==="OPTION")&&(I.value=i),t==null&&I.removeAttribute(le);return}if(t===""||t==null){const i=typeof I[le];if(i==="boolean"){I[le]=Ul(t);return}else if(t==null&&i==="string"){I[le]="",I.removeAttribute(le);return}else if(i==="number"){try{I[le]=0}catch{}I.removeAttribute(le);return}}try{I[le]=t}catch{}}let gi=Date.now,nu=!1;if(typeof window!="undefined"){gi()>document.createEvent("Event").timeStamp&&(gi=()=>performance.now());const I=navigator.userAgent.match(/firefox\/(\d+)/i);nu=!!(I&&Number(I[1])<=53)}let No=0;const yh=Promise.resolve(),gh=()=>{No=0},bh=()=>No||(yh.then(gh),No=gi());function xh(I,le,t,P){I.addEventListener(le,t,P)}function _h(I,le,t,P){I.removeEventListener(le,t,P)}function wh(I,le,t,P,k=null){const e=I._vei||(I._vei={}),a=e[le];if(P&&a)a.value=P;else{const[i,n]=Th(le);if(P){const r=e[le]=Mh(P,k);xh(I,i,r,n)}else a&&(_h(I,i,a,n),e[le]=void 0)}}const iu=/(?:Once|Passive|Capture)$/;function Th(I){let le;if(iu.test(I)){le={};let t;for(;t=I.match(iu);)I=I.slice(0,I.length-t[0].length),le[t[0].toLowerCase()]=!0}return[en(I.slice(2)),le]}function Mh(I,le){const t=P=>{const k=P.timeStamp||gi();(nu||k>=t.attached-1)&&oa(Ah(P,t.value),le,5,[P])};return t.value=I,t.attached=bh(),t}function Ah(I,le){if(hr(le)){const t=I.stopImmediatePropagation;return I.stopImmediatePropagation=()=>{t.call(I),I._stopped=!0},le.map(P=>k=>!k._stopped&&P(k))}else return le}const ou=/^on[a-z]/,kh=(I,le,t,P,k=!1,e,a,i,n)=>{le==="class"?vh(I,P,k):le==="style"?hh(I,t,P):Xn(le)?Zi(le)||wh(I,le,t,P,a):(le[0]==="."?(le=le.slice(1),!0):le[0]==="^"?(le=le.slice(1),!1):Ch(I,le,P,k))?mh(I,le,P,e,a,i,n):(le==="true-value"?I._trueValue=P:le==="false-value"&&(I._falseValue=P),ph(I,le,P,k))};function Ch(I,le,t,P){return P?!!(le==="innerHTML"||le==="textContent"||le in I&&ou.test(le)&&dr(t)):le==="spellcheck"||le==="draggable"||le==="form"||le==="list"&&I.tagName==="INPUT"||le==="type"&&I.tagName==="TEXTAREA"||ou.test(le)&&Or(t)?!1:le in I}const Sh=["ctrl","shift","alt","meta"],Lh={stop:I=>I.stopPropagation(),prevent:I=>I.preventDefault(),self:I=>I.target!==I.currentTarget,ctrl:I=>!I.ctrlKey,shift:I=>!I.shiftKey,alt:I=>!I.altKey,meta:I=>!I.metaKey,left:I=>"button"in I&&I.button!==0,middle:I=>"button"in I&&I.button!==1,right:I=>"button"in I&&I.button!==2,exact:(I,le)=>Sh.some(t=>I[`${t}Key`]&&!le.includes(t))},Uh=(I,le)=>(t,...P)=>{for(let k=0;k<le.length;k++){const e=Lh[le[k]];if(e&&e(t,le))return}return I(t,...P)},Dh=Gr({patchProp:kh},ch);let lu;function Eh(){return lu||(lu=Rv(Dh))}const Yh=(...I)=>{const le=Eh().createApp(...I),{mount:t}=le;return le.mount=P=>{const k=Rh(P);if(!k)return;const e=le._component;!dr(e)&&!e.render&&!e.template&&(e.template=k.innerHTML),k.innerHTML="";const a=t(k,!1,k instanceof SVGElement);return k instanceof Element&&(k.removeAttribute("v-cloak"),k.setAttribute("data-v-app","")),a},le};function Rh(I){return Or(I)?document.querySelector(I):I}var Cn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ph(I){return I&&I.__esModule&&Object.prototype.hasOwnProperty.call(I,"default")?I.default:I}function bi(I){throw new Error('Could not dynamically require "'+I+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var su={exports:{}};/* @license
Papa Parse
v5.3.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(I,le){(function(t,P){I.exports=P()})(Cn,function t(){var P=typeof self!="undefined"?self:typeof window!="undefined"?window:P!==void 0?P:{},k=!P.document&&!!P.postMessage,e=k&&/blob:/i.test((P.location||{}).protocol),a={},i=0,n={parse:function(v,m){var A=(m=m||{}).dynamicTyping||!1;if(M(A)&&(m.dynamicTypingFunction=A,A={}),m.dynamicTyping=A,m.transform=!!M(m.transform)&&m.transform,m.worker&&n.WORKERS_SUPPORTED){var V=function(){if(!n.WORKERS_SUPPORTED)return!1;var Y=(S=P.URL||P.webkitURL||null,U=t.toString(),n.BLOB_URL||(n.BLOB_URL=S.createObjectURL(new Blob(["(",U,")();"],{type:"text/javascript"})))),G=new P.Worker(Y),S,U;return G.onmessage=g,G.id=i++,a[G.id]=G}();return V.userStep=m.step,V.userChunk=m.chunk,V.userComplete=m.complete,V.userError=m.error,m.step=M(m.step),m.chunk=M(m.chunk),m.complete=M(m.complete),m.error=M(m.error),delete m.worker,void V.postMessage({input:v,config:m,workerId:V.id})}var T=null;return n.NODE_STREAM_INPUT,typeof v=="string"?T=m.download?new u(m):new o(m):v.readable===!0&&M(v.read)&&M(v.on)?T=new h(m):(P.File&&v instanceof File||v instanceof Object)&&(T=new s(m)),T.stream(v)},unparse:function(v,m){var A=!1,V=!0,T=",",Y=`\r
`,G='"',S=G+G,U=!1,W=null,K=!1;(function(){if(typeof m=="object"){if(typeof m.delimiter!="string"||n.BAD_DELIMITERS.filter(function(H){return m.delimiter.indexOf(H)!==-1}).length||(T=m.delimiter),(typeof m.quotes=="boolean"||typeof m.quotes=="function"||Array.isArray(m.quotes))&&(A=m.quotes),typeof m.skipEmptyLines!="boolean"&&typeof m.skipEmptyLines!="string"||(U=m.skipEmptyLines),typeof m.newline=="string"&&(Y=m.newline),typeof m.quoteChar=="string"&&(G=m.quoteChar),typeof m.header=="boolean"&&(V=m.header),Array.isArray(m.columns)){if(m.columns.length===0)throw new Error("Option columns is empty");W=m.columns}m.escapeChar!==void 0&&(S=m.escapeChar+G),typeof m.escapeFormulae=="boolean"&&(K=m.escapeFormulae)}})();var J=new RegExp(d(G),"g");if(typeof v=="string"&&(v=JSON.parse(v)),Array.isArray(v)){if(!v.length||Array.isArray(v[0]))return ae(null,v,U);if(typeof v[0]=="object")return ae(W||Object.keys(v[0]),v,U)}else if(typeof v=="object")return typeof v.data=="string"&&(v.data=JSON.parse(v.data)),Array.isArray(v.data)&&(v.fields||(v.fields=v.meta&&v.meta.fields),v.fields||(v.fields=Array.isArray(v.data[0])?v.fields:typeof v.data[0]=="object"?Object.keys(v.data[0]):[]),Array.isArray(v.data[0])||typeof v.data[0]=="object"||(v.data=[v.data])),ae(v.fields||[],v.data||[],U);throw new Error("Unable to serialize unrecognized input");function ae(H,Z,re){var ie="";typeof H=="string"&&(H=JSON.parse(H)),typeof Z=="string"&&(Z=JSON.parse(Z));var ue=Array.isArray(H)&&0<H.length,ge=!Array.isArray(Z[0]);if(ue&&V){for(var ee=0;ee<H.length;ee++)0<ee&&(ie+=T),ie+=z(H[ee],ee);0<Z.length&&(ie+=Y)}for(var q=0;q<Z.length;q++){var ne=ue?H.length:Z[q].length,oe=!1,Q=ue?Object.keys(Z[q]).length===0:Z[q].length===0;if(re&&!ue&&(oe=re==="greedy"?Z[q].join("").trim()==="":Z[q].length===1&&Z[q][0].length===0),re==="greedy"&&ue){for(var c=[],w=0;w<ne;w++){var B=ge?H[w]:w;c.push(Z[q][B])}oe=c.join("").trim()===""}if(!oe){for(var E=0;E<ne;E++){0<E&&!Q&&(ie+=T);var b=ue&&ge?H[E]:E;ie+=z(Z[q][b],E)}q<Z.length-1&&(!re||0<ne&&!Q)&&(ie+=Y)}}return ie}function z(H,Z){if(H==null)return"";if(H.constructor===Date)return JSON.stringify(H).slice(1,25);K===!0&&typeof H=="string"&&H.match(/^[=+\-@].*$/)!==null&&(H="'"+H);var re=H.toString().replace(J,S),ie=typeof A=="boolean"&&A||typeof A=="function"&&A(H,Z)||Array.isArray(A)&&A[Z]||function(ue,ge){for(var ee=0;ee<ge.length;ee++)if(-1<ue.indexOf(ge[ee]))return!0;return!1}(re,n.BAD_DELIMITERS)||-1<re.indexOf(T)||re.charAt(0)===" "||re.charAt(re.length-1)===" ";return ie?G+re+G:re}}};if(n.RECORD_SEP=String.fromCharCode(30),n.UNIT_SEP=String.fromCharCode(31),n.BYTE_ORDER_MARK="\uFEFF",n.BAD_DELIMITERS=["\r",`
`,'"',n.BYTE_ORDER_MARK],n.WORKERS_SUPPORTED=!k&&!!P.Worker,n.NODE_STREAM_INPUT=1,n.LocalChunkSize=10485760,n.RemoteChunkSize=5242880,n.DefaultDelimiter=",",n.Parser=y,n.ParserHandle=p,n.NetworkStreamer=u,n.FileStreamer=s,n.StringStreamer=o,n.ReadableStreamStreamer=h,P.jQuery){var r=P.jQuery;r.fn.parse=function(v){var m=v.config||{},A=[];return this.each(function(Y){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&P.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)A.push({file:this.files[G],inputElem:this,instanceConfig:r.extend({},m)})}),V(),this;function V(){if(A.length!==0){var Y,G,S,U,W=A[0];if(M(v.before)){var K=v.before(W.file,W.inputElem);if(typeof K=="object"){if(K.action==="abort")return Y="AbortError",G=W.file,S=W.inputElem,U=K.reason,void(M(v.error)&&v.error({name:Y},G,S,U));if(K.action==="skip")return void T();typeof K.config=="object"&&(W.instanceConfig=r.extend(W.instanceConfig,K.config))}else if(K==="skip")return void T()}var J=W.instanceConfig.complete;W.instanceConfig.complete=function(ae){M(J)&&J(ae,W.file,W.inputElem),T()},n.parse(W.file,W.instanceConfig)}else M(v.complete)&&v.complete()}function T(){A.splice(0,1),V()}}}function f(v){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(m){var A=L(m);A.chunkSize=parseInt(A.chunkSize),m.step||m.chunk||(A.chunkSize=null),this._handle=new p(A),(this._handle.streamer=this)._config=A}.call(this,v),this.parseChunk=function(m,A){if(this.isFirstChunk&&M(this._config.beforeFirstChunk)){var V=this._config.beforeFirstChunk(m);V!==void 0&&(m=V)}this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+m;this._partialLine="";var Y=this._handle.parse(T,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var G=Y.meta.cursor;this._finished||(this._partialLine=T.substring(G-this._baseIndex),this._baseIndex=G),Y&&Y.data&&(this._rowCount+=Y.data.length);var S=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(e)P.postMessage({results:Y,workerId:n.WORKER_ID,finished:S});else if(M(this._config.chunk)&&!A){if(this._config.chunk(Y,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Y=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Y.data),this._completeResults.errors=this._completeResults.errors.concat(Y.errors),this._completeResults.meta=Y.meta),this._completed||!S||!M(this._config.complete)||Y&&Y.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||Y&&Y.meta.paused||this._nextChunk(),Y}this._halted=!0},this._sendError=function(m){M(this._config.error)?this._config.error(m):e&&this._config.error&&P.postMessage({workerId:n.WORKER_ID,error:m,finished:!1})}}function u(v){var m;(v=v||{}).chunkSize||(v.chunkSize=n.RemoteChunkSize),f.call(this,v),this._nextChunk=k?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(A){this._input=A,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(m=new XMLHttpRequest,this._config.withCredentials&&(m.withCredentials=this._config.withCredentials),k||(m.onload=x(this._chunkLoaded,this),m.onerror=x(this._chunkError,this)),m.open(this._config.downloadRequestBody?"POST":"GET",this._input,!k),this._config.downloadRequestHeaders){var A=this._config.downloadRequestHeaders;for(var V in A)m.setRequestHeader(V,A[V])}if(this._config.chunkSize){var T=this._start+this._config.chunkSize-1;m.setRequestHeader("Range","bytes="+this._start+"-"+T)}try{m.send(this._config.downloadRequestBody)}catch(Y){this._chunkError(Y.message)}k&&m.status===0&&this._chunkError()}},this._chunkLoaded=function(){m.readyState===4&&(m.status<200||400<=m.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:m.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(A){var V=A.getResponseHeader("Content-Range");return V===null?-1:parseInt(V.substring(V.lastIndexOf("/")+1))}(m),this.parseChunk(m.responseText)))},this._chunkError=function(A){var V=m.statusText||A;this._sendError(new Error(V))}}function s(v){var m,A;(v=v||{}).chunkSize||(v.chunkSize=n.LocalChunkSize),f.call(this,v);var V=typeof FileReader!="undefined";this.stream=function(T){this._input=T,A=T.slice||T.webkitSlice||T.mozSlice,V?((m=new FileReader).onload=x(this._chunkLoaded,this),m.onerror=x(this._chunkError,this)):m=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input;if(this._config.chunkSize){var Y=Math.min(this._start+this._config.chunkSize,this._input.size);T=A.call(T,this._start,Y)}var G=m.readAsText(T,this._config.encoding);V||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(m.error)}}function o(v){var m;f.call(this,v=v||{}),this.stream=function(A){return m=A,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var A,V=this._config.chunkSize;return V?(A=m.substring(0,V),m=m.substring(V)):(A=m,m=""),this._finished=!m,this.parseChunk(A)}}}function h(v){f.call(this,v=v||{});var m=[],A=!0,V=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){V&&m.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),m.length?this.parseChunk(m.shift()):A=!0},this._streamData=x(function(T){try{m.push(typeof T=="string"?T:T.toString(this._config.encoding)),A&&(A=!1,this._checkIsFinished(),this.parseChunk(m.shift()))}catch(Y){this._streamError(Y)}},this),this._streamError=x(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=x(function(){this._streamCleanUp(),V=!0,this._streamData("")},this),this._streamCleanUp=x(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(v){var m,A,V,T=Math.pow(2,53),Y=-T,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,S=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,U=this,W=0,K=0,J=!1,ae=!1,z=[],H={data:[],errors:[],meta:{}};if(M(v.step)){var Z=v.step;v.step=function(q){if(H=q,ue())ie();else{if(ie(),H.data.length===0)return;W+=q.data.length,v.preview&&W>v.preview?A.abort():(H.data=H.data[0],Z(H,U))}}}function re(q){return v.skipEmptyLines==="greedy"?q.join("").trim()==="":q.length===1&&q[0].length===0}function ie(){if(H&&V&&(ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+n.DefaultDelimiter+"'"),V=!1),v.skipEmptyLines)for(var q=0;q<H.data.length;q++)re(H.data[q])&&H.data.splice(q--,1);return ue()&&function(){if(!H)return;function ne(Q,c){M(v.transformHeader)&&(Q=v.transformHeader(Q,c)),z.push(Q)}if(Array.isArray(H.data[0])){for(var oe=0;ue()&&oe<H.data.length;oe++)H.data[oe].forEach(ne);H.data.splice(0,1)}else H.data.forEach(ne)}(),function(){if(!H||!v.header&&!v.dynamicTyping&&!v.transform)return H;function ne(Q,c){var w,B=v.header?{}:[];for(w=0;w<Q.length;w++){var E=w,b=Q[w];v.header&&(E=w>=z.length?"__parsed_extra":z[w]),v.transform&&(b=v.transform(b,E)),b=ge(E,b),E==="__parsed_extra"?(B[E]=B[E]||[],B[E].push(b)):B[E]=b}return v.header&&(w>z.length?ee("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+w,K+c):w<z.length&&ee("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+w,K+c)),B}var oe=1;return!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(ne),oe=H.data.length):H.data=ne(H.data,0),v.header&&H.meta&&(H.meta.fields=z),K+=oe,H}()}function ue(){return v.header&&z.length===0}function ge(q,ne){return oe=q,v.dynamicTypingFunction&&v.dynamicTyping[oe]===void 0&&(v.dynamicTyping[oe]=v.dynamicTypingFunction(oe)),(v.dynamicTyping[oe]||v.dynamicTyping)===!0?ne==="true"||ne==="TRUE"||ne!=="false"&&ne!=="FALSE"&&(function(Q){if(G.test(Q)){var c=parseFloat(Q);if(Y<c&&c<T)return!0}return!1}(ne)?parseFloat(ne):S.test(ne)?new Date(ne):ne===""?null:ne):ne;var oe}function ee(q,ne,oe,Q){var c={type:q,code:ne,message:oe};Q!==void 0&&(c.row=Q),H.errors.push(c)}this.parse=function(q,ne,oe){var Q=v.quoteChar||'"';if(v.newline||(v.newline=function(B,E){B=B.substring(0,1048576);var b=new RegExp(d(E)+"([^]*?)"+d(E),"gm"),O=(B=B.replace(b,"")).split("\r"),N=B.split(`
`),R=1<N.length&&N[0].length<O[0].length;if(O.length===1||R)return`
`;for(var j=0,se=0;se<O.length;se++)O[se][0]===`
`&&j++;return j>=O.length/2?`\r
`:"\r"}(q,Q)),V=!1,v.delimiter)M(v.delimiter)&&(v.delimiter=v.delimiter(q),H.meta.delimiter=v.delimiter);else{var c=function(B,E,b,O,N){var R,j,se,fe;N=N||[",","	","|",";",n.RECORD_SEP,n.UNIT_SEP];for(var ce=0;ce<N.length;ce++){var ye=N[ce],xe=0,De=0,ke=0;se=void 0;for(var Ne=new y({comments:O,delimiter:ye,newline:E,preview:10}).parse(B),Ue=0;Ue<Ne.data.length;Ue++)if(b&&re(Ne.data[Ue]))ke++;else{var Ce=Ne.data[Ue].length;De+=Ce,se!==void 0?0<Ce&&(xe+=Math.abs(Ce-se),se=Ce):se=Ce}0<Ne.data.length&&(De/=Ne.data.length-ke),(j===void 0||xe<=j)&&(fe===void 0||fe<De)&&1.99<De&&(j=xe,R=ye,fe=De)}return{successful:!!(v.delimiter=R),bestDelimiter:R}}(q,v.newline,v.skipEmptyLines,v.comments,v.delimitersToGuess);c.successful?v.delimiter=c.bestDelimiter:(V=!0,v.delimiter=n.DefaultDelimiter),H.meta.delimiter=v.delimiter}var w=L(v);return v.preview&&v.header&&w.preview++,m=q,A=new y(w),H=A.parse(m,ne,oe),ie(),J?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,A.abort(),m=M(v.chunk)?"":m.substring(A.getCharIndex())},this.resume=function(){U.streamer._halted?(J=!1,U.streamer.parseChunk(m,!0)):setTimeout(U.resume,3)},this.aborted=function(){return ae},this.abort=function(){ae=!0,A.abort(),H.meta.aborted=!0,M(v.complete)&&v.complete(H),m=""}}function d(v){return v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(v){var m,A=(v=v||{}).delimiter,V=v.newline,T=v.comments,Y=v.step,G=v.preview,S=v.fastMode,U=m=v.quoteChar===void 0?'"':v.quoteChar;if(v.escapeChar!==void 0&&(U=v.escapeChar),(typeof A!="string"||-1<n.BAD_DELIMITERS.indexOf(A))&&(A=","),T===A)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<n.BAD_DELIMITERS.indexOf(T))&&(T=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var W=0,K=!1;this.parse=function(J,ae,z){if(typeof J!="string")throw new Error("Input must be a string");var H=J.length,Z=A.length,re=V.length,ie=T.length,ue=M(Y),ge=[],ee=[],q=[],ne=W=0;if(!J)return fe();if(S||S!==!1&&J.indexOf(m)===-1){for(var oe=J.split(V),Q=0;Q<oe.length;Q++){if(q=oe[Q],W+=q.length,Q!==oe.length-1)W+=V.length;else if(z)return fe();if(!T||q.substring(0,ie)!==T){if(ue){if(ge=[],N(q.split(A)),ce(),K)return fe()}else N(q.split(A));if(G&&G<=Q)return ge=ge.slice(0,G),fe(!0)}}return fe()}for(var c=J.indexOf(A,W),w=J.indexOf(V,W),B=new RegExp(d(U)+d(m),"g"),E=J.indexOf(m,W);;)if(J[W]!==m)if(T&&q.length===0&&J.substring(W,W+ie)===T){if(w===-1)return fe();W=w+re,w=J.indexOf(V,W),c=J.indexOf(A,W)}else if(c!==-1&&(c<w||w===-1))q.push(J.substring(W,c)),W=c+Z,c=J.indexOf(A,W);else{if(w===-1)break;if(q.push(J.substring(W,w)),se(w+re),ue&&(ce(),K))return fe();if(G&&ge.length>=G)return fe(!0)}else for(E=W,W++;;){if((E=J.indexOf(m,E+1))===-1)return z||ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ge.length,index:W}),j();if(E===H-1)return j(J.substring(W,E).replace(B,m));if(m!==U||J[E+1]!==U){if(m===U||E===0||J[E-1]!==U){c!==-1&&c<E+1&&(c=J.indexOf(A,E+1)),w!==-1&&w<E+1&&(w=J.indexOf(V,E+1));var b=R(w===-1?c:Math.min(c,w));if(J[E+1+b]===A){q.push(J.substring(W,E).replace(B,m)),J[W=E+1+b+Z]!==m&&(E=J.indexOf(m,W)),c=J.indexOf(A,W),w=J.indexOf(V,W);break}var O=R(w);if(J.substring(E+1+O,E+1+O+re)===V){if(q.push(J.substring(W,E).replace(B,m)),se(E+1+O+re),c=J.indexOf(A,W),E=J.indexOf(m,W),ue&&(ce(),K))return fe();if(G&&ge.length>=G)return fe(!0);break}ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ge.length,index:W}),E++}}else E++}return j();function N(ye){ge.push(ye),ne=W}function R(ye){var xe=0;if(ye!==-1){var De=J.substring(E+1,ye);De&&De.trim()===""&&(xe=De.length)}return xe}function j(ye){return z||(ye===void 0&&(ye=J.substring(W)),q.push(ye),W=H,N(q),ue&&ce()),fe()}function se(ye){W=ye,N(q),q=[],w=J.indexOf(V,W)}function fe(ye){return{data:ge,errors:ee,meta:{delimiter:A,linebreak:V,aborted:K,truncated:!!ye,cursor:ne+(ae||0)}}}function ce(){Y(fe()),ge=[],ee=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return W}}function g(v){var m=v.data,A=a[m.workerId],V=!1;if(m.error)A.userError(m.error,m.file);else if(m.results&&m.results.data){var T={abort:function(){V=!0,D(m.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(M(A.userStep)){for(var Y=0;Y<m.results.data.length&&(A.userStep({data:m.results.data[Y],errors:m.results.errors,meta:m.results.meta},T),!V);Y++);delete m.results}else M(A.userChunk)&&(A.userChunk(m.results,T,m.file),delete m.results)}m.finished&&!V&&D(m.workerId,m.results)}function D(v,m){var A=a[v];M(A.userComplete)&&A.userComplete(m),A.terminate(),delete a[v]}function C(){throw new Error("Not implemented.")}function L(v){if(typeof v!="object"||v===null)return v;var m=Array.isArray(v)?[]:{};for(var A in v)m[A]=L(v[A]);return m}function x(v,m){return function(){v.apply(m,arguments)}}function M(v){return typeof v=="function"}return e&&(P.onmessage=function(v){var m=v.data;if(n.WORKER_ID===void 0&&m&&(n.WORKER_ID=m.workerId),typeof m.input=="string")P.postMessage({workerId:n.WORKER_ID,results:n.parse(m.input,m.config),finished:!0});else if(P.File&&m.input instanceof File||m.input instanceof Object){var A=n.parse(m.input,m.config);A&&P.postMessage({workerId:n.WORKER_ID,results:A,finished:!0})}}),(u.prototype=Object.create(f.prototype)).constructor=u,(s.prototype=Object.create(f.prototype)).constructor=s,(o.prototype=Object.create(o.prototype)).constructor=o,(h.prototype=Object.create(f.prototype)).constructor=h,n})})(su);var Gh=su.exports,uu={exports:{}};(function(I,le){(function(t){I.exports=t()})(function(){return function(){function t(P,k,e){function a(r,f){if(!k[r]){if(!P[r]){var u=typeof bi=="function"&&bi;if(!f&&u)return u(r,!0);if(i)return i(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var o=k[r]={exports:{}};P[r][0].call(o.exports,function(h){var p=P[r][1][h];return a(p||h)},o,o.exports,t,P,k,e)}return k[r].exports}for(var i=typeof bi=="function"&&bi,n=0;n<e.length;n++)a(e[n]);return a}return t}()({1:[function(t,P,k){var e=t("../src/lib"),a={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in a){var n=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");e.addStyleRule(n,a[i])}},{"../src/lib":232}],2:[function(t,P,k){P.exports=t("../src/transforms/aggregate")},{"../src/transforms/aggregate":386}],3:[function(t,P,k){P.exports=t("../src/traces/bar")},{"../src/traces/bar":336}],4:[function(t,P,k){P.exports=t("../src/components/calendars")},{"../src/components/calendars":100}],5:[function(t,P,k){P.exports=t("../src/core")},{"../src/core":214}],6:[function(t,P,k){P.exports=t("../src/transforms/filter")},{"../src/transforms/filter":387}],7:[function(t,P,k){P.exports=t("../src/transforms/groupby")},{"../src/transforms/groupby":388}],8:[function(t,P,k){var e=t("./core");e.register([t("./bar"),t("./pie"),t("./aggregate"),t("./filter"),t("./groupby"),t("./sort"),t("./calendars")]),P.exports=e},{"./aggregate":2,"./bar":3,"./calendars":4,"./core":5,"./filter":6,"./groupby":7,"./pie":9,"./sort":10}],9:[function(t,P,k){P.exports=t("../src/traces/pie")},{"../src/traces/pie":351}],10:[function(t,P,k){P.exports=t("../src/transforms/sort")},{"../src/transforms/sort":390}],11:[function(t,P,k){(function(){var e={version:"3.8.0"},a=[].slice,i=function(l){return a.call(l)},n=self.document;function r(l){return l&&(l.ownerDocument||l.document||l).documentElement}function f(l){return l&&(l.ownerDocument&&l.ownerDocument.defaultView||l.document&&l||l.defaultView)}if(n)try{i(n.documentElement.childNodes)[0].nodeType}catch{i=function(_){for(var F=_.length,X=new Array(F);F--;)X[F]=_[F];return X}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch{var u=this.Element.prototype,s=u.setAttribute,o=u.setAttributeNS,h=this.CSSStyleDeclaration.prototype,p=h.setProperty;u.setAttribute=function(_,F){s.call(this,_,F+"")},u.setAttributeNS=function(_,F,X){o.call(this,_,F,X+"")},h.setProperty=function(_,F,X){p.call(this,_,F+"",X)}}e.ascending=d;function d(l,_){return l<_?-1:l>_?1:l>=_?0:NaN}e.descending=function(l,_){return _<l?-1:_>l?1:_>=l?0:NaN},e.min=function(l,_){var F=-1,X=l.length,$,te;if(arguments.length===1){for(;++F<X;)if((te=l[F])!=null&&te>=te){$=te;break}for(;++F<X;)(te=l[F])!=null&&$>te&&($=te)}else{for(;++F<X;)if((te=_.call(l,l[F],F))!=null&&te>=te){$=te;break}for(;++F<X;)(te=_.call(l,l[F],F))!=null&&$>te&&($=te)}return $},e.max=function(l,_){var F=-1,X=l.length,$,te;if(arguments.length===1){for(;++F<X;)if((te=l[F])!=null&&te>=te){$=te;break}for(;++F<X;)(te=l[F])!=null&&te>$&&($=te)}else{for(;++F<X;)if((te=_.call(l,l[F],F))!=null&&te>=te){$=te;break}for(;++F<X;)(te=_.call(l,l[F],F))!=null&&te>$&&($=te)}return $},e.extent=function(l,_){var F=-1,X=l.length,$,te,me;if(arguments.length===1){for(;++F<X;)if((te=l[F])!=null&&te>=te){$=me=te;break}for(;++F<X;)(te=l[F])!=null&&($>te&&($=te),me<te&&(me=te))}else{for(;++F<X;)if((te=_.call(l,l[F],F))!=null&&te>=te){$=me=te;break}for(;++F<X;)(te=_.call(l,l[F],F))!=null&&($>te&&($=te),me<te&&(me=te))}return[$,me]};function y(l){return l===null?NaN:+l}function g(l){return!isNaN(l)}e.sum=function(l,_){var F=0,X=l.length,$,te=-1;if(arguments.length===1)for(;++te<X;)g($=+l[te])&&(F+=$);else for(;++te<X;)g($=+_.call(l,l[te],te))&&(F+=$);return F},e.mean=function(l,_){var F=0,X=l.length,$,te=-1,me=X;if(arguments.length===1)for(;++te<X;)g($=y(l[te]))?F+=$:--me;else for(;++te<X;)g($=y(_.call(l,l[te],te)))?F+=$:--me;if(me)return F/me},e.quantile=function(l,_){var F=(l.length-1)*_+1,X=Math.floor(F),$=+l[X-1],te=F-X;return te?$+te*(l[X]-$):$},e.median=function(l,_){var F=[],X=l.length,$,te=-1;if(arguments.length===1)for(;++te<X;)g($=y(l[te]))&&F.push($);else for(;++te<X;)g($=y(_.call(l,l[te],te)))&&F.push($);if(F.length)return e.quantile(F.sort(d),.5)},e.variance=function(l,_){var F=l.length,X=0,$,te,me=0,de=-1,be=0;if(arguments.length===1)for(;++de<F;)g($=y(l[de]))&&(te=$-X,X+=te/++be,me+=te*($-X));else for(;++de<F;)g($=y(_.call(l,l[de],de)))&&(te=$-X,X+=te/++be,me+=te*($-X));if(be>1)return me/(be-1)},e.deviation=function(){var l=e.variance.apply(this,arguments);return l&&Math.sqrt(l)};function D(l){return{left:function(_,F,X,$){for(arguments.length<3&&(X=0),arguments.length<4&&($=_.length);X<$;){var te=X+$>>>1;l(_[te],F)<0?X=te+1:$=te}return X},right:function(_,F,X,$){for(arguments.length<3&&(X=0),arguments.length<4&&($=_.length);X<$;){var te=X+$>>>1;l(_[te],F)>0?$=te:X=te+1}return X}}}var C=D(d);e.bisectLeft=C.left,e.bisect=e.bisectRight=C.right,e.bisector=function(l){return D(l.length===1?function(_,F){return d(l(_),F)}:l)},e.shuffle=function(l,_,F){(X=arguments.length)<3&&(F=l.length,X<2&&(_=0));for(var X=F-_,$,te;X;)te=Math.random()*X--|0,$=l[X+_],l[X+_]=l[te+_],l[te+_]=$;return l},e.permute=function(l,_){for(var F=_.length,X=new Array(F);F--;)X[F]=l[_[F]];return X},e.pairs=function(l){for(var _=0,F=l.length-1,X=l[0],$=new Array(F<0?0:F);_<F;)$[_]=[X,X=l[++_]];return $},e.transpose=function(l){if(!(te=l.length))return[];for(var _=-1,F=e.min(l,L),X=new Array(F);++_<F;)for(var $=-1,te,me=X[_]=new Array(te);++$<te;)me[$]=l[$][_];return X};function L(l){return l.length}e.zip=function(){return e.transpose(arguments)},e.keys=function(l){var _=[];for(var F in l)_.push(F);return _},e.values=function(l){var _=[];for(var F in l)_.push(l[F]);return _},e.entries=function(l){var _=[];for(var F in l)_.push({key:F,value:l[F]});return _},e.merge=function(l){for(var _=l.length,F,X=-1,$=0,te,me;++X<_;)$+=l[X].length;for(te=new Array($);--_>=0;)for(me=l[_],F=me.length;--F>=0;)te[--$]=me[F];return te};var x=Math.abs;e.range=function(l,_,F){if(arguments.length<3&&(F=1,arguments.length<2&&(_=l,l=0)),(_-l)/F==1/0)throw new Error("infinite range");var X=[],$=M(x(F)),te=-1,me;if(l*=$,_*=$,F*=$,F<0)for(;(me=l+F*++te)>_;)X.push(me/$);else for(;(me=l+F*++te)<_;)X.push(me/$);return X};function M(l){for(var _=1;l*_%1;)_*=10;return _}function v(l,_){for(var F in _)Object.defineProperty(l.prototype,F,{value:_[F],enumerable:!1})}e.map=function(l,_){var F=new m;if(l instanceof m)l.forEach(function(de,be){F.set(de,be)});else if(Array.isArray(l)){var X=-1,$=l.length,te;if(arguments.length===1)for(;++X<$;)F.set(X,l[X]);else for(;++X<$;)F.set(_.call(l,te=l[X],X),te)}else for(var me in l)F.set(me,l[me]);return F};function m(){this._=Object.create(null)}var A="__proto__",V="\0";v(m,{has:G,get:function(l){return this._[T(l)]},set:function(l,_){return this._[T(l)]=_},remove:S,keys:U,values:function(){var l=[];for(var _ in this._)l.push(this._[_]);return l},entries:function(){var l=[];for(var _ in this._)l.push({key:Y(_),value:this._[_]});return l},size:W,empty:K,forEach:function(l){for(var _ in this._)l.call(this,Y(_),this._[_])}});function T(l){return(l+="")===A||l[0]===V?V+l:l}function Y(l){return(l+="")[0]===V?l.slice(1):l}function G(l){return T(l)in this._}function S(l){return(l=T(l))in this._&&delete this._[l]}function U(){var l=[];for(var _ in this._)l.push(Y(_));return l}function W(){var l=0;for(var _ in this._)++l;return l}function K(){for(var l in this._)return!1;return!0}e.nest=function(){var l={},_=[],F=[],X,$;function te(de,be,Te){if(Te>=_.length)return $?$.call(l,be):X?be.sort(X):be;for(var Me=-1,ze=be.length,He=_[Te++],et,st,Be,Xe=new m,Qe;++Me<ze;)(Qe=Xe.get(et=He(st=be[Me])))?Qe.push(st):Xe.set(et,[st]);return de?(st=de(),Be=function(lt,ft){st.set(lt,te(de,ft,Te))}):(st={},Be=function(lt,ft){st[lt]=te(de,ft,Te)}),Xe.forEach(Be),st}function me(de,be){if(be>=_.length)return de;var Te=[],Me=F[be++];return de.forEach(function(ze,He){Te.push({key:ze,values:me(He,be)})}),Me?Te.sort(function(ze,He){return Me(ze.key,He.key)}):Te}return l.map=function(de,be){return te(be,de,0)},l.entries=function(de){return me(te(e.map,de,0),0)},l.key=function(de){return _.push(de),l},l.sortKeys=function(de){return F[_.length-1]=de,l},l.sortValues=function(de){return X=de,l},l.rollup=function(de){return $=de,l},l},e.set=function(l){var _=new J;if(l)for(var F=0,X=l.length;F<X;++F)_.add(l[F]);return _};function J(){this._=Object.create(null)}v(J,{has:G,add:function(l){return this._[T(l+="")]=!0,l},remove:S,values:U,size:W,empty:K,forEach:function(l){for(var _ in this._)l.call(this,Y(_))}}),e.behavior={};function ae(l){return l}e.rebind=function(l,_){for(var F=1,X=arguments.length,$;++F<X;)l[$=arguments[F]]=z(l,_,_[$]);return l};function z(l,_,F){return function(){var X=F.apply(_,arguments);return X===_?l:X}}function H(l,_){if(_ in l)return _;_=_.charAt(0).toUpperCase()+_.slice(1);for(var F=0,X=Z.length;F<X;++F){var $=Z[F]+_;if($ in l)return $}}var Z=["webkit","ms","moz","Moz","o","O"];function re(){}e.dispatch=function(){for(var l=new ie,_=-1,F=arguments.length;++_<F;)l[arguments[_]]=ue(l);return l};function ie(){}ie.prototype.on=function(l,_){var F=l.indexOf("."),X="";if(F>=0&&(X=l.slice(F+1),l=l.slice(0,F)),l)return arguments.length<2?this[l].on(X):this[l].on(X,_);if(arguments.length===2){if(_==null)for(l in this)this.hasOwnProperty(l)&&this[l].on(X,null);return this}};function ue(l){var _=[],F=new m;function X(){for(var $=_,te=-1,me=$.length,de;++te<me;)(de=$[te].on)&&de.apply(this,arguments);return l}return X.on=function($,te){var me=F.get($),de;return arguments.length<2?me&&me.on:(me&&(me.on=null,_=_.slice(0,de=_.indexOf(me)).concat(_.slice(de+1)),F.remove($)),te&&_.push(F.set($,{on:te})),l)},X}e.event=null;function ge(){e.event.preventDefault()}function ee(){for(var l=e.event,_;_=l.sourceEvent;)l=_;return l}function q(l){for(var _=new ie,F=0,X=arguments.length;++F<X;)_[arguments[F]]=ue(_);return _.of=function($,te){return function(me){try{var de=me.sourceEvent=e.event;me.target=l,e.event=me,_[me.type].apply($,te)}finally{e.event=de}}},_}e.requote=function(l){return l.replace(ne,"\\$&")};var ne=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,oe=function(l,_){for(var F in _)l[F]=_[F]};function Q(l){return oe(l,E),l}var c=function(l,_){return _.querySelector(l)},w=function(l,_){return _.querySelectorAll(l)},B=function(l,_){var F=l.matches||l[H(l,"matchesSelector")];return B=function(X,$){return F.call(X,$)},B(l,_)};typeof Sizzle=="function"&&(c=function(l,_){return Sizzle(l,_)[0]||null},w=Sizzle,B=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var E=e.selection.prototype=[];E.select=function(l){var _=[],F,X,$,te;l=b(l);for(var me=-1,de=this.length;++me<de;){_.push(F=[]),F.parentNode=($=this[me]).parentNode;for(var be=-1,Te=$.length;++be<Te;)(te=$[be])?(F.push(X=l.call(te,te.__data__,be,me)),X&&"__data__"in te&&(X.__data__=te.__data__)):F.push(null)}return Q(_)};function b(l){return typeof l=="function"?l:function(){return c(l,this)}}E.selectAll=function(l){var _=[],F,X;l=O(l);for(var $=-1,te=this.length;++$<te;)for(var me=this[$],de=-1,be=me.length;++de<be;)(X=me[de])&&(_.push(F=i(l.call(X,X.__data__,de,$))),F.parentNode=X);return Q(_)};function O(l){return typeof l=="function"?l:function(){return w(l,this)}}var N="http://www.w3.org/1999/xhtml",R={svg:"http://www.w3.org/2000/svg",xhtml:N,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};e.ns={prefix:R,qualify:function(l){var _=l.indexOf(":"),F=l;return _>=0&&(F=l.slice(0,_))!=="xmlns"&&(l=l.slice(_+1)),R.hasOwnProperty(F)?{space:R[F],local:l}:l}},E.attr=function(l,_){if(arguments.length<2){if(typeof l=="string"){var F=this.node();return l=e.ns.qualify(l),l.local?F.getAttributeNS(l.space,l.local):F.getAttribute(l)}for(_ in l)this.each(j(_,l[_]));return this}return this.each(j(l,_))};function j(l,_){l=e.ns.qualify(l);function F(){this.removeAttribute(l)}function X(){this.removeAttributeNS(l.space,l.local)}function $(){this.setAttribute(l,_)}function te(){this.setAttributeNS(l.space,l.local,_)}function me(){var be=_.apply(this,arguments);be==null?this.removeAttribute(l):this.setAttribute(l,be)}function de(){var be=_.apply(this,arguments);be==null?this.removeAttributeNS(l.space,l.local):this.setAttributeNS(l.space,l.local,be)}return _==null?l.local?X:F:typeof _=="function"?l.local?de:me:l.local?te:$}function se(l){return l.trim().replace(/\s+/g," ")}E.classed=function(l,_){if(arguments.length<2){if(typeof l=="string"){var F=this.node(),X=(l=ce(l)).length,$=-1;if(_=F.classList){for(;++$<X;)if(!_.contains(l[$]))return!1}else for(_=F.getAttribute("class");++$<X;)if(!fe(l[$]).test(_))return!1;return!0}for(_ in l)this.each(ye(_,l[_]));return this}return this.each(ye(l,_))};function fe(l){return new RegExp("(?:^|\\s+)"+e.requote(l)+"(?:\\s+|$)","g")}function ce(l){return(l+"").trim().split(/^|\s+/)}function ye(l,_){l=ce(l).map(xe);var F=l.length;function X(){for(var te=-1;++te<F;)l[te](this,_)}function $(){for(var te=-1,me=_.apply(this,arguments);++te<F;)l[te](this,me)}return typeof _=="function"?$:X}function xe(l){var _=fe(l);return function(F,X){if($=F.classList)return X?$.add(l):$.remove(l);var $=F.getAttribute("class")||"";X?(_.lastIndex=0,_.test($)||F.setAttribute("class",se($+" "+l))):F.setAttribute("class",se($.replace(_," ")))}}E.style=function(l,_,F){var X=arguments.length;if(X<3){if(typeof l!="string"){X<2&&(_="");for(F in l)this.each(De(F,l[F],_));return this}if(X<2){var $=this.node();return f($).getComputedStyle($,null).getPropertyValue(l)}F=""}return this.each(De(l,_,F))};function De(l,_,F){function X(){this.style.removeProperty(l)}function $(){this.style.setProperty(l,_,F)}function te(){var me=_.apply(this,arguments);me==null?this.style.removeProperty(l):this.style.setProperty(l,me,F)}return _==null?X:typeof _=="function"?te:$}E.property=function(l,_){if(arguments.length<2){if(typeof l=="string")return this.node()[l];for(_ in l)this.each(ke(_,l[_]));return this}return this.each(ke(l,_))};function ke(l,_){function F(){delete this[l]}function X(){this[l]=_}function $(){var te=_.apply(this,arguments);te==null?delete this[l]:this[l]=te}return _==null?F:typeof _=="function"?$:X}E.text=function(l){return arguments.length?this.each(typeof l=="function"?function(){var _=l.apply(this,arguments);this.textContent=_==null?"":_}:l==null?function(){this.textContent=""}:function(){this.textContent=l}):this.node().textContent},E.html=function(l){return arguments.length?this.each(typeof l=="function"?function(){var _=l.apply(this,arguments);this.innerHTML=_==null?"":_}:l==null?function(){this.innerHTML=""}:function(){this.innerHTML=l}):this.node().innerHTML},E.append=function(l){return l=Ne(l),this.select(function(){return this.appendChild(l.apply(this,arguments))})};function Ne(l){function _(){var X=this.ownerDocument,$=this.namespaceURI;return $===N&&X.documentElement.namespaceURI===N?X.createElement(l):X.createElementNS($,l)}function F(){return this.ownerDocument.createElementNS(l.space,l.local)}return typeof l=="function"?l:(l=e.ns.qualify(l)).local?F:_}E.insert=function(l,_){return l=Ne(l),_=b(_),this.select(function(){return this.insertBefore(l.apply(this,arguments),_.apply(this,arguments)||null)})},E.remove=function(){return this.each(Ue)};function Ue(){var l=this.parentNode;l&&l.removeChild(this)}E.data=function(l,_){var F=-1,X=this.length,$,te;if(!arguments.length){for(l=new Array(X=($=this[0]).length);++F<X;)(te=$[F])&&(l[F]=te.__data__);return l}function me(Me,ze){var He,et=Me.length,st=ze.length,Be=Math.min(et,st),Xe=new Array(st),Qe=new Array(st),lt=new Array(et),ft,qe;if(_){var Pt=new m,Wt=new Array(et),Kt;for(He=-1;++He<et;)(ft=Me[He])&&(Pt.has(Kt=_.call(ft,ft.__data__,He))?lt[He]=ft:Pt.set(Kt,ft),Wt[He]=Kt);for(He=-1;++He<st;)(ft=Pt.get(Kt=_.call(ze,qe=ze[He],He)))?ft!==!0&&(Xe[He]=ft,ft.__data__=qe):Qe[He]=Ce(qe),Pt.set(Kt,!0);for(He=-1;++He<et;)He in Wt&&Pt.get(Wt[He])!==!0&&(lt[He]=Me[He])}else{for(He=-1;++He<Be;)ft=Me[He],qe=ze[He],ft?(ft.__data__=qe,Xe[He]=ft):Qe[He]=Ce(qe);for(;He<st;++He)Qe[He]=Ce(ze[He]);for(;He<et;++He)lt[He]=Me[He]}Qe.update=Xe,Qe.parentNode=Xe.parentNode=lt.parentNode=Me.parentNode,de.push(Qe),be.push(Xe),Te.push(lt)}var de=gt([]),be=Q([]),Te=Q([]);if(typeof l=="function")for(;++F<X;)me($=this[F],l.call($,$.parentNode.__data__,F));else for(;++F<X;)me($=this[F],l);return be.enter=function(){return de},be.exit=function(){return Te},be};function Ce(l){return{__data__:l}}E.datum=function(l){return arguments.length?this.property("__data__",l):this.property("__data__")},E.filter=function(l){var _=[],F,X,$;typeof l!="function"&&(l=_e(l));for(var te=0,me=this.length;te<me;te++){_.push(F=[]),F.parentNode=(X=this[te]).parentNode;for(var de=0,be=X.length;de<be;de++)($=X[de])&&l.call($,$.__data__,de,te)&&F.push($)}return Q(_)};function _e(l){return function(){return B(this,l)}}E.order=function(){for(var l=-1,_=this.length;++l<_;)for(var F=this[l],X=F.length-1,$=F[X],te;--X>=0;)(te=F[X])&&($&&$!==te.nextSibling&&$.parentNode.insertBefore(te,$),$=te);return this},E.sort=function(l){l=Ie.apply(this,arguments);for(var _=-1,F=this.length;++_<F;)this[_].sort(l);return this.order()};function Ie(l){return arguments.length||(l=d),function(_,F){return _&&F?l(_.__data__,F.__data__):!_-!F}}E.each=function(l){return Ze(this,function(_,F,X){l.call(_,_.__data__,F,X)})};function Ze(l,_){for(var F=0,X=l.length;F<X;F++)for(var $=l[F],te=0,me=$.length,de;te<me;te++)(de=$[te])&&_(de,te,F);return l}E.call=function(l){var _=i(arguments);return l.apply(_[0]=this,_),this},E.empty=function(){return!this.node()},E.node=function(){for(var l=0,_=this.length;l<_;l++)for(var F=this[l],X=0,$=F.length;X<$;X++){var te=F[X];if(te)return te}return null},E.size=function(){var l=0;return Ze(this,function(){++l}),l};function gt(l){return oe(l,Ve),l}var Ve=[];e.selection.enter=gt,e.selection.enter.prototype=Ve,Ve.append=E.append,Ve.empty=E.empty,Ve.node=E.node,Ve.call=E.call,Ve.size=E.size,Ve.select=function(l){for(var _=[],F,X,$,te,me,de=-1,be=this.length;++de<be;){$=(te=this[de]).update,_.push(F=[]),F.parentNode=te.parentNode;for(var Te=-1,Me=te.length;++Te<Me;)(me=te[Te])?(F.push($[Te]=X=l.call(te.parentNode,me.__data__,Te,de)),X.__data__=me.__data__):F.push(null)}return Q(_)},Ve.insert=function(l,_){return arguments.length<2&&(_=We(this)),E.insert.call(this,l,_)};function We(l){var _,F;return function(X,$,te){var me=l[te].update,de=me.length,be;for(te!=F&&(F=te,_=0),$>=_&&(_=$+1);!(be=me[_])&&++_<de;);return be}}e.select=function(l){var _;return typeof l=="string"?(_=[c(l,n)],_.parentNode=n.documentElement):(_=[l],_.parentNode=r(l)),Q([_])},e.selectAll=function(l){var _;return typeof l=="string"?(_=i(w(l,n)),_.parentNode=n.documentElement):(_=i(l),_.parentNode=null),Q([_])},E.on=function(l,_,F){var X=arguments.length;if(X<3){if(typeof l!="string"){X<2&&(_=!1);for(F in l)this.each(Ke(F,l[F],_));return this}if(X<2)return(X=this.node()["__on"+l])&&X._;F=!1}return this.each(Ke(l,_,F))};function Ke(l,_,F){var X="__on"+l,$=l.indexOf("."),te=mt;$>0&&(l=l.slice(0,$));var me=ut.get(l);me&&(l=me,te=Lt);function de(){var Me=this[X];Me&&(this.removeEventListener(l,Me,Me.$),delete this[X])}function be(){var Me=te(_,i(arguments));de.call(this),this.addEventListener(l,this[X]=Me,Me.$=F),Me._=_}function Te(){var Me=new RegExp("^__on([^.]+)"+e.requote(l)+"$"),ze;for(var He in this)if(ze=He.match(Me)){var et=this[He];this.removeEventListener(ze[1],et,et.$),delete this[He]}}return $?_?be:de:_?re:Te}var ut=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});n&&ut.forEach(function(l){"on"+l in n&&ut.remove(l)});function mt(l,_){return function(F){var X=e.event;e.event=F,_[0]=this.__data__;try{l.apply(this,_)}finally{e.event=X}}}function Lt(l,_){var F=mt(l,_);return function(X){var $=this,te=X.relatedTarget;(!te||te!==$&&!(te.compareDocumentPosition($)&8))&&F.call($,X)}}var rt,dt=0;function ot(l){var _=".dragsuppress-"+ ++dt,F="click"+_,X=e.select(f(l)).on("touchmove"+_,ge).on("dragstart"+_,ge).on("selectstart"+_,ge);if(rt==null&&(rt="onselectstart"in l?!1:H(l.style,"userSelect")),rt){var $=r(l).style,te=$[rt];$[rt]="none"}return function(me){if(X.on(_,null),rt&&($[rt]=te),me){var de=function(){X.on(F,null)};X.on(F,function(){ge(),de()},!0),setTimeout(de,0)}}}e.mouse=function(l){return Ct(l,ee())};var pt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Ct(l,_){_.changedTouches&&(_=_.changedTouches[0]);var F=l.ownerSVGElement||l;if(F.createSVGPoint){var X=F.createSVGPoint();if(pt<0){var $=f(l);if($.scrollX||$.scrollY){F=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var te=F[0][0].getScreenCTM();pt=!(te.f||te.e),F.remove()}}return pt?(X.x=_.pageX,X.y=_.pageY):(X.x=_.clientX,X.y=_.clientY),X=X.matrixTransform(l.getScreenCTM().inverse()),[X.x,X.y]}var me=l.getBoundingClientRect();return[_.clientX-me.left-l.clientLeft,_.clientY-me.top-l.clientTop]}e.touch=function(l,_,F){if(arguments.length<3&&(F=_,_=ee().changedTouches),_){for(var X=0,$=_.length,te;X<$;++X)if((te=_[X]).identifier===F)return Ct(l,te)}},e.behavior.drag=function(){var l=q($,"drag","dragstart","dragend"),_=null,F=te(re,e.mouse,f,"mousemove","mouseup"),X=te(Ee,e.touch,ae,"touchmove","touchend");function $(){this.on("mousedown.drag",F).on("touchstart.drag",X)}function te(me,de,be,Te,Me){return function(){var ze=this,He=e.event.target.correspondingElement||e.event.target,et=ze.parentNode,st=l.of(ze,arguments),Be=0,Xe=me(),Qe=".drag"+(Xe==null?"":"-"+Xe),lt,ft=e.select(be(He)).on(Te+Qe,Wt).on(Me+Qe,Kt),qe=ot(He),Pt=de(et,Xe);_?(lt=_.apply(ze,arguments),lt=[lt.x-Pt[0],lt.y-Pt[1]]):lt=[0,0],st({type:"dragstart"});function Wt(){var Xt=de(et,Xe),er,tr;!Xt||(er=Xt[0]-Pt[0],tr=Xt[1]-Pt[1],Be|=er|tr,Pt=Xt,st({type:"drag",x:Xt[0]+lt[0],y:Xt[1]+lt[1],dx:er,dy:tr}))}function Kt(){!de(et,Xe)||(ft.on(Te+Qe,null).on(Me+Qe,null),qe(Be),st({type:"dragend"}))}}}return $.origin=function(me){return arguments.length?(_=me,$):_},e.rebind($,l,"on")};function Ee(){return e.event.changedTouches[0].identifier}e.touches=function(l,_){return arguments.length<2&&(_=ee().touches),_?i(_).map(function(F){var X=Ct(l,F);return X.identifier=F.identifier,X}):[]};var Oe=1e-6,at=Oe*Oe,pe=Math.PI,Ae=2*pe,Se=Ae-Oe,Pe=pe/2,tt=pe/180,Je=180/pe;function ht(l,_,F){return(_[0]-l[0])*(F[1]-l[1])-(_[1]-l[1])*(F[0]-l[0])}function vt(l){return l>1?Pe:l<-1?-Pe:Math.asin(l)}function nt(l){return((l=Math.exp(l))-1/l)/2}function je(l){return((l=Math.exp(l))+1/l)/2}function _t(l){return((l=Math.exp(2*l))-1)/(l+1)}var Et=Math.SQRT2,Tt=2,Zt=4;e.interpolateZoom=function(l,_){var F=l[0],X=l[1],$=l[2],te=_[0],me=_[1],de=_[2],be=te-F,Te=me-X,Me=be*be+Te*Te,ze,He;if(Me<at)He=Math.log(de/$)/Et,ze=function(lt){return[F+lt*be,X+lt*Te,$*Math.exp(Et*lt*He)]};else{var et=Math.sqrt(Me),st=(de*de-$*$+Zt*Me)/(2*$*Tt*et),Be=(de*de-$*$-Zt*Me)/(2*de*Tt*et),Xe=Math.log(Math.sqrt(st*st+1)-st),Qe=Math.log(Math.sqrt(Be*Be+1)-Be);He=(Qe-Xe)/Et,ze=function(lt){var ft=lt*He,qe=je(Xe),Pt=$/(Tt*et)*(qe*_t(Et*ft+Xe)-nt(Xe));return[F+Pt*be,X+Pt*Te,$*qe/je(Et*ft+Xe)]}}return ze.duration=He*1e3,ze},e.behavior.zoom=function(){var l={x:0,y:0,k:1},_,F,X,$=[960,500],te=$t,me=250,de=0,be="mousedown.zoom",Te="mousemove.zoom",Me="mouseup.zoom",ze,He="touchstart.zoom",et,st=q(ft,"zoomstart","zoom","zoomend"),Be,Xe,Qe,lt;zt||(zt="onwheel"in n?(Qt=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(Qt=function(){return e.event.wheelDelta},"mousewheel"):(Qt=function(){return-e.event.detail},"MozMousePixelScroll"));function ft(Gt){Gt.on(be,or).on(zt+".zoom",Cr).on("dblclick.zoom",yr).on(He,pr)}ft.event=function(Gt){Gt.each(function(){var ur=st.of(this,arguments),cr=l;Pa?e.select(this).transition().each("start.zoom",function(){l=this.__chart__||{x:0,y:0,k:1},tr(ur)}).tween("zoom:zoom",function(){var mr=$[0],Tr=$[1],Er=F?F[0]:mr/2,Nr=F?F[1]:Tr/2,Br=e.interpolateZoom([(Er-l.x)/l.k,(Nr-l.y)/l.k,mr/l.k],[(Er-cr.x)/cr.k,(Nr-cr.y)/cr.k,mr/cr.k]);return function(Yr){var Ur=Br(Yr),Wr=mr/Ur[2];this.__chart__=l={x:Er-Ur[0]*Wr,y:Nr-Ur[1]*Wr,k:Wr},sr(ur)}}).each("interrupt.zoom",function(){ar(ur)}).each("end.zoom",function(){ar(ur)}):(this.__chart__=l,tr(ur),sr(ur),ar(ur))})},ft.translate=function(Gt){return arguments.length?(l={x:+Gt[0],y:+Gt[1],k:l.k},er(),ft):[l.x,l.y]},ft.scale=function(Gt){return arguments.length?(l={x:l.x,y:l.y,k:null},Wt(+Gt),er(),ft):l.k},ft.scaleExtent=function(Gt){return arguments.length?(te=Gt==null?$t:[+Gt[0],+Gt[1]],ft):te},ft.center=function(Gt){return arguments.length?(X=Gt&&[+Gt[0],+Gt[1]],ft):X},ft.size=function(Gt){return arguments.length?($=Gt&&[+Gt[0],+Gt[1]],ft):$},ft.duration=function(Gt){return arguments.length?(me=+Gt,ft):me},ft.x=function(Gt){return arguments.length?(Xe=Gt,Be=Gt.copy(),l={x:0,y:0,k:1},ft):Xe},ft.y=function(Gt){return arguments.length?(lt=Gt,Qe=Gt.copy(),l={x:0,y:0,k:1},ft):lt};function qe(Gt){return[(Gt[0]-l.x)/l.k,(Gt[1]-l.y)/l.k]}function Pt(Gt){return[Gt[0]*l.k+l.x,Gt[1]*l.k+l.y]}function Wt(Gt){l.k=Math.max(te[0],Math.min(te[1],Gt))}function Kt(Gt,ur){ur=Pt(ur),l.x+=Gt[0]-ur[0],l.y+=Gt[1]-ur[1]}function Xt(Gt,ur,cr,mr){Gt.__chart__={x:l.x,y:l.y,k:l.k},Wt(Math.pow(2,mr)),Kt(F=ur,cr),Gt=e.select(Gt),me>0&&(Gt=Gt.transition().duration(me)),Gt.call(ft.event)}function er(){Xe&&Xe.domain(Be.range().map(function(Gt){return(Gt-l.x)/l.k}).map(Be.invert)),lt&&lt.domain(Qe.range().map(function(Gt){return(Gt-l.y)/l.k}).map(Qe.invert))}function tr(Gt){de++||Gt({type:"zoomstart"})}function sr(Gt){er(),Gt({type:"zoom",scale:l.k,translate:[l.x,l.y]})}function ar(Gt){--de||(Gt({type:"zoomend"}),F=null)}function or(){var Gt=this,ur=st.of(Gt,arguments),cr=0,mr=e.select(f(Gt)).on(Te,Nr).on(Me,Br),Tr=qe(e.mouse(Gt)),Er=ot(Gt);Gn.call(Gt),tr(ur);function Nr(){cr=1,Kt(e.mouse(Gt),Tr),sr(ur)}function Br(){mr.on(Te,null).on(Me,null),Er(cr),ar(ur)}}function pr(){var Gt=this,ur=st.of(Gt,arguments),cr={},mr=0,Tr,Er=".zoom-"+e.event.changedTouches[0].identifier,Nr="touchmove"+Er,Br="touchend"+Er,Yr=[],Ur=e.select(Gt),Wr=ot(Gt);Zr(),tr(ur),Ur.on(be,null).on(He,Zr);function zr(){var na=e.touches(Gt);return Tr=l.k,na.forEach(function(Fr){Fr.identifier in cr&&(cr[Fr.identifier]=qe(Fr))}),na}function Zr(){var na=e.event.target;e.select(na).on(Nr,Na).on(Br,nc),Yr.push(na);for(var Fr=e.event.changedTouches,ea=0,ua=Fr.length;ea<ua;++ea)cr[Fr[ea].identifier]=null;var ta=zr(),$a=Date.now();if(ta.length===1){if($a-et<500){var Fa=ta[0];Xt(Gt,Fa,cr[Fa.identifier],Math.floor(Math.log(l.k)/Math.LN2)+1),ge()}et=$a}else if(ta.length>1){var Fa=ta[0],Aa=ta[1],Zn=Fa[0]-Aa[0],Bl=Fa[1]-Aa[1];mr=Zn*Zn+Bl*Bl}}function Na(){var na=e.touches(Gt),Fr,ea,ua,ta;Gn.call(Gt);for(var $a=0,Fa=na.length;$a<Fa;++$a,ta=null)if(ua=na[$a],ta=cr[ua.identifier]){if(ea)break;Fr=ua,ea=ta}if(ta){var Aa=(Aa=ua[0]-Fr[0])*Aa+(Aa=ua[1]-Fr[1])*Aa,Zn=mr&&Math.sqrt(Aa/mr);Fr=[(Fr[0]+ua[0])/2,(Fr[1]+ua[1])/2],ea=[(ea[0]+ta[0])/2,(ea[1]+ta[1])/2],Wt(Zn*Tr)}et=null,Kt(Fr,ea),sr(ur)}function nc(){if(e.event.touches.length){for(var na=e.event.changedTouches,Fr=0,ea=na.length;Fr<ea;++Fr)delete cr[na[Fr].identifier];for(var ua in cr)return void zr()}e.selectAll(Yr).on(Er,null),Ur.on(be,or).on(He,pr),Wr(),ar(ur)}}function Cr(){var Gt=st.of(this,arguments);ze?clearTimeout(ze):(Gn.call(this),_=qe(F=X||e.mouse(this)),tr(Gt)),ze=setTimeout(function(){ze=null,ar(Gt)},50),ge(),Wt(Math.pow(2,Qt()*.002)*l.k),Kt(F,_),sr(Gt)}function yr(){var Gt=e.mouse(this),ur=Math.log(l.k)/Math.LN2;Xt(this,Gt,qe(Gt),e.event.shiftKey?Math.ceil(ur)-1:Math.floor(ur)+1)}return e.rebind(ft,st,"on")};var $t=[0,1/0],Qt,zt;e.color=Yt;function Yt(){}Yt.prototype.toString=function(){return this.rgb()+""},e.hsl=Ft;function Ft(l,_,F){return this instanceof Ft?(this.h=+l,this.s=+_,void(this.l=+F)):arguments.length<2?l instanceof Ft?new Ft(l.h,l.s,l.l):It(""+l,Ut,Ft):new Ft(l,_,F)}var ct=Ft.prototype=new Yt;ct.brighter=function(l){return l=Math.pow(.7,arguments.length?l:1),new Ft(this.h,this.s,this.l/l)},ct.darker=function(l){return l=Math.pow(.7,arguments.length?l:1),new Ft(this.h,this.s,l*this.l)},ct.rgb=function(){return Vt(this.h,this.s,this.l)};function Vt(l,_,F){var X,$;l=isNaN(l)?0:(l%=360)<0?l+360:l,_=isNaN(_)||_<0?0:_>1?1:_,F=F<0?0:F>1?1:F,$=F<=.5?F*(1+_):F+_-F*_,X=2*F-$;function te(de){return de>360?de-=360:de<0&&(de+=360),de<60?X+($-X)*de/60:de<180?$:de<240?X+($-X)*(240-de)/60:X}function me(de){return Math.round(te(de)*255)}return new Ht(me(l+120),me(l),me(l-120))}e.hcl=Ot;function Ot(l,_,F){return this instanceof Ot?(this.h=+l,this.c=+_,void(this.l=+F)):arguments.length<2?l instanceof Ot?new Ot(l.h,l.c,l.l):l instanceof we?yt(l.l,l.a,l.b):yt((l=it((l=e.rgb(l)).r,l.g,l.b)).l,l.a,l.b):new Ot(l,_,F)}var he=Ot.prototype=new Yt;he.brighter=function(l){return new Ot(this.h,this.c,Math.min(100,this.l+Le*(arguments.length?l:1)))},he.darker=function(l){return new Ot(this.h,this.c,Math.max(0,this.l-Le*(arguments.length?l:1)))},he.rgb=function(){return ve(this.h,this.c,this.l).rgb()};function ve(l,_,F){return isNaN(l)&&(l=0),isNaN(_)&&(_=0),new we(F,Math.cos(l*=tt)*_,Math.sin(l)*_)}e.lab=we;function we(l,_,F){return this instanceof we?(this.l=+l,this.a=+_,void(this.b=+F)):arguments.length<2?l instanceof we?new we(l.l,l.a,l.b):l instanceof Ot?ve(l.h,l.c,l.l):it((l=Ht(l)).r,l.g,l.b):new we(l,_,F)}var Le=18,Re=.95047,Ge=1,Fe=1.08883,Ye=we.prototype=new Yt;Ye.brighter=function(l){return new we(Math.min(100,this.l+Le*(arguments.length?l:1)),this.a,this.b)},Ye.darker=function(l){return new we(Math.max(0,this.l-Le*(arguments.length?l:1)),this.a,this.b)},Ye.rgb=function(){return $e(this.l,this.a,this.b)};function $e(l,_,F){var X=(l+16)/116,$=X+_/500,te=X-F/200;return $=Mt($)*Re,X=Mt(X)*Ge,te=Mt(te)*Fe,new Ht(wt(3.2404542*$-1.5371385*X-.4985314*te),wt(-.969266*$+1.8760108*X+.041556*te),wt(.0556434*$-.2040259*X+1.0572252*te))}function yt(l,_,F){return l>0?new Ot(Math.atan2(F,_)*Je,Math.sqrt(_*_+F*F),l):new Ot(NaN,NaN,l)}function Mt(l){return l>.206893034?l*l*l:(l-4/29)/7.787037}function St(l){return l>.008856?Math.pow(l,1/3):7.787037*l+4/29}function wt(l){return Math.round(255*(l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055))}e.rgb=Ht;function Ht(l,_,F){return this instanceof Ht?(this.r=~~l,this.g=~~_,void(this.b=~~F)):arguments.length<2?l instanceof Ht?new Ht(l.r,l.g,l.b):It(""+l,Ht,Vt):new Ht(l,_,F)}function Nt(l){return new Ht(l>>16,l>>8&255,l&255)}function qt(l){return Nt(l)+""}var kt=Ht.prototype=new Yt;kt.brighter=function(l){l=Math.pow(.7,arguments.length?l:1);var _=this.r,F=this.g,X=this.b,$=30;return!_&&!F&&!X?new Ht($,$,$):(_&&_<$&&(_=$),F&&F<$&&(F=$),X&&X<$&&(X=$),new Ht(Math.min(255,_/l),Math.min(255,F/l),Math.min(255,X/l)))},kt.darker=function(l){return l=Math.pow(.7,arguments.length?l:1),new Ht(l*this.r,l*this.g,l*this.b)},kt.hsl=function(){return Ut(this.r,this.g,this.b)},kt.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};function xt(l){return l<16?"0"+Math.max(0,l).toString(16):Math.min(255,l).toString(16)}function It(l,_,F){var X=0,$=0,te=0,me,de,be;if(me=/([a-z]+)\((.*)\)/.exec(l=l.toLowerCase()),me)switch(de=me[2].split(","),me[1]){case"hsl":return F(parseFloat(de[0]),parseFloat(de[1])/100,parseFloat(de[2])/100);case"rgb":return _(Rt(de[0]),Rt(de[1]),Rt(de[2]))}return(be=bt.get(l))?_(be.r,be.g,be.b):(l!=null&&l.charAt(0)==="#"&&!isNaN(be=parseInt(l.slice(1),16))&&(l.length===4?(X=(be&3840)>>4,X=X>>4|X,$=be&240,$=$>>4|$,te=be&15,te=te<<4|te):l.length===7&&(X=(be&16711680)>>16,$=(be&65280)>>8,te=be&255)),_(X,$,te))}function Ut(l,_,F){var X=Math.min(l/=255,_/=255,F/=255),$=Math.max(l,_,F),te=$-X,me,de,be=($+X)/2;return te?(de=be<.5?te/($+X):te/(2-$-X),l==$?me=(_-F)/te+(_<F?6:0):_==$?me=(F-l)/te+2:me=(l-_)/te+4,me*=60):(me=NaN,de=be>0&&be<1?0:me),new Ft(me,de,be)}function it(l,_,F){l=At(l),_=At(_),F=At(F);var X=St((.4124564*l+.3575761*_+.1804375*F)/Re),$=St((.2126729*l+.7151522*_+.072175*F)/Ge),te=St((.0193339*l+.119192*_+.9503041*F)/Fe);return we(116*$-16,500*(X-$),200*($-te))}function At(l){return(l/=255)<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Rt(l){var _=parseFloat(l);return l.charAt(l.length-1)==="%"?Math.round(_*2.55):_}var bt=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});bt.forEach(function(l,_){bt.set(l,Nt(_))});function Dt(l){return typeof l=="function"?l:function(){return l}}e.functor=Dt,e.xhr=Jt(ae);function Jt(l){return function(_,F,X){return arguments.length===2&&typeof F=="function"&&(X=F,F=null),jt(_,F,l,X)}}function jt(l,_,F,X){var $={},te=e.dispatch("beforesend","progress","load","error"),me={},de=new XMLHttpRequest,be=null;self.XDomainRequest&&!("withCredentials"in de)&&/^(http(s)?:)?\/\//.test(l)&&(de=new XDomainRequest),"onload"in de?de.onload=de.onerror=Te:de.onreadystatechange=function(){de.readyState>3&&Te()};function Te(){var Me=de.status,ze;if(!Me&&nr(de)||Me>=200&&Me<300||Me===304){try{ze=F.call($,de)}catch(He){te.error.call($,He);return}te.load.call($,ze)}else te.error.call($,de)}return de.onprogress=function(Me){var ze=e.event;e.event=Me;try{te.progress.call($,de)}finally{e.event=ze}},$.header=function(Me,ze){return Me=(Me+"").toLowerCase(),arguments.length<2?me[Me]:(ze==null?delete me[Me]:me[Me]=ze+"",$)},$.mimeType=function(Me){return arguments.length?(_=Me==null?null:Me+"",$):_},$.responseType=function(Me){return arguments.length?(be=Me,$):be},$.response=function(Me){return F=Me,$},["get","post"].forEach(function(Me){$[Me]=function(){return $.send.apply($,[Me].concat(i(arguments)))}}),$.send=function(Me,ze,He){if(arguments.length===2&&typeof ze=="function"&&(He=ze,ze=null),de.open(Me,l,!0),_!=null&&!("accept"in me)&&(me.accept=_+",*/*"),de.setRequestHeader)for(var et in me)de.setRequestHeader(et,me[et]);return _!=null&&de.overrideMimeType&&de.overrideMimeType(_),be!=null&&(de.responseType=be),He!=null&&$.on("error",He).on("load",function(st){He(null,st)}),te.beforesend.call($,de),de.send(ze==null?null:ze),$},$.abort=function(){return de.abort(),$},e.rebind($,te,"on"),X==null?$:$.get(Bt(X))}function Bt(l){return l.length===1?function(_,F){l(_==null?F:null)}:l}function nr(l){var _=l.responseType;return _&&_!=="text"?l.response:l.responseText}e.dsv=function(l,_){var F=new RegExp('["'+l+`
]`),X=l.charCodeAt(0);function $(Te,Me,ze){arguments.length<3&&(ze=Me,Me=null);var He=jt(Te,_,Me==null?te:me(Me),ze);return He.row=function(et){return arguments.length?He.response((Me=et)==null?te:me(et)):Me},He}function te(Te){return $.parse(Te.responseText)}function me(Te){return function(Me){return $.parse(Me.responseText,Te)}}$.parse=function(Te,Me){var ze;return $.parseRows(Te,function(He,et){if(ze)return ze(He,et-1);var st=function(Be){for(var Xe={},Qe=He.length,lt=0;lt<Qe;++lt)Xe[He[lt]]=Be[lt];return Xe};ze=Me?function(Be,Xe){return Me(st(Be),Xe)}:st})},$.parseRows=function(Te,Me){var ze={},He={},et=[],st=Te.length,Be=0,Xe=0,Qe,lt;function ft(){if(Be>=st)return He;if(lt)return lt=!1,ze;var Pt=Be;if(Te.charCodeAt(Pt)===34){for(var Wt=Pt;Wt++<st;)if(Te.charCodeAt(Wt)===34){if(Te.charCodeAt(Wt+1)!==34)break;++Wt}Be=Wt+2;var Kt=Te.charCodeAt(Wt+1);return Kt===13?(lt=!0,Te.charCodeAt(Wt+2)===10&&++Be):Kt===10&&(lt=!0),Te.slice(Pt+1,Wt).replace(/""/g,'"')}for(;Be<st;){var Kt=Te.charCodeAt(Be++),Xt=1;if(Kt===10)lt=!0;else if(Kt===13)lt=!0,Te.charCodeAt(Be)===10&&(++Be,++Xt);else if(Kt!==X)continue;return Te.slice(Pt,Be-Xt)}return Te.slice(Pt)}for(;(Qe=ft())!==He;){for(var qe=[];Qe!==ze&&Qe!==He;)qe.push(Qe),Qe=ft();Me&&(qe=Me(qe,Xe++))==null||et.push(qe)}return et},$.format=function(Te){if(Array.isArray(Te[0]))return $.formatRows(Te);var Me=new J,ze=[];return Te.forEach(function(He){for(var et in He)Me.has(et)||ze.push(Me.add(et))}),[ze.map(be).join(l)].concat(Te.map(function(He){return ze.map(function(et){return be(He[et])}).join(l)})).join(`
`)},$.formatRows=function(Te){return Te.map(de).join(`
`)};function de(Te){return Te.map(be).join(l)}function be(Te){return F.test(Te)?'"'+Te.replace(/\"/g,'""')+'"':Te}return $},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var ir,rr,lr,fr,vr=this[H(this,"requestAnimationFrame")]||function(l){setTimeout(l,17)};e.timer=function(){xr.apply(this,arguments)};function xr(l,_,F){var X=arguments.length;X<2&&(_=0),X<3&&(F=Date.now());var $=F+_,te={c:l,t:$,n:null};return rr?rr.n=te:ir=te,rr=te,lr||(fr=clearTimeout(fr),lr=1,vr(Ar)),te}function Ar(){var l=Mr(),_=_r()-l;_>24?(isFinite(_)&&(clearTimeout(fr),fr=setTimeout(Ar,_)),lr=0):(lr=1,vr(Ar))}e.timer.flush=function(){Mr(),_r()};function Mr(){for(var l=Date.now(),_=ir;_;)l>=_.t&&_.c(l-_.t)&&(_.c=null),_=_.n;return l}function _r(){for(var l,_=ir,F=1/0;_;)_.c?(_.t<F&&(F=_.t),_=(l=_).n):_=l?l.n=_.n:ir=_.n;return rr=l,F}e.round=function(l,_){return _?Math.round(l*(_=Math.pow(10,_)))/_:Math.round(l)},e.geom={};function Sr(l){return l[0]}function Lr(l){return l[1]}e.geom.hull=function(l){var _=Sr,F=Lr;if(arguments.length)return X(l);function X($){if($.length<3)return[];var te=Dt(_),me=Dt(F),de,be=$.length,Te=[],Me=[];for(de=0;de<be;de++)Te.push([+te.call(this,$[de],de),+me.call(this,$[de],de),de]);for(Te.sort(pa),de=0;de<be;de++)Me.push([Te[de][0],-Te[de][1]]);var ze=_a(Te),He=_a(Me),et=He[0]===ze[0],st=He[He.length-1]===ze[ze.length-1],Be=[];for(de=ze.length-1;de>=0;--de)Be.push($[Te[ze[de]][2]]);for(de=+et;de<He.length-st;++de)Be.push($[Te[He[de]][2]]);return Be}return X.x=function($){return arguments.length?(_=$,X):_},X.y=function($){return arguments.length?(F=$,X):F},X};function _a(l){for(var _=l.length,F=[0,1],X=2,$=2;$<_;$++){for(;X>1&&ht(l[F[X-2]],l[F[X-1]],l[$])<=0;)--X;F[X++]=$}return F.slice(0,X)}function pa(l,_){return l[0]-_[0]||l[1]-_[1]}e.geom.polygon=function(l){return oe(l,Za),l};var Za=e.geom.polygon.prototype=[];Za.area=function(){for(var l=-1,_=this.length,F,X=this[_-1],$=0;++l<_;)F=X,X=this[l],$+=F[1]*X[0]-F[0]*X[1];return $*.5},Za.centroid=function(l){var _=-1,F=this.length,X=0,$=0,te,me=this[F-1],de;for(arguments.length||(l=-1/(6*this.area()));++_<F;)te=me,me=this[_],de=te[0]*me[1]-me[0]*te[1],X+=(te[0]+me[0])*de,$+=(te[1]+me[1])*de;return[X*l,$*l]},Za.clip=function(l){for(var _,F=Qr(l),X=-1,$=this.length-Qr(this),te,me,de=this[$-1],be,Te,Me;++X<$;){for(_=l.slice(),l.length=0,be=this[X],Te=_[(me=_.length-F)-1],te=-1;++te<me;)Me=_[te],Ea(Me,de,be)?(Ea(Te,de,be)||l.push(Pr(Te,Me,de,be)),l.push(Me)):Ea(Te,de,be)&&l.push(Pr(Te,Me,de,be)),Te=Me;F&&l.push(l[0]),de=be}return l};function Ea(l,_,F){return(F[0]-_[0])*(l[1]-_[1])<(F[1]-_[1])*(l[0]-_[0])}function Pr(l,_,F,X){var $=l[0],te=F[0],me=_[0]-$,de=X[0]-te,be=l[1],Te=F[1],Me=_[1]-be,ze=X[1]-Te,He=(de*(be-Te)-ze*($-te))/(ze*me-de*Me);return[$+He*me,be+He*Me]}function Qr(l){var _=l[0],F=l[l.length-1];return!(_[0]-F[0]||_[1]-F[1])}var ra,jr,kr,Rr=[],la,wa,Ta=[];function Sn(){Rn(this),this.edge=this.site=this.circle=null}function fn(l){var _=Rr.pop()||new Sn;return _.site=l,_}function Xa(l){ja(l),kr.remove(l),Rr.push(l),Rn(l)}function Ln(l){var _=l.circle,F=_.x,X=_.cy,$={x:F,y:X},te=l.P,me=l.N,de=[l];Xa(l);for(var be=te;be.circle&&x(F-be.circle.x)<Oe&&x(X-be.circle.cy)<Oe;)te=be.P,de.unshift(be),Xa(be),be=te;de.unshift(be),ja(be);for(var Te=me;Te.circle&&x(F-Te.circle.x)<Oe&&x(X-Te.circle.cy)<Oe;)me=Te.N,de.push(Te),Xa(Te),Te=me;de.push(Te),ja(Te);var Me=de.length,ze;for(ze=1;ze<Me;++ze)Te=de[ze],be=de[ze-1],Dn(Te.edge,be.site,Te.site,$);be=de[0],Te=de[Me-1],Te.edge=cn(be.site,Te.site,null,$),Ja(be),Ja(Te)}function fu(l){for(var _=l.x,F=l.y,X,$,te,me,de=kr._;de;)if(te=Fo(de,F)-_,te>Oe)de=de.L;else if(me=_-cu(de,F),me>Oe){if(!de.R){X=de;break}de=de.R}else{te>-Oe?(X=de.P,$=de):me>-Oe?(X=de,$=de.N):X=$=de;break}var be=fn(l);if(kr.insert(X,be),!(!X&&!$)){if(X===$){ja(X),$=fn(X.site),kr.insert(be,$),be.edge=$.edge=cn(X.site,be.site),Ja(X),Ja($);return}if(!$){be.edge=cn(X.site,be.site);return}ja(X),ja($);var Te=X.site,Me=Te.x,ze=Te.y,He=l.x-Me,et=l.y-ze,st=$.site,Be=st.x-Me,Xe=st.y-ze,Qe=2*(He*Xe-et*Be),lt=He*He+et*et,ft=Be*Be+Xe*Xe,qe={x:(Xe*lt-et*ft)/Qe+Me,y:(He*ft-Be*lt)/Qe+ze};Dn($.edge,Te,st,qe),be.edge=cn(Te,l,null,qe),$.edge=cn(l,st,null,qe),Ja(X),Ja($)}}function Fo(l,_){var F=l.site,X=F.x,$=F.y,te=$-_;if(!te)return X;var me=l.P;if(!me)return-1/0;F=me.site;var de=F.x,be=F.y,Te=be-_;if(!Te)return de;var Me=de-X,ze=1/te-1/Te,He=Me/Te;return ze?(-He+Math.sqrt(He*He-2*ze*(Me*Me/(-2*Te)-be+Te/2+$-te/2)))/ze+X:(X+de)/2}function cu(l,_){var F=l.N;if(F)return Fo(F,_);var X=l.site;return X.y===_?X.x:1/0}function Io(l){this.site=l,this.edges=[]}Io.prototype.prepare=function(){for(var l=this.edges,_=l.length,F;_--;)F=l[_].edge,(!F.b||!F.a)&&l.splice(_,1);return l.sort(zo),l.length};function vu(l){for(var _=l[0][0],F=l[1][0],X=l[0][1],$=l[1][1],te,me,de,be,Te=jr,Me=Te.length,ze,He,et,st,Be,Xe;Me--;)if(ze=Te[Me],!(!ze||!ze.prepare()))for(et=ze.edges,st=et.length,He=0;He<st;)Xe=et[He].end(),de=Xe.x,be=Xe.y,Be=et[++He%st].start(),te=Be.x,me=Be.y,(x(de-te)>Oe||x(be-me)>Oe)&&(et.splice(He,0,new En(yu(ze.site,Xe,x(de-_)<Oe&&$-be>Oe?{x:_,y:x(te-_)<Oe?me:$}:x(be-$)<Oe&&F-de>Oe?{x:x(me-$)<Oe?te:F,y:$}:x(de-F)<Oe&&be-X>Oe?{x:F,y:x(te-F)<Oe?me:X}:x(be-X)<Oe&&de-_>Oe?{x:x(me-X)<Oe?te:_,y:X}:null),ze.site,null)),++st)}function zo(l,_){return _.angle-l.angle}function hu(){Rn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ja(l){var _=l.P,F=l.N;if(!(!_||!F)){var X=_.site,$=l.site,te=F.site;if(X!==te){var me=$.x,de=$.y,be=X.x-me,Te=X.y-de,Me=te.x-me,ze=te.y-de,He=2*(be*ze-Te*Me);if(!(He>=-at)){var et=be*be+Te*Te,st=Me*Me+ze*ze,Be=(ze*et-Te*st)/He,Xe=(be*st-Me*et)/He,ze=Xe+de,Qe=Ta.pop()||new hu;Qe.arc=l,Qe.site=$,Qe.x=Be+me,Qe.y=ze+Math.sqrt(Be*Be+Xe*Xe),Qe.cy=ze,l.circle=Qe;for(var lt=null,ft=wa._;ft;)if(Qe.y<ft.y||Qe.y===ft.y&&Qe.x<=ft.x)if(ft.L)ft=ft.L;else{lt=ft.P;break}else if(ft.R)ft=ft.R;else{lt=ft;break}wa.insert(lt,Qe),lt||(la=Qe)}}}}function ja(l){var _=l.circle;_&&(_.P||(la=_.N),wa.remove(_),Ta.push(_),Rn(_),l.circle=null)}function du(l,_,F,X){return function($){var te=$.a,me=$.b,de=te.x,be=te.y,Te=me.x,Me=me.y,ze=0,He=1,et=Te-de,st=Me-be,Be;if(Be=l-de,!(!et&&Be>0)){if(Be/=et,et<0){if(Be<ze)return;Be<He&&(He=Be)}else if(et>0){if(Be>He)return;Be>ze&&(ze=Be)}if(Be=F-de,!(!et&&Be<0)){if(Be/=et,et<0){if(Be>He)return;Be>ze&&(ze=Be)}else if(et>0){if(Be<ze)return;Be<He&&(He=Be)}if(Be=_-be,!(!st&&Be>0)){if(Be/=st,st<0){if(Be<ze)return;Be<He&&(He=Be)}else if(st>0){if(Be>He)return;Be>ze&&(ze=Be)}if(Be=X-be,!(!st&&Be<0)){if(Be/=st,st<0){if(Be>He)return;Be>ze&&(ze=Be)}else if(st>0){if(Be<ze)return;Be<He&&(He=Be)}return ze>0&&($.a={x:de+ze*et,y:be+ze*st}),He<1&&($.b={x:de+He*et,y:be+He*st}),$}}}}}}function pu(l){for(var _=ra,F=du(l[0][0],l[0][1],l[1][0],l[1][1]),X=_.length,$;X--;)$=_[X],(!mu($,l)||!F($)||x($.a.x-$.b.x)<Oe&&x($.a.y-$.b.y)<Oe)&&($.a=$.b=null,_.splice(X,1))}function mu(l,_){var F=l.b;if(F)return!0;var X=l.a,$=_[0][0],te=_[1][0],me=_[0][1],de=_[1][1],be=l.l,Te=l.r,Me=be.x,ze=be.y,He=Te.x,et=Te.y,st=(Me+He)/2,Be=(ze+et)/2,Xe,Qe;if(et===ze){if(st<$||st>=te)return;if(Me>He){if(!X)X={x:st,y:me};else if(X.y>=de)return;F={x:st,y:de}}else{if(!X)X={x:st,y:de};else if(X.y<me)return;F={x:st,y:me}}}else if(Xe=(Me-He)/(et-ze),Qe=Be-Xe*st,Xe<-1||Xe>1)if(Me>He){if(!X)X={x:(me-Qe)/Xe,y:me};else if(X.y>=de)return;F={x:(de-Qe)/Xe,y:de}}else{if(!X)X={x:(de-Qe)/Xe,y:de};else if(X.y<me)return;F={x:(me-Qe)/Xe,y:me}}else if(ze<et){if(!X)X={x:$,y:Xe*$+Qe};else if(X.x>=te)return;F={x:te,y:Xe*te+Qe}}else{if(!X)X={x:te,y:Xe*te+Qe};else if(X.x<$)return;F={x:$,y:Xe*$+Qe}}return l.a=X,l.b=F,!0}function Oo(l,_){this.l=l,this.r=_,this.a=this.b=null}function cn(l,_,F,X){var $=new Oo(l,_);return ra.push($),F&&Dn($,l,_,F),X&&Dn($,_,l,X),jr[l.i].edges.push(new En($,l,_)),jr[_.i].edges.push(new En($,_,l)),$}function yu(l,_,F){var X=new Oo(l,null);return X.a=_,X.b=F,ra.push(X),X}function Dn(l,_,F,X){!l.a&&!l.b?(l.a=X,l.l=_,l.r=F):l.l===F?l.b=X:l.a=X}function En(l,_,F){var X=l.a,$=l.b;this.edge=l,this.site=_,this.angle=F?Math.atan2(F.y-_.y,F.x-_.x):l.l===_?Math.atan2($.x-X.x,X.y-$.y):Math.atan2(X.x-$.x,$.y-X.y)}En.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function xi(){this._=null}function Rn(l){l.U=l.C=l.L=l.R=l.P=l.N=null}xi.prototype={insert:function(l,_){var F,X,$;if(l){if(_.P=l,_.N=l.N,l.N&&(l.N.P=_),l.N=_,l.R){for(l=l.R;l.L;)l=l.L;l.L=_}else l.R=_;F=l}else this._?(l=Ho(this._),_.P=null,_.N=l,l.P=l.L=_,F=l):(_.P=_.N=null,this._=_,F=null);for(_.L=_.R=null,_.U=F,_.C=!0,l=_;F&&F.C;)X=F.U,F===X.L?($=X.R,$&&$.C?(F.C=$.C=!1,X.C=!0,l=X):(l===F.R&&(vn(this,F),l=F,F=l.U),F.C=!1,X.C=!0,hn(this,X))):($=X.L,$&&$.C?(F.C=$.C=!1,X.C=!0,l=X):(l===F.L&&(hn(this,F),l=F,F=l.U),F.C=!1,X.C=!0,vn(this,X))),F=l.U;this._.C=!1},remove:function(l){l.N&&(l.N.P=l.P),l.P&&(l.P.N=l.N),l.N=l.P=null;var _=l.U,F,X=l.L,$=l.R,te,me;if(X?$?te=Ho($):te=X:te=$,_?_.L===l?_.L=te:_.R=te:this._=te,X&&$?(me=te.C,te.C=l.C,te.L=X,X.U=te,te!==$?(_=te.U,te.U=l.U,l=te.R,_.L=l,te.R=$,$.U=te):(te.U=_,_=te,l=te.R)):(me=l.C,l=te),l&&(l.U=_),!me){if(l&&l.C){l.C=!1;return}do{if(l===this._)break;if(l===_.L){if(F=_.R,F.C&&(F.C=!1,_.C=!0,vn(this,_),F=_.R),F.L&&F.L.C||F.R&&F.R.C){(!F.R||!F.R.C)&&(F.L.C=!1,F.C=!0,hn(this,F),F=_.R),F.C=_.C,_.C=F.R.C=!1,vn(this,_),l=this._;break}}else if(F=_.L,F.C&&(F.C=!1,_.C=!0,hn(this,_),F=_.L),F.L&&F.L.C||F.R&&F.R.C){(!F.L||!F.L.C)&&(F.R.C=!1,F.C=!0,vn(this,F),F=_.L),F.C=_.C,_.C=F.L.C=!1,hn(this,_),l=this._;break}F.C=!0,l=_,_=_.U}while(!l.C);l&&(l.C=!1)}}};function vn(l,_){var F=_,X=_.R,$=F.U;$?$.L===F?$.L=X:$.R=X:l._=X,X.U=$,F.U=X,F.R=X.L,F.R&&(F.R.U=F),X.L=F}function hn(l,_){var F=_,X=_.L,$=F.U;$?$.L===F?$.L=X:$.R=X:l._=X,X.U=$,F.U=X,F.L=X.R,F.L&&(F.L.U=F),X.R=F}function Ho(l){for(;l.L;)l=l.L;return l}function _i(l,_){var F=l.sort(gu).pop(),X,$,te;for(ra=[],jr=new Array(l.length),kr=new xi,wa=new xi;;)if(te=la,F&&(!te||F.y<te.y||F.y===te.y&&F.x<te.x))(F.x!==X||F.y!==$)&&(jr[F.i]=new Io(F),fu(F),X=F.x,$=F.y),F=l.pop();else if(te)Ln(te.arc);else break;_&&(pu(_),vu(_));var me={cells:jr,edges:ra};return kr=wa=ra=jr=null,me}function gu(l,_){return _.y-l.y||_.x-l.x}e.geom.voronoi=function(l){var _=Sr,F=Lr,X=_,$=F,te=Pn;if(l)return me(l);function me(be){var Te=new Array(be.length),Me=te[0][0],ze=te[0][1],He=te[1][0],et=te[1][1];return _i(de(be),te).cells.forEach(function(st,Be){var Xe=st.edges,Qe=st.site,lt=Te[Be]=Xe.length?Xe.map(function(ft){var qe=ft.start();return[qe.x,qe.y]}):Qe.x>=Me&&Qe.x<=He&&Qe.y>=ze&&Qe.y<=et?[[Me,et],[He,et],[He,ze],[Me,ze]]:[];lt.point=be[Be]}),Te}function de(be){return be.map(function(Te,Me){return{x:Math.round(X(Te,Me)/Oe)*Oe,y:Math.round($(Te,Me)/Oe)*Oe,i:Me}})}return me.links=function(be){return _i(de(be)).edges.filter(function(Te){return Te.l&&Te.r}).map(function(Te){return{source:be[Te.l.i],target:be[Te.r.i]}})},me.triangles=function(be){var Te=[];return _i(de(be)).cells.forEach(function(Me,ze){for(var He=Me.site,et=Me.edges.sort(zo),st=-1,Be=et.length,Xe,Qe=et[Be-1].edge,lt=Qe.l===He?Qe.r:Qe.l;++st<Be;)Xe=lt,Qe=et[st].edge,lt=Qe.l===He?Qe.r:Qe.l,ze<Xe.i&&ze<lt.i&&bu(He,Xe,lt)<0&&Te.push([be[ze],be[Xe.i],be[lt.i]])}),Te},me.x=function(be){return arguments.length?(X=Dt(_=be),me):_},me.y=function(be){return arguments.length?($=Dt(F=be),me):F},me.clipExtent=function(be){return arguments.length?(te=be==null?Pn:be,me):te===Pn?null:te},me.size=function(be){return arguments.length?me.clipExtent(be&&[[0,0],be]):te===Pn?null:te&&te[1]},me};var Pn=[[-1e6,-1e6],[1e6,1e6]];function bu(l,_,F){return(l.x-F.x)*(_.y-l.y)-(l.x-_.x)*(F.y-l.y)}e.geom.delaunay=function(l){return e.geom.voronoi().triangles(l)},e.geom.quadtree=function(l,_,F,X,$){var te=Sr,me=Lr,de;if(de=arguments.length)return te=xu,me=_u,de===3&&($=F,X=_,F=_=0),be(l);function be(Te){var Me,ze=Dt(te),He=Dt(me),et,st,Be,Xe,Qe,lt,ft,qe;if(_!=null)Qe=_,lt=F,ft=X,qe=$;else if(ft=qe=-(Qe=lt=1/0),et=[],st=[],Xe=Te.length,de)for(Be=0;Be<Xe;++Be)Me=Te[Be],Me.x<Qe&&(Qe=Me.x),Me.y<lt&&(lt=Me.y),Me.x>ft&&(ft=Me.x),Me.y>qe&&(qe=Me.y),et.push(Me.x),st.push(Me.y);else for(Be=0;Be<Xe;++Be){var Pt=+ze(Me=Te[Be],Be),Wt=+He(Me,Be);Pt<Qe&&(Qe=Pt),Wt<lt&&(lt=Wt),Pt>ft&&(ft=Pt),Wt>qe&&(qe=Wt),et.push(Pt),st.push(Wt)}var Kt=ft-Qe,Xt=qe-lt;Kt>Xt?qe=lt+Kt:ft=Qe+Xt;function er(ar,or,pr,Cr,yr,Gt,ur,cr){if(!(isNaN(pr)||isNaN(Cr)))if(ar.leaf){var mr=ar.x,Tr=ar.y;if(mr!=null)if(x(mr-pr)+x(Tr-Cr)<.01)tr(ar,or,pr,Cr,yr,Gt,ur,cr);else{var Er=ar.point;ar.x=ar.y=ar.point=null,tr(ar,Er,mr,Tr,yr,Gt,ur,cr),tr(ar,or,pr,Cr,yr,Gt,ur,cr)}else ar.x=pr,ar.y=Cr,ar.point=or}else tr(ar,or,pr,Cr,yr,Gt,ur,cr)}function tr(ar,or,pr,Cr,yr,Gt,ur,cr){var mr=(yr+ur)*.5,Tr=(Gt+cr)*.5,Er=pr>=mr,Nr=Cr>=Tr,Br=Nr<<1|Er;ar.leaf=!1,ar=ar.nodes[Br]||(ar.nodes[Br]=Bo()),Er?yr=mr:ur=mr,Nr?Gt=Tr:cr=Tr,er(ar,or,pr,Cr,yr,Gt,ur,cr)}var sr=Bo();if(sr.add=function(ar){er(sr,ar,+ze(ar,++Be),+He(ar,Be),Qe,lt,ft,qe)},sr.visit=function(ar){dn(ar,sr,Qe,lt,ft,qe)},sr.find=function(ar){return wu(sr,ar[0],ar[1],Qe,lt,ft,qe)},Be=-1,_==null){for(;++Be<Xe;)er(sr,Te[Be],et[Be],st[Be],Qe,lt,ft,qe);--Be}else Te.forEach(sr.add);return et=st=Te=Me=null,sr}return be.x=function(Te){return arguments.length?(te=Te,be):te},be.y=function(Te){return arguments.length?(me=Te,be):me},be.extent=function(Te){return arguments.length?(Te==null?_=F=X=$=null:(_=+Te[0][0],F=+Te[0][1],X=+Te[1][0],$=+Te[1][1]),be):_==null?null:[[_,F],[X,$]]},be.size=function(Te){return arguments.length?(Te==null?_=F=X=$=null:(_=F=0,X=+Te[0],$=+Te[1]),be):_==null?null:[X-_,$-F]},be};function xu(l){return l.x}function _u(l){return l.y}function Bo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dn(l,_,F,X,$,te){if(!l(_,F,X,$,te)){var me=(F+$)*.5,de=(X+te)*.5,be=_.nodes;be[0]&&dn(l,be[0],F,X,me,de),be[1]&&dn(l,be[1],me,X,$,de),be[2]&&dn(l,be[2],F,de,me,te),be[3]&&dn(l,be[3],me,de,$,te)}}function wu(l,_,F,X,$,te,me){var de=1/0,be;return function Te(Me,ze,He,et,st){if(!(ze>te||He>me||et<X||st<$)){if(Be=Me.point){var Be,Xe=_-Me.x,Qe=F-Me.y,lt=Xe*Xe+Qe*Qe;if(lt<de){var ft=Math.sqrt(de=lt);X=_-ft,$=F-ft,te=_+ft,me=F+ft,be=Be}}for(var qe=Me.nodes,Pt=(ze+et)*.5,Wt=(He+st)*.5,Kt=_>=Pt,Xt=F>=Wt,er=Xt<<1|Kt,tr=er+4;er<tr;++er)if(Me=qe[er&3])switch(er&3){case 0:Te(Me,ze,He,Pt,Wt);break;case 1:Te(Me,Pt,He,et,Wt);break;case 2:Te(Me,ze,Wt,Pt,st);break;case 3:Te(Me,Pt,Wt,et,st);break}}}(l,X,$,te,me),be}e.interpolateRgb=wi;function wi(l,_){l=e.rgb(l),_=e.rgb(_);var F=l.r,X=l.g,$=l.b,te=_.r-F,me=_.g-X,de=_.b-$;return function(be){return"#"+xt(Math.round(F+te*be))+xt(Math.round(X+me*be))+xt(Math.round($+de*be))}}e.interpolateObject=Uo;function Uo(l,_){var F={},X={},$;for($ in l)$ in _?F[$]=Ra(l[$],_[$]):X[$]=l[$];for($ in _)$ in l||(X[$]=_[$]);return function(te){for($ in F)X[$]=F[$](te);return X}}e.interpolateNumber=ma;function ma(l,_){return l=+l,_=+_,function(F){return l*(1-F)+_*F}}e.interpolateString=Yo;function Yo(l,_){var F=Ti.lastIndex=Mi.lastIndex=0,X,$,te,me=-1,de=[],be=[];for(l=l+"",_=_+"";(X=Ti.exec(l))&&($=Mi.exec(_));)(te=$.index)>F&&(te=_.slice(F,te),de[me]?de[me]+=te:de[++me]=te),(X=X[0])===($=$[0])?de[me]?de[me]+=$:de[++me]=$:(de[++me]=null,be.push({i:me,x:ma(X,$)})),F=Mi.lastIndex;return F<_.length&&(te=_.slice(F),de[me]?de[me]+=te:de[++me]=te),de.length<2?be[0]?(_=be[0].x,function(Te){return _(Te)+""}):function(){return _}:(_=be.length,function(Te){for(var Me=0,ze;Me<_;++Me)de[(ze=be[Me]).i]=ze.x(Te);return de.join("")})}var Ti=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mi=new RegExp(Ti.source,"g");e.interpolate=Ra;function Ra(l,_){for(var F=e.interpolators.length,X;--F>=0&&!(X=e.interpolators[F](l,_)););return X}e.interpolators=[function(l,_){var F=typeof _;return(F==="string"?bt.has(_.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(_)?wi:Yo:_ instanceof Yt?wi:Array.isArray(_)?Nn:F==="object"&&isNaN(_)?Uo:ma)(l,_)}],e.interpolateArray=Nn;function Nn(l,_){var F=[],X=[],$=l.length,te=_.length,me=Math.min(l.length,_.length),de;for(de=0;de<me;++de)F.push(Ra(l[de],_[de]));for(;de<$;++de)X[de]=l[de];for(;de<te;++de)X[de]=_[de];return function(be){for(de=0;de<me;++de)X[de]=F[de](be);return X}}var Go=function(){return ae},Tu=e.map({linear:Go,poly:Lu,quad:function(){return ku},cubic:function(){return Cu},sin:function(){return Du},exp:function(){return Eu},circle:function(){return Ru},elastic:Pu,back:Nu,bounce:function(){return Fu}}),Mu=e.map({in:ae,out:Vo,"in-out":Wo,"out-in":function(l){return Wo(Vo(l))}});e.ease=function(l){var _=l.indexOf("-"),F=_>=0?l.slice(0,_):l,X=_>=0?l.slice(_+1):"in";return F=Tu.get(F)||Go,X=Mu.get(X)||ae,Au(X(F.apply(null,a.call(arguments,1))))};function Au(l){return function(_){return _<=0?0:_>=1?1:l(_)}}function Vo(l){return function(_){return 1-l(1-_)}}function Wo(l){return function(_){return .5*(_<.5?l(2*_):2-l(2-2*_))}}function ku(l){return l*l}function Cu(l){return l*l*l}function Su(l){if(l<=0)return 0;if(l>=1)return 1;var _=l*l,F=_*l;return 4*(l<.5?F:3*(l-_)+F-.75)}function Lu(l){return function(_){return Math.pow(_,l)}}function Du(l){return 1-Math.cos(l*Pe)}function Eu(l){return Math.pow(2,10*(l-1))}function Ru(l){return 1-Math.sqrt(1-l*l)}function Pu(l,_){var F;return arguments.length<2&&(_=.45),arguments.length?F=_/Ae*Math.asin(1/l):(l=1,F=_/4),function(X){return 1+l*Math.pow(2,-10*X)*Math.sin((X-F)*Ae/_)}}function Nu(l){return l||(l=1.70158),function(_){return _*_*((l+1)*_-l)}}function Fu(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375}e.interpolateHcl=Iu;function Iu(l,_){l=e.hcl(l),_=e.hcl(_);var F=l.h,X=l.c,$=l.l,te=_.h-F,me=_.c-X,de=_.l-$;return isNaN(me)&&(me=0,X=isNaN(X)?_.c:X),isNaN(te)?(te=0,F=isNaN(F)?_.h:F):te>180?te-=360:te<-180&&(te+=360),function(be){return ve(F+te*be,X+me*be,$+de*be)+""}}e.interpolateHsl=zu;function zu(l,_){l=e.hsl(l),_=e.hsl(_);var F=l.h,X=l.s,$=l.l,te=_.h-F,me=_.s-X,de=_.l-$;return isNaN(me)&&(me=0,X=isNaN(X)?_.s:X),isNaN(te)?(te=0,F=isNaN(F)?_.h:F):te>180?te-=360:te<-180&&(te+=360),function(be){return Vt(F+te*be,X+me*be,$+de*be)+""}}e.interpolateLab=Ou;function Ou(l,_){l=e.lab(l),_=e.lab(_);var F=l.l,X=l.a,$=l.b,te=_.l-F,me=_.a-X,de=_.b-$;return function(be){return $e(F+te*be,X+me*be,$+de*be)+""}}e.interpolateRound=Zo;function Zo(l,_){return _-=l,function(F){return Math.round(l+_*F)}}e.transform=function(l){var _=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(F){if(F!=null){_.setAttribute("transform",F);var X=_.transform.baseVal.consolidate()}return new Xo(X?X.matrix:Bu)})(l)};function Xo(l){var _=[l.a,l.b],F=[l.c,l.d],X=jo(_),$=Jo(_,F),te=jo(Hu(F,_,-$))||0;_[0]*F[1]<F[0]*_[1]&&(_[0]*=-1,_[1]*=-1,X*=-1,$*=-1),this.rotate=(X?Math.atan2(_[1],_[0]):Math.atan2(-F[0],F[1]))*Je,this.translate=[l.e,l.f],this.scale=[X,te],this.skew=te?Math.atan2($,te)*Je:0}Xo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Jo(l,_){return l[0]*_[0]+l[1]*_[1]}function jo(l){var _=Math.sqrt(Jo(l,l));return _&&(l[0]/=_,l[1]/=_),_}function Hu(l,_,F){return l[0]+=F*_[0],l[1]+=F*_[1],l}var Bu={a:1,b:0,c:0,d:1,e:0,f:0};e.interpolateTransform=Ko;function Ka(l){return l.length?l.pop()+",":""}function Uu(l,_,F,X){if(l[0]!==_[0]||l[1]!==_[1]){var $=F.push("translate(",null,",",null,")");X.push({i:$-4,x:ma(l[0],_[0])},{i:$-2,x:ma(l[1],_[1])})}else(_[0]||_[1])&&F.push("translate("+_+")")}function Yu(l,_,F,X){l!==_?(l-_>180?_+=360:_-l>180&&(l+=360),X.push({i:F.push(Ka(F)+"rotate(",null,")")-2,x:ma(l,_)})):_&&F.push(Ka(F)+"rotate("+_+")")}function Gu(l,_,F,X){l!==_?X.push({i:F.push(Ka(F)+"skewX(",null,")")-2,x:ma(l,_)}):_&&F.push(Ka(F)+"skewX("+_+")")}function Vu(l,_,F,X){if(l[0]!==_[0]||l[1]!==_[1]){var $=F.push(Ka(F)+"scale(",null,",",null,")");X.push({i:$-4,x:ma(l[0],_[0])},{i:$-2,x:ma(l[1],_[1])})}else(_[0]!==1||_[1]!==1)&&F.push(Ka(F)+"scale("+_+")")}function Ko(l,_){var F=[],X=[];return l=e.transform(l),_=e.transform(_),Uu(l.translate,_.translate,F,X),Yu(l.rotate,_.rotate,F,X),Gu(l.skew,_.skew,F,X),Vu(l.scale,_.scale,F,X),l=_=null,function($){for(var te=-1,me=X.length,de;++te<me;)F[(de=X[te]).i]=de.x($);return F.join("")}}function Wu(l,_){return _=(_-=l=+l)||1/_,function(F){return(F-l)/_}}function Zu(l,_){return _=(_-=l=+l)||1/_,function(F){return Math.max(0,Math.min(1,(F-l)/_))}}e.layout={},e.layout.bundle=function(){return function(l){for(var _=[],F=-1,X=l.length;++F<X;)_.push(Xu(l[F]));return _}};function Xu(l){for(var _=l.source,F=l.target,X=Ju(_,F),$=[_];_!==X;)_=_.parent,$.push(_);for(var te=$.length;F!==X;)$.splice(te,0,F),F=F.parent;return $}function $o(l){for(var _=[],F=l.parent;F!=null;)_.push(l),l=F,F=F.parent;return _.push(l),_}function Ju(l,_){if(l===_)return l;for(var F=$o(l),X=$o(_),$=F.pop(),te=X.pop(),me=null;$===te;)me=$,$=F.pop(),te=X.pop();return me}e.layout.chord=function(){var l={},_,F,X,$,te=0,me,de,be;function Te(){var ze={},He=[],et=e.range($),st=[],Be,Xe,Qe,lt,ft;for(_=[],F=[],Be=0,lt=-1;++lt<$;){for(Xe=0,ft=-1;++ft<$;)Xe+=X[lt][ft];He.push(Xe),st.push(e.range($)),Be+=Xe}for(me&&et.sort(function(sr,ar){return me(He[sr],He[ar])}),de&&st.forEach(function(sr,ar){sr.sort(function(or,pr){return de(X[ar][or],X[ar][pr])})}),Be=(Ae-te*$)/Be,Xe=0,lt=-1;++lt<$;){for(Qe=Xe,ft=-1;++ft<$;){var qe=et[lt],Pt=st[qe][ft],Wt=X[qe][Pt],Kt=Xe,Xt=Xe+=Wt*Be;ze[qe+"-"+Pt]={index:qe,subindex:Pt,startAngle:Kt,endAngle:Xt,value:Wt}}F[qe]={index:qe,startAngle:Qe,endAngle:Xe,value:He[qe]},Xe+=te}for(lt=-1;++lt<$;)for(ft=lt-1;++ft<$;){var er=ze[lt+"-"+ft],tr=ze[ft+"-"+lt];(er.value||tr.value)&&_.push(er.value<tr.value?{source:tr,target:er}:{source:er,target:tr})}be&&Me()}function Me(){_.sort(function(ze,He){return be((ze.source.value+ze.target.value)/2,(He.source.value+He.target.value)/2)})}return l.matrix=function(ze){return arguments.length?($=(X=ze)&&X.length,_=F=null,l):X},l.padding=function(ze){return arguments.length?(te=ze,_=F=null,l):te},l.sortGroups=function(ze){return arguments.length?(me=ze,_=F=null,l):me},l.sortSubgroups=function(ze){return arguments.length?(de=ze,_=null,l):de},l.sortChords=function(ze){return arguments.length?(be=ze,_&&Me(),l):be},l.chords=function(){return _||Te(),_},l.groups=function(){return F||Te(),F},l},e.layout.force=function(){var l={},_=e.dispatch("start","tick","end"),F,X=[1,1],$,te,me=.9,de=qu,be=ef,Te=-30,Me=tf,ze=.1,He=.64,et=[],st=[],Be,Xe,Qe;function lt(qe){return function(Pt,Wt,Kt,Xt){if(Pt.point!==qe){var er=Pt.cx-qe.x,tr=Pt.cy-qe.y,sr=Xt-Wt,ar=er*er+tr*tr;if(sr*sr/He<ar){if(ar<Me){var or=Pt.charge/ar;qe.px-=er*or,qe.py-=tr*or}return!0}if(Pt.point&&ar&&ar<Me){var or=Pt.pointCharge/ar;qe.px-=er*or,qe.py-=tr*or}}return!Pt.charge}}l.tick=function(){if((te*=.99)<.005)return F=null,_.end({type:"end",alpha:te=0}),!0;var qe=et.length,Pt=st.length,Wt,Kt,Xt,er,tr,sr,ar,or,pr;for(Kt=0;Kt<Pt;++Kt)Xt=st[Kt],er=Xt.source,tr=Xt.target,or=tr.x-er.x,pr=tr.y-er.y,(sr=or*or+pr*pr)&&(sr=te*Xe[Kt]*((sr=Math.sqrt(sr))-Be[Kt])/sr,or*=sr,pr*=sr,tr.x-=or*(ar=er.weight+tr.weight?er.weight/(er.weight+tr.weight):.5),tr.y-=pr*ar,er.x+=or*(ar=1-ar),er.y+=pr*ar);if((ar=te*ze)&&(or=X[0]/2,pr=X[1]/2,Kt=-1,ar))for(;++Kt<qe;)Xt=et[Kt],Xt.x+=(or-Xt.x)*ar,Xt.y+=(pr-Xt.y)*ar;if(Te)for(Qo(Wt=e.geom.quadtree(et),te,Qe),Kt=-1;++Kt<qe;)(Xt=et[Kt]).fixed||Wt.visit(lt(Xt));for(Kt=-1;++Kt<qe;)Xt=et[Kt],Xt.fixed?(Xt.x=Xt.px,Xt.y=Xt.py):(Xt.x-=(Xt.px-(Xt.px=Xt.x))*me,Xt.y-=(Xt.py-(Xt.py=Xt.y))*me);_.tick({type:"tick",alpha:te})},l.nodes=function(qe){return arguments.length?(et=qe,l):et},l.links=function(qe){return arguments.length?(st=qe,l):st},l.size=function(qe){return arguments.length?(X=qe,l):X},l.linkDistance=function(qe){return arguments.length?(de=typeof qe=="function"?qe:+qe,l):de},l.distance=l.linkDistance,l.linkStrength=function(qe){return arguments.length?(be=typeof qe=="function"?qe:+qe,l):be},l.friction=function(qe){return arguments.length?(me=+qe,l):me},l.charge=function(qe){return arguments.length?(Te=typeof qe=="function"?qe:+qe,l):Te},l.chargeDistance=function(qe){return arguments.length?(Me=qe*qe,l):Math.sqrt(Me)},l.gravity=function(qe){return arguments.length?(ze=+qe,l):ze},l.theta=function(qe){return arguments.length?(He=qe*qe,l):Math.sqrt(He)},l.alpha=function(qe){return arguments.length?(qe=+qe,te?qe>0?te=qe:(F.c=null,F.t=NaN,F=null,_.end({type:"end",alpha:te=0})):qe>0&&(_.start({type:"start",alpha:te=qe}),F=xr(l.tick)),l):te},l.start=function(){var qe,Pt=et.length,Wt=st.length,Kt=X[0],Xt=X[1],er,tr;for(qe=0;qe<Pt;++qe)(tr=et[qe]).index=qe,tr.weight=0;for(qe=0;qe<Wt;++qe)tr=st[qe],typeof tr.source=="number"&&(tr.source=et[tr.source]),typeof tr.target=="number"&&(tr.target=et[tr.target]),++tr.source.weight,++tr.target.weight;for(qe=0;qe<Pt;++qe)tr=et[qe],isNaN(tr.x)&&(tr.x=sr("x",Kt)),isNaN(tr.y)&&(tr.y=sr("y",Xt)),isNaN(tr.px)&&(tr.px=tr.x),isNaN(tr.py)&&(tr.py=tr.y);if(Be=[],typeof de=="function")for(qe=0;qe<Wt;++qe)Be[qe]=+de.call(this,st[qe],qe);else for(qe=0;qe<Wt;++qe)Be[qe]=de;if(Xe=[],typeof be=="function")for(qe=0;qe<Wt;++qe)Xe[qe]=+be.call(this,st[qe],qe);else for(qe=0;qe<Wt;++qe)Xe[qe]=be;if(Qe=[],typeof Te=="function")for(qe=0;qe<Pt;++qe)Qe[qe]=+Te.call(this,et[qe],qe);else for(qe=0;qe<Pt;++qe)Qe[qe]=Te;function sr(ar,or){if(!er){for(er=new Array(Pt),yr=0;yr<Pt;++yr)er[yr]=[];for(yr=0;yr<Wt;++yr){var pr=st[yr];er[pr.source.index].push(pr.target),er[pr.target.index].push(pr.source)}}for(var Cr=er[qe],yr=-1,Gt=Cr.length,ur;++yr<Gt;)if(!isNaN(ur=Cr[yr][ar]))return ur;return Math.random()*or}return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if($||($=e.behavior.drag().origin(ae).on("dragstart.force",ju).on("drag.force",ft).on("dragend.force",Ku)),!arguments.length)return $;this.on("mouseover.force",$u).on("mouseout.force",Qu).call($)};function ft(qe){qe.px=e.event.x,qe.py=e.event.y,l.resume()}return e.rebind(l,_,"on")};function ju(l){l.fixed|=2}function Ku(l){l.fixed&=~6}function $u(l){l.fixed|=4,l.px=l.x,l.py=l.y}function Qu(l){l.fixed&=~4}function Qo(l,_,F){var X=0,$=0;if(l.charge=0,!l.leaf)for(var te=l.nodes,me=te.length,de=-1,be;++de<me;)be=te[de],be!=null&&(Qo(be,_,F),l.charge+=be.charge,X+=be.charge*be.cx,$+=be.charge*be.cy);if(l.point){l.leaf||(l.point.x+=Math.random()-.5,l.point.y+=Math.random()-.5);var Te=_*F[l.point.index];l.charge+=l.pointCharge=Te,X+=Te*l.point.x,$+=Te*l.point.y}l.cx=X/l.charge,l.cy=$/l.charge}var qu=20,ef=1,tf=1/0;e.layout.hierarchy=function(){var l=nf,_=rf,F=af;function X($){var te=[$],me=[],de;for($.depth=0;(de=te.pop())!=null;)if(me.push(de),(Te=_.call(X,de,de.depth))&&(be=Te.length)){for(var be,Te,Me;--be>=0;)te.push(Me=Te[be]),Me.parent=de,Me.depth=de.depth+1;F&&(de.value=0),de.children=Te}else F&&(de.value=+F.call(X,de,de.depth)||0),delete de.children;return sa($,function(ze){var He,et;l&&(He=ze.children)&&He.sort(l),F&&(et=ze.parent)&&(et.value+=ze.value)}),me}return X.sort=function($){return arguments.length?(l=$,X):l},X.children=function($){return arguments.length?(_=$,X):_},X.value=function($){return arguments.length?(F=$,X):F},X.revalue=function($){return F&&(mn($,function(te){te.children&&(te.value=0)}),sa($,function(te){var me;te.children||(te.value=+F.call(X,te,te.depth)||0),(me=te.parent)&&(me.value+=te.value)})),$},X};function pn(l,_){return e.rebind(l,_,"sort","children","value"),l.nodes=l,l.links=of,l}function mn(l,_){for(var F=[l];(l=F.pop())!=null;)if(_(l),($=l.children)&&(X=$.length))for(var X,$;--X>=0;)F.push($[X])}function sa(l,_){for(var F=[l],X=[];(l=F.pop())!=null;)if(X.push(l),(me=l.children)&&(te=me.length))for(var $=-1,te,me;++$<te;)F.push(me[$]);for(;(l=X.pop())!=null;)_(l)}function rf(l){return l.children}function af(l){return l.value}function nf(l,_){return _.value-l.value}function of(l){return e.merge(l.map(function(_){return(_.children||[]).map(function(F){return{source:_,target:F}})}))}e.layout.partition=function(){var l=e.layout.hierarchy(),_=[1,1];function F(te,me,de,be){var Te=te.children;if(te.x=me,te.y=te.depth*be,te.dx=de,te.dy=be,Te&&(ze=Te.length)){var Me=-1,ze,He,et;for(de=te.value?de/te.value:0;++Me<ze;)F(He=Te[Me],me,et=He.value*de,be),me+=et}}function X(te){var me=te.children,de=0;if(me&&(Te=me.length))for(var be=-1,Te;++be<Te;)de=Math.max(de,X(me[be]));return 1+de}function $(te,me){var de=l.call(this,te,me);return F(de[0],0,_[0],_[1]/X(de[0])),de}return $.size=function(te){return arguments.length?(_=te,$):_},pn($,l)},e.layout.pie=function(){var l=Number,_=qo,F=0,X=Ae,$=0;function te(me){var de=me.length,be=me.map(function(lt,ft){return+l.call(te,lt,ft)}),Te=+(typeof F=="function"?F.apply(this,arguments):F),Me=(typeof X=="function"?X.apply(this,arguments):X)-Te,ze=Math.min(Math.abs(Me)/de,+(typeof $=="function"?$.apply(this,arguments):$)),He=ze*(Me<0?-1:1),et=e.sum(be),st=et?(Me-de*He)/et:0,Be=e.range(de),Xe=[],Qe;return _!=null&&Be.sort(_===qo?function(lt,ft){return be[ft]-be[lt]}:function(lt,ft){return _(me[lt],me[ft])}),Be.forEach(function(lt){Xe[lt]={data:me[lt],value:Qe=be[lt],startAngle:Te,endAngle:Te+=Qe*st+He,padAngle:ze}}),Xe}return te.value=function(me){return arguments.length?(l=me,te):l},te.sort=function(me){return arguments.length?(_=me,te):_},te.startAngle=function(me){return arguments.length?(F=me,te):F},te.endAngle=function(me){return arguments.length?(X=me,te):X},te.padAngle=function(me){return arguments.length?($=me,te):$},te};var qo={};e.layout.stack=function(){var l=ae,_=Ai,F=ki,X=uf,$=lf,te=sf;function me(de,be){if(!(st=de.length))return de;var Te=de.map(function(lt,ft){return l.call(me,lt,ft)}),Me=Te.map(function(lt){return lt.map(function(ft,qe){return[$.call(me,ft,qe),te.call(me,ft,qe)]})}),ze=_.call(me,Me,be);Te=e.permute(Te,ze),Me=e.permute(Me,ze);var He=F.call(me,Me,be),et=Te[0].length,st,Be,Xe,Qe;for(Xe=0;Xe<et;++Xe)for(X.call(me,Te[0][Xe],Qe=He[Xe],Me[0][Xe][1]),Be=1;Be<st;++Be)X.call(me,Te[Be][Xe],Qe+=Me[Be-1][Xe][1],Me[Be][Xe][1]);return de}return me.values=function(de){return arguments.length?(l=de,me):l},me.order=function(de){return arguments.length?(_=typeof de=="function"?de:ff.get(de)||Ai,me):_},me.offset=function(de){return arguments.length?(F=typeof de=="function"?de:cf.get(de)||ki,me):F},me.x=function(de){return arguments.length?($=de,me):$},me.y=function(de){return arguments.length?(te=de,me):te},me.out=function(de){return arguments.length?(X=de,me):X},me};function lf(l){return l.x}function sf(l){return l.y}function uf(l,_,F){l.y0=_,l.y=F}var ff=e.map({"inside-out":function(l){var _=l.length,F,X,$=l.map(vf),te=l.map(hf),me=e.range(_).sort(function(ze,He){return $[ze]-$[He]}),de=0,be=0,Te=[],Me=[];for(F=0;F<_;++F)X=me[F],de<be?(de+=te[X],Te.push(X)):(be+=te[X],Me.push(X));return Me.reverse().concat(Te)},reverse:function(l){return e.range(l.length).reverse()},default:Ai}),cf=e.map({silhouette:function(l){var _=l.length,F=l[0].length,X=[],$=0,te,me,de,be=[];for(me=0;me<F;++me){for(te=0,de=0;te<_;te++)de+=l[te][me][1];de>$&&($=de),X.push(de)}for(me=0;me<F;++me)be[me]=($-X[me])/2;return be},wiggle:function(l){var _=l.length,F=l[0],X=F.length,$,te,me,de,be,Te,Me,ze,He,et=[];for(et[0]=ze=He=0,te=1;te<X;++te){for($=0,de=0;$<_;++$)de+=l[$][te][1];for($=0,be=0,Me=F[te][0]-F[te-1][0];$<_;++$){for(me=0,Te=(l[$][te][1]-l[$][te-1][1])/(2*Me);me<$;++me)Te+=(l[me][te][1]-l[me][te-1][1])/Me;be+=Te*l[$][te][1]}et[te]=ze-=de?be/de*Me:0,ze<He&&(He=ze)}for(te=0;te<X;++te)et[te]-=He;return et},expand:function(l){var _=l.length,F=l[0].length,X=1/_,$,te,me,de=[];for(te=0;te<F;++te){for($=0,me=0;$<_;$++)me+=l[$][te][1];if(me)for($=0;$<_;$++)l[$][te][1]/=me;else for($=0;$<_;$++)l[$][te][1]=X}for(te=0;te<F;++te)de[te]=0;return de},zero:ki});function Ai(l){return e.range(l.length)}function ki(l){for(var _=-1,F=l[0].length,X=[];++_<F;)X[_]=0;return X}function vf(l){for(var _=1,F=0,X=l[0][1],$,te=l.length;_<te;++_)($=l[_][1])>X&&(F=_,X=$);return F}function hf(l){return l.reduce(df,0)}function df(l,_){return l+_[1]}e.layout.histogram=function(){var l=!0,_=Number,F=mf,X=pf;function $(te,me){for(var de=[],be=te.map(_,this),Te=F.call(this,be,me),Me=X.call(this,Te,be,me),ze,me=-1,He=be.length,et=Me.length-1,st=l?1:1/He,Be;++me<et;)ze=de[me]=[],ze.dx=Me[me+1]-(ze.x=Me[me]),ze.y=0;if(et>0)for(me=-1;++me<He;)Be=be[me],Be>=Te[0]&&Be<=Te[1]&&(ze=de[e.bisect(Me,Be,1,et)-1],ze.y+=st,ze.push(te[me]));return de}return $.value=function(te){return arguments.length?(_=te,$):_},$.range=function(te){return arguments.length?(F=Dt(te),$):F},$.bins=function(te){return arguments.length?(X=typeof te=="number"?function(me){return el(me,te)}:Dt(te),$):X},$.frequency=function(te){return arguments.length?(l=!!te,$):l},$};function pf(l,_){return el(l,Math.ceil(Math.log(_.length)/Math.LN2+1))}function el(l,_){for(var F=-1,X=+l[0],$=(l[1]-X)/_,te=[];++F<=_;)te[F]=$*F+X;return te}function mf(l){return[e.min(l),e.max(l)]}e.layout.pack=function(){var l=e.layout.hierarchy().sort(yf),_=0,F=[1,1],X;function $(te,me){var de=l.call(this,te,me),be=de[0],Te=F[0],Me=F[1],ze=X==null?Math.sqrt:typeof X=="function"?X:function(){return X};if(be.x=be.y=0,sa(be,function(et){et.r=+ze(et.value)}),sa(be,al),_){var He=_*(X?1:Math.max(2*be.r/Te,2*be.r/Me))/2;sa(be,function(et){et.r+=He}),sa(be,al),sa(be,function(et){et.r-=He})}return nl(be,Te/2,Me/2,X?1:1/Math.max(2*be.r/Te,2*be.r/Me)),de}return $.size=function(te){return arguments.length?(F=te,$):F},$.radius=function(te){return arguments.length?(X=te==null||typeof te=="function"?te:+te,$):X},$.padding=function(te){return arguments.length?(_=+te,$):_},pn($,l)};function yf(l,_){return l.value-_.value}function Ci(l,_){var F=l._pack_next;l._pack_next=_,_._pack_prev=l,_._pack_next=F,F._pack_prev=_}function tl(l,_){l._pack_next=_,_._pack_prev=l}function rl(l,_){var F=_.x-l.x,X=_.y-l.y,$=l.r+_.r;return .999*$*$>F*F+X*X}function al(l){if(!(_=l.children)||!(He=_.length))return;var _,F=1/0,X=-1/0,$=1/0,te=-1/0,me,de,be,Te,Me,ze,He;function et(qe){F=Math.min(qe.x-qe.r,F),X=Math.max(qe.x+qe.r,X),$=Math.min(qe.y-qe.r,$),te=Math.max(qe.y+qe.r,te)}if(_.forEach(gf),me=_[0],me.x=-me.r,me.y=0,et(me),He>1&&(de=_[1],de.x=de.r,de.y=0,et(de),He>2))for(be=_[2],il(me,de,be),et(be),Ci(me,be),me._pack_prev=be,Ci(be,de),de=me._pack_next,Te=3;Te<He;Te++){il(me,de,be=_[Te]);var st=0,Be=1,Xe=1;for(Me=de._pack_next;Me!==de;Me=Me._pack_next,Be++)if(rl(Me,be)){st=1;break}if(st==1)for(ze=me._pack_prev;ze!==Me._pack_prev&&!rl(ze,be);ze=ze._pack_prev,Xe++);st?(Be<Xe||Be==Xe&&de.r<me.r?tl(me,de=Me):tl(me=ze,de),Te--):(Ci(me,be),de=be,et(be))}var Qe=(F+X)/2,lt=($+te)/2,ft=0;for(Te=0;Te<He;Te++)be=_[Te],be.x-=Qe,be.y-=lt,ft=Math.max(ft,be.r+Math.sqrt(be.x*be.x+be.y*be.y));l.r=ft,_.forEach(bf)}function gf(l){l._pack_next=l._pack_prev=l}function bf(l){delete l._pack_next,delete l._pack_prev}function nl(l,_,F,X){var $=l.children;if(l.x=_+=X*l.x,l.y=F+=X*l.y,l.r*=X,$)for(var te=-1,me=$.length;++te<me;)nl($[te],_,F,X)}function il(l,_,F){var X=l.r+F.r,$=_.x-l.x,te=_.y-l.y;if(X&&($||te)){var me=_.r+F.r,de=$*$+te*te;me*=me,X*=X;var be=.5+(X-me)/(2*de),Te=Math.sqrt(Math.max(0,2*me*(X+de)-(X-=de)*X-me*me))/(2*de);F.x=l.x+be*$+Te*te,F.y=l.y+be*te-Te*$}else F.x=l.x+X,F.y=l.y}e.layout.tree=function(){var l=e.layout.hierarchy().sort(null).value(null),_=ol,F=[1,1],X=null;function $(Me,ze){var He=l.call(this,Me,ze),et=He[0],st=te(et);if(sa(st,me),st.parent.m=-st.z,mn(st,de),X)mn(et,Te);else{var Be=et,Xe=et,Qe=et;mn(et,function(Pt){Pt.x<Be.x&&(Be=Pt),Pt.x>Xe.x&&(Xe=Pt),Pt.depth>Qe.depth&&(Qe=Pt)});var lt=_(Be,Xe)/2-Be.x,ft=F[0]/(Xe.x+_(Xe,Be)/2+lt),qe=F[1]/(Qe.depth||1);mn(et,function(Pt){Pt.x=(Pt.x+lt)*ft,Pt.y=Pt.depth*qe})}return He}function te(Me){for(var ze={A:null,children:[Me]},He=[ze],et;(et=He.pop())!=null;)for(var st=et.children,Be,Xe=0,Qe=st.length;Xe<Qe;++Xe)He.push((st[Xe]=Be={_:st[Xe],parent:et,children:(Be=st[Xe].children)&&Be.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Xe}).a=Be);return ze.children[0]}function me(Me){var ze=Me.children,He=Me.parent.children,et=Me.i?He[Me.i-1]:null;if(ze.length){_f(Me);var st=(ze[0].z+ze[ze.length-1].z)/2;et?(Me.z=et.z+_(Me._,et._),Me.m=Me.z-st):Me.z=st}else et&&(Me.z=et.z+_(Me._,et._));Me.parent.A=be(Me,et,Me.parent.A||He[0])}function de(Me){Me._.x=Me.z+Me.parent.m,Me.m+=Me.parent.m}function be(Me,ze,He){if(ze){for(var et=Me,st=Me,Be=ze,Xe=et.parent.children[0],Qe=et.m,lt=st.m,ft=Be.m,qe=Xe.m,Pt;Be=Li(Be),et=Si(et),Be&&et;)Xe=Si(Xe),st=Li(st),st.a=Me,Pt=Be.z+ft-et.z-Qe+_(Be._,et._),Pt>0&&(xf(wf(Be,Me,He),Me,Pt),Qe+=Pt,lt+=Pt),ft+=Be.m,Qe+=et.m,qe+=Xe.m,lt+=st.m;Be&&!Li(st)&&(st.t=Be,st.m+=ft-lt),et&&!Si(Xe)&&(Xe.t=et,Xe.m+=Qe-qe,He=Me)}return He}function Te(Me){Me.x*=F[0],Me.y=Me.depth*F[1]}return $.separation=function(Me){return arguments.length?(_=Me,$):_},$.size=function(Me){return arguments.length?(X=(F=Me)==null?Te:null,$):X?null:F},$.nodeSize=function(Me){return arguments.length?(X=(F=Me)==null?null:Te,$):X?F:null},pn($,l)};function ol(l,_){return l.parent==_.parent?1:2}function Si(l){var _=l.children;return _.length?_[0]:l.t}function Li(l){var _=l.children,F;return(F=_.length)?_[F-1]:l.t}function xf(l,_,F){var X=F/(_.i-l.i);_.c-=X,_.s+=F,l.c+=X,_.z+=F,_.m+=F}function _f(l){for(var _=0,F=0,X=l.children,$=X.length,te;--$>=0;)te=X[$],te.z+=_,te.m+=_,_+=te.s+(F+=te.c)}function wf(l,_,F){return l.a.parent===_.parent?l.a:F}e.layout.cluster=function(){var l=e.layout.hierarchy().sort(null).value(null),_=ol,F=[1,1],X=!1;function $(te,me){var de=l.call(this,te,me),be=de[0],Te,Me=0;sa(be,function(Be){var Xe=Be.children;Xe&&Xe.length?(Be.x=Mf(Xe),Be.y=Tf(Xe)):(Be.x=Te?Me+=_(Be,Te):0,Be.y=0,Te=Be)});var ze=ll(be),He=sl(be),et=ze.x-_(ze,He)/2,st=He.x+_(He,ze)/2;return sa(be,X?function(Be){Be.x=(Be.x-be.x)*F[0],Be.y=(be.y-Be.y)*F[1]}:function(Be){Be.x=(Be.x-et)/(st-et)*F[0],Be.y=(1-(be.y?Be.y/be.y:1))*F[1]}),de}return $.separation=function(te){return arguments.length?(_=te,$):_},$.size=function(te){return arguments.length?(X=(F=te)==null,$):X?null:F},$.nodeSize=function(te){return arguments.length?(X=(F=te)!=null,$):X?F:null},pn($,l)};function Tf(l){return 1+e.max(l,function(_){return _.y})}function Mf(l){return l.reduce(function(_,F){return _+F.x},0)/l.length}function ll(l){var _=l.children;return _&&_.length?ll(_[0]):l}function sl(l){var _=l.children,F;return _&&(F=_.length)?sl(_[F-1]):l}e.layout.treemap=function(){var l=e.layout.hierarchy(),_=Math.round,F=[1,1],X=null,$=Di,te=!1,me,de="squarify",be=.5*(1+Math.sqrt(5));function Te(Be,Xe){for(var Qe=-1,lt=Be.length,ft,qe;++Qe<lt;)qe=(ft=Be[Qe]).value*(Xe<0?0:Xe),ft.area=isNaN(qe)||qe<=0?0:qe}function Me(Be){var Xe=Be.children;if(Xe&&Xe.length){var Qe=$(Be),lt=[],ft=Xe.slice(),qe,Pt=1/0,Wt,Kt=de==="slice"?Qe.dx:de==="dice"?Qe.dy:de==="slice-dice"?Be.depth&1?Qe.dy:Qe.dx:Math.min(Qe.dx,Qe.dy),Xt;for(Te(ft,Qe.dx*Qe.dy/Be.value),lt.area=0;(Xt=ft.length)>0;)lt.push(qe=ft[Xt-1]),lt.area+=qe.area,de!=="squarify"||(Wt=He(lt,Kt))<=Pt?(ft.pop(),Pt=Wt):(lt.area-=lt.pop().area,et(lt,Kt,Qe,!1),Kt=Math.min(Qe.dx,Qe.dy),lt.length=lt.area=0,Pt=1/0);lt.length&&(et(lt,Kt,Qe,!0),lt.length=lt.area=0),Xe.forEach(Me)}}function ze(Be){var Xe=Be.children;if(Xe&&Xe.length){var Qe=$(Be),lt=Xe.slice(),ft,qe=[];for(Te(lt,Qe.dx*Qe.dy/Be.value),qe.area=0;ft=lt.pop();)qe.push(ft),qe.area+=ft.area,ft.z!=null&&(et(qe,ft.z?Qe.dx:Qe.dy,Qe,!lt.length),qe.length=qe.area=0);Xe.forEach(ze)}}function He(Be,Xe){for(var Qe=Be.area,lt,ft=0,qe=1/0,Pt=-1,Wt=Be.length;++Pt<Wt;)!(lt=Be[Pt].area)||(lt<qe&&(qe=lt),lt>ft&&(ft=lt));return Qe*=Qe,Xe*=Xe,Qe?Math.max(Xe*ft*be/Qe,Qe/(Xe*qe*be)):1/0}function et(Be,Xe,Qe,lt){var ft=-1,qe=Be.length,Pt=Qe.x,Wt=Qe.y,Kt=Xe?_(Be.area/Xe):0,Xt;if(Xe==Qe.dx){for((lt||Kt>Qe.dy)&&(Kt=Qe.dy);++ft<qe;)Xt=Be[ft],Xt.x=Pt,Xt.y=Wt,Xt.dy=Kt,Pt+=Xt.dx=Math.min(Qe.x+Qe.dx-Pt,Kt?_(Xt.area/Kt):0);Xt.z=!0,Xt.dx+=Qe.x+Qe.dx-Pt,Qe.y+=Kt,Qe.dy-=Kt}else{for((lt||Kt>Qe.dx)&&(Kt=Qe.dx);++ft<qe;)Xt=Be[ft],Xt.x=Pt,Xt.y=Wt,Xt.dx=Kt,Wt+=Xt.dy=Math.min(Qe.y+Qe.dy-Wt,Kt?_(Xt.area/Kt):0);Xt.z=!1,Xt.dy+=Qe.y+Qe.dy-Wt,Qe.x+=Kt,Qe.dx-=Kt}}function st(Be){var Xe=me||l(Be),Qe=Xe[0];return Qe.x=Qe.y=0,Qe.value?(Qe.dx=F[0],Qe.dy=F[1]):Qe.dx=Qe.dy=0,me&&l.revalue(Qe),Te([Qe],Qe.dx*Qe.dy/Qe.value),(me?ze:Me)(Qe),te&&(me=Xe),Xe}return st.size=function(Be){return arguments.length?(F=Be,st):F},st.padding=function(Be){if(!arguments.length)return X;function Xe(ft){var qe=Be.call(st,ft,ft.depth);return qe==null?Di(ft):ul(ft,typeof qe=="number"?[qe,qe,qe,qe]:qe)}function Qe(ft){return ul(ft,Be)}var lt;return $=(X=Be)==null?Di:(lt=typeof Be)==="function"?Xe:(lt==="number"&&(Be=[Be,Be,Be,Be]),Qe),st},st.round=function(Be){return arguments.length?(_=Be?Math.round:Number,st):_!=Number},st.sticky=function(Be){return arguments.length?(te=Be,me=null,st):te},st.ratio=function(Be){return arguments.length?(be=Be,st):be},st.mode=function(Be){return arguments.length?(de=Be+"",st):de},pn(st,l)};function Di(l){return{x:l.x,y:l.y,dx:l.dx,dy:l.dy}}function ul(l,_){var F=l.x+_[3],X=l.y+_[0],$=l.dx-_[1]-_[3],te=l.dy-_[0]-_[2];return $<0&&(F+=$/2,$=0),te<0&&(X+=te/2,te=0),{x:F,y:X,dx:$,dy:te}}e.random={normal:function(l,_){var F=arguments.length;return F<2&&(_=1),F<1&&(l=0),function(){var X,$,te;do X=Math.random()*2-1,$=Math.random()*2-1,te=X*X+$*$;while(!te||te>1);return l+_*X*Math.sqrt(-2*Math.log(te)/te)}},logNormal:function(){var l=e.random.normal.apply(e,arguments);return function(){return Math.exp(l())}},bates:function(l){var _=e.random.irwinHall(l);return function(){return _()/l}},irwinHall:function(l){return function(){for(var _=0,F=0;F<l;F++)_+=Math.random();return _}}},e.scale={};function Fn(l){var _=l[0],F=l[l.length-1];return _<F?[_,F]:[F,_]}function In(l){return l.rangeExtent?l.rangeExtent():Fn(l.range())}function Af(l,_,F,X){var $=F(l[0],l[1]),te=X(_[0],_[1]);return function(me){return te($(me))}}function Ei(l,_){var F=0,X=l.length-1,$=l[F],te=l[X],me;return te<$&&(me=F,F=X,X=me,me=$,$=te,te=me),l[F]=_.floor($),l[X]=_.ceil(te),l}function fl(l){return l?{floor:function(_){return Math.floor(_/l)*l},ceil:function(_){return Math.ceil(_/l)*l}}:kf}var kf={floor:ae,ceil:ae};function Cf(l,_,F,X){var $=[],te=[],me=0,de=Math.min(l.length,_.length)-1;for(l[de]<l[0]&&(l=l.slice().reverse(),_=_.slice().reverse());++me<=de;)$.push(F(l[me-1],l[me])),te.push(X(_[me-1],_[me]));return function(be){var Te=e.bisect(l,be,1,de)-1;return te[Te]($[Te](be))}}e.scale.linear=function(){return cl([0,1],[0,1],Ra,!1)};function cl(l,_,F,X){var $,te;function me(){var be=Math.min(l.length,_.length)>2?Cf:Af,Te=X?Zu:Wu;return $=be(l,_,Te,F),te=be(_,l,Te,Ra),de}function de(be){return $(be)}return de.invert=function(be){return te(be)},de.domain=function(be){return arguments.length?(l=be.map(Number),me()):l},de.range=function(be){return arguments.length?(_=be,me()):_},de.rangeRound=function(be){return de.range(be).interpolate(Zo)},de.clamp=function(be){return arguments.length?(X=be,me()):X},de.interpolate=function(be){return arguments.length?(F=be,me()):F},de.ticks=function(be){return Pi(l,be)},de.tickFormat=function(be,Te){return d3_scale_linearTickFormat(l,be,Te)},de.nice=function(be){return hl(l,be),me()},de.copy=function(){return cl(l,_,F,X)},me()}function vl(l,_){return e.rebind(l,_,"range","rangeRound","interpolate","clamp")}function hl(l,_){return Ei(l,fl(Ri(l,_)[2])),Ei(l,fl(Ri(l,_)[2])),l}function Ri(l,_){_==null&&(_=10);var F=Fn(l),X=F[1]-F[0],$=Math.pow(10,Math.floor(Math.log(X/_)/Math.LN10)),te=_/X*$;return te<=.15?$*=10:te<=.35?$*=5:te<=.75&&($*=2),F[0]=Math.ceil(F[0]/$)*$,F[1]=Math.floor(F[1]/$)*$+$*.5,F[2]=$,F}function Pi(l,_){return e.range.apply(e,Ri(l,_))}e.scale.log=function(){return dl(e.scale.linear().domain([0,1]),10,!0,[1,10])};function dl(l,_,F,X){function $(de){return(F?Math.log(de<0?0:de):-Math.log(de>0?0:-de))/Math.log(_)}function te(de){return F?Math.pow(_,de):-Math.pow(_,-de)}function me(de){return l($(de))}return me.invert=function(de){return te(l.invert(de))},me.domain=function(de){return arguments.length?(F=de[0]>=0,l.domain((X=de.map(Number)).map($)),me):X},me.base=function(de){return arguments.length?(_=+de,l.domain(X.map($)),me):_},me.nice=function(){var de=Ei(X.map($),F?Math:Sf);return l.domain(de),X=de.map(te),me},me.ticks=function(){var de=Fn(X),be=[],Te=de[0],Me=de[1],ze=Math.floor($(Te)),He=Math.ceil($(Me)),et=_%1?2:_;if(isFinite(He-ze)){if(F){for(;ze<He;ze++)for(var st=1;st<et;st++)be.push(te(ze)*st);be.push(te(ze))}else for(be.push(te(ze));ze++<He;)for(var st=et-1;st>0;st--)be.push(te(ze)*st);for(ze=0;be[ze]<Te;ze++);for(He=be.length;be[He-1]>Me;He--);be=be.slice(ze,He)}return be},me.copy=function(){return dl(l.copy(),_,F,X)},vl(me,l)}var Sf={floor:function(l){return-Math.ceil(-l)},ceil:function(l){return-Math.floor(-l)}};e.scale.pow=function(){return pl(e.scale.linear(),1,[0,1])};function pl(l,_,F){var X=zn(_),$=zn(1/_);function te(me){return l(X(me))}return te.invert=function(me){return $(l.invert(me))},te.domain=function(me){return arguments.length?(l.domain((F=me.map(Number)).map(X)),te):F},te.ticks=function(me){return Pi(F,me)},te.tickFormat=function(me,de){return d3_scale_linearTickFormat(F,me,de)},te.nice=function(me){return te.domain(hl(F,me))},te.exponent=function(me){return arguments.length?(X=zn(_=me),$=zn(1/_),l.domain(F.map(X)),te):_},te.copy=function(){return pl(l.copy(),_,F)},vl(te,l)}function zn(l){return function(_){return _<0?-Math.pow(-_,l):Math.pow(_,l)}}e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return ml([],{t:"range",a:[[]]})};function ml(l,_){var F,X,$;function te(de){return X[((F.get(de)||(_.t==="range"?F.set(de,l.push(de)):NaN))-1)%X.length]}function me(de,be){return e.range(l.length).map(function(Te){return de+be*Te})}return te.domain=function(de){if(!arguments.length)return l;l=[],F=new m;for(var be=-1,Te=de.length,Me;++be<Te;)F.has(Me=de[be])||F.set(Me,l.push(Me));return te[_.t].apply(te,_.a)},te.range=function(de){return arguments.length?(X=de,$=0,_={t:"range",a:arguments},te):X},te.rangePoints=function(de,be){arguments.length<2&&(be=0);var Te=de[0],Me=de[1],ze=l.length<2?(Te=(Te+Me)/2,0):(Me-Te)/(l.length-1+be);return X=me(Te+ze*be/2,ze),$=0,_={t:"rangePoints",a:arguments},te},te.rangeRoundPoints=function(de,be){arguments.length<2&&(be=0);var Te=de[0],Me=de[1],ze=l.length<2?(Te=Me=Math.round((Te+Me)/2),0):(Me-Te)/(l.length-1+be)|0;return X=me(Te+Math.round(ze*be/2+(Me-Te-(l.length-1+be)*ze)/2),ze),$=0,_={t:"rangeRoundPoints",a:arguments},te},te.rangeBands=function(de,be,Te){arguments.length<2&&(be=0),arguments.length<3&&(Te=be);var Me=de[1]<de[0],ze=de[Me-0],He=de[1-Me],et=(He-ze)/(l.length-be+2*Te);return X=me(ze+et*Te,et),Me&&X.reverse(),$=et*(1-be),_={t:"rangeBands",a:arguments},te},te.rangeRoundBands=function(de,be,Te){arguments.length<2&&(be=0),arguments.length<3&&(Te=be);var Me=de[1]<de[0],ze=de[Me-0],He=de[1-Me],et=Math.floor((He-ze)/(l.length-be+2*Te));return X=me(ze+Math.round((He-ze-(l.length-be)*et)/2),et),Me&&X.reverse(),$=Math.round(et*(1-be)),_={t:"rangeRoundBands",a:arguments},te},te.rangeBand=function(){return $},te.rangeExtent=function(){return Fn(_.a[0])},te.copy=function(){return ml(l,_)},te.domain(l)}e.scale.category10=function(){return e.scale.ordinal().range(Lf)},e.scale.category20=function(){return e.scale.ordinal().range(Df)},e.scale.category20b=function(){return e.scale.ordinal().range(Ef)},e.scale.category20c=function(){return e.scale.ordinal().range(Rf)};var Lf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(qt),Df=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(qt),Ef=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(qt),Rf=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(qt);e.scale.quantile=function(){return yl([],[])};function yl(l,_){var F;function X(){var te=0,me=_.length;for(F=[];++te<me;)F[te-1]=e.quantile(l,te/me);return $}function $(te){if(!isNaN(te=+te))return _[e.bisect(F,te)]}return $.domain=function(te){return arguments.length?(l=te.map(y).filter(g).sort(d),X()):l},$.range=function(te){return arguments.length?(_=te,X()):_},$.quantiles=function(){return F},$.invertExtent=function(te){return te=_.indexOf(te),te<0?[NaN,NaN]:[te>0?F[te-1]:l[0],te<F.length?F[te]:l[l.length-1]]},$.copy=function(){return yl(l,_)},X()}e.scale.quantize=function(){return gl(0,1,[0,1])};function gl(l,_,F){var X,$;function te(de){return F[Math.max(0,Math.min($,Math.floor(X*(de-l))))]}function me(){return X=F.length/(_-l),$=F.length-1,te}return te.domain=function(de){return arguments.length?(l=+de[0],_=+de[de.length-1],me()):[l,_]},te.range=function(de){return arguments.length?(F=de,me()):F},te.invertExtent=function(de){return de=F.indexOf(de),de=de<0?NaN:de/X+l,[de,de+1/X]},te.copy=function(){return gl(l,_,F)},me()}e.scale.threshold=function(){return bl([.5],[0,1])};function bl(l,_){function F(X){if(X<=X)return _[e.bisect(l,X)]}return F.domain=function(X){return arguments.length?(l=X,F):l},F.range=function(X){return arguments.length?(_=X,F):_},F.invertExtent=function(X){return X=_.indexOf(X),[l[X-1],l[X]]},F.copy=function(){return bl(l,_)},F}e.scale.identity=function(){return xl([0,1])};function xl(l){function _(F){return+F}return _.invert=_,_.domain=_.range=function(F){return arguments.length?(l=F.map(_),_):l},_.ticks=function(F){return Pi(l,F)},_.tickFormat=function(F,X){return d3_scale_linearTickFormat(l,F,X)},_.copy=function(){return xl(l)},_}e.svg={};function Pf(){return 0}e.svg.arc=function(){var l=Nf,_=Ff,F=Pf,X=On,$=_l,te=wl,me=If;function de(){var Te=Math.max(0,+l.apply(this,arguments)),Me=Math.max(0,+_.apply(this,arguments)),ze=$.apply(this,arguments)-Pe,He=te.apply(this,arguments)-Pe,et=Math.abs(He-ze),st=ze>He?0:1;if(Me<Te&&(Be=Me,Me=Te,Te=Be),et>=Se)return be(Me,st)+(Te?be(Te,1-st):"")+"Z";var Be,Xe,Qe,lt,ft=0,qe=0,Pt,Wt,Kt,Xt,er,tr,sr,ar,or=[];if((lt=(+me.apply(this,arguments)||0)/2)&&(Qe=X===On?Math.sqrt(Te*Te+Me*Me):+X.apply(this,arguments),st||(qe*=-1),Me&&(qe=vt(Qe/Me*Math.sin(lt))),Te&&(ft=vt(Qe/Te*Math.sin(lt)))),Me){Pt=Me*Math.cos(ze+qe),Wt=Me*Math.sin(ze+qe),Kt=Me*Math.cos(He-qe),Xt=Me*Math.sin(He-qe);var pr=Math.abs(He-ze-2*qe)<=pe?0:1;if(qe&&Hn(Pt,Wt,Kt,Xt)===st^pr){var Cr=(ze+He)/2;Pt=Me*Math.cos(Cr),Wt=Me*Math.sin(Cr),Kt=Xt=null}}else Pt=Wt=0;if(Te){er=Te*Math.cos(He-ft),tr=Te*Math.sin(He-ft),sr=Te*Math.cos(ze+ft),ar=Te*Math.sin(ze+ft);var yr=Math.abs(ze-He+2*ft)<=pe?0:1;if(ft&&Hn(er,tr,sr,ar)===1-st^yr){var Gt=(ze+He)/2;er=Te*Math.cos(Gt),tr=Te*Math.sin(Gt),sr=ar=null}}else er=tr=0;if(et>Oe&&(Be=Math.min(Math.abs(Me-Te)/2,+F.apply(this,arguments)))>.001){Xe=Te<Me^st?0:1;var ur=Be,cr=Be;if(et<pe){var mr=sr==null?[er,tr]:Kt==null?[Pt,Wt]:Pr([Pt,Wt],[sr,ar],[Kt,Xt],[er,tr]),Tr=Pt-mr[0],Er=Wt-mr[1],Nr=Kt-mr[0],Br=Xt-mr[1],Yr=1/Math.sin(Math.acos((Tr*Nr+Er*Br)/(Math.sqrt(Tr*Tr+Er*Er)*Math.sqrt(Nr*Nr+Br*Br)))/2),Ur=Math.sqrt(mr[0]*mr[0]+mr[1]*mr[1]);cr=Math.min(Be,(Te-Ur)/(Yr-1)),ur=Math.min(Be,(Me-Ur)/(Yr+1))}if(Kt!=null){var Wr=Bn(sr==null?[er,tr]:[sr,ar],[Pt,Wt],Me,ur,st),zr=Bn([Kt,Xt],[er,tr],Me,ur,st);Be===ur?or.push("M",Wr[0],"A",ur,",",ur," 0 0,",Xe," ",Wr[1],"A",Me,",",Me," 0 ",1-st^Hn(Wr[1][0],Wr[1][1],zr[1][0],zr[1][1]),",",st," ",zr[1],"A",ur,",",ur," 0 0,",Xe," ",zr[0]):or.push("M",Wr[0],"A",ur,",",ur," 0 1,",Xe," ",zr[0])}else or.push("M",Pt,",",Wt);if(sr!=null){var Zr=Bn([Pt,Wt],[sr,ar],Te,-cr,st),Na=Bn([er,tr],Kt==null?[Pt,Wt]:[Kt,Xt],Te,-cr,st);Be===cr?or.push("L",Na[0],"A",cr,",",cr," 0 0,",Xe," ",Na[1],"A",Te,",",Te," 0 ",st^Hn(Na[1][0],Na[1][1],Zr[1][0],Zr[1][1]),",",1-st," ",Zr[1],"A",cr,",",cr," 0 0,",Xe," ",Zr[0]):or.push("L",Na[0],"A",cr,",",cr," 0 0,",Xe," ",Zr[0])}else or.push("L",er,",",tr)}else or.push("M",Pt,",",Wt),Kt!=null&&or.push("A",Me,",",Me," 0 ",pr,",",st," ",Kt,",",Xt),or.push("L",er,",",tr),sr!=null&&or.push("A",Te,",",Te," 0 ",yr,",",1-st," ",sr,",",ar);return or.push("Z"),or.join("")}function be(Te,Me){return"M0,"+Te+"A"+Te+","+Te+" 0 1,"+Me+" 0,"+-Te+"A"+Te+","+Te+" 0 1,"+Me+" 0,"+Te}return de.innerRadius=function(Te){return arguments.length?(l=Dt(Te),de):l},de.outerRadius=function(Te){return arguments.length?(_=Dt(Te),de):_},de.cornerRadius=function(Te){return arguments.length?(F=Dt(Te),de):F},de.padRadius=function(Te){return arguments.length?(X=Te==On?On:Dt(Te),de):X},de.startAngle=function(Te){return arguments.length?($=Dt(Te),de):$},de.endAngle=function(Te){return arguments.length?(te=Dt(Te),de):te},de.padAngle=function(Te){return arguments.length?(me=Dt(Te),de):me},de.centroid=function(){var Te=(+l.apply(this,arguments)+ +_.apply(this,arguments))/2,Me=(+$.apply(this,arguments)+ +te.apply(this,arguments))/2-Pe;return[Math.cos(Me)*Te,Math.sin(Me)*Te]},de};var On="auto";function Nf(l){return l.innerRadius}function Ff(l){return l.outerRadius}function _l(l){return l.startAngle}function wl(l){return l.endAngle}function If(l){return l&&l.padAngle}function Hn(l,_,F,X){return(l-F)*_-(_-X)*l>0?0:1}function Bn(l,_,F,X,$){var te=l[0]-_[0],me=l[1]-_[1],de=($?X:-X)/Math.sqrt(te*te+me*me),be=de*me,Te=-de*te,Me=l[0]+be,ze=l[1]+Te,He=_[0]+be,et=_[1]+Te,st=(Me+He)/2,Be=(ze+et)/2,Xe=He-Me,Qe=et-ze,lt=Xe*Xe+Qe*Qe,ft=F-X,qe=Me*et-He*ze,Pt=(Qe<0?-1:1)*Math.sqrt(Math.max(0,ft*ft*lt-qe*qe)),Wt=(qe*Qe-Xe*Pt)/lt,Kt=(-qe*Xe-Qe*Pt)/lt,Xt=(qe*Qe+Xe*Pt)/lt,er=(-qe*Xe+Qe*Pt)/lt,tr=Wt-st,sr=Kt-Be,ar=Xt-st,or=er-Be;return tr*tr+sr*sr>ar*ar+or*or&&(Wt=Xt,Kt=er),[[Wt-be,Kt-Te],[Wt*F/ft,Kt*F/ft]]}function Tl(){return!0}function Ml(l){var _=Sr,F=Lr,X=Tl,$=aa,te=$.key,me=.7;function de(be){var Te=[],Me=[],ze=-1,He=be.length,et,st=Dt(_),Be=Dt(F);function Xe(){Te.push("M",$(l(Me),me))}for(;++ze<He;)X.call(this,et=be[ze],ze)?Me.push([+st.call(this,et,ze),+Be.call(this,et,ze)]):Me.length&&(Xe(),Me=[]);return Me.length&&Xe(),Te.length?Te.join(""):null}return de.x=function(be){return arguments.length?(_=be,de):_},de.y=function(be){return arguments.length?(F=be,de):F},de.defined=function(be){return arguments.length?(X=be,de):X},de.interpolate=function(be){return arguments.length?(typeof be=="function"?te=$=be:te=($=Ni.get(be)||aa).key,de):te},de.tension=function(be){return arguments.length?(me=be,de):me},de}e.svg.line=function(){return Ml(ae)};var Ni=e.map({linear:aa,"linear-closed":Al,step:zf,"step-before":Fi,"step-after":Ii,basis:kl,"basis-open":Uf,"basis-closed":Yf,bundle:Gf,cardinal:Bf,"cardinal-open":Of,"cardinal-closed":Hf,monotone:Zf});Ni.forEach(function(l,_){_.key=l,_.closed=/-closed$/.test(l)});function aa(l){return l.length>1?l.join("L"):l+"Z"}function Al(l){return l.join("L")+"Z"}function zf(l){for(var _=0,F=l.length,X=l[0],$=[X[0],",",X[1]];++_<F;)$.push("H",(X[0]+(X=l[_])[0])/2,"V",X[1]);return F>1&&$.push("H",X[0]),$.join("")}function Fi(l){for(var _=0,F=l.length,X=l[0],$=[X[0],",",X[1]];++_<F;)$.push("V",(X=l[_])[1],"H",X[0]);return $.join("")}function Ii(l){for(var _=0,F=l.length,X=l[0],$=[X[0],",",X[1]];++_<F;)$.push("H",(X=l[_])[0],"V",X[1]);return $.join("")}function Of(l,_){return l.length<4?aa(l):l[1]+Un(l.slice(1,-1),zi(l,_))}function Hf(l,_){return l.length<3?Al(l):l[0]+Un((l.push(l[0]),l),zi([l[l.length-2]].concat(l,[l[1]]),_))}function Bf(l,_){return l.length<3?aa(l):l[0]+Un(l,zi(l,_))}function Un(l,_){if(_.length<1||l.length!=_.length&&l.length!=_.length+2)return aa(l);var F=l.length!=_.length,X="",$=l[0],te=l[1],me=_[0],de=me,be=1;if(F&&(X+="Q"+(te[0]-me[0]*2/3)+","+(te[1]-me[1]*2/3)+","+te[0]+","+te[1],$=l[1],be=2),_.length>1){de=_[1],te=l[be],be++,X+="C"+($[0]+me[0])+","+($[1]+me[1])+","+(te[0]-de[0])+","+(te[1]-de[1])+","+te[0]+","+te[1];for(var Te=2;Te<_.length;Te++,be++)te=l[be],de=_[Te],X+="S"+(te[0]-de[0])+","+(te[1]-de[1])+","+te[0]+","+te[1]}if(F){var Me=l[be];X+="Q"+(te[0]+de[0]*2/3)+","+(te[1]+de[1]*2/3)+","+Me[0]+","+Me[1]}return X}function zi(l,_){for(var F=[],X=(1-_)/2,$,te=l[0],me=l[1],de=1,be=l.length;++de<be;)$=te,te=me,me=l[de],F.push([X*(me[0]-$[0]),X*(me[1]-$[1])]);return F}function kl(l){if(l.length<3)return aa(l);var _=1,F=l.length,X=l[0],$=X[0],te=X[1],me=[$,$,$,(X=l[1])[0]],de=[te,te,te,X[1]],be=[$,",",te,"L",qr(Ma,me),",",qr(Ma,de)];for(l.push(l[F-1]);++_<=F;)X=l[_],me.shift(),me.push(X[0]),de.shift(),de.push(X[1]),Oi(be,me,de);return l.pop(),be.push("L",X),be.join("")}function Uf(l){if(l.length<4)return aa(l);for(var _=[],F=-1,X=l.length,$,te=[0],me=[0];++F<3;)$=l[F],te.push($[0]),me.push($[1]);for(_.push(qr(Ma,te)+","+qr(Ma,me)),--F;++F<X;)$=l[F],te.shift(),te.push($[0]),me.shift(),me.push($[1]),Oi(_,te,me);return _.join("")}function Yf(l){for(var _,F=-1,X=l.length,$=X+4,te,me=[],de=[];++F<4;)te=l[F%X],me.push(te[0]),de.push(te[1]);for(_=[qr(Ma,me),",",qr(Ma,de)],--F;++F<$;)te=l[F%X],me.shift(),me.push(te[0]),de.shift(),de.push(te[1]),Oi(_,me,de);return _.join("")}function Gf(l,_){var F=l.length-1;if(F)for(var X=l[0][0],$=l[0][1],te=l[F][0]-X,me=l[F][1]-$,de=-1,be,Te;++de<=F;)be=l[de],Te=de/F,be[0]=_*be[0]+(1-_)*(X+Te*te),be[1]=_*be[1]+(1-_)*($+Te*me);return kl(l)}function qr(l,_){return l[0]*_[0]+l[1]*_[1]+l[2]*_[2]+l[3]*_[3]}var Cl=[0,2/3,1/3,0],Sl=[0,1/3,2/3,0],Ma=[0,1/6,2/3,1/6];function Oi(l,_,F){l.push("C",qr(Cl,_),",",qr(Cl,F),",",qr(Sl,_),",",qr(Sl,F),",",qr(Ma,_),",",qr(Ma,F))}function Hi(l,_){return(_[1]-l[1])/(_[0]-l[0])}function Vf(l){for(var _=0,F=l.length-1,X=[],$=l[0],te=l[1],me=X[0]=Hi($,te);++_<F;)X[_]=(me+(me=Hi($=te,te=l[_+1])))/2;return X[_]=me,X}function Wf(l){for(var _=[],F,X,$,te,me=Vf(l),de=-1,be=l.length-1;++de<be;)F=Hi(l[de],l[de+1]),x(F)<Oe?me[de]=me[de+1]=0:(X=me[de]/F,$=me[de+1]/F,te=X*X+$*$,te>9&&(te=F*3/Math.sqrt(te),me[de]=te*X,me[de+1]=te*$));for(de=-1;++de<=be;)te=(l[Math.min(be,de+1)][0]-l[Math.max(0,de-1)][0])/(6*(1+me[de]*me[de])),_.push([te||0,me[de]*te||0]);return _}function Zf(l){return l.length<3?aa(l):l[0]+Un(l,Wf(l))}e.svg.line.radial=function(){var l=Ml(Ll);return l.radius=l.x,delete l.x,l.angle=l.y,delete l.y,l};function Ll(l){for(var _,F=-1,X=l.length,$,te;++F<X;)_=l[F],$=_[0],te=_[1]-Pe,_[0]=$*Math.cos(te),_[1]=$*Math.sin(te);return l}function Dl(l){var _=Sr,F=Sr,X=0,$=Lr,te=Tl,me=aa,de=me.key,be=me,Te="L",Me=.7;function ze(He){var et=[],st=[],Be=[],Xe=-1,Qe=He.length,lt,ft=Dt(_),qe=Dt(X),Pt=_===F?function(){return Kt}:Dt(F),Wt=X===$?function(){return Xt}:Dt($),Kt,Xt;function er(){et.push("M",me(l(Be),Me),Te,be(l(st.reverse()),Me),"Z")}for(;++Xe<Qe;)te.call(this,lt=He[Xe],Xe)?(st.push([Kt=+ft.call(this,lt,Xe),Xt=+qe.call(this,lt,Xe)]),Be.push([+Pt.call(this,lt,Xe),+Wt.call(this,lt,Xe)])):st.length&&(er(),st=[],Be=[]);return st.length&&er(),et.length?et.join(""):null}return ze.x=function(He){return arguments.length?(_=F=He,ze):F},ze.x0=function(He){return arguments.length?(_=He,ze):_},ze.x1=function(He){return arguments.length?(F=He,ze):F},ze.y=function(He){return arguments.length?(X=$=He,ze):$},ze.y0=function(He){return arguments.length?(X=He,ze):X},ze.y1=function(He){return arguments.length?($=He,ze):$},ze.defined=function(He){return arguments.length?(te=He,ze):te},ze.interpolate=function(He){return arguments.length?(typeof He=="function"?de=me=He:de=(me=Ni.get(He)||aa).key,be=me.reverse||me,Te=me.closed?"M":"L",ze):de},ze.tension=function(He){return arguments.length?(Me=He,ze):Me},ze}Fi.reverse=Ii,Ii.reverse=Fi,e.svg.area=function(){return Dl(ae)},e.svg.area.radial=function(){var l=Dl(Ll);return l.radius=l.x,delete l.x,l.innerRadius=l.x0,delete l.x0,l.outerRadius=l.x1,delete l.x1,l.angle=l.y,delete l.y,l.startAngle=l.y0,delete l.y0,l.endAngle=l.y1,delete l.y1,l};function El(l){return l.source}function Rl(l){return l.target}e.svg.chord=function(){var l=El,_=Rl,F=Xf,X=_l,$=wl;function te(Me,ze){var He=me(this,l,Me,ze),et=me(this,_,Me,ze);return"M"+He.p0+be(He.r,He.p1,He.a1-He.a0)+(de(He,et)?Te(He.r,He.p1,He.r,He.p0):Te(He.r,He.p1,et.r,et.p0)+be(et.r,et.p1,et.a1-et.a0)+Te(et.r,et.p1,He.r,He.p0))+"Z"}function me(Me,ze,He,et){var st=ze.call(Me,He,et),Be=F.call(Me,st,et),Xe=X.call(Me,st,et)-Pe,Qe=$.call(Me,st,et)-Pe;return{r:Be,a0:Xe,a1:Qe,p0:[Be*Math.cos(Xe),Be*Math.sin(Xe)],p1:[Be*Math.cos(Qe),Be*Math.sin(Qe)]}}function de(Me,ze){return Me.a0==ze.a0&&Me.a1==ze.a1}function be(Me,ze,He){return"A"+Me+","+Me+" 0 "+ +(He>pe)+",1 "+ze}function Te(Me,ze,He,et){return"Q 0,0 "+et}return te.radius=function(Me){return arguments.length?(F=Dt(Me),te):F},te.source=function(Me){return arguments.length?(l=Dt(Me),te):l},te.target=function(Me){return arguments.length?(_=Dt(Me),te):_},te.startAngle=function(Me){return arguments.length?(X=Dt(Me),te):X},te.endAngle=function(Me){return arguments.length?($=Dt(Me),te):$},te};function Xf(l){return l.radius}e.svg.diagonal=function(){var l=El,_=Rl,F=Pl;function X($,te){var me=l.call(this,$,te),de=_.call(this,$,te),be=(me.y+de.y)/2,Te=[me,{x:me.x,y:be},{x:de.x,y:be},de];return Te=Te.map(F),"M"+Te[0]+"C"+Te[1]+" "+Te[2]+" "+Te[3]}return X.source=function($){return arguments.length?(l=Dt($),X):l},X.target=function($){return arguments.length?(_=Dt($),X):_},X.projection=function($){return arguments.length?(F=$,X):F},X};function Pl(l){return[l.x,l.y]}e.svg.diagonal.radial=function(){var l=e.svg.diagonal(),_=Pl,F=l.projection;return l.projection=function(X){return arguments.length?F(Jf(_=X)):_},l};function Jf(l){return function(){var _=l.apply(this,arguments),F=_[0],X=_[1]-Pe;return[F*Math.cos(X),F*Math.sin(X)]}}e.svg.symbol=function(){var l=Kf,_=jf;function F(X,$){return(Fl.get(l.call(this,X,$))||Nl)(_.call(this,X,$))}return F.type=function(X){return arguments.length?(l=Dt(X),F):l},F.size=function(X){return arguments.length?(_=Dt(X),F):_},F};function jf(){return 64}function Kf(){return"circle"}function Nl(l){var _=Math.sqrt(l/pe);return"M0,"+_+"A"+_+","+_+" 0 1,1 0,"+-_+"A"+_+","+_+" 0 1,1 0,"+_+"Z"}var Fl=e.map({circle:Nl,cross:function(l){var _=Math.sqrt(l/5)/2;return"M"+-3*_+","+-_+"H"+-_+"V"+-3*_+"H"+_+"V"+-_+"H"+3*_+"V"+_+"H"+_+"V"+3*_+"H"+-_+"V"+_+"H"+-3*_+"Z"},diamond:function(l){var _=Math.sqrt(l/(2*Il)),F=_*Il;return"M0,"+-_+"L"+F+",0 0,"+_+" "+-F+",0Z"},square:function(l){var _=Math.sqrt(l)/2;return"M"+-_+","+-_+"L"+_+","+-_+" "+_+","+_+" "+-_+","+_+"Z"},"triangle-down":function(l){var _=Math.sqrt(l/Yn),F=_*Yn/2;return"M0,"+F+"L"+_+","+-F+" "+-_+","+-F+"Z"},"triangle-up":function(l){var _=Math.sqrt(l/Yn),F=_*Yn/2;return"M0,"+-F+"L"+_+","+F+" "+-_+","+F+"Z"}});e.svg.symbolTypes=Fl.keys();var Yn=Math.sqrt(3),Il=Math.tan(30*tt);E.transition=function(l){for(var _=Pa||++Ol,F=Ui(l),X=[],$,te,me=Vn||{time:Date.now(),ease:Su,delay:0,duration:250},de=-1,be=this.length;++de<be;){X.push($=[]);for(var Te=this[de],Me=-1,ze=Te.length;++Me<ze;)(te=Te[Me])&&Wn(te,Me,F,_,me),$.push(te)}return yn(X,F,_)},E.interrupt=function(l){return this.each(l==null?Gn:zl(Ui(l)))};var Gn=zl(Ui());function zl(l){return function(){var _,F,X;(_=this[l])&&(X=_[F=_.active])&&(X.timer.c=null,X.timer.t=NaN,--_.count?delete _[F]:delete this[l],_.active+=.5,X.event&&X.event.interrupt.call(this,this.__data__,X.index))}}function yn(l,_,F){return oe(l,Dr),l.namespace=_,l.id=F,l}var Dr=[],Ol=0,Pa,Vn;Dr.call=E.call,Dr.empty=E.empty,Dr.node=E.node,Dr.size=E.size,e.transition=function(l,_){return l&&l.transition?Pa?l.transition(_):l:e.selection().transition(l)},e.transition.prototype=Dr,Dr.select=function(l){var _=this.id,F=this.namespace,X=[],$,te,me;l=b(l);for(var de=-1,be=this.length;++de<be;){X.push($=[]);for(var Te=this[de],Me=-1,ze=Te.length;++Me<ze;)(me=Te[Me])&&(te=l.call(me,me.__data__,Me,de))?("__data__"in me&&(te.__data__=me.__data__),Wn(te,Me,F,_,me[F][_]),$.push(te)):$.push(null)}return yn(X,F,_)},Dr.selectAll=function(l){var _=this.id,F=this.namespace,X=[],$,te,me,de,be;l=O(l);for(var Te=-1,Me=this.length;++Te<Me;)for(var ze=this[Te],He=-1,et=ze.length;++He<et;)if(me=ze[He]){be=me[F][_],te=l.call(me,me.__data__,He,Te),X.push($=[]);for(var st=-1,Be=te.length;++st<Be;)(de=te[st])&&Wn(de,st,F,_,be),$.push(de)}return yn(X,F,_)},Dr.filter=function(l){var _=[],F,X,$;typeof l!="function"&&(l=_e(l));for(var te=0,me=this.length;te<me;te++){_.push(F=[]);for(var X=this[te],de=0,be=X.length;de<be;de++)($=X[de])&&l.call($,$.__data__,de,te)&&F.push($)}return yn(_,this.namespace,this.id)},Dr.tween=function(l,_){var F=this.id,X=this.namespace;return arguments.length<2?this.node()[X][F].tween.get(l):Ze(this,_==null?function($){$[X][F].tween.remove(l)}:function($){$[X][F].tween.set(l,_)})};function Bi(l,_,F,X){var $=l.id,te=l.namespace;return Ze(l,typeof F=="function"?function(me,de,be){me[te][$].tween.set(_,X(F.call(me,me.__data__,de,be)))}:(F=X(F),function(me){me[te][$].tween.set(_,F)}))}Dr.attr=function(l,_){if(arguments.length<2){for(_ in l)this.attr(_,l[_]);return this}var F=l=="transform"?Ko:Ra,X=e.ns.qualify(l);function $(){this.removeAttribute(X)}function te(){this.removeAttributeNS(X.space,X.local)}function me(be){return be==null?$:(be+="",function(){var Te=this.getAttribute(X),Me;return Te!==be&&(Me=F(Te,be),function(ze){this.setAttribute(X,Me(ze))})})}function de(be){return be==null?te:(be+="",function(){var Te=this.getAttributeNS(X.space,X.local),Me;return Te!==be&&(Me=F(Te,be),function(ze){this.setAttributeNS(X.space,X.local,Me(ze))})})}return Bi(this,"attr."+l,_,X.local?de:me)},Dr.attrTween=function(l,_){var F=e.ns.qualify(l);function X(te,me){var de=_.call(this,te,me,this.getAttribute(F));return de&&function(be){this.setAttribute(F,de(be))}}function $(te,me){var de=_.call(this,te,me,this.getAttributeNS(F.space,F.local));return de&&function(be){this.setAttributeNS(F.space,F.local,de(be))}}return this.tween("attr."+l,F.local?$:X)},Dr.style=function(l,_,F){var X=arguments.length;if(X<3){if(typeof l!="string"){X<2&&(_="");for(F in l)this.style(F,l[F],_);return this}F=""}function $(){this.style.removeProperty(l)}function te(me){return me==null?$:(me+="",function(){var de=f(this).getComputedStyle(this,null).getPropertyValue(l),be;return de!==me&&(be=Ra(de,me),function(Te){this.style.setProperty(l,be(Te),F)})})}return Bi(this,"style."+l,_,te)},Dr.styleTween=function(l,_,F){arguments.length<3&&(F="");function X($,te){var me=_.call(this,$,te,f(this).getComputedStyle(this,null).getPropertyValue(l));return me&&function(de){this.style.setProperty(l,me(de),F)}}return this.tween("style."+l,X)},Dr.text=function(l){return Bi(this,"text",l,$f)};function $f(l){return l==null&&(l=""),function(){this.textContent=l}}Dr.remove=function(){var l=this.namespace;return this.each("end.transition",function(){var _;this[l].count<2&&(_=this.parentNode)&&_.removeChild(this)})},Dr.ease=function(l){var _=this.id,F=this.namespace;return arguments.length<1?this.node()[F][_].ease:(typeof l!="function"&&(l=e.ease.apply(e,arguments)),Ze(this,function(X){X[F][_].ease=l}))},Dr.delay=function(l){var _=this.id,F=this.namespace;return arguments.length<1?this.node()[F][_].delay:Ze(this,typeof l=="function"?function(X,$,te){X[F][_].delay=+l.call(X,X.__data__,$,te)}:(l=+l,function(X){X[F][_].delay=l}))},Dr.duration=function(l){var _=this.id,F=this.namespace;return arguments.length<1?this.node()[F][_].duration:Ze(this,typeof l=="function"?function(X,$,te){X[F][_].duration=Math.max(1,l.call(X,X.__data__,$,te))}:(l=Math.max(1,l),function(X){X[F][_].duration=l}))},Dr.each=function(l,_){var F=this.id,X=this.namespace;if(arguments.length<2){var $=Vn,te=Pa;try{Pa=F,Ze(this,function(me,de,be){Vn=me[X][F],l.call(me,me.__data__,de,be)})}finally{Vn=$,Pa=te}}else Ze(this,function(me){var de=me[X][F];(de.event||(de.event=e.dispatch("start","end","interrupt"))).on(l,_)});return this},Dr.transition=function(){for(var l=this.id,_=++Ol,F=this.namespace,X=[],$,te,me,de,be=0,Te=this.length;be<Te;be++){X.push($=[]);for(var te=this[be],Me=0,ze=te.length;Me<ze;Me++)(me=te[Me])&&(de=me[F][l],Wn(me,Me,F,_,{time:de.time,ease:de.ease,delay:de.delay+de.duration,duration:de.duration})),$.push(me)}return yn(X,F,_)};function Ui(l){return l==null?"__transition__":"__transition_"+l+"__"}function Wn(l,_,F,X,$){var te=l[F]||(l[F]={active:0,count:0}),me=te[X],de,be,Te,Me,ze;function He(Be){var Xe=me.delay;if(be.t=Xe+de,Xe<=Be)return et(Be-Xe);be.c=et}function et(Be){var Xe=te.active,Qe=te[Xe];Qe&&(Qe.timer.c=null,Qe.timer.t=NaN,--te.count,delete te[Xe],Qe.event&&Qe.event.interrupt.call(l,l.__data__,Qe.index));for(var lt in te)if(+lt<X){var ft=te[lt];ft.timer.c=null,ft.timer.t=NaN,--te.count,delete te[lt]}be.c=st,xr(function(){return be.c&&st(Be||1)&&(be.c=null,be.t=NaN),1},0,de),te.active=X,me.event&&me.event.start.call(l,l.__data__,_),ze=[],me.tween.forEach(function(qe,Pt){(Pt=Pt.call(l,l.__data__,_))&&ze.push(Pt)}),Me=me.ease,Te=me.duration}function st(Be){for(var Xe=Be/Te,Qe=Me(Xe),lt=ze.length;lt>0;)ze[--lt].call(l,Qe);if(Xe>=1)return me.event&&me.event.end.call(l,l.__data__,_),--te.count?delete te[X]:delete l[F],1}me||(de=$.time,be=xr(He,0,de),me=te[X]={tween:new m,time:de,timer:be,delay:$.delay,duration:$.duration,ease:$.ease,index:_},$=null,++te.count)}e.svg.axis=function(){var l=e.scale.linear(),_=Hl,F=6,X=6,$=3,te=[10],me=null,de;function be(Te){Te.each(function(){var Me=e.select(this),ze=this.__chart__||l,He=this.__chart__=l.copy(),et=me==null?He.ticks?He.ticks.apply(He,te):He.domain():me,st=de==null?He.tickFormat?He.tickFormat.apply(He,te):ae:de,Be=Me.selectAll(".tick").data(et,He),Xe=Be.enter().insert("g",".domain").attr("class","tick").style("opacity",Oe),Qe=e.transition(Be.exit()).style("opacity",Oe).remove(),lt=e.transition(Be.order()).style("opacity",1),ft=Math.max(F,0)+$,qe,Pt=In(He),Wt=Me.selectAll(".domain").data([0]),Kt=(Wt.enter().append("path").attr("class","domain"),e.transition(Wt));Xe.append("line"),Xe.append("text");var Xt=Xe.select("line"),er=lt.select("line"),tr=Be.select("text").text(st),sr=Xe.select("text"),ar=lt.select("text"),or=_==="top"||_==="left"?-1:1,pr,Cr,yr,Gt;if(_==="bottom"||_==="top"?(qe=qf,pr="x",yr="y",Cr="x2",Gt="y2",tr.attr("dy",or<0?"0em":".71em").style("text-anchor","middle"),Kt.attr("d","M"+Pt[0]+","+or*X+"V0H"+Pt[1]+"V"+or*X)):(qe=ec,pr="y",yr="x",Cr="y2",Gt="x2",tr.attr("dy",".32em").style("text-anchor",or<0?"end":"start"),Kt.attr("d","M"+or*X+","+Pt[0]+"H0V"+Pt[1]+"H"+or*X)),Xt.attr(Gt,or*F),sr.attr(yr,or*ft),er.attr(Cr,0).attr(Gt,or*F),ar.attr(pr,0).attr(yr,or*ft),He.rangeBand){var ur=He,cr=ur.rangeBand()/2;ze=He=function(mr){return ur(mr)+cr}}else ze.rangeBand?ze=He:Qe.call(qe,He,ze);Xe.call(qe,ze,He),lt.call(qe,He,He)})}return be.scale=function(Te){return arguments.length?(l=Te,be):l},be.orient=function(Te){return arguments.length?(_=Te in Qf?Te+"":Hl,be):_},be.ticks=function(){return arguments.length?(te=i(arguments),be):te},be.tickValues=function(Te){return arguments.length?(me=Te,be):me},be.tickFormat=function(Te){return arguments.length?(de=Te,be):de},be.tickSize=function(Te){var Me=arguments.length;return Me?(F=+Te,X=+arguments[Me-1],be):F},be.innerTickSize=function(Te){return arguments.length?(F=+Te,be):F},be.outerTickSize=function(Te){return arguments.length?(X=+Te,be):X},be.tickPadding=function(Te){return arguments.length?($=+Te,be):$},be.tickSubdivide=function(){return arguments.length&&be},be};var Hl="bottom",Qf={top:1,right:1,bottom:1,left:1};function qf(l,_,F){l.attr("transform",function(X){var $=_(X);return"translate("+(isFinite($)?$:F(X))+",0)"})}function ec(l,_,F){l.attr("transform",function(X){var $=_(X);return"translate(0,"+(isFinite($)?$:F(X))+")"})}e.svg.brush=function(){var l=q(Me,"brushstart","brush","brushend"),_=null,F=null,X=[0,0],$=[0,0],te,me,de=!0,be=!0,Te=Yi[0];function Me(Be){Be.each(function(){var Xe=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",st).on("touchstart.brush",st),Qe=Xe.selectAll(".background").data([0]);Qe.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Xe.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var lt=Xe.selectAll(".resize").data(Te,ae);lt.exit().remove(),lt.enter().append("g").attr("class",function(Wt){return"resize "+Wt}).style("cursor",function(Wt){return tc[Wt]}).append("rect").attr("x",function(Wt){return/[ew]$/.test(Wt)?-3:null}).attr("y",function(Wt){return/^[ns]/.test(Wt)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),lt.style("display",Me.empty()?"none":null);var ft=e.transition(Xe),qe=e.transition(Qe),Pt;_&&(Pt=In(_),qe.attr("x",Pt[0]).attr("width",Pt[1]-Pt[0]),He(ft)),F&&(Pt=In(F),qe.attr("y",Pt[0]).attr("height",Pt[1]-Pt[0]),et(ft)),ze(ft)})}Me.event=function(Be){Be.each(function(){var Xe=l.of(this,arguments),Qe={x:X,y:$,i:te,j:me},lt=this.__chart__||Qe;this.__chart__=Qe,Pa?e.select(this).transition().each("start.brush",function(){te=lt.i,me=lt.j,X=lt.x,$=lt.y,Xe({type:"brushstart"})}).tween("brush:brush",function(){var ft=Nn(X,Qe.x),qe=Nn($,Qe.y);return te=me=null,function(Pt){X=Qe.x=ft(Pt),$=Qe.y=qe(Pt),Xe({type:"brush",mode:"resize"})}}).each("end.brush",function(){te=Qe.i,me=Qe.j,Xe({type:"brush",mode:"resize"}),Xe({type:"brushend"})}):(Xe({type:"brushstart"}),Xe({type:"brush",mode:"resize"}),Xe({type:"brushend"}))})};function ze(Be){Be.selectAll(".resize").attr("transform",function(Xe){return"translate("+X[+/e$/.test(Xe)]+","+$[+/^s/.test(Xe)]+")"})}function He(Be){Be.select(".extent").attr("x",X[0]),Be.selectAll(".extent,.n>rect,.s>rect").attr("width",X[1]-X[0])}function et(Be){Be.select(".extent").attr("y",$[0]),Be.selectAll(".extent,.e>rect,.w>rect").attr("height",$[1]-$[0])}function st(){var Be=this,Xe=e.select(e.event.target),Qe=l.of(Be,arguments),lt=e.select(Be),ft=Xe.datum(),qe=!/^(n|s)$/.test(ft)&&_,Pt=!/^(e|w)$/.test(ft)&&F,Wt=Xe.classed("extent"),Kt=ot(Be),Xt,er=e.mouse(Be),tr,sr=e.select(f(Be)).on("keydown.brush",pr).on("keyup.brush",Cr);if(e.event.changedTouches?sr.on("touchmove.brush",yr).on("touchend.brush",ur):sr.on("mousemove.brush",yr).on("mouseup.brush",ur),lt.interrupt().selectAll("*").interrupt(),Wt)er[0]=X[0]-er[0],er[1]=$[0]-er[1];else if(ft){var ar=+/w$/.test(ft),or=+/^n/.test(ft);tr=[X[1-ar]-er[0],$[1-or]-er[1]],er[0]=X[ar],er[1]=$[or]}else e.event.altKey&&(Xt=er.slice());lt.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",Xe.style("cursor")),Qe({type:"brushstart"}),yr();function pr(){e.event.keyCode==32&&(Wt||(Xt=null,er[0]-=X[1],er[1]-=$[1],Wt=2),ge())}function Cr(){e.event.keyCode==32&&Wt==2&&(er[0]+=X[1],er[1]+=$[1],Wt=0,ge())}function yr(){var cr=e.mouse(Be),mr=!1;tr&&(cr[0]+=tr[0],cr[1]+=tr[1]),Wt||(e.event.altKey?(Xt||(Xt=[(X[0]+X[1])/2,($[0]+$[1])/2]),er[0]=X[+(cr[0]<Xt[0])],er[1]=$[+(cr[1]<Xt[1])]):Xt=null),qe&&Gt(cr,_,0)&&(He(lt),mr=!0),Pt&&Gt(cr,F,1)&&(et(lt),mr=!0),mr&&(ze(lt),Qe({type:"brush",mode:Wt?"move":"resize"}))}function Gt(cr,mr,Tr){var Er=In(mr),Nr=Er[0],Br=Er[1],Yr=er[Tr],Ur=Tr?$:X,Wr=Ur[1]-Ur[0],zr,Zr;if(Wt&&(Nr-=Yr,Br-=Wr+Yr),zr=(Tr?be:de)?Math.max(Nr,Math.min(Br,cr[Tr])):cr[Tr],Wt?Zr=(zr+=Yr)+Wr:(Xt&&(Yr=Math.max(Nr,Math.min(Br,2*Xt[Tr]-zr))),Yr<zr?(Zr=zr,zr=Yr):Zr=Yr),Ur[0]!=zr||Ur[1]!=Zr)return Tr?me=null:te=null,Ur[0]=zr,Ur[1]=Zr,!0}function ur(){yr(),lt.style("pointer-events","all").selectAll(".resize").style("display",Me.empty()?"none":null),e.select("body").style("cursor",null),sr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Kt(),Qe({type:"brushend"})}}return Me.x=function(Be){return arguments.length?(_=Be,Te=Yi[!_<<1|!F],Me):_},Me.y=function(Be){return arguments.length?(F=Be,Te=Yi[!_<<1|!F],Me):F},Me.clamp=function(Be){return arguments.length?(_&&F?(de=!!Be[0],be=!!Be[1]):_?de=!!Be:F&&(be=!!Be),Me):_&&F?[de,be]:_?de:F?be:null},Me.extent=function(Be){var Xe,Qe,lt,ft,qe;return arguments.length?(_&&(Xe=Be[0],Qe=Be[1],F&&(Xe=Xe[0],Qe=Qe[0]),te=[Xe,Qe],_.invert&&(Xe=_(Xe),Qe=_(Qe)),Qe<Xe&&(qe=Xe,Xe=Qe,Qe=qe),(Xe!=X[0]||Qe!=X[1])&&(X=[Xe,Qe])),F&&(lt=Be[0],ft=Be[1],_&&(lt=lt[1],ft=ft[1]),me=[lt,ft],F.invert&&(lt=F(lt),ft=F(ft)),ft<lt&&(qe=lt,lt=ft,ft=qe),(lt!=$[0]||ft!=$[1])&&($=[lt,ft])),Me):(_&&(te?(Xe=te[0],Qe=te[1]):(Xe=X[0],Qe=X[1],_.invert&&(Xe=_.invert(Xe),Qe=_.invert(Qe)),Qe<Xe&&(qe=Xe,Xe=Qe,Qe=qe))),F&&(me?(lt=me[0],ft=me[1]):(lt=$[0],ft=$[1],F.invert&&(lt=F.invert(lt),ft=F.invert(ft)),ft<lt&&(qe=lt,lt=ft,ft=qe))),_&&F?[[Xe,lt],[Qe,ft]]:_?[Xe,Qe]:F&&[lt,ft])},Me.clear=function(){return Me.empty()||(X=[0,0],$=[0,0],te=me=null),Me},Me.empty=function(){return!!_&&X[0]==X[1]||!!F&&$[0]==$[1]},e.rebind(Me,l,"on")};var tc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Yi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];e.text=Jt(function(l){return l.responseText}),e.json=function(l,_){return jt(l,"application/json",rc,_)};function rc(l){return JSON.parse(l.responseText)}e.html=function(l,_){return jt(l,"text/html",ac,_)};function ac(l){var _=n.createRange();return _.selectNode(n.body),_.createContextualFragment(l.responseText)}e.xml=Jt(function(l){return l.responseXML}),typeof P=="object"&&P.exports?P.exports=e:this.d3=e}).apply(self)},{}],12:[function(t,P,k){var e=typeof Reflect=="object"?Reflect:null,a=e&&typeof e.apply=="function"?e.apply:function(v,m,A){return Function.prototype.apply.call(v,m,A)},i;e&&typeof e.ownKeys=="function"?i=e.ownKeys:Object.getOwnPropertySymbols?i=function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:i=function(v){return Object.getOwnPropertyNames(v)};function n(M){console&&console.warn&&console.warn(M)}var r=Number.isNaN||function(v){return v!==v};function f(){f.init.call(this)}P.exports=f,P.exports.once=x,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var u=10;function s(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(M){if(typeof M!="number"||M<0||r(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");u=M}}),f.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(v){if(typeof v!="number"||v<0||r(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this};function o(M){return M._maxListeners===void 0?f.defaultMaxListeners:M._maxListeners}f.prototype.getMaxListeners=function(){return o(this)},f.prototype.emit=function(v){for(var m=[],A=1;A<arguments.length;A++)m.push(arguments[A]);var V=v==="error",T=this._events;if(T!==void 0)V=V&&T.error===void 0;else if(!V)return!1;if(V){var Y;if(m.length>0&&(Y=m[0]),Y instanceof Error)throw Y;var G=new Error("Unhandled error."+(Y?" ("+Y.message+")":""));throw G.context=Y,G}var S=T[v];if(S===void 0)return!1;if(typeof S=="function")a(S,this,m);else for(var U=S.length,W=D(S,U),A=0;A<U;++A)a(W[A],this,m);return!0};function h(M,v,m,A){var V,T,Y;if(s(m),T=M._events,T===void 0?(T=M._events=Object.create(null),M._eventsCount=0):(T.newListener!==void 0&&(M.emit("newListener",v,m.listener?m.listener:m),T=M._events),Y=T[v]),Y===void 0)Y=T[v]=m,++M._eventsCount;else if(typeof Y=="function"?Y=T[v]=A?[m,Y]:[Y,m]:A?Y.unshift(m):Y.push(m),V=o(M),V>0&&Y.length>V&&!Y.warned){Y.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+Y.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=M,G.type=v,G.count=Y.length,n(G)}return M}f.prototype.addListener=function(v,m){return h(this,v,m,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(v,m){return h(this,v,m,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(M,v,m){var A={fired:!1,wrapFn:void 0,target:M,type:v,listener:m},V=p.bind(A);return V.listener=m,A.wrapFn=V,V}f.prototype.once=function(v,m){return s(m),this.on(v,d(this,v,m)),this},f.prototype.prependOnceListener=function(v,m){return s(m),this.prependListener(v,d(this,v,m)),this},f.prototype.removeListener=function(v,m){var A,V,T,Y,G;if(s(m),V=this._events,V===void 0)return this;if(A=V[v],A===void 0)return this;if(A===m||A.listener===m)--this._eventsCount==0?this._events=Object.create(null):(delete V[v],V.removeListener&&this.emit("removeListener",v,A.listener||m));else if(typeof A!="function"){for(T=-1,Y=A.length-1;Y>=0;Y--)if(A[Y]===m||A[Y].listener===m){G=A[Y].listener,T=Y;break}if(T<0)return this;T===0?A.shift():C(A,T),A.length===1&&(V[v]=A[0]),V.removeListener!==void 0&&this.emit("removeListener",v,G||m)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(v){var m,A,V;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[v]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete A[v]),this;if(arguments.length===0){var T=Object.keys(A),Y;for(V=0;V<T.length;++V)Y=T[V],Y!=="removeListener"&&this.removeAllListeners(Y);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(m=A[v],typeof m=="function")this.removeListener(v,m);else if(m!==void 0)for(V=m.length-1;V>=0;V--)this.removeListener(v,m[V]);return this};function y(M,v,m){var A=M._events;if(A===void 0)return[];var V=A[v];return V===void 0?[]:typeof V=="function"?m?[V.listener||V]:[V]:m?L(V):D(V,V.length)}f.prototype.listeners=function(v){return y(this,v,!0)},f.prototype.rawListeners=function(v){return y(this,v,!1)},f.listenerCount=function(M,v){return typeof M.listenerCount=="function"?M.listenerCount(v):g.call(M,v)},f.prototype.listenerCount=g;function g(M){var v=this._events;if(v!==void 0){var m=v[M];if(typeof m=="function")return 1;if(m!==void 0)return m.length}return 0}f.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]};function D(M,v){for(var m=new Array(v),A=0;A<v;++A)m[A]=M[A];return m}function C(M,v){for(;v+1<M.length;v++)M[v]=M[v+1];M.pop()}function L(M){for(var v=new Array(M.length),m=0;m<v.length;++m)v[m]=M[m].listener||M[m];return v}function x(M,v){return new Promise(function(m,A){function V(){T!==void 0&&M.removeListener("error",T),m([].slice.call(arguments))}var T;v!=="error"&&(T=function(G){M.removeListener(v,V),A(G)},M.once("error",T)),M.once(v,V)})}},{}],13:[function(t,P,k){(function(e,a){typeof k=="object"&&typeof P!="undefined"?a(k):(e=typeof globalThis!="undefined"?globalThis:e||self,a(e.d3=e.d3||{}))})(this,function(e){function a(T){return Math.abs(T=Math.round(T))>=1e21?T.toLocaleString("en").replace(/,/g,""):T.toString(10)}function i(T,Y){if((G=(T=Y?T.toExponential(Y-1):T.toExponential()).indexOf("e"))<0)return null;var G,S=T.slice(0,G);return[S.length>1?S[0]+S.slice(2):S,+T.slice(G+1)]}function n(T){return T=i(Math.abs(T)),T?T[1]:NaN}function r(T,Y){return function(G,S){for(var U=G.length,W=[],K=0,J=T[0],ae=0;U>0&&J>0&&(ae+J+1>S&&(J=Math.max(1,S-ae)),W.push(G.substring(U-=J,U+J)),!((ae+=J+1)>S));)J=T[K=(K+1)%T.length];return W.reverse().join(Y)}}function f(T){return function(Y){return Y.replace(/[0-9]/g,function(G){return T[+G]})}}var u=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s(T){if(!(Y=u.exec(T)))throw new Error("invalid format: "+T);var Y;return new o({fill:Y[1],align:Y[2],sign:Y[3],symbol:Y[4],zero:Y[5],width:Y[6],comma:Y[7],precision:Y[8]&&Y[8].slice(1),trim:Y[9],type:Y[10]})}s.prototype=o.prototype;function o(T){this.fill=T.fill===void 0?" ":T.fill+"",this.align=T.align===void 0?">":T.align+"",this.sign=T.sign===void 0?"-":T.sign+"",this.symbol=T.symbol===void 0?"":T.symbol+"",this.zero=!!T.zero,this.width=T.width===void 0?void 0:+T.width,this.comma=!!T.comma,this.precision=T.precision===void 0?void 0:+T.precision,this.trim=!!T.trim,this.type=T.type===void 0?"":T.type+""}o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function h(T){e:for(var Y=T.length,G=1,S=-1,U;G<Y;++G)switch(T[G]){case".":S=U=G;break;case"0":S===0&&(S=G),U=G;break;default:if(!+T[G])break e;S>0&&(S=0);break}return S>0?T.slice(0,S)+T.slice(U+1):T}var p;function d(T,Y){var G=i(T,Y);if(!G)return T+"";var S=G[0],U=G[1],W=U-(p=Math.max(-8,Math.min(8,Math.floor(U/3)))*3)+1,K=S.length;return W===K?S:W>K?S+new Array(W-K+1).join("0"):W>0?S.slice(0,W)+"."+S.slice(W):"0."+new Array(1-W).join("0")+i(T,Math.max(0,Y+W-1))[0]}function y(T,Y){var G=i(T,Y);if(!G)return T+"";var S=G[0],U=G[1];return U<0?"0."+new Array(-U).join("0")+S:S.length>U+1?S.slice(0,U+1)+"."+S.slice(U+1):S+new Array(U-S.length+2).join("0")}var g={"%":function(T,Y){return(T*100).toFixed(Y)},b:function(T){return Math.round(T).toString(2)},c:function(T){return T+""},d:a,e:function(T,Y){return T.toExponential(Y)},f:function(T,Y){return T.toFixed(Y)},g:function(T,Y){return T.toPrecision(Y)},o:function(T){return Math.round(T).toString(8)},p:function(T,Y){return y(T*100,Y)},r:y,s:d,X:function(T){return Math.round(T).toString(16).toUpperCase()},x:function(T){return Math.round(T).toString(16)}};function D(T){return T}var C=Array.prototype.map,L=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function x(T){var Y=T.grouping===void 0||T.thousands===void 0?D:r(C.call(T.grouping,Number),T.thousands+""),G=T.currency===void 0?"":T.currency[0]+"",S=T.currency===void 0?"":T.currency[1]+"",U=T.decimal===void 0?".":T.decimal+"",W=T.numerals===void 0?D:f(C.call(T.numerals,String)),K=T.percent===void 0?"%":T.percent+"",J=T.minus===void 0?"-":T.minus+"",ae=T.nan===void 0?"NaN":T.nan+"";function z(Z){Z=s(Z);var re=Z.fill,ie=Z.align,ue=Z.sign,ge=Z.symbol,ee=Z.zero,q=Z.width,ne=Z.comma,oe=Z.precision,Q=Z.trim,c=Z.type;c==="n"?(ne=!0,c="g"):g[c]||(oe===void 0&&(oe=12),Q=!0,c="g"),(ee||re==="0"&&ie==="=")&&(ee=!0,re="0",ie="=");var w=ge==="$"?G:ge==="#"&&/[boxX]/.test(c)?"0"+c.toLowerCase():"",B=ge==="$"?S:/[%p]/.test(c)?K:"",E=g[c],b=/[defgprs%]/.test(c);oe=oe===void 0?6:/[gprs]/.test(c)?Math.max(1,Math.min(21,oe)):Math.max(0,Math.min(20,oe));function O(N){var R=w,j=B,se,fe,ce;if(c==="c")j=E(N)+j,N="";else{N=+N;var ye=N<0||1/N<0;if(N=isNaN(N)?ae:E(Math.abs(N),oe),Q&&(N=h(N)),ye&&+N==0&&ue!=="+"&&(ye=!1),R=(ye?ue==="("?ue:J:ue==="-"||ue==="("?"":ue)+R,j=(c==="s"?L[8+p/3]:"")+j+(ye&&ue==="("?")":""),b){for(se=-1,fe=N.length;++se<fe;)if(ce=N.charCodeAt(se),48>ce||ce>57){j=(ce===46?U+N.slice(se+1):N.slice(se))+j,N=N.slice(0,se);break}}}ne&&!ee&&(N=Y(N,1/0));var xe=R.length+N.length+j.length,De=xe<q?new Array(q-xe+1).join(re):"";switch(ne&&ee&&(N=Y(De+N,De.length?q-j.length:1/0),De=""),ie){case"<":N=R+N+j+De;break;case"=":N=R+De+N+j;break;case"^":N=De.slice(0,xe=De.length>>1)+R+N+j+De.slice(xe);break;default:N=De+R+N+j;break}return W(N)}return O.toString=function(){return Z+""},O}function H(Z,re){var ie=z((Z=s(Z),Z.type="f",Z)),ue=Math.max(-8,Math.min(8,Math.floor(n(re)/3)))*3,ge=Math.pow(10,-ue),ee=L[8+ue/3];return function(q){return ie(ge*q)+ee}}return{format:z,formatPrefix:H}}var M;v({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function v(T){return M=x(T),e.format=M.format,e.formatPrefix=M.formatPrefix,M}function m(T){return Math.max(0,-n(Math.abs(T)))}function A(T,Y){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(Y)/3)))*3-n(Math.abs(T)))}function V(T,Y){return T=Math.abs(T),Y=Math.abs(Y)-T,Math.max(0,n(Y)-n(T))+1}e.FormatSpecifier=o,e.formatDefaultLocale=v,e.formatLocale=x,e.formatSpecifier=s,e.precisionFixed=m,e.precisionPrefix=A,e.precisionRound=V,Object.defineProperty(e,"__esModule",{value:!0})})},{}],14:[function(t,P,k){(function(e,a){typeof k=="object"&&typeof P!="undefined"?a(k,t("d3-time")):(e=e||self,a(e.d3=e.d3||{},e.d3))})(this,function(e,a){function i(Ee){if(0<=Ee.y&&Ee.y<100){var Oe=new Date(-1,Ee.m,Ee.d,Ee.H,Ee.M,Ee.S,Ee.L);return Oe.setFullYear(Ee.y),Oe}return new Date(Ee.y,Ee.m,Ee.d,Ee.H,Ee.M,Ee.S,Ee.L)}function n(Ee){if(0<=Ee.y&&Ee.y<100){var Oe=new Date(Date.UTC(-1,Ee.m,Ee.d,Ee.H,Ee.M,Ee.S,Ee.L));return Oe.setUTCFullYear(Ee.y),Oe}return new Date(Date.UTC(Ee.y,Ee.m,Ee.d,Ee.H,Ee.M,Ee.S,Ee.L))}function r(Ee,Oe,at){return{y:Ee,m:Oe,d:at,H:0,M:0,S:0,L:0}}function f(Ee){var Oe=Ee.dateTime,at=Ee.date,pe=Ee.time,Ae=Ee.periods,Se=Ee.days,Pe=Ee.shortDays,tt=Ee.months,Je=Ee.shortMonths,ht=y(Ae),vt=g(Ae),nt=y(Se),je=g(Se),_t=y(Pe),Et=g(Pe),Tt=y(tt),Zt=g(tt),$t=y(Je),Qt=g(Je),zt={a:$e,A:yt,b:Mt,B:St,c:null,d:Z,e:Z,f:ee,H:re,I:ie,j:ue,L:ge,m:q,M:ne,p:wt,q:Ht,Q:Ke,s:ut,S:oe,u:Q,U:c,V:w,w:B,W:E,x:null,X:null,y:b,Y:O,Z:N,"%":We},Yt={a:Nt,A:qt,b:kt,B:xt,c:null,d:R,e:R,f:ye,H:j,I:se,j:fe,L:ce,m:xe,M:De,p:It,q:Ut,Q:Ke,s:ut,S:ke,u:Ne,U:Ue,V:Ce,w:_e,W:Ie,x:null,X:null,y:Ze,Y:gt,Z:Ve,"%":We},Ft={a:ve,A:we,b:Le,B:Re,c:Ge,d:Y,e:Y,f:J,H:S,I:S,j:G,L:K,m:T,M:U,p:he,q:V,Q:z,s:H,S:W,u:C,U:L,V:x,w:D,W:M,x:Fe,X:Ye,y:m,Y:v,Z:A,"%":ae};zt.x=ct(at,zt),zt.X=ct(pe,zt),zt.c=ct(Oe,zt),Yt.x=ct(at,Yt),Yt.X=ct(pe,Yt),Yt.c=ct(Oe,Yt);function ct(it,At){return function(Rt){var bt=[],Dt=-1,Jt=0,jt=it.length,Bt,nr,ir;for(Rt instanceof Date||(Rt=new Date(+Rt));++Dt<jt;)it.charCodeAt(Dt)===37&&(bt.push(it.slice(Jt,Dt)),(nr=u[Bt=it.charAt(++Dt)])!=null?Bt=it.charAt(++Dt):nr=Bt==="e"?" ":"0",(ir=At[Bt])&&(Bt=ir(Rt,nr)),bt.push(Bt),Jt=Dt+1);return bt.push(it.slice(Jt,Dt)),bt.join("")}}function Vt(it,At){return function(Rt){var bt=r(1900,void 0,1),Dt=Ot(bt,it,Rt+="",0),Jt,jt;if(Dt!=Rt.length)return null;if("Q"in bt)return new Date(bt.Q);if("s"in bt)return new Date(bt.s*1e3+("L"in bt?bt.L:0));if(At&&!("Z"in bt)&&(bt.Z=0),"p"in bt&&(bt.H=bt.H%12+bt.p*12),bt.m===void 0&&(bt.m="q"in bt?bt.q:0),"V"in bt){if(bt.V<1||bt.V>53)return null;"w"in bt||(bt.w=1),"Z"in bt?(Jt=n(r(bt.y,0,1)),jt=Jt.getUTCDay(),Jt=jt>4||jt===0?a.utcMonday.ceil(Jt):a.utcMonday(Jt),Jt=a.utcDay.offset(Jt,(bt.V-1)*7),bt.y=Jt.getUTCFullYear(),bt.m=Jt.getUTCMonth(),bt.d=Jt.getUTCDate()+(bt.w+6)%7):(Jt=i(r(bt.y,0,1)),jt=Jt.getDay(),Jt=jt>4||jt===0?a.timeMonday.ceil(Jt):a.timeMonday(Jt),Jt=a.timeDay.offset(Jt,(bt.V-1)*7),bt.y=Jt.getFullYear(),bt.m=Jt.getMonth(),bt.d=Jt.getDate()+(bt.w+6)%7)}else("W"in bt||"U"in bt)&&("w"in bt||(bt.w="u"in bt?bt.u%7:"W"in bt?1:0),jt="Z"in bt?n(r(bt.y,0,1)).getUTCDay():i(r(bt.y,0,1)).getDay(),bt.m=0,bt.d="W"in bt?(bt.w+6)%7+bt.W*7-(jt+5)%7:bt.w+bt.U*7-(jt+6)%7);return"Z"in bt?(bt.H+=bt.Z/100|0,bt.M+=bt.Z%100,n(bt)):i(bt)}}function Ot(it,At,Rt,bt){for(var Dt=0,Jt=At.length,jt=Rt.length,Bt,nr;Dt<Jt;){if(bt>=jt)return-1;if(Bt=At.charCodeAt(Dt++),Bt===37){if(Bt=At.charAt(Dt++),nr=Ft[Bt in u?At.charAt(Dt++):Bt],!nr||(bt=nr(it,Rt,bt))<0)return-1}else if(Bt!=Rt.charCodeAt(bt++))return-1}return bt}function he(it,At,Rt){var bt=ht.exec(At.slice(Rt));return bt?(it.p=vt[bt[0].toLowerCase()],Rt+bt[0].length):-1}function ve(it,At,Rt){var bt=_t.exec(At.slice(Rt));return bt?(it.w=Et[bt[0].toLowerCase()],Rt+bt[0].length):-1}function we(it,At,Rt){var bt=nt.exec(At.slice(Rt));return bt?(it.w=je[bt[0].toLowerCase()],Rt+bt[0].length):-1}function Le(it,At,Rt){var bt=$t.exec(At.slice(Rt));return bt?(it.m=Qt[bt[0].toLowerCase()],Rt+bt[0].length):-1}function Re(it,At,Rt){var bt=Tt.exec(At.slice(Rt));return bt?(it.m=Zt[bt[0].toLowerCase()],Rt+bt[0].length):-1}function Ge(it,At,Rt){return Ot(it,Oe,At,Rt)}function Fe(it,At,Rt){return Ot(it,at,At,Rt)}function Ye(it,At,Rt){return Ot(it,pe,At,Rt)}function $e(it){return Pe[it.getDay()]}function yt(it){return Se[it.getDay()]}function Mt(it){return Je[it.getMonth()]}function St(it){return tt[it.getMonth()]}function wt(it){return Ae[+(it.getHours()>=12)]}function Ht(it){return 1+~~(it.getMonth()/3)}function Nt(it){return Pe[it.getUTCDay()]}function qt(it){return Se[it.getUTCDay()]}function kt(it){return Je[it.getUTCMonth()]}function xt(it){return tt[it.getUTCMonth()]}function It(it){return Ae[+(it.getUTCHours()>=12)]}function Ut(it){return 1+~~(it.getUTCMonth()/3)}return{format:function(it){var At=ct(it+="",zt);return At.toString=function(){return it},At},parse:function(it){var At=Vt(it+="",!1);return At.toString=function(){return it},At},utcFormat:function(it){var At=ct(it+="",Yt);return At.toString=function(){return it},At},utcParse:function(it){var At=Vt(it+="",!0);return At.toString=function(){return it},At}}}var u={"-":"",_:" ","0":"0"},s=/^\s*\d+/,o=/^%/,h=/[\\^$*+?|[\]().{}]/g;function p(Ee,Oe,at){var pe=Ee<0?"-":"",Ae=(pe?-Ee:Ee)+"",Se=Ae.length;return pe+(Se<at?new Array(at-Se+1).join(Oe)+Ae:Ae)}function d(Ee){return Ee.replace(h,"\\$&")}function y(Ee){return new RegExp("^(?:"+Ee.map(d).join("|")+")","i")}function g(Ee){for(var Oe={},at=-1,pe=Ee.length;++at<pe;)Oe[Ee[at].toLowerCase()]=at;return Oe}function D(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+1));return pe?(Ee.w=+pe[0],at+pe[0].length):-1}function C(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+1));return pe?(Ee.u=+pe[0],at+pe[0].length):-1}function L(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.U=+pe[0],at+pe[0].length):-1}function x(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.V=+pe[0],at+pe[0].length):-1}function M(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.W=+pe[0],at+pe[0].length):-1}function v(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+4));return pe?(Ee.y=+pe[0],at+pe[0].length):-1}function m(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.y=+pe[0]+(+pe[0]>68?1900:2e3),at+pe[0].length):-1}function A(Ee,Oe,at){var pe=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Oe.slice(at,at+6));return pe?(Ee.Z=pe[1]?0:-(pe[2]+(pe[3]||"00")),at+pe[0].length):-1}function V(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+1));return pe?(Ee.q=pe[0]*3-3,at+pe[0].length):-1}function T(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.m=pe[0]-1,at+pe[0].length):-1}function Y(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.d=+pe[0],at+pe[0].length):-1}function G(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+3));return pe?(Ee.m=0,Ee.d=+pe[0],at+pe[0].length):-1}function S(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.H=+pe[0],at+pe[0].length):-1}function U(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.M=+pe[0],at+pe[0].length):-1}function W(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+2));return pe?(Ee.S=+pe[0],at+pe[0].length):-1}function K(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+3));return pe?(Ee.L=+pe[0],at+pe[0].length):-1}function J(Ee,Oe,at){var pe=s.exec(Oe.slice(at,at+6));return pe?(Ee.L=Math.floor(pe[0]/1e3),at+pe[0].length):-1}function ae(Ee,Oe,at){var pe=o.exec(Oe.slice(at,at+1));return pe?at+pe[0].length:-1}function z(Ee,Oe,at){var pe=s.exec(Oe.slice(at));return pe?(Ee.Q=+pe[0],at+pe[0].length):-1}function H(Ee,Oe,at){var pe=s.exec(Oe.slice(at));return pe?(Ee.s=+pe[0],at+pe[0].length):-1}function Z(Ee,Oe){return p(Ee.getDate(),Oe,2)}function re(Ee,Oe){return p(Ee.getHours(),Oe,2)}function ie(Ee,Oe){return p(Ee.getHours()%12||12,Oe,2)}function ue(Ee,Oe){return p(1+a.timeDay.count(a.timeYear(Ee),Ee),Oe,3)}function ge(Ee,Oe){return p(Ee.getMilliseconds(),Oe,3)}function ee(Ee,Oe){return ge(Ee,Oe)+"000"}function q(Ee,Oe){return p(Ee.getMonth()+1,Oe,2)}function ne(Ee,Oe){return p(Ee.getMinutes(),Oe,2)}function oe(Ee,Oe){return p(Ee.getSeconds(),Oe,2)}function Q(Ee){var Oe=Ee.getDay();return Oe===0?7:Oe}function c(Ee,Oe){return p(a.timeSunday.count(a.timeYear(Ee)-1,Ee),Oe,2)}function w(Ee,Oe){var at=Ee.getDay();return Ee=at>=4||at===0?a.timeThursday(Ee):a.timeThursday.ceil(Ee),p(a.timeThursday.count(a.timeYear(Ee),Ee)+(a.timeYear(Ee).getDay()===4),Oe,2)}function B(Ee){return Ee.getDay()}function E(Ee,Oe){return p(a.timeMonday.count(a.timeYear(Ee)-1,Ee),Oe,2)}function b(Ee,Oe){return p(Ee.getFullYear()%100,Oe,2)}function O(Ee,Oe){return p(Ee.getFullYear()%1e4,Oe,4)}function N(Ee){var Oe=Ee.getTimezoneOffset();return(Oe>0?"-":(Oe*=-1,"+"))+p(Oe/60|0,"0",2)+p(Oe%60,"0",2)}function R(Ee,Oe){return p(Ee.getUTCDate(),Oe,2)}function j(Ee,Oe){return p(Ee.getUTCHours(),Oe,2)}function se(Ee,Oe){return p(Ee.getUTCHours()%12||12,Oe,2)}function fe(Ee,Oe){return p(1+a.utcDay.count(a.utcYear(Ee),Ee),Oe,3)}function ce(Ee,Oe){return p(Ee.getUTCMilliseconds(),Oe,3)}function ye(Ee,Oe){return ce(Ee,Oe)+"000"}function xe(Ee,Oe){return p(Ee.getUTCMonth()+1,Oe,2)}function De(Ee,Oe){return p(Ee.getUTCMinutes(),Oe,2)}function ke(Ee,Oe){return p(Ee.getUTCSeconds(),Oe,2)}function Ne(Ee){var Oe=Ee.getUTCDay();return Oe===0?7:Oe}function Ue(Ee,Oe){return p(a.utcSunday.count(a.utcYear(Ee)-1,Ee),Oe,2)}function Ce(Ee,Oe){var at=Ee.getUTCDay();return Ee=at>=4||at===0?a.utcThursday(Ee):a.utcThursday.ceil(Ee),p(a.utcThursday.count(a.utcYear(Ee),Ee)+(a.utcYear(Ee).getUTCDay()===4),Oe,2)}function _e(Ee){return Ee.getUTCDay()}function Ie(Ee,Oe){return p(a.utcMonday.count(a.utcYear(Ee)-1,Ee),Oe,2)}function Ze(Ee,Oe){return p(Ee.getUTCFullYear()%100,Oe,2)}function gt(Ee,Oe){return p(Ee.getUTCFullYear()%1e4,Oe,4)}function Ve(){return"+0000"}function We(){return"%"}function Ke(Ee){return+Ee}function ut(Ee){return Math.floor(+Ee/1e3)}var mt;Lt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Lt(Ee){return mt=f(Ee),e.timeFormat=mt.format,e.timeParse=mt.parse,e.utcFormat=mt.utcFormat,e.utcParse=mt.utcParse,mt}var rt="%Y-%m-%dT%H:%M:%S.%LZ";function dt(Ee){return Ee.toISOString()}var ot=Date.prototype.toISOString?dt:e.utcFormat(rt);function pt(Ee){var Oe=new Date(Ee);return isNaN(Oe)?null:Oe}var Ct=+new Date("2000-01-01T00:00:00.000Z")?pt:e.utcParse(rt);e.isoFormat=ot,e.isoParse=Ct,e.timeFormatDefaultLocale=Lt,e.timeFormatLocale=f,Object.defineProperty(e,"__esModule",{value:!0})})},{"d3-time":15}],15:[function(t,P,k){(function(e,a){typeof k=="object"&&typeof P!="undefined"?a(k):(e=e||self,a(e.d3=e.d3||{}))})(this,function(e){var a=new Date,i=new Date;function n(_e,Ie,Ze,gt){function Ve(We){return _e(We=arguments.length===0?new Date:new Date(+We)),We}return Ve.floor=function(We){return _e(We=new Date(+We)),We},Ve.ceil=function(We){return _e(We=new Date(We-1)),Ie(We,1),_e(We),We},Ve.round=function(We){var Ke=Ve(We),ut=Ve.ceil(We);return We-Ke<ut-We?Ke:ut},Ve.offset=function(We,Ke){return Ie(We=new Date(+We),Ke==null?1:Math.floor(Ke)),We},Ve.range=function(We,Ke,ut){var mt=[],Lt;if(We=Ve.ceil(We),ut=ut==null?1:Math.floor(ut),!(We<Ke)||!(ut>0))return mt;do mt.push(Lt=new Date(+We)),Ie(We,ut),_e(We);while(Lt<We&&We<Ke);return mt},Ve.filter=function(We){return n(function(Ke){if(Ke>=Ke)for(;_e(Ke),!We(Ke);)Ke.setTime(Ke-1)},function(Ke,ut){if(Ke>=Ke)if(ut<0)for(;++ut<=0;)for(;Ie(Ke,-1),!We(Ke););else for(;--ut>=0;)for(;Ie(Ke,1),!We(Ke););})},Ze&&(Ve.count=function(We,Ke){return a.setTime(+We),i.setTime(+Ke),_e(a),_e(i),Math.floor(Ze(a,i))},Ve.every=function(We){return We=Math.floor(We),!isFinite(We)||!(We>0)?null:We>1?Ve.filter(gt?function(Ke){return gt(Ke)%We==0}:function(Ke){return Ve.count(0,Ke)%We==0}):Ve}),Ve}var r=n(function(){},function(_e,Ie){_e.setTime(+_e+Ie)},function(_e,Ie){return Ie-_e});r.every=function(_e){return _e=Math.floor(_e),!isFinite(_e)||!(_e>0)?null:_e>1?n(function(Ie){Ie.setTime(Math.floor(Ie/_e)*_e)},function(Ie,Ze){Ie.setTime(+Ie+Ze*_e)},function(Ie,Ze){return(Ze-Ie)/_e}):r};var f=r.range,u=1e3,s=6e4,o=36e5,h=864e5,p=6048e5,d=n(function(_e){_e.setTime(_e-_e.getMilliseconds())},function(_e,Ie){_e.setTime(+_e+Ie*u)},function(_e,Ie){return(Ie-_e)/u},function(_e){return _e.getUTCSeconds()}),y=d.range,g=n(function(_e){_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*u)},function(_e,Ie){_e.setTime(+_e+Ie*s)},function(_e,Ie){return(Ie-_e)/s},function(_e){return _e.getMinutes()}),D=g.range,C=n(function(_e){_e.setTime(_e-_e.getMilliseconds()-_e.getSeconds()*u-_e.getMinutes()*s)},function(_e,Ie){_e.setTime(+_e+Ie*o)},function(_e,Ie){return(Ie-_e)/o},function(_e){return _e.getHours()}),L=C.range,x=n(function(_e){_e.setHours(0,0,0,0)},function(_e,Ie){_e.setDate(_e.getDate()+Ie)},function(_e,Ie){return(Ie-_e-(Ie.getTimezoneOffset()-_e.getTimezoneOffset())*s)/h},function(_e){return _e.getDate()-1}),M=x.range;function v(_e){return n(function(Ie){Ie.setDate(Ie.getDate()-(Ie.getDay()+7-_e)%7),Ie.setHours(0,0,0,0)},function(Ie,Ze){Ie.setDate(Ie.getDate()+Ze*7)},function(Ie,Ze){return(Ze-Ie-(Ze.getTimezoneOffset()-Ie.getTimezoneOffset())*s)/p})}var m=v(0),A=v(1),V=v(2),T=v(3),Y=v(4),G=v(5),S=v(6),U=m.range,W=A.range,K=V.range,J=T.range,ae=Y.range,z=G.range,H=S.range,Z=n(function(_e){_e.setDate(1),_e.setHours(0,0,0,0)},function(_e,Ie){_e.setMonth(_e.getMonth()+Ie)},function(_e,Ie){return Ie.getMonth()-_e.getMonth()+(Ie.getFullYear()-_e.getFullYear())*12},function(_e){return _e.getMonth()}),re=Z.range,ie=n(function(_e){_e.setMonth(0,1),_e.setHours(0,0,0,0)},function(_e,Ie){_e.setFullYear(_e.getFullYear()+Ie)},function(_e,Ie){return Ie.getFullYear()-_e.getFullYear()},function(_e){return _e.getFullYear()});ie.every=function(_e){return!isFinite(_e=Math.floor(_e))||!(_e>0)?null:n(function(Ie){Ie.setFullYear(Math.floor(Ie.getFullYear()/_e)*_e),Ie.setMonth(0,1),Ie.setHours(0,0,0,0)},function(Ie,Ze){Ie.setFullYear(Ie.getFullYear()+Ze*_e)})};var ue=ie.range,ge=n(function(_e){_e.setUTCSeconds(0,0)},function(_e,Ie){_e.setTime(+_e+Ie*s)},function(_e,Ie){return(Ie-_e)/s},function(_e){return _e.getUTCMinutes()}),ee=ge.range,q=n(function(_e){_e.setUTCMinutes(0,0,0)},function(_e,Ie){_e.setTime(+_e+Ie*o)},function(_e,Ie){return(Ie-_e)/o},function(_e){return _e.getUTCHours()}),ne=q.range,oe=n(function(_e){_e.setUTCHours(0,0,0,0)},function(_e,Ie){_e.setUTCDate(_e.getUTCDate()+Ie)},function(_e,Ie){return(Ie-_e)/h},function(_e){return _e.getUTCDate()-1}),Q=oe.range;function c(_e){return n(function(Ie){Ie.setUTCDate(Ie.getUTCDate()-(Ie.getUTCDay()+7-_e)%7),Ie.setUTCHours(0,0,0,0)},function(Ie,Ze){Ie.setUTCDate(Ie.getUTCDate()+Ze*7)},function(Ie,Ze){return(Ze-Ie)/p})}var w=c(0),B=c(1),E=c(2),b=c(3),O=c(4),N=c(5),R=c(6),j=w.range,se=B.range,fe=E.range,ce=b.range,ye=O.range,xe=N.range,De=R.range,ke=n(function(_e){_e.setUTCDate(1),_e.setUTCHours(0,0,0,0)},function(_e,Ie){_e.setUTCMonth(_e.getUTCMonth()+Ie)},function(_e,Ie){return Ie.getUTCMonth()-_e.getUTCMonth()+(Ie.getUTCFullYear()-_e.getUTCFullYear())*12},function(_e){return _e.getUTCMonth()}),Ne=ke.range,Ue=n(function(_e){_e.setUTCMonth(0,1),_e.setUTCHours(0,0,0,0)},function(_e,Ie){_e.setUTCFullYear(_e.getUTCFullYear()+Ie)},function(_e,Ie){return Ie.getUTCFullYear()-_e.getUTCFullYear()},function(_e){return _e.getUTCFullYear()});Ue.every=function(_e){return!isFinite(_e=Math.floor(_e))||!(_e>0)?null:n(function(Ie){Ie.setUTCFullYear(Math.floor(Ie.getUTCFullYear()/_e)*_e),Ie.setUTCMonth(0,1),Ie.setUTCHours(0,0,0,0)},function(Ie,Ze){Ie.setUTCFullYear(Ie.getUTCFullYear()+Ze*_e)})};var Ce=Ue.range;e.timeDay=x,e.timeDays=M,e.timeFriday=G,e.timeFridays=z,e.timeHour=C,e.timeHours=L,e.timeInterval=n,e.timeMillisecond=r,e.timeMilliseconds=f,e.timeMinute=g,e.timeMinutes=D,e.timeMonday=A,e.timeMondays=W,e.timeMonth=Z,e.timeMonths=re,e.timeSaturday=S,e.timeSaturdays=H,e.timeSecond=d,e.timeSeconds=y,e.timeSunday=m,e.timeSundays=U,e.timeThursday=Y,e.timeThursdays=ae,e.timeTuesday=V,e.timeTuesdays=K,e.timeWednesday=T,e.timeWednesdays=J,e.timeWeek=m,e.timeWeeks=U,e.timeYear=ie,e.timeYears=ue,e.utcDay=oe,e.utcDays=Q,e.utcFriday=N,e.utcFridays=xe,e.utcHour=q,e.utcHours=ne,e.utcMillisecond=r,e.utcMilliseconds=f,e.utcMinute=ge,e.utcMinutes=ee,e.utcMonday=B,e.utcMondays=se,e.utcMonth=ke,e.utcMonths=Ne,e.utcSaturday=R,e.utcSaturdays=De,e.utcSecond=d,e.utcSeconds=y,e.utcSunday=w,e.utcSundays=j,e.utcThursday=O,e.utcThursdays=ye,e.utcTuesday=E,e.utcTuesdays=fe,e.utcWednesday=b,e.utcWednesdays=ce,e.utcWeek=w,e.utcWeeks=j,e.utcYear=Ue,e.utcYears=Ce,Object.defineProperty(e,"__esModule",{value:!0})})},{}],16:[function(t,P,k){arguments[4][15][0].apply(k,arguments)},{dup:15}],17:[function(t,P,k){var e=t("is-string-blank");P.exports=function(a){var i=typeof a;if(i==="string"){var n=a;if(a=+a,a===0&&e(n))return!1}else if(i!=="number")return!1;return a-a<1}},{"is-string-blank":52}],18:[function(t,P,k){P.exports=e;function e(a,i){var n=i[0],r=i[1],f=i[2],u=i[3],s=i[4],o=i[5],h=i[6],p=i[7],d=i[8],y=i[9],g=i[10],D=i[11],C=i[12],L=i[13],x=i[14],M=i[15];return a[0]=o*(g*M-D*x)-y*(h*M-p*x)+L*(h*D-p*g),a[1]=-(r*(g*M-D*x)-y*(f*M-u*x)+L*(f*D-u*g)),a[2]=r*(h*M-p*x)-o*(f*M-u*x)+L*(f*p-u*h),a[3]=-(r*(h*D-p*g)-o*(f*D-u*g)+y*(f*p-u*h)),a[4]=-(s*(g*M-D*x)-d*(h*M-p*x)+C*(h*D-p*g)),a[5]=n*(g*M-D*x)-d*(f*M-u*x)+C*(f*D-u*g),a[6]=-(n*(h*M-p*x)-s*(f*M-u*x)+C*(f*p-u*h)),a[7]=n*(h*D-p*g)-s*(f*D-u*g)+d*(f*p-u*h),a[8]=s*(y*M-D*L)-d*(o*M-p*L)+C*(o*D-p*y),a[9]=-(n*(y*M-D*L)-d*(r*M-u*L)+C*(r*D-u*y)),a[10]=n*(o*M-p*L)-s*(r*M-u*L)+C*(r*p-u*o),a[11]=-(n*(o*D-p*y)-s*(r*D-u*y)+d*(r*p-u*o)),a[12]=-(s*(y*x-g*L)-d*(o*x-h*L)+C*(o*g-h*y)),a[13]=n*(y*x-g*L)-d*(r*x-f*L)+C*(r*g-f*y),a[14]=-(n*(o*x-h*L)-s*(r*x-f*L)+C*(r*h-f*o)),a[15]=n*(o*g-h*y)-s*(r*g-f*y)+d*(r*h-f*o),a}},{}],19:[function(t,P,k){P.exports=e;function e(a){var i=new Float32Array(16);return i[0]=a[0],i[1]=a[1],i[2]=a[2],i[3]=a[3],i[4]=a[4],i[5]=a[5],i[6]=a[6],i[7]=a[7],i[8]=a[8],i[9]=a[9],i[10]=a[10],i[11]=a[11],i[12]=a[12],i[13]=a[13],i[14]=a[14],i[15]=a[15],i}},{}],20:[function(t,P,k){P.exports=e;function e(a,i){return a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],a[4]=i[4],a[5]=i[5],a[6]=i[6],a[7]=i[7],a[8]=i[8],a[9]=i[9],a[10]=i[10],a[11]=i[11],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15],a}},{}],21:[function(t,P,k){P.exports=e;function e(){var a=new Float32Array(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],22:[function(t,P,k){P.exports=e;function e(a){var i=a[0],n=a[1],r=a[2],f=a[3],u=a[4],s=a[5],o=a[6],h=a[7],p=a[8],d=a[9],y=a[10],g=a[11],D=a[12],C=a[13],L=a[14],x=a[15],M=i*s-n*u,v=i*o-r*u,m=i*h-f*u,A=n*o-r*s,V=n*h-f*s,T=r*h-f*o,Y=p*C-d*D,G=p*L-y*D,S=p*x-g*D,U=d*L-y*C,W=d*x-g*C,K=y*x-g*L;return M*K-v*W+m*U+A*S-V*G+T*Y}},{}],23:[function(t,P,k){P.exports=e;function e(a,i){var n=i[0],r=i[1],f=i[2],u=i[3],s=n+n,o=r+r,h=f+f,p=n*s,d=r*s,y=r*o,g=f*s,D=f*o,C=f*h,L=u*s,x=u*o,M=u*h;return a[0]=1-y-C,a[1]=d+M,a[2]=g-x,a[3]=0,a[4]=d-M,a[5]=1-p-C,a[6]=D+L,a[7]=0,a[8]=g+x,a[9]=D-L,a[10]=1-p-y,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],24:[function(t,P,k){P.exports=e;function e(a,i,n){var r,f,u,s=n[0],o=n[1],h=n[2],p=Math.sqrt(s*s+o*o+h*h);return Math.abs(p)<1e-6?null:(p=1/p,s*=p,o*=p,h*=p,r=Math.sin(i),f=Math.cos(i),u=1-f,a[0]=s*s*u+f,a[1]=o*s*u+h*r,a[2]=h*s*u-o*r,a[3]=0,a[4]=s*o*u-h*r,a[5]=o*o*u+f,a[6]=h*o*u+s*r,a[7]=0,a[8]=s*h*u+o*r,a[9]=o*h*u-s*r,a[10]=h*h*u+f,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)}},{}],25:[function(t,P,k){P.exports=e;function e(a,i,n){var r=i[0],f=i[1],u=i[2],s=i[3],o=r+r,h=f+f,p=u+u,d=r*o,y=r*h,g=r*p,D=f*h,C=f*p,L=u*p,x=s*o,M=s*h,v=s*p;return a[0]=1-(D+L),a[1]=y+v,a[2]=g-M,a[3]=0,a[4]=y-v,a[5]=1-(d+L),a[6]=C+x,a[7]=0,a[8]=g+M,a[9]=C-x,a[10]=1-(d+D),a[11]=0,a[12]=n[0],a[13]=n[1],a[14]=n[2],a[15]=1,a}},{}],26:[function(t,P,k){P.exports=e;function e(a,i){return a[0]=i[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=i[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=i[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],27:[function(t,P,k){P.exports=e;function e(a,i){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=i[0],a[13]=i[1],a[14]=i[2],a[15]=1,a}},{}],28:[function(t,P,k){P.exports=e;function e(a,i){var n=Math.sin(i),r=Math.cos(i);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=r,a[6]=n,a[7]=0,a[8]=0,a[9]=-n,a[10]=r,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],29:[function(t,P,k){P.exports=e;function e(a,i){var n=Math.sin(i),r=Math.cos(i);return a[0]=r,a[1]=0,a[2]=-n,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=n,a[9]=0,a[10]=r,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],30:[function(t,P,k){P.exports=e;function e(a,i){var n=Math.sin(i),r=Math.cos(i);return a[0]=r,a[1]=n,a[2]=0,a[3]=0,a[4]=-n,a[5]=r,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],31:[function(t,P,k){P.exports=e;function e(a,i,n,r,f,u,s){var o=1/(n-i),h=1/(f-r),p=1/(u-s);return a[0]=u*2*o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u*2*h,a[6]=0,a[7]=0,a[8]=(n+i)*o,a[9]=(f+r)*h,a[10]=(s+u)*p,a[11]=-1,a[12]=0,a[13]=0,a[14]=s*u*2*p,a[15]=0,a}},{}],32:[function(t,P,k){P.exports=e;function e(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}},{}],33:[function(t,P,k){P.exports={create:t("./create"),clone:t("./clone"),copy:t("./copy"),identity:t("./identity"),transpose:t("./transpose"),invert:t("./invert"),adjoint:t("./adjoint"),determinant:t("./determinant"),multiply:t("./multiply"),translate:t("./translate"),scale:t("./scale"),rotate:t("./rotate"),rotateX:t("./rotateX"),rotateY:t("./rotateY"),rotateZ:t("./rotateZ"),fromRotation:t("./fromRotation"),fromRotationTranslation:t("./fromRotationTranslation"),fromScaling:t("./fromScaling"),fromTranslation:t("./fromTranslation"),fromXRotation:t("./fromXRotation"),fromYRotation:t("./fromYRotation"),fromZRotation:t("./fromZRotation"),fromQuat:t("./fromQuat"),frustum:t("./frustum"),perspective:t("./perspective"),perspectiveFromFieldOfView:t("./perspectiveFromFieldOfView"),ortho:t("./ortho"),lookAt:t("./lookAt"),str:t("./str")}},{"./adjoint":18,"./clone":19,"./copy":20,"./create":21,"./determinant":22,"./fromQuat":23,"./fromRotation":24,"./fromRotationTranslation":25,"./fromScaling":26,"./fromTranslation":27,"./fromXRotation":28,"./fromYRotation":29,"./fromZRotation":30,"./frustum":31,"./identity":32,"./invert":34,"./lookAt":35,"./multiply":36,"./ortho":37,"./perspective":38,"./perspectiveFromFieldOfView":39,"./rotate":40,"./rotateX":41,"./rotateY":42,"./rotateZ":43,"./scale":44,"./str":45,"./translate":46,"./transpose":47}],34:[function(t,P,k){P.exports=e;function e(a,i){var n=i[0],r=i[1],f=i[2],u=i[3],s=i[4],o=i[5],h=i[6],p=i[7],d=i[8],y=i[9],g=i[10],D=i[11],C=i[12],L=i[13],x=i[14],M=i[15],v=n*o-r*s,m=n*h-f*s,A=n*p-u*s,V=r*h-f*o,T=r*p-u*o,Y=f*p-u*h,G=d*L-y*C,S=d*x-g*C,U=d*M-D*C,W=y*x-g*L,K=y*M-D*L,J=g*M-D*x,ae=v*J-m*K+A*W+V*U-T*S+Y*G;return ae?(ae=1/ae,a[0]=(o*J-h*K+p*W)*ae,a[1]=(f*K-r*J-u*W)*ae,a[2]=(L*Y-x*T+M*V)*ae,a[3]=(g*T-y*Y-D*V)*ae,a[4]=(h*U-s*J-p*S)*ae,a[5]=(n*J-f*U+u*S)*ae,a[6]=(x*A-C*Y-M*m)*ae,a[7]=(d*Y-g*A+D*m)*ae,a[8]=(s*K-o*U+p*G)*ae,a[9]=(r*U-n*K-u*G)*ae,a[10]=(C*T-L*A+M*v)*ae,a[11]=(y*A-d*T-D*v)*ae,a[12]=(o*S-s*W-h*G)*ae,a[13]=(n*W-r*S+f*G)*ae,a[14]=(L*m-C*V-x*v)*ae,a[15]=(d*V-y*m+g*v)*ae,a):null}},{}],35:[function(t,P,k){var e=t("./identity");P.exports=a;function a(i,n,r,f){var u,s,o,h,p,d,y,g,D,C,L=n[0],x=n[1],M=n[2],v=f[0],m=f[1],A=f[2],V=r[0],T=r[1],Y=r[2];return Math.abs(L-V)<1e-6&&Math.abs(x-T)<1e-6&&Math.abs(M-Y)<1e-6?e(i):(y=L-V,g=x-T,D=M-Y,C=1/Math.sqrt(y*y+g*g+D*D),y*=C,g*=C,D*=C,u=m*D-A*g,s=A*y-v*D,o=v*g-m*y,C=Math.sqrt(u*u+s*s+o*o),C?(C=1/C,u*=C,s*=C,o*=C):(u=0,s=0,o=0),h=g*o-D*s,p=D*u-y*o,d=y*s-g*u,C=Math.sqrt(h*h+p*p+d*d),C?(C=1/C,h*=C,p*=C,d*=C):(h=0,p=0,d=0),i[0]=u,i[1]=h,i[2]=y,i[3]=0,i[4]=s,i[5]=p,i[6]=g,i[7]=0,i[8]=o,i[9]=d,i[10]=D,i[11]=0,i[12]=-(u*L+s*x+o*M),i[13]=-(h*L+p*x+d*M),i[14]=-(y*L+g*x+D*M),i[15]=1,i)}},{"./identity":32}],36:[function(t,P,k){P.exports=e;function e(a,i,n){var r=i[0],f=i[1],u=i[2],s=i[3],o=i[4],h=i[5],p=i[6],d=i[7],y=i[8],g=i[9],D=i[10],C=i[11],L=i[12],x=i[13],M=i[14],v=i[15],m=n[0],A=n[1],V=n[2],T=n[3];return a[0]=m*r+A*o+V*y+T*L,a[1]=m*f+A*h+V*g+T*x,a[2]=m*u+A*p+V*D+T*M,a[3]=m*s+A*d+V*C+T*v,m=n[4],A=n[5],V=n[6],T=n[7],a[4]=m*r+A*o+V*y+T*L,a[5]=m*f+A*h+V*g+T*x,a[6]=m*u+A*p+V*D+T*M,a[7]=m*s+A*d+V*C+T*v,m=n[8],A=n[9],V=n[10],T=n[11],a[8]=m*r+A*o+V*y+T*L,a[9]=m*f+A*h+V*g+T*x,a[10]=m*u+A*p+V*D+T*M,a[11]=m*s+A*d+V*C+T*v,m=n[12],A=n[13],V=n[14],T=n[15],a[12]=m*r+A*o+V*y+T*L,a[13]=m*f+A*h+V*g+T*x,a[14]=m*u+A*p+V*D+T*M,a[15]=m*s+A*d+V*C+T*v,a}},{}],37:[function(t,P,k){P.exports=e;function e(a,i,n,r,f,u,s){var o=1/(i-n),h=1/(r-f),p=1/(u-s);return a[0]=-2*o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*h,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*p,a[11]=0,a[12]=(i+n)*o,a[13]=(f+r)*h,a[14]=(s+u)*p,a[15]=1,a}},{}],38:[function(t,P,k){P.exports=e;function e(a,i,n,r,f){var u=1/Math.tan(i/2),s=1/(r-f);return a[0]=u/n,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(f+r)*s,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*f*r*s,a[15]=0,a}},{}],39:[function(t,P,k){P.exports=e;function e(a,i,n,r){var f=Math.tan(i.upDegrees*Math.PI/180),u=Math.tan(i.downDegrees*Math.PI/180),s=Math.tan(i.leftDegrees*Math.PI/180),o=Math.tan(i.rightDegrees*Math.PI/180),h=2/(s+o),p=2/(f+u);return a[0]=h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=p,a[6]=0,a[7]=0,a[8]=-((s-o)*h*.5),a[9]=(f-u)*p*.5,a[10]=r/(n-r),a[11]=-1,a[12]=0,a[13]=0,a[14]=r*n/(n-r),a[15]=0,a}},{}],40:[function(t,P,k){P.exports=e;function e(a,i,n,r){var f=r[0],u=r[1],s=r[2],o=Math.sqrt(f*f+u*u+s*s),h,p,d,y,g,D,C,L,x,M,v,m,A,V,T,Y,G,S,U,W,K,J,ae,z;return Math.abs(o)<1e-6?null:(o=1/o,f*=o,u*=o,s*=o,h=Math.sin(n),p=Math.cos(n),d=1-p,y=i[0],g=i[1],D=i[2],C=i[3],L=i[4],x=i[5],M=i[6],v=i[7],m=i[8],A=i[9],V=i[10],T=i[11],Y=f*f*d+p,G=u*f*d+s*h,S=s*f*d-u*h,U=f*u*d-s*h,W=u*u*d+p,K=s*u*d+f*h,J=f*s*d+u*h,ae=u*s*d-f*h,z=s*s*d+p,a[0]=y*Y+L*G+m*S,a[1]=g*Y+x*G+A*S,a[2]=D*Y+M*G+V*S,a[3]=C*Y+v*G+T*S,a[4]=y*U+L*W+m*K,a[5]=g*U+x*W+A*K,a[6]=D*U+M*W+V*K,a[7]=C*U+v*W+T*K,a[8]=y*J+L*ae+m*z,a[9]=g*J+x*ae+A*z,a[10]=D*J+M*ae+V*z,a[11]=C*J+v*ae+T*z,i!==a&&(a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a)}},{}],41:[function(t,P,k){P.exports=e;function e(a,i,n){var r=Math.sin(n),f=Math.cos(n),u=i[4],s=i[5],o=i[6],h=i[7],p=i[8],d=i[9],y=i[10],g=i[11];return i!==a&&(a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[4]=u*f+p*r,a[5]=s*f+d*r,a[6]=o*f+y*r,a[7]=h*f+g*r,a[8]=p*f-u*r,a[9]=d*f-s*r,a[10]=y*f-o*r,a[11]=g*f-h*r,a}},{}],42:[function(t,P,k){P.exports=e;function e(a,i,n){var r=Math.sin(n),f=Math.cos(n),u=i[0],s=i[1],o=i[2],h=i[3],p=i[8],d=i[9],y=i[10],g=i[11];return i!==a&&(a[4]=i[4],a[5]=i[5],a[6]=i[6],a[7]=i[7],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[0]=u*f-p*r,a[1]=s*f-d*r,a[2]=o*f-y*r,a[3]=h*f-g*r,a[8]=u*r+p*f,a[9]=s*r+d*f,a[10]=o*r+y*f,a[11]=h*r+g*f,a}},{}],43:[function(t,P,k){P.exports=e;function e(a,i,n){var r=Math.sin(n),f=Math.cos(n),u=i[0],s=i[1],o=i[2],h=i[3],p=i[4],d=i[5],y=i[6],g=i[7];return i!==a&&(a[8]=i[8],a[9]=i[9],a[10]=i[10],a[11]=i[11],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[0]=u*f+p*r,a[1]=s*f+d*r,a[2]=o*f+y*r,a[3]=h*f+g*r,a[4]=p*f-u*r,a[5]=d*f-s*r,a[6]=y*f-o*r,a[7]=g*f-h*r,a}},{}],44:[function(t,P,k){P.exports=e;function e(a,i,n){var r=n[0],f=n[1],u=n[2];return a[0]=i[0]*r,a[1]=i[1]*r,a[2]=i[2]*r,a[3]=i[3]*r,a[4]=i[4]*f,a[5]=i[5]*f,a[6]=i[6]*f,a[7]=i[7]*f,a[8]=i[8]*u,a[9]=i[9]*u,a[10]=i[10]*u,a[11]=i[11]*u,a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15],a}},{}],45:[function(t,P,k){P.exports=e;function e(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}},{}],46:[function(t,P,k){P.exports=e;function e(a,i,n){var r=n[0],f=n[1],u=n[2],s,o,h,p,d,y,g,D,C,L,x,M;return i===a?(a[12]=i[0]*r+i[4]*f+i[8]*u+i[12],a[13]=i[1]*r+i[5]*f+i[9]*u+i[13],a[14]=i[2]*r+i[6]*f+i[10]*u+i[14],a[15]=i[3]*r+i[7]*f+i[11]*u+i[15]):(s=i[0],o=i[1],h=i[2],p=i[3],d=i[4],y=i[5],g=i[6],D=i[7],C=i[8],L=i[9],x=i[10],M=i[11],a[0]=s,a[1]=o,a[2]=h,a[3]=p,a[4]=d,a[5]=y,a[6]=g,a[7]=D,a[8]=C,a[9]=L,a[10]=x,a[11]=M,a[12]=s*r+d*f+C*u+i[12],a[13]=o*r+y*f+L*u+i[13],a[14]=h*r+g*f+x*u+i[14],a[15]=p*r+D*f+M*u+i[15]),a}},{}],47:[function(t,P,k){P.exports=e;function e(a,i){if(a===i){var n=i[1],r=i[2],f=i[3],u=i[6],s=i[7],o=i[11];a[1]=i[4],a[2]=i[8],a[3]=i[12],a[4]=n,a[6]=i[9],a[7]=i[13],a[8]=r,a[9]=u,a[11]=i[14],a[12]=f,a[13]=s,a[14]=o}else a[0]=i[0],a[1]=i[4],a[2]=i[8],a[3]=i[12],a[4]=i[1],a[5]=i[5],a[6]=i[9],a[7]=i[13],a[8]=i[2],a[9]=i[6],a[10]=i[10],a[11]=i[14],a[12]=i[3],a[13]=i[7],a[14]=i[11],a[15]=i[15];return a}},{}],48:[function(t,P,k){(function(e){(function(){var a=t("is-browser"),i;typeof e.matchMedia=="function"?i=!e.matchMedia("(hover: none)").matches:i=a,P.exports=i}).call(this)}).call(this,typeof Cn!="undefined"?Cn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"is-browser":50}],49:[function(t,P,k){var e=t("is-browser");function a(){var i=!1;try{var n=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{i=!1}return i}P.exports=e&&a()},{"is-browser":50}],50:[function(t,P,k){P.exports=!0},{}],51:[function(t,P,k){P.exports=i,P.exports.isMobile=i,P.exports.default=i;var e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function i(n){n||(n={});var r=n.ua;if(!r&&typeof navigator!="undefined"&&(r=navigator.userAgent),r&&r.headers&&typeof r.headers["user-agent"]=="string"&&(r=r.headers["user-agent"]),typeof r!="string")return!1;var f=n.tablet?a.test(r):e.test(r);return!f&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&r.indexOf("Macintosh")!==-1&&r.indexOf("Safari")!==-1&&(f=!0),f}},{}],52:[function(t,P,k){P.exports=function(e){for(var a=e.length,i,n=0;n<a;n++)if(i=e.charCodeAt(n),(i<9||i>13)&&i!==32&&i!==133&&i!==160&&i!==5760&&i!==6158&&(i<8192||i>8205)&&i!==8232&&i!==8233&&i!==8239&&i!==8287&&i!==8288&&i!==12288&&i!==65279)return!1;return!0}},{}],53:[function(t,P,k){var e={left:0,top:0};P.exports=a;function a(n,r,f){r=r||n.currentTarget||n.srcElement,Array.isArray(f)||(f=[0,0]);var u=n.clientX||0,s=n.clientY||0,o=i(r);return f[0]=u-o.left,f[1]=s-o.top,f}function i(n){return n===window||n===document||n===document.body?e:n.getBoundingClientRect()}},{}],54:[function(t,P,k){(function(e,a){(function(){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,r,f){r[n]=r[n]||f(),typeof P!="undefined"&&P.exports&&(P.exports=r[n])})("Promise",typeof e!="undefined"?e:this,function(){var n,r,f,u=Object.prototype.toString,s=typeof a!="undefined"?function(m){return a(m)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(m,A,V,T){return Object.defineProperty(m,A,{value:V,writable:!0,configurable:T!==!1})}}catch{n=function(A,V,T){return A[V]=T,A}}f=function(){var m,A,V;function T(Y,G){this.fn=Y,this.self=G,this.next=void 0}return{add:function(G,S){V=new T(G,S),A?A.next=V:m=V,A=V,V=void 0},drain:function(){var G=m;for(m=A=r=void 0;G;)G.fn.call(G.self),G=G.next}}}();function o(v,m){f.add(v,m),r||(r=s(f.drain))}function h(v){var m,A=typeof v;return v!=null&&(A=="object"||A=="function")&&(m=v.then),typeof m=="function"?m:!1}function p(){for(var v=0;v<this.chain.length;v++)d(this,this.state===1?this.chain[v].success:this.chain[v].failure,this.chain[v]);this.chain.length=0}function d(v,m,A){var V,T;try{m===!1?A.reject(v.msg):(m===!0?V=v.msg:V=m.call(void 0,v.msg),V===A.promise?A.reject(TypeError("Promise-chain cycle")):(T=h(V))?T.call(V,A.resolve,A.reject):A.resolve(V))}catch(Y){A.reject(Y)}}function y(v){var m,A=this;if(!A.triggered){A.triggered=!0,A.def&&(A=A.def);try{(m=h(v))?o(function(){var V=new C(A);try{m.call(v,function(){y.apply(V,arguments)},function(){g.apply(V,arguments)})}catch(T){g.call(V,T)}}):(A.msg=v,A.state=1,A.chain.length>0&&o(p,A))}catch(V){g.call(new C(A),V)}}}function g(v){var m=this;m.triggered||(m.triggered=!0,m.def&&(m=m.def),m.msg=v,m.state=2,m.chain.length>0&&o(p,m))}function D(v,m,A,V){for(var T=0;T<m.length;T++)(function(G){v.resolve(m[G]).then(function(U){A(G,U)},V)})(T)}function C(v){this.def=v,this.triggered=!1}function L(v){this.promise=v,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function x(v){if(typeof v!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var m=new L(this);this.then=function(V,T){var Y={success:typeof V=="function"?V:!0,failure:typeof T=="function"?T:!1};return Y.promise=new this.constructor(function(S,U){if(typeof S!="function"||typeof U!="function")throw TypeError("Not a function");Y.resolve=S,Y.reject=U}),m.chain.push(Y),m.state!==0&&o(p,m),Y.promise},this.catch=function(V){return this.then(void 0,V)};try{v.call(void 0,function(V){y.call(m,V)},function(V){g.call(m,V)})}catch(A){g.call(m,A)}}var M=n({},"constructor",x,!1);return x.prototype=M,n(M,"__NPO__",0,!1),n(x,"resolve",function(m){var A=this;return m&&typeof m=="object"&&m.__NPO__===1?m:new A(function(T,Y){if(typeof T!="function"||typeof Y!="function")throw TypeError("Not a function");T(m)})}),n(x,"reject",function(m){return new this(function(V,T){if(typeof V!="function"||typeof T!="function")throw TypeError("Not a function");T(m)})}),n(x,"all",function(m){var A=this;return u.call(m)!="[object Array]"?A.reject(TypeError("Not an array")):m.length===0?A.resolve([]):new A(function(T,Y){if(typeof T!="function"||typeof Y!="function")throw TypeError("Not a function");var G=m.length,S=Array(G),U=0;D(A,m,function(K,J){S[K]=J,++U===G&&T(S)},Y)})}),n(x,"race",function(m){var A=this;return u.call(m)!="[object Array]"?A.reject(TypeError("Not an array")):new A(function(T,Y){if(typeof T!="function"||typeof Y!="function")throw TypeError("Not a function");D(A,m,function(S,U){T(U)},Y)})}),x})}).call(this)}).call(this,typeof Cn!="undefined"?Cn:typeof self!="undefined"?self:typeof window!="undefined"?window:{},t("timers").setImmediate)},{timers:66}],55:[function(t,P,k){var e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(f){if(f==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}function r(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var u={},s=0;s<10;s++)u["_"+String.fromCharCode(s)]=s;var o=Object.getOwnPropertyNames(u).map(function(p){return u[p]});if(o.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(p){h[p]=p}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}P.exports=r()?Object.assign:function(f,u){for(var s,o=n(f),h,p=1;p<arguments.length;p++){s=Object(arguments[p]);for(var d in s)a.call(s,d)&&(o[d]=s[d]);if(e){h=e(s);for(var y=0;y<h.length;y++)i.call(s,h[y])&&(o[h[y]]=s[h[y]])}}return o}},{}],56:[function(t,P,k){P.exports=i;var e={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(f){var u=[];return f.replace(a,function(s,o,h){var p=o.toLowerCase();for(h=r(h),p=="m"&&h.length>2&&(u.push([o].concat(h.splice(0,2))),p="l",o=o=="m"?"l":"L");;){if(h.length==e[p])return h.unshift(o),u.push(h);if(h.length<e[p])throw new Error("malformed path data");u.push([o].concat(h.splice(0,e[p])))}}),u}var n=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function r(f){var u=f.match(n);return u?u.map(Number):[]}},{}],57:[function(t,P,k){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var e=t("./lib/build-log"),a=t("./lib/epsilon"),i=t("./lib/intersecter"),n=t("./lib/segment-chainer"),r=t("./lib/segment-selector"),f=t("./lib/geojson"),u=!1,s=a(),o;o={buildLog:function(p){return p===!0?u=e():p===!1&&(u=!1),u===!1?!1:u.list},epsilon:function(p){return s.epsilon(p)},segments:function(p){var d=i(!0,s,u);return p.regions.forEach(d.addRegion),{segments:d.calculate(p.inverted),inverted:p.inverted}},combine:function(p,d){var y=i(!1,s,u);return{combined:y.calculate(p.segments,p.inverted,d.segments,d.inverted),inverted1:p.inverted,inverted2:d.inverted}},selectUnion:function(p){return{segments:r.union(p.combined,u),inverted:p.inverted1||p.inverted2}},selectIntersect:function(p){return{segments:r.intersect(p.combined,u),inverted:p.inverted1&&p.inverted2}},selectDifference:function(p){return{segments:r.difference(p.combined,u),inverted:p.inverted1&&!p.inverted2}},selectDifferenceRev:function(p){return{segments:r.differenceRev(p.combined,u),inverted:!p.inverted1&&p.inverted2}},selectXor:function(p){return{segments:r.xor(p.combined,u),inverted:p.inverted1!==p.inverted2}},polygon:function(p){return{regions:n(p.segments,s,u),inverted:p.inverted}},polygonFromGeoJSON:function(p){return f.toPolygon(o,p)},polygonToGeoJSON:function(p){return f.fromPolygon(o,s,p)},union:function(p,d){return h(p,d,o.selectUnion)},intersect:function(p,d){return h(p,d,o.selectIntersect)},difference:function(p,d){return h(p,d,o.selectDifference)},differenceRev:function(p,d){return h(p,d,o.selectDifferenceRev)},xor:function(p,d){return h(p,d,o.selectXor)}};function h(p,d,y){var g=o.segments(p),D=o.segments(d),C=o.combine(g,D),L=y(C);return o.polygon(L)}typeof window=="object"&&(window.PolyBool=o),P.exports=o},{"./lib/build-log":58,"./lib/epsilon":59,"./lib/geojson":60,"./lib/intersecter":61,"./lib/segment-chainer":63,"./lib/segment-selector":64}],58:[function(t,P,k){function e(){var a,i=0,n=!1;function r(f,u){return a.list.push({type:f,data:u?JSON.parse(JSON.stringify(u)):void 0}),a}return a={list:[],segmentId:function(){return i++},checkIntersection:function(f,u){return r("check",{seg1:f,seg2:u})},segmentChop:function(f,u){return r("div_seg",{seg:f,pt:u}),r("chop",{seg:f,pt:u})},statusRemove:function(f){return r("pop_seg",{seg:f})},segmentUpdate:function(f){return r("seg_update",{seg:f})},segmentNew:function(f,u){return r("new_seg",{seg:f,primary:u})},segmentRemove:function(f){return r("rem_seg",{seg:f})},tempStatus:function(f,u,s){return r("temp_status",{seg:f,above:u,below:s})},rewind:function(f){return r("rewind",{seg:f})},status:function(f,u,s){return r("status",{seg:f,above:u,below:s})},vert:function(f){return f===n?a:(n=f,r("vert",{x:f}))},log:function(f){return typeof f!="string"&&(f=JSON.stringify(f,!1,"  ")),r("log",{txt:f})},reset:function(){return r("reset")},selected:function(f){return r("selected",{segs:f})},chainStart:function(f){return r("chain_start",{seg:f})},chainRemoveHead:function(f,u){return r("chain_rem_head",{index:f,pt:u})},chainRemoveTail:function(f,u){return r("chain_rem_tail",{index:f,pt:u})},chainNew:function(f,u){return r("chain_new",{pt1:f,pt2:u})},chainMatch:function(f){return r("chain_match",{index:f})},chainClose:function(f){return r("chain_close",{index:f})},chainAddHead:function(f,u){return r("chain_add_head",{index:f,pt:u})},chainAddTail:function(f,u){return r("chain_add_tail",{index:f,pt:u})},chainConnect:function(f,u){return r("chain_con",{index1:f,index2:u})},chainReverse:function(f){return r("chain_rev",{index:f})},chainJoin:function(f,u){return r("chain_join",{index1:f,index2:u})},done:function(){return r("done")}},a}P.exports=e},{}],59:[function(t,P,k){function e(a){typeof a!="number"&&(a=1e-10);var i={epsilon:function(n){return typeof n=="number"&&(a=n),a},pointAboveOrOnLine:function(n,r,f){var u=r[0],s=r[1],o=f[0],h=f[1],p=n[0],d=n[1];return(o-u)*(d-s)-(h-s)*(p-u)>=-a},pointBetween:function(n,r,f){var u=n[1]-r[1],s=f[0]-r[0],o=n[0]-r[0],h=f[1]-r[1],p=o*s+u*h;if(p<a)return!1;var d=s*s+h*h;return!(p-d>-a)},pointsSameX:function(n,r){return Math.abs(n[0]-r[0])<a},pointsSameY:function(n,r){return Math.abs(n[1]-r[1])<a},pointsSame:function(n,r){return i.pointsSameX(n,r)&&i.pointsSameY(n,r)},pointsCompare:function(n,r){return i.pointsSameX(n,r)?i.pointsSameY(n,r)?0:n[1]<r[1]?-1:1:n[0]<r[0]?-1:1},pointsCollinear:function(n,r,f){var u=n[0]-r[0],s=n[1]-r[1],o=r[0]-f[0],h=r[1]-f[1];return Math.abs(u*h-o*s)<a},linesIntersect:function(n,r,f,u){var s=r[0]-n[0],o=r[1]-n[1],h=u[0]-f[0],p=u[1]-f[1],d=s*p-o*h;if(Math.abs(d)<a)return!1;var y=n[0]-f[0],g=n[1]-f[1],D=(h*g-p*y)/d,C=(s*g-o*y)/d,L={alongA:0,alongB:0,pt:[n[0]+D*s,n[1]+D*o]};return D<=-a?L.alongA=-2:D<a?L.alongA=-1:D-1<=-a?L.alongA=0:D-1<a?L.alongA=1:L.alongA=2,C<=-a?L.alongB=-2:C<a?L.alongB=-1:C-1<=-a?L.alongB=0:C-1<a?L.alongB=1:L.alongB=2,L},pointInsideRegion:function(n,r){for(var f=n[0],u=n[1],s=r[r.length-1][0],o=r[r.length-1][1],h=!1,p=0;p<r.length;p++){var d=r[p][0],y=r[p][1];y-u>a!=o-u>a&&(s-d)*(u-y)/(o-y)+d-f>a&&(h=!h),s=d,o=y}return h}};return i}P.exports=e},{}],60:[function(t,P,k){var e={toPolygon:function(a,i){function n(u){if(u.length<=0)return a.segments({inverted:!1,regions:[]});function s(p){var d=p.slice(0,p.length-1);return a.segments({inverted:!1,regions:[d]})}for(var o=s(u[0]),h=1;h<u.length;h++)o=a.selectDifference(a.combine(o,s(u[h])));return o}if(i.type==="Polygon")return a.polygon(n(i.coordinates));if(i.type==="MultiPolygon"){for(var r=a.segments({inverted:!1,regions:[]}),f=0;f<i.coordinates.length;f++)r=a.selectUnion(a.combine(r,n(i.coordinates[f])));return a.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(a,i,n){n=a.polygon(a.segments(n));function r(D,C){return i.pointInsideRegion([(D[0][0]+D[1][0])*.5,(D[0][1]+D[1][1])*.5],C)}function f(D){return{region:D,children:[]}}var u=f(null);function s(D,C){for(var L=0;L<D.children.length;L++){var x=D.children[L];if(r(C,x.region)){s(x,C);return}}for(var M=f(C),L=0;L<D.children.length;L++){var x=D.children[L];r(x.region,C)&&(M.children.push(x),D.children.splice(L,1),L--)}D.children.push(M)}for(var o=0;o<n.regions.length;o++){var h=n.regions[o];h.length<3||s(u,h)}function p(D,C){for(var L=0,x=D[D.length-1][0],M=D[D.length-1][1],v=[],m=0;m<D.length;m++){var A=D[m][0],V=D[m][1];v.push([A,V]),L+=V*x-A*M,x=A,M=V}var T=L<0;return T!==C&&v.reverse(),v.push([v[0][0],v[0][1]]),v}var d=[];function y(D){var C=[p(D.region,!1)];d.push(C);for(var L=0;L<D.children.length;L++)C.push(g(D.children[L]))}function g(D){for(var C=0;C<D.children.length;C++)y(D.children[C]);return p(D.region,!0)}for(var o=0;o<u.children.length;o++)y(u.children[o]);return d.length<=0?{type:"Polygon",coordinates:[]}:d.length==1?{type:"Polygon",coordinates:d[0]}:{type:"MultiPolygon",coordinates:d}}};P.exports=e},{}],61:[function(t,P,k){var e=t("./linked-list");function a(i,n,r){function f(L,x){return{id:r?r.segmentId():-1,start:L,end:x,myFill:{above:null,below:null},otherFill:null}}function u(L,x,M){return{id:r?r.segmentId():-1,start:L,end:x,myFill:{above:M.myFill.above,below:M.myFill.below},otherFill:null}}var s=e.create();function o(L,x,M,v,m,A){var V=n.pointsCompare(x,m);return V!==0?V:n.pointsSame(M,A)?0:L!==v?L?1:-1:n.pointAboveOrOnLine(M,v?m:A,v?A:m)?1:-1}function h(L,x){s.insertBefore(L,function(M){var v=o(L.isStart,L.pt,x,M.isStart,M.pt,M.other.pt);return v<0})}function p(L,x){var M=e.node({isStart:!0,pt:L.start,seg:L,primary:x,other:null,status:null});return h(M,L.end),M}function d(L,x,M){var v=e.node({isStart:!1,pt:x.end,seg:x,primary:M,other:L,status:null});L.other=v,h(v,L.pt)}function y(L,x){var M=p(L,x);return d(M,L,x),M}function g(L,x){r&&r.segmentChop(L.seg,x),L.other.remove(),L.seg.end=x,L.other.pt=x,h(L.other,L.pt)}function D(L,x){var M=u(x,L.seg.end,L.seg);return g(L,x),y(M,L.primary)}function C(L,x){var M=e.create();function v(z,H){var Z=z.seg.start,re=z.seg.end,ie=H.seg.start,ue=H.seg.end;return n.pointsCollinear(Z,ie,ue)?n.pointsCollinear(re,ie,ue)||n.pointAboveOrOnLine(re,ie,ue)?1:-1:n.pointAboveOrOnLine(Z,ie,ue)?1:-1}function m(z){return M.findTransition(function(H){var Z=v(z,H.ev);return Z>0})}function A(z,H){var Z=z.seg,re=H.seg,ie=Z.start,ue=Z.end,ge=re.start,ee=re.end;r&&r.checkIntersection(Z,re);var q=n.linesIntersect(ie,ue,ge,ee);if(q===!1){if(!n.pointsCollinear(ie,ue,ge)||n.pointsSame(ie,ee)||n.pointsSame(ue,ge))return!1;var ne=n.pointsSame(ie,ge),oe=n.pointsSame(ue,ee);if(ne&&oe)return H;var Q=!ne&&n.pointBetween(ie,ge,ee),c=!oe&&n.pointBetween(ue,ge,ee);if(ne)return c?D(H,ue):D(z,ee),H;Q&&(oe||(c?D(H,ue):D(z,ee)),D(H,ie))}else q.alongA===0&&(q.alongB===-1?D(z,ge):q.alongB===0?D(z,q.pt):q.alongB===1&&D(z,ee)),q.alongB===0&&(q.alongA===-1?D(H,ie):q.alongA===0?D(H,q.pt):q.alongA===1&&D(H,ue));return!1}for(var V=[];!s.isEmpty();){var T=s.getHead();if(r&&r.vert(T.pt[0]),T.isStart){let z=function(){if(G){var H=A(T,G);if(H)return H}return S?A(T,S):!1};r&&r.segmentNew(T.seg,T.primary);var Y=m(T),G=Y.before?Y.before.ev:null,S=Y.after?Y.after.ev:null;r&&r.tempStatus(T.seg,G?G.seg:!1,S?S.seg:!1);var U=z();if(U){if(i){var W;T.seg.myFill.below===null?W=!0:W=T.seg.myFill.above!==T.seg.myFill.below,W&&(U.seg.myFill.above=!U.seg.myFill.above)}else U.seg.otherFill=T.seg.myFill;r&&r.segmentUpdate(U.seg),T.other.remove(),T.remove()}if(s.getHead()!==T){r&&r.rewind(T.seg);continue}if(i){var W;T.seg.myFill.below===null?W=!0:W=T.seg.myFill.above!==T.seg.myFill.below,S?T.seg.myFill.below=S.seg.myFill.above:T.seg.myFill.below=L,W?T.seg.myFill.above=!T.seg.myFill.below:T.seg.myFill.above=T.seg.myFill.below}else if(T.seg.otherFill===null){var K;S?T.primary===S.primary?K=S.seg.otherFill.above:K=S.seg.myFill.above:K=T.primary?x:L,T.seg.otherFill={above:K,below:K}}r&&r.status(T.seg,G?G.seg:!1,S?S.seg:!1),T.other.status=Y.insert(e.node({ev:T}))}else{var J=T.status;if(J===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(M.exists(J.prev)&&M.exists(J.next)&&A(J.prev.ev,J.next.ev),r&&r.statusRemove(J.ev.seg),J.remove(),!T.primary){var ae=T.seg.myFill;T.seg.myFill=T.seg.otherFill,T.seg.otherFill=ae}V.push(T.seg)}s.getHead().remove()}return r&&r.done(),V}return i?{addRegion:function(L){for(var x,M=L[L.length-1],v=0;v<L.length;v++){x=M,M=L[v];var m=n.pointsCompare(x,M);m!==0&&y(f(m<0?x:M,m<0?M:x),!0)}},calculate:function(L){return C(L,!1)}}:{calculate:function(L,x,M,v){return L.forEach(function(m){y(u(m.start,m.end,m),!0)}),M.forEach(function(m){y(u(m.start,m.end,m),!1)}),C(x,v)}}}P.exports=a},{"./linked-list":62}],62:[function(t,P,k){var e={create:function(){var a={root:{root:!0,next:null},exists:function(i){return!(i===null||i===a.root)},isEmpty:function(){return a.root.next===null},getHead:function(){return a.root.next},insertBefore:function(i,n){for(var r=a.root,f=a.root.next;f!==null;){if(n(f)){i.prev=f.prev,i.next=f,f.prev.next=i,f.prev=i;return}r=f,f=f.next}r.next=i,i.prev=r,i.next=null},findTransition:function(i){for(var n=a.root,r=a.root.next;r!==null&&!i(r);)n=r,r=r.next;return{before:n===a.root?null:n,after:r,insert:function(f){return f.prev=n,f.next=r,n.next=f,r!==null&&(r.prev=f),f}}}};return a},node:function(a){return a.prev=null,a.next=null,a.remove=function(){a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.prev=null,a.next=null},a}};P.exports=e},{}],63:[function(t,P,k){function e(a,i,n){var r=[],f=[];return a.forEach(function(u){var s=u.start,o=u.end;if(i.pointsSame(s,o)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}n&&n.chainStart(u);var h={index:0,matches_head:!1,matches_pt1:!1},p={index:0,matches_head:!1,matches_pt1:!1},d=h;function y(K,J,ae){return d.index=K,d.matches_head=J,d.matches_pt1=ae,d===h?(d=p,!1):(d=null,!0)}for(var g=0;g<r.length;g++){var D=r[g],C=D[0];D[1];var L=D[D.length-1];if(D[D.length-2],i.pointsSame(C,s)){if(y(g,!0,!0))break}else if(i.pointsSame(C,o)){if(y(g,!0,!1))break}else if(i.pointsSame(L,s)){if(y(g,!1,!0))break}else if(i.pointsSame(L,o)&&y(g,!1,!1))break}if(d===h){r.push([s,o]),n&&n.chainNew(s,o);return}if(d===p){n&&n.chainMatch(h.index);var x=h.index,M=h.matches_pt1?o:s,v=h.matches_head,D=r[x],m=v?D[0]:D[D.length-1],A=v?D[1]:D[D.length-2],V=v?D[D.length-1]:D[0],T=v?D[D.length-2]:D[1];if(i.pointsCollinear(A,m,M)&&(v?(n&&n.chainRemoveHead(h.index,M),D.shift()):(n&&n.chainRemoveTail(h.index,M),D.pop()),m=A),i.pointsSame(V,M)){r.splice(x,1),i.pointsCollinear(T,V,m)&&(v?(n&&n.chainRemoveTail(h.index,m),D.pop()):(n&&n.chainRemoveHead(h.index,m),D.shift())),n&&n.chainClose(h.index),f.push(D);return}v?(n&&n.chainAddHead(h.index,M),D.unshift(M)):(n&&n.chainAddTail(h.index,M),D.push(M));return}function Y(K){n&&n.chainReverse(K),r[K].reverse()}function G(K,J){var ae=r[K],z=r[J],H=ae[ae.length-1],Z=ae[ae.length-2],re=z[0],ie=z[1];i.pointsCollinear(Z,H,re)&&(n&&n.chainRemoveTail(K,H),ae.pop(),H=Z),i.pointsCollinear(H,re,ie)&&(n&&n.chainRemoveHead(J,re),z.shift()),n&&n.chainJoin(K,J),r[K]=ae.concat(z),r.splice(J,1)}var S=h.index,U=p.index;n&&n.chainConnect(S,U);var W=r[S].length<r[U].length;h.matches_head?p.matches_head?W?(Y(S),G(S,U)):(Y(U),G(U,S)):G(U,S):p.matches_head?G(S,U):W?(Y(S),G(U,S)):(Y(U),G(S,U))}),f}P.exports=e},{}],64:[function(t,P,k){function e(i,n,r){var f=[];return i.forEach(function(u){var s=(u.myFill.above?8:0)+(u.myFill.below?4:0)+(u.otherFill&&u.otherFill.above?2:0)+(u.otherFill&&u.otherFill.below?1:0);n[s]!==0&&f.push({id:r?r.segmentId():-1,start:u.start,end:u.end,myFill:{above:n[s]===1,below:n[s]===2},otherFill:null})}),r&&r.selected(f),f}var a={union:function(i,n){return e(i,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)},intersect:function(i,n){return e(i,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)},difference:function(i,n){return e(i,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)},differenceRev:function(i,n){return e(i,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)},xor:function(i,n){return e(i,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}};P.exports=a},{}],65:[function(t,P,k){var e=P.exports={},a,i;function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=n}catch{a=n}try{typeof clearTimeout=="function"?i=clearTimeout:i=r}catch{i=r}})();function f(C){if(a===setTimeout)return setTimeout(C,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(C,0);try{return a(C,0)}catch{try{return a.call(null,C,0)}catch{return a.call(this,C,0)}}}function u(C){if(i===clearTimeout)return clearTimeout(C);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(C);try{return i(C)}catch{try{return i.call(null,C)}catch{return i.call(this,C)}}}var s=[],o=!1,h,p=-1;function d(){!o||!h||(o=!1,h.length?s=h.concat(s):p=-1,s.length&&y())}function y(){if(!o){var C=f(d);o=!0;for(var L=s.length;L;){for(h=s,s=[];++p<L;)h&&h[p].run();p=-1,L=s.length}h=null,o=!1,u(C)}}e.nextTick=function(C){var L=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)L[x-1]=arguments[x];s.push(new g(C,L)),s.length===1&&!o&&f(y)};function g(C,L){this.fun=C,this.array=L}g.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function D(){}e.on=D,e.addListener=D,e.once=D,e.off=D,e.removeListener=D,e.removeAllListeners=D,e.emit=D,e.prependListener=D,e.prependOnceListener=D,e.listeners=function(C){return[]},e.binding=function(C){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(C){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],66:[function(t,P,k){(function(e,a){(function(){var i=t("process/browser.js").nextTick,n=Function.prototype.apply,r=Array.prototype.slice,f={},u=0;k.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},k.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},k.clearTimeout=k.clearInterval=function(o){o.close()};function s(o,h){this._id=o,this._clearFn=h}s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},k.enroll=function(o,h){clearTimeout(o._idleTimeoutId),o._idleTimeout=h},k.unenroll=function(o){clearTimeout(o._idleTimeoutId),o._idleTimeout=-1},k._unrefActive=k.active=function(o){clearTimeout(o._idleTimeoutId);var h=o._idleTimeout;h>=0&&(o._idleTimeoutId=setTimeout(function(){o._onTimeout&&o._onTimeout()},h))},k.setImmediate=typeof e=="function"?e:function(o){var h=u++,p=arguments.length<2?!1:r.call(arguments,1);return f[h]=!0,i(function(){f[h]&&(p?o.apply(null,p):o.call(null),k.clearImmediate(h))}),h},k.clearImmediate=typeof a=="function"?a:function(o){delete f[o]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":65,timers:66}],67:[function(t,P,k){(function(e){var a=/^\s+/,i=/\s+$/,n=0,r=e.round,f=e.min,u=e.max,s=e.random;function o(b,O){if(b=b||"",O=O||{},b instanceof o)return b;if(!(this instanceof o))return new o(b,O);var N=h(b);this._originalInput=b,this._r=N.r,this._g=N.g,this._b=N.b,this._a=N.a,this._roundA=r(100*this._a)/100,this._format=O.format||N.format,this._gradientType=O.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=N.ok,this._tc_id=n++}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var b=this.toRgb();return(b.r*299+b.g*587+b.b*114)/1e3},getLuminance:function(){var b=this.toRgb(),O,N,R,j,se,fe;return O=b.r/255,N=b.g/255,R=b.b/255,O<=.03928?j=O/12.92:j=e.pow((O+.055)/1.055,2.4),N<=.03928?se=N/12.92:se=e.pow((N+.055)/1.055,2.4),R<=.03928?fe=R/12.92:fe=e.pow((R+.055)/1.055,2.4),.2126*j+.7152*se+.0722*fe},setAlpha:function(b){return this._a=Z(b),this._roundA=r(100*this._a)/100,this},toHsv:function(){var b=g(this._r,this._g,this._b);return{h:b.h*360,s:b.s,v:b.v,a:this._a}},toHsvString:function(){var b=g(this._r,this._g,this._b),O=r(b.h*360),N=r(b.s*100),R=r(b.v*100);return this._a==1?"hsv("+O+", "+N+"%, "+R+"%)":"hsva("+O+", "+N+"%, "+R+"%, "+this._roundA+")"},toHsl:function(){var b=d(this._r,this._g,this._b);return{h:b.h*360,s:b.s,l:b.l,a:this._a}},toHslString:function(){var b=d(this._r,this._g,this._b),O=r(b.h*360),N=r(b.s*100),R=r(b.l*100);return this._a==1?"hsl("+O+", "+N+"%, "+R+"%)":"hsla("+O+", "+N+"%, "+R+"%, "+this._roundA+")"},toHex:function(b){return C(this._r,this._g,this._b,b)},toHexString:function(b){return"#"+this.toHex(b)},toHex8:function(b){return L(this._r,this._g,this._b,this._a,b)},toHex8String:function(b){return"#"+this.toHex8(b)},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(re(this._r,255)*100)+"%",g:r(re(this._g,255)*100)+"%",b:r(re(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+r(re(this._r,255)*100)+"%, "+r(re(this._g,255)*100)+"%, "+r(re(this._b,255)*100)+"%)":"rgba("+r(re(this._r,255)*100)+"%, "+r(re(this._g,255)*100)+"%, "+r(re(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:z[C(this._r,this._g,this._b,!0)]||!1},toFilter:function(b){var O="#"+x(this._r,this._g,this._b,this._a),N=O,R=this._gradientType?"GradientType = 1, ":"";if(b){var j=o(b);N="#"+x(j._r,j._g,j._b,j._a)}return"progid:DXImageTransform.Microsoft.gradient("+R+"startColorstr="+O+",endColorstr="+N+")"},toString:function(b){var O=!!b;b=b||this._format;var N=!1,R=this._a<1&&this._a>=0,j=!O&&R&&(b==="hex"||b==="hex6"||b==="hex3"||b==="hex4"||b==="hex8"||b==="name");return j?b==="name"&&this._a===0?this.toName():this.toRgbString():(b==="rgb"&&(N=this.toRgbString()),b==="prgb"&&(N=this.toPercentageRgbString()),(b==="hex"||b==="hex6")&&(N=this.toHexString()),b==="hex3"&&(N=this.toHexString(!0)),b==="hex4"&&(N=this.toHex8String(!0)),b==="hex8"&&(N=this.toHex8String()),b==="name"&&(N=this.toName()),b==="hsl"&&(N=this.toHslString()),b==="hsv"&&(N=this.toHsvString()),N||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(b,O){var N=b.apply(null,[this].concat([].slice.call(O)));return this._r=N._r,this._g=N._g,this._b=N._b,this.setAlpha(N._a),this},lighten:function(){return this._applyModification(A,arguments)},brighten:function(){return this._applyModification(V,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(M,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(Y,arguments)},_applyCombination:function(b,O){return b.apply(null,[this].concat([].slice.call(O)))},analogous:function(){return this._applyCombination(K,arguments)},complement:function(){return this._applyCombination(G,arguments)},monochromatic:function(){return this._applyCombination(J,arguments)},splitcomplement:function(){return this._applyCombination(W,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(U,arguments)}},o.fromRatio=function(b,O){if(typeof b=="object"){var N={};for(var R in b)b.hasOwnProperty(R)&&(R==="a"?N[R]=b[R]:N[R]=ne(b[R]));b=N}return o(b,O)};function h(b){var O={r:0,g:0,b:0},N=1,R=null,j=null,se=null,fe=!1,ce=!1;return typeof b=="string"&&(b=B(b)),typeof b=="object"&&(w(b.r)&&w(b.g)&&w(b.b)?(O=p(b.r,b.g,b.b),fe=!0,ce=String(b.r).substr(-1)==="%"?"prgb":"rgb"):w(b.h)&&w(b.s)&&w(b.v)?(R=ne(b.s),j=ne(b.v),O=D(b.h,R,j),fe=!0,ce="hsv"):w(b.h)&&w(b.s)&&w(b.l)&&(R=ne(b.s),se=ne(b.l),O=y(b.h,R,se),fe=!0,ce="hsl"),b.hasOwnProperty("a")&&(N=b.a)),N=Z(N),{ok:fe,format:b.format||ce,r:f(255,u(O.r,0)),g:f(255,u(O.g,0)),b:f(255,u(O.b,0)),a:N}}function p(b,O,N){return{r:re(b,255)*255,g:re(O,255)*255,b:re(N,255)*255}}function d(b,O,N){b=re(b,255),O=re(O,255),N=re(N,255);var R=u(b,O,N),j=f(b,O,N),se,fe,ce=(R+j)/2;if(R==j)se=fe=0;else{var ye=R-j;switch(fe=ce>.5?ye/(2-R-j):ye/(R+j),R){case b:se=(O-N)/ye+(O<N?6:0);break;case O:se=(N-b)/ye+2;break;case N:se=(b-O)/ye+4;break}se/=6}return{h:se,s:fe,l:ce}}function y(b,O,N){var R,j,se;b=re(b,360),O=re(O,100),N=re(N,100);function fe(xe,De,ke){return ke<0&&(ke+=1),ke>1&&(ke-=1),ke<1/6?xe+(De-xe)*6*ke:ke<1/2?De:ke<2/3?xe+(De-xe)*(2/3-ke)*6:xe}if(O===0)R=j=se=N;else{var ce=N<.5?N*(1+O):N+O-N*O,ye=2*N-ce;R=fe(ye,ce,b+1/3),j=fe(ye,ce,b),se=fe(ye,ce,b-1/3)}return{r:R*255,g:j*255,b:se*255}}function g(b,O,N){b=re(b,255),O=re(O,255),N=re(N,255);var R=u(b,O,N),j=f(b,O,N),se,fe,ce=R,ye=R-j;if(fe=R===0?0:ye/R,R==j)se=0;else{switch(R){case b:se=(O-N)/ye+(O<N?6:0);break;case O:se=(N-b)/ye+2;break;case N:se=(b-O)/ye+4;break}se/=6}return{h:se,s:fe,v:ce}}function D(b,O,N){b=re(b,360)*6,O=re(O,100),N=re(N,100);var R=e.floor(b),j=b-R,se=N*(1-O),fe=N*(1-j*O),ce=N*(1-(1-j)*O),ye=R%6,xe=[N,fe,se,se,ce,N][ye],De=[ce,N,N,fe,se,se][ye],ke=[se,se,ce,N,N,fe][ye];return{r:xe*255,g:De*255,b:ke*255}}function C(b,O,N,R){var j=[q(r(b).toString(16)),q(r(O).toString(16)),q(r(N).toString(16))];return R&&j[0].charAt(0)==j[0].charAt(1)&&j[1].charAt(0)==j[1].charAt(1)&&j[2].charAt(0)==j[2].charAt(1)?j[0].charAt(0)+j[1].charAt(0)+j[2].charAt(0):j.join("")}function L(b,O,N,R,j){var se=[q(r(b).toString(16)),q(r(O).toString(16)),q(r(N).toString(16)),q(oe(R))];return j&&se[0].charAt(0)==se[0].charAt(1)&&se[1].charAt(0)==se[1].charAt(1)&&se[2].charAt(0)==se[2].charAt(1)&&se[3].charAt(0)==se[3].charAt(1)?se[0].charAt(0)+se[1].charAt(0)+se[2].charAt(0)+se[3].charAt(0):se.join("")}function x(b,O,N,R){var j=[q(oe(R)),q(r(b).toString(16)),q(r(O).toString(16)),q(r(N).toString(16))];return j.join("")}o.equals=function(b,O){return!b||!O?!1:o(b).toRgbString()==o(O).toRgbString()},o.random=function(){return o.fromRatio({r:s(),g:s(),b:s()})};function M(b,O){O=O===0?0:O||10;var N=o(b).toHsl();return N.s-=O/100,N.s=ie(N.s),o(N)}function v(b,O){O=O===0?0:O||10;var N=o(b).toHsl();return N.s+=O/100,N.s=ie(N.s),o(N)}function m(b){return o(b).desaturate(100)}function A(b,O){O=O===0?0:O||10;var N=o(b).toHsl();return N.l+=O/100,N.l=ie(N.l),o(N)}function V(b,O){O=O===0?0:O||10;var N=o(b).toRgb();return N.r=u(0,f(255,N.r-r(255*-(O/100)))),N.g=u(0,f(255,N.g-r(255*-(O/100)))),N.b=u(0,f(255,N.b-r(255*-(O/100)))),o(N)}function T(b,O){O=O===0?0:O||10;var N=o(b).toHsl();return N.l-=O/100,N.l=ie(N.l),o(N)}function Y(b,O){var N=o(b).toHsl(),R=(N.h+O)%360;return N.h=R<0?360+R:R,o(N)}function G(b){var O=o(b).toHsl();return O.h=(O.h+180)%360,o(O)}function S(b){var O=o(b).toHsl(),N=O.h;return[o(b),o({h:(N+120)%360,s:O.s,l:O.l}),o({h:(N+240)%360,s:O.s,l:O.l})]}function U(b){var O=o(b).toHsl(),N=O.h;return[o(b),o({h:(N+90)%360,s:O.s,l:O.l}),o({h:(N+180)%360,s:O.s,l:O.l}),o({h:(N+270)%360,s:O.s,l:O.l})]}function W(b){var O=o(b).toHsl(),N=O.h;return[o(b),o({h:(N+72)%360,s:O.s,l:O.l}),o({h:(N+216)%360,s:O.s,l:O.l})]}function K(b,O,N){O=O||6,N=N||30;var R=o(b).toHsl(),j=360/N,se=[o(b)];for(R.h=(R.h-(j*O>>1)+720)%360;--O;)R.h=(R.h+j)%360,se.push(o(R));return se}function J(b,O){O=O||6;for(var N=o(b).toHsv(),R=N.h,j=N.s,se=N.v,fe=[],ce=1/O;O--;)fe.push(o({h:R,s:j,v:se})),se=(se+ce)%1;return fe}o.mix=function(b,O,N){N=N===0?0:N||50;var R=o(b).toRgb(),j=o(O).toRgb(),se=N/100,fe={r:(j.r-R.r)*se+R.r,g:(j.g-R.g)*se+R.g,b:(j.b-R.b)*se+R.b,a:(j.a-R.a)*se+R.a};return o(fe)},o.readability=function(b,O){var N=o(b),R=o(O);return(e.max(N.getLuminance(),R.getLuminance())+.05)/(e.min(N.getLuminance(),R.getLuminance())+.05)},o.isReadable=function(b,O,N){var R=o.readability(b,O),j,se;switch(se=!1,j=E(N),j.level+j.size){case"AAsmall":case"AAAlarge":se=R>=4.5;break;case"AAlarge":se=R>=3;break;case"AAAsmall":se=R>=7;break}return se},o.mostReadable=function(b,O,N){var R=null,j=0,se,fe,ce,ye;N=N||{},fe=N.includeFallbackColors,ce=N.level,ye=N.size;for(var xe=0;xe<O.length;xe++)se=o.readability(b,O[xe]),se>j&&(j=se,R=o(O[xe]));return o.isReadable(b,R,{level:ce,size:ye})||!fe?R:(N.includeFallbackColors=!1,o.mostReadable(b,["#fff","#000"],N))};var ae=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=o.hexNames=H(ae);function H(b){var O={};for(var N in b)b.hasOwnProperty(N)&&(O[b[N]]=N);return O}function Z(b){return b=parseFloat(b),(isNaN(b)||b<0||b>1)&&(b=1),b}function re(b,O){ge(b)&&(b="100%");var N=ee(b);return b=f(O,u(0,parseFloat(b))),N&&(b=parseInt(b*O,10)/100),e.abs(b-O)<1e-6?1:b%O/parseFloat(O)}function ie(b){return f(1,u(0,b))}function ue(b){return parseInt(b,16)}function ge(b){return typeof b=="string"&&b.indexOf(".")!=-1&&parseFloat(b)===1}function ee(b){return typeof b=="string"&&b.indexOf("%")!=-1}function q(b){return b.length==1?"0"+b:""+b}function ne(b){return b<=1&&(b=b*100+"%"),b}function oe(b){return e.round(parseFloat(b)*255).toString(16)}function Q(b){return ue(b)/255}var c=function(){var b="[-\\+]?\\d+%?",O="[-\\+]?\\d*\\.\\d+%?",N="(?:"+O+")|(?:"+b+")",R="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",j="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?";return{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+R),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+R),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+R),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function w(b){return!!c.CSS_UNIT.exec(b)}function B(b){b=b.replace(a,"").replace(i,"").toLowerCase();var O=!1;if(ae[b])b=ae[b],O=!0;else if(b=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var N;return(N=c.rgb.exec(b))?{r:N[1],g:N[2],b:N[3]}:(N=c.rgba.exec(b))?{r:N[1],g:N[2],b:N[3],a:N[4]}:(N=c.hsl.exec(b))?{h:N[1],s:N[2],l:N[3]}:(N=c.hsla.exec(b))?{h:N[1],s:N[2],l:N[3],a:N[4]}:(N=c.hsv.exec(b))?{h:N[1],s:N[2],v:N[3]}:(N=c.hsva.exec(b))?{h:N[1],s:N[2],v:N[3],a:N[4]}:(N=c.hex8.exec(b))?{r:ue(N[1]),g:ue(N[2]),b:ue(N[3]),a:Q(N[4]),format:O?"name":"hex8"}:(N=c.hex6.exec(b))?{r:ue(N[1]),g:ue(N[2]),b:ue(N[3]),format:O?"name":"hex"}:(N=c.hex4.exec(b))?{r:ue(N[1]+""+N[1]),g:ue(N[2]+""+N[2]),b:ue(N[3]+""+N[3]),a:Q(N[4]+""+N[4]),format:O?"name":"hex8"}:(N=c.hex3.exec(b))?{r:ue(N[1]+""+N[1]),g:ue(N[2]+""+N[2]),b:ue(N[3]+""+N[3]),format:O?"name":"hex"}:!1}function E(b){var O,N;return b=b||{level:"AA",size:"small"},O=(b.level||"AA").toUpperCase(),N=(b.size||"small").toLowerCase(),O!=="AA"&&O!=="AAA"&&(O="AA"),N!=="small"&&N!=="large"&&(N="small"),{level:O,size:N}}typeof P!="undefined"&&P.exports?P.exports=o:window.tinycolor=o})(Math)},{}],68:[function(t,P,k){var e=t("../main"),a=t("object-assign"),i=e.instance();function n(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}n.prototype=new e.baseCalendar,a(n.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(y,g){if(typeof y=="string"){var D=y.match(f);return D?D[0]:""}var C=this._validateYear(y),L=y.month(),x=""+this.toChineseMonth(C,L);return g&&x.length<2&&(x="0"+x),this.isIntercalaryMonth(C,L)&&(x+="i"),x},monthNames:function(y){if(typeof y=="string"){var g=y.match(u);return g?g[0]:""}var D=this._validateYear(y),C=y.month(),L=this.toChineseMonth(D,C),x=["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"][L-1];return this.isIntercalaryMonth(D,C)&&(x="\u95F0"+x),x},monthNamesShort:function(y){if(typeof y=="string"){var g=y.match(s);return g?g[0]:""}var D=this._validateYear(y),C=y.month(),L=this.toChineseMonth(D,C),x=["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"][L-1];return this.isIntercalaryMonth(D,C)&&(x="\u95F0"+x),x},parseMonth:function(y,g){y=this._validateYear(y);var D=parseInt(g),C;if(isNaN(D))g[0]==="\u95F0"&&(C=!0,g=g.substring(1)),g[g.length-1]==="\u6708"&&(g=g.substring(0,g.length-1)),D=1+["\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D","\u4E03","\u516B","\u4E5D","\u5341","\u5341\u4E00","\u5341\u4E8C"].indexOf(g);else{var L=g[g.length-1];C=L==="i"||L==="I"}var x=this.toMonthIndex(y,D,C);return x},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(y,g){if(y.year&&(y=y.year()),typeof y!="number"||y<1888||y>2111)throw g.replace(/\{0\}/,this.local.name);return y},toMonthIndex:function(y,g,D){var C=this.intercalaryMonth(y),L=D&&g!==C;if(L||g<1||g>12)throw e.local.invalidMonth.replace(/\{0\}/,this.local.name);var x;return C?!D&&g<=C?x=g-1:x=g:x=g-1,x},toChineseMonth:function(y,g){y.year&&(y=y.year(),g=y.month());var D=this.intercalaryMonth(y),C=D?12:11;if(g<0||g>C)throw e.local.invalidMonth.replace(/\{0\}/,this.local.name);var L;return D?g<D?L=g+1:L=g:L=g+1,L},intercalaryMonth:function(y){y=this._validateYear(y);var g=o[y-o[0]],D=g>>13;return D},isIntercalaryMonth:function(y,g){y.year&&(y=y.year(),g=y.month());var D=this.intercalaryMonth(y);return!!D&&D===g},leapYear:function(y){return this.intercalaryMonth(y)!==0},weekOfYear:function(y,g,D){var C=this._validateYear(y,e.local.invalidyear),L=h[C-h[0]],x=L>>9&4095,M=L>>5&15,v=L&31,m;m=i.newDate(x,M,v),m.add(4-(m.dayOfWeek()||7),"d");var A=this.toJD(y,g,D)-m.toJD();return 1+Math.floor(A/7)},monthsInYear:function(y){return this.leapYear(y)?13:12},daysInMonth:function(y,g){y.year&&(g=y.month(),y=y.year()),y=this._validateYear(y);var D=o[y-o[0]],C=D>>13,L=C?12:11;if(g>L)throw e.local.invalidMonth.replace(/\{0\}/,this.local.name);var x=D&1<<12-g?30:29;return x},weekDay:function(y,g,D){return(this.dayOfWeek(y,g,D)||7)<6},toJD:function(y,g,D){var C=this._validate(y,x,D,e.local.invalidDate);y=this._validateYear(C.year()),g=C.month(),D=C.day();var L=this.isIntercalaryMonth(y,g),x=this.toChineseMonth(y,g),M=d(y,x,D,L);return i.toJD(M.year,M.month,M.day)},fromJD:function(y){var g=i.fromJD(y),D=p(g.year(),g.month(),g.day()),C=this.toMonthIndex(D.year,D.month,D.isIntercalary);return this.newDate(D.year,C,D.day)},fromString:function(y){var g=y.match(r),D=this._validateYear(+g[1]),C=+g[2],L=!!g[3],x=this.toMonthIndex(D,C,L),M=+g[4];return this.newDate(D,x,M)},add:function(y,g,D){var C=y.year(),L=y.month(),x=this.isIntercalaryMonth(C,L),M=this.toChineseMonth(C,L),v=Object.getPrototypeOf(n.prototype).add.call(this,y,g,D);if(D==="y"){var m=v.year(),A=v.month(),V=this.isIntercalaryMonth(m,M),T=x&&V?this.toMonthIndex(m,M,!0):this.toMonthIndex(m,M,!1);T!==A&&v.month(T)}return v}});var r=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,f=/^\d?\d[iI]?/m,u=/^??[]?/m,s=/^??[]?/m;e.calendars.chinese=n;var o=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],h=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function p(y,g,D,C){var L,x;if(typeof y=="object")L=y,x=g||{};else{var M=typeof y=="number"&&y>=1888&&y<=2111;if(!M)throw new Error("Solar year outside range 1888-2111");var v=typeof g=="number"&&g>=1&&g<=12;if(!v)throw new Error("Solar month outside range 1 - 12");var m=typeof D=="number"&&D>=1&&D<=31;if(!m)throw new Error("Solar day outside range 1 - 31");L={year:y,month:g,day:D},x=C||{}}var A=h[L.year-h[0]],V=L.year<<9|L.month<<5|L.day;x.year=V>=A?L.year:L.year-1,A=h[x.year-h[0]];var T=A>>9&4095,Y=A>>5&15,G=A&31,S,U=new Date(T,Y-1,G),W=new Date(L.year,L.month-1,L.day);S=Math.round((W-U)/(24*3600*1e3));var K=o[x.year-o[0]],J;for(J=0;J<13;J++){var ae=K&1<<12-J?30:29;if(S<ae)break;S-=ae}var z=K>>13;return!z||J<z?(x.isIntercalary=!1,x.month=1+J):J===z?(x.isIntercalary=!0,x.month=J):(x.isIntercalary=!1,x.month=J),x.day=1+S,x}function d(y,g,D,C,L){var x,M;if(typeof y=="object")M=y,x=g||{};else{var v=typeof y=="number"&&y>=1888&&y<=2111;if(!v)throw new Error("Lunar year outside range 1888-2111");var m=typeof g=="number"&&g>=1&&g<=12;if(!m)throw new Error("Lunar month outside range 1 - 12");var A=typeof D=="number"&&D>=1&&D<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var V;typeof C=="object"?(V=!1,x=C):(V=!!C,x=L||{}),M={year:y,month:g,day:D,isIntercalary:V}}var T;T=M.day-1;var Y=o[M.year-o[0]],G=Y>>13,S;G&&(M.month>G||M.isIntercalary)?S=M.month:S=M.month-1;for(var U=0;U<S;U++){var W=Y&1<<12-U?30:29;T+=W}var K=h[M.year-h[0]],J=K>>9&4095,ae=K>>5&15,z=K&31,H=new Date(J,ae-1,z+T);return x.year=H.getFullYear(),x.month=1+H.getMonth(),x.day=H.getDate(),x}},{"../main":82,"object-assign":55}],69:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,e.local.invalidYear),n=r.year()+(r.year()<0?1:0);return n%4==3||n%4==-1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,e.local.invalidYear||e.regionalOptions[""].invalidYear),13},weekOfYear:function(n,r,f){var u=this.newDate(n,r,f);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var f=this._validate(n,r,this.minDay,e.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(n,r,f){return(this.dayOfWeek(n,r,f)||7)<6},toJD:function(n,r,f){var u=this._validate(n,r,f,e.local.invalidDate);return n=u.year(),n<0&&n++,u.day()+(u.month()-1)*30+(n-1)*365+Math.floor(n/4)+this.jdEpoch-1},fromJD:function(n){var r=Math.floor(n)+.5-this.jdEpoch,f=Math.floor((r-Math.floor((r+366)/1461))/365)+1;f<=0&&f--,r=Math.floor(n)+.5-this.newDate(f,1,1).toJD();var u=Math.floor(r/30)+1,s=r-(u-1)*30+1;return this.newDate(f,u,s)}}),e.calendars.coptic=i},{"../main":82,"object-assign":55}],70:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,e.local.invalidYear),!1},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,e.local.invalidYear),13},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,e.local.invalidYear),400},weekOfYear:function(r,f,u){var s=this.newDate(r,f,u);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/8)+1},daysInMonth:function(r,f){var u=this._validate(r,f,this.minDay,e.local.invalidMonth);return this.daysPerMonth[u.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate);return(s.day()+1)%8},weekDay:function(r,f,u){var s=this.dayOfWeek(r,f,u);return s>=2&&s<=6},extraInfo:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate);return{century:n[Math.floor((s.year()-1)/100)+1]||""}},toJD:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate);return r=s.year()+(s.year()<0?1:0),f=s.month(),u=s.day(),u+(f>1?16:0)+(f>2?(f-2)*32:0)+(r-1)*400+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r+.5)-Math.floor(this.jdEpoch)-1;var f=Math.floor(r/400)+1;r-=(f-1)*400,r+=r>15?16:0;var u=Math.floor(r/32)+1,s=r-(u-1)*32+1;return this.newDate(f<=0?f-1:f,u,s)}});var n={20:"Fruitbat",21:"Anchovy"};e.calendars.discworld=i},{"../main":82,"object-assign":55}],71:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,e.local.invalidYear),n=r.year()+(r.year()<0?1:0);return n%4==3||n%4==-1},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,e.local.invalidYear||e.regionalOptions[""].invalidYear),13},weekOfYear:function(n,r,f){var u=this.newDate(n,r,f);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var f=this._validate(n,r,this.minDay,e.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===13&&this.leapYear(f.year())?1:0)},weekDay:function(n,r,f){return(this.dayOfWeek(n,r,f)||7)<6},toJD:function(n,r,f){var u=this._validate(n,r,f,e.local.invalidDate);return n=u.year(),n<0&&n++,u.day()+(u.month()-1)*30+(n-1)*365+Math.floor(n/4)+this.jdEpoch-1},fromJD:function(n){var r=Math.floor(n)+.5-this.jdEpoch,f=Math.floor((r-Math.floor((r+366)/1461))/365)+1;f<=0&&f--,r=Math.floor(n)+.5-this.newDate(f,1,1).toJD();var u=Math.floor(r/30)+1,s=r-(u-1)*30+1;return this.newDate(f,u,s)}}),e.calendars.ethiopian=i},{"../main":82,"object-assign":55}],72:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear);return this._leapYear(f.year())},_leapYear:function(r){return r=r<0?r+1:r,n(r*7+1,19)<7},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,e.local.invalidYear),this._leapYear(r.year?r.year():r)?13:12},weekOfYear:function(r,f,u){var s=this.newDate(r,f,u);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear);return r=f.year(),this.toJD(r===-1?1:r+1,7,1)-this.toJD(r,7,1)},daysInMonth:function(r,f){return r.year&&(f=r.month(),r=r.year()),this._validate(r,f,this.minDay,e.local.invalidMonth),f===12&&this.leapYear(r)||f===8&&n(this.daysInYear(r),10)===5?30:f===9&&n(this.daysInYear(r),10)===3?29:this.daysPerMonth[f-1]},weekDay:function(r,f,u){return this.dayOfWeek(r,f,u)!==6},extraInfo:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate);return{yearType:(this.leapYear(s)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(s)%10-3]}},toJD:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate);r=s.year(),f=s.month(),u=s.day();var o=r<=0?r+1:r,h=this.jdEpoch+this._delay1(o)+this._delay2(o)+u+1;if(f<7){for(var p=7;p<=this.monthsInYear(r);p++)h+=this.daysInMonth(r,p);for(var p=1;p<f;p++)h+=this.daysInMonth(r,p)}else for(var p=7;p<f;p++)h+=this.daysInMonth(r,p);return h},_delay1:function(r){var f=Math.floor((235*r-234)/19),u=12084+13753*f,s=f*29+Math.floor(u/25920);return n(3*(s+1),7)<3&&s++,s},_delay2:function(r){var f=this._delay1(r-1),u=this._delay1(r),s=this._delay1(r+1);return s-u==356?2:u-f==382?1:0},fromJD:function(r){r=Math.floor(r)+.5;for(var f=Math.floor((r-this.jdEpoch)*98496/35975351)-1;r>=this.toJD(f===-1?1:f+1,7,1);)f++;for(var u=r<this.toJD(f,1,1)?7:1;r>this.toJD(f,u,this.daysInMonth(f,u));)u++;var s=r-this.toJD(f,u,1)+1;return this.newDate(f,u,s)}});function n(r,f){return r-f*Math.floor(r/f)}e.calendars.hebrew=i},{"../main":82,"object-assign":55}],73:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-kham\u012Bs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,e.local.invalidYear);return(r.year()*11+14)%30<11},weekOfYear:function(n,r,f){var u=this.newDate(n,r,f);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInYear:function(n){return this.leapYear(n)?355:354},daysInMonth:function(n,r){var f=this._validate(n,r,this.minDay,e.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===12&&this.leapYear(f.year())?1:0)},weekDay:function(n,r,f){return this.dayOfWeek(n,r,f)!==5},toJD:function(n,r,f){var u=this._validate(n,r,f,e.local.invalidDate);return n=u.year(),r=u.month(),f=u.day(),n=n<=0?n+1:n,f+Math.ceil(29.5*(r-1))+(n-1)*354+Math.floor((3+11*n)/30)+this.jdEpoch-1},fromJD:function(n){n=Math.floor(n)+.5;var r=Math.floor((30*(n-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var f=Math.min(12,Math.ceil((n-29-this.toJD(r,1,1))/29.5)+1),u=n-this.toJD(r,f,1)+1;return this.newDate(r,f,u)}}),e.calendars.islamic=i},{"../main":82,"object-assign":55}],74:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,e.local.invalidYear),n=r.year()<0?r.year()+1:r.year();return n%4==0},weekOfYear:function(n,r,f){var u=this.newDate(n,r,f);return u.add(4-(u.dayOfWeek()||7),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInMonth:function(n,r){var f=this._validate(n,r,this.minDay,e.local.invalidMonth);return this.daysPerMonth[f.month()-1]+(f.month()===2&&this.leapYear(f.year())?1:0)},weekDay:function(n,r,f){return(this.dayOfWeek(n,r,f)||7)<6},toJD:function(n,r,f){var u=this._validate(n,r,f,e.local.invalidDate);return n=u.year(),r=u.month(),f=u.day(),n<0&&n++,r<=2&&(n--,r+=12),Math.floor(365.25*(n+4716))+Math.floor(30.6001*(r+1))+f-1524.5},fromJD:function(n){var r=Math.floor(n+.5),f=r+1524,u=Math.floor((f-122.1)/365.25),s=Math.floor(365.25*u),o=Math.floor((f-s)/30.6001),h=o-Math.floor(o<14?1:13),p=u-Math.floor(h>2?4716:4715),d=f-s-Math.floor(30.6001*o);return p<=0&&p--,this.newDate(p,h,d)}}),e.calendars.julian=i},{"../main":82,"object-assign":55}],75:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(f){return this._validate(f,this.minMonth,this.minDay,e.local.invalidYear),!1},formatYear:function(f){var u=this._validate(f,this.minMonth,this.minDay,e.local.invalidYear);f=u.year();var s=Math.floor(f/400);f=f%400,f+=f<0?400:0;var o=Math.floor(f/20);return s+"."+o+"."+f%20},forYear:function(f){if(f=f.split("."),f.length<3)throw"Invalid Mayan year";for(var u=0,s=0;s<f.length;s++){var o=parseInt(f[s],10);if(Math.abs(o)>19||s>0&&o<0)throw"Invalid Mayan year";u=u*20+o}return u},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,e.local.invalidYear),18},weekOfYear:function(f,u,s){return this._validate(f,u,s,e.local.invalidDate),0},daysInYear:function(f){return this._validate(f,this.minMonth,this.minDay,e.local.invalidYear),360},daysInMonth:function(f,u){return this._validate(f,u,this.minDay,e.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(f,u,s){var o=this._validate(f,u,s,e.local.invalidDate);return o.day()},weekDay:function(f,u,s){return this._validate(f,u,s,e.local.invalidDate),!0},extraInfo:function(f,u,s){var o=this._validate(f,u,s,e.local.invalidDate),h=o.toJD(),p=this._toHaab(h),d=this._toTzolkin(h);return{haabMonthName:this.local.haabMonths[p[0]-1],haabMonth:p[0],haabDay:p[1],tzolkinDayName:this.local.tzolkinMonths[d[0]-1],tzolkinDay:d[0],tzolkinTrecena:d[1]}},_toHaab:function(f){f-=this.jdEpoch;var u=n(f+8+(18-1)*20,365);return[Math.floor(u/20)+1,n(u,20)]},_toTzolkin:function(f){return f-=this.jdEpoch,[r(f+20,20),r(f+4,13)]},toJD:function(f,u,s){var o=this._validate(f,u,s,e.local.invalidDate);return o.day()+o.month()*20+o.year()*360+this.jdEpoch},fromJD:function(f){f=Math.floor(f)+.5-this.jdEpoch;var u=Math.floor(f/360);f=f%360,f+=f<0?360:0;var s=Math.floor(f/20),o=f%20;return this.newDate(u,s,o)}});function n(f,u){return f-u*Math.floor(f/u)}function r(f,u){return n(f-1,u)+1}e.calendars.mayan=i},{"../main":82,"object-assign":55}],76:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar;var n=e.instance("gregorian");a(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear||e.regionalOptions[""].invalidYear);return n.leapYear(f.year()+(f.year()<1?1:0)+1469)},weekOfYear:function(r,f,u){var s=this.newDate(r,f,u);return s.add(1-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(r,f){var u=this._validate(r,f,this.minDay,e.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===12&&this.leapYear(u.year())?1:0)},weekDay:function(r,f,u){return(this.dayOfWeek(r,f,u)||7)<6},toJD:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidMonth),r=s.year();r<0&&r++;for(var o=s.day(),h=1;h<s.month();h++)o+=this.daysPerMonth[h-1];return o+n.toJD(r+1468,3,13)},fromJD:function(r){r=Math.floor(r+.5);for(var f=Math.floor((r-(this.jdEpoch-1))/366);r>=this.toJD(f+1,1,1);)f++;for(var u=r-Math.floor(this.toJD(f,1,1)+.5)+1,s=1;u>this.daysInMonth(f,s);)u-=this.daysInMonth(f,s),s++;return this.newDate(f,s,u)}}),e.calendars.nanakshahi=i},{"../main":82,"object-assign":55}],77:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(n){return this.daysInYear(n)!==this.daysPerYear},weekOfYear:function(n,r,f){var u=this.newDate(n,r,f);return u.add(-u.dayOfWeek(),"d"),Math.floor((u.dayOfYear()-1)/7)+1},daysInYear:function(n){var r=this._validate(n,this.minMonth,this.minDay,e.local.invalidYear);if(n=r.year(),typeof this.NEPALI_CALENDAR_DATA[n]=="undefined")return this.daysPerYear;for(var f=0,u=this.minMonth;u<=12;u++)f+=this.NEPALI_CALENDAR_DATA[n][u];return f},daysInMonth:function(n,r){return n.year&&(r=n.month(),n=n.year()),this._validate(n,r,this.minDay,e.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[n]=="undefined"?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[n][r]},weekDay:function(n,r,f){return this.dayOfWeek(n,r,f)!==6},toJD:function(n,r,f){var u=this._validate(n,r,f,e.local.invalidDate);n=u.year(),r=u.month(),f=u.day();var s=e.instance(),o=0,h=r,p=n;this._createMissingCalendarData(n);var d=n-(h>9||h===9&&f>=this.NEPALI_CALENDAR_DATA[p][0]?56:57);for(r!==9&&(o=f,h--);h!==9;)h<=0&&(h=12,p--),o+=this.NEPALI_CALENDAR_DATA[p][h],h--;return r===9?(o+=f-this.NEPALI_CALENDAR_DATA[p][0],o<0&&(o+=s.daysInYear(d))):o+=this.NEPALI_CALENDAR_DATA[p][9]-this.NEPALI_CALENDAR_DATA[p][0],s.newDate(d,1,1).add(o,"d").toJD()},fromJD:function(n){var r=e.instance(),f=r.fromJD(n),u=f.year(),s=f.dayOfYear(),o=u+56;this._createMissingCalendarData(o);for(var h=9,p=this.NEPALI_CALENDAR_DATA[o][0],d=this.NEPALI_CALENDAR_DATA[o][h]-p+1;s>d;)h++,h>12&&(h=1,o++),d+=this.NEPALI_CALENDAR_DATA[o][h];var y=this.NEPALI_CALENDAR_DATA[o][h]-(d-s);return this.newDate(o,h,y)},_createMissingCalendarData:function(n){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var f=n-1;f<n+2;f++)typeof this.NEPALI_CALENDAR_DATA[f]=="undefined"&&(this.NEPALI_CALENDAR_DATA[f]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),e.calendars.nepali=i},{"../main":82,"object-assign":55}],78:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Ch\xE6harshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch\xE6","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear);return((f.year()-(f.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(r,f,u){var s=this.newDate(r,f,u);return s.add(-((s.dayOfWeek()+1)%7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(r,f){var u=this._validate(r,f,this.minDay,e.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===12&&this.leapYear(u.year())?1:0)},weekDay:function(r,f,u){return this.dayOfWeek(r,f,u)!==5},toJD:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate);r=s.year(),f=s.month(),u=s.day();var o=r-(r>=0?474:473),h=474+n(o,2820);return u+(f<=7?(f-1)*31:(f-1)*30+6)+Math.floor((h*682-110)/2816)+(h-1)*365+Math.floor(o/2820)*1029983+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r)+.5;var f=r-this.toJD(475,1,1),u=Math.floor(f/1029983),s=n(f,1029983),o=2820;if(s!==1029982){var h=Math.floor(s/366),p=n(s,366);o=Math.floor((2134*h+2816*p+2815)/1028522)+h+1}var d=o+2820*u+474;d=d<=0?d-1:d;var y=r-this.toJD(d,1,1)+1,g=y<=186?Math.ceil(y/31):Math.ceil((y-6)/30),D=r-this.toJD(d,g,1)+1;return this.newDate(d,g,D)}});function n(r,f){return r-f*Math.floor(r/f)}e.calendars.persian=i,e.calendars.jalali=i},{"../main":82,"object-assign":55}],79:[function(t,P,k){var e=t("../main"),a=t("object-assign"),i=e.instance();function n(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}n.prototype=new e.baseCalendar,a(n.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear),r=this._t2gYear(f.year());return i.leapYear(r)},weekOfYear:function(r,f,u){var s=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear),r=this._t2gYear(s.year());return i.weekOfYear(r,s.month(),s.day())},daysInMonth:function(r,f){var u=this._validate(r,f,this.minDay,e.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(r,f,u){return(this.dayOfWeek(r,f,u)||7)<6},toJD:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate),r=this._t2gYear(s.year());return i.toJD(r,s.month(),s.day())},fromJD:function(r){var f=i.fromJD(r),u=this._g2tYear(f.year());return this.newDate(u,f.month(),f.day())},_t2gYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)},_g2tYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)}}),e.calendars.taiwan=n},{"../main":82,"object-assign":55}],80:[function(t,P,k){var e=t("../main"),a=t("object-assign"),i=e.instance();function n(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}n.prototype=new e.baseCalendar,a(n.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear),r=this._t2gYear(f.year());return i.leapYear(r)},weekOfYear:function(r,f,u){var s=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear),r=this._t2gYear(s.year());return i.weekOfYear(r,s.month(),s.day())},daysInMonth:function(r,f){var u=this._validate(r,f,this.minDay,e.local.invalidMonth);return this.daysPerMonth[u.month()-1]+(u.month()===2&&this.leapYear(u.year())?1:0)},weekDay:function(r,f,u){return(this.dayOfWeek(r,f,u)||7)<6},toJD:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate),r=this._t2gYear(s.year());return i.toJD(r,s.month(),s.day())},fromJD:function(r){var f=i.fromJD(r),u=this._g2tYear(f.year());return this.newDate(u,f.month(),f.day())},_t2gYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)},_g2tYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)}}),e.calendars.thai=n},{"../main":82,"object-assign":55}],81:[function(t,P,k){var e=t("../main"),a=t("object-assign");function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new e.baseCalendar,a(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thal\u0101th\u0101\u2019","Yawm al-Arba\u2018\u0101\u2019","Yawm al-Kham\u012Bs","Yawm al-Jum\u2018a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(r){var f=this._validate(r,this.minMonth,this.minDay,e.local.invalidYear);return this.daysInYear(f.year())===355},weekOfYear:function(r,f,u){var s=this.newDate(r,f,u);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(r){for(var f=0,u=1;u<=12;u++)f+=this.daysInMonth(r,u);return f},daysInMonth:function(r,f){for(var u=this._validate(r,f,this.minDay,e.local.invalidMonth),s=u.toJD()-24e5+.5,o=0,h=0;h<n.length;h++){if(n[h]>s)return n[o]-n[o-1];o++}return 30},weekDay:function(r,f,u){return this.dayOfWeek(r,f,u)!==5},toJD:function(r,f,u){var s=this._validate(r,f,u,e.local.invalidDate),o=12*(s.year()-1)+s.month()-15292,h=s.day()+n[o-1]-1;return h+24e5-.5},fromJD:function(r){for(var f=r-24e5+.5,u=0,s=0;s<n.length&&!(n[s]>f);s++)u++;var o=u+15292,h=Math.floor((o-1)/12),p=h+1,d=o-12*h,y=f-n[u-1]+1;return this.newDate(p,d,y)},isValid:function(r,f,u){var s=e.baseCalendar.prototype.isValid.apply(this,arguments);return s&&(r=r.year!=null?r.year:r,s=r>=1276&&r<=1500),s},_validate:function(r,f,u,s){var o=e.baseCalendar.prototype._validate.apply(this,arguments);if(o.year<1276||o.year>1500)throw s.replace(/\{0\}/,this.local.name);return o}}),e.calendars.ummalqura=i;var n=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},{"../main":82,"object-assign":55}],82:[function(t,P,k){var e=t("object-assign");function a(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}e(a.prototype,{instance:function(s,o){s=(s||"gregorian").toLowerCase(),o=o||"";var h=this._localCals[s+"-"+o];if(!h&&this.calendars[s]&&(h=new this.calendars[s](o),this._localCals[s+"-"+o]=h),!h)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,s);return h},newDate:function(s,o,h,p,d){return p=(s!=null&&s.year?s.calendar():typeof p=="string"?this.instance(p,d):p)||this.instance(),p.newDate(s,o,h)},substituteDigits:function(s){return function(o){return(o+"").replace(/[0-9]/g,function(h){return s[h]})}},substituteChineseDigits:function(s,o){return function(h){for(var p="",d=0;h>0;){var y=h%10;p=(y===0?"":s[y]+o[d])+p,d++,h=Math.floor(h/10)}return p.indexOf(s[1]+o[1])===0&&(p=p.substr(1)),p||s[0]}}});function i(s,o,h,p){if(this._calendar=s,this._year=o,this._month=h,this._day=p,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function n(s,o){return s=""+s,"000000".substring(0,o-s.length)+s}e(i.prototype,{newDate:function(s,o,h){return this._calendar.newDate(s==null?this:s,o,h)},year:function(s){return arguments.length===0?this._year:this.set(s,"y")},month:function(s){return arguments.length===0?this._month:this.set(s,"m")},day:function(s){return arguments.length===0?this._day:this.set(s,"d")},date:function(s,o,h){if(!this._calendar.isValid(s,o,h))throw(u.local.invalidDate||u.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=s,this._month=o,this._day=h,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(s,o){return this._calendar.add(this,s,o)},set:function(s,o){return this._calendar.set(this,s,o)},compareTo:function(s){if(this._calendar.name!==s._calendar.name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,s._calendar.local.name);var o=this._year!==s._year?this._year-s._year:this._month!==s._month?this.monthOfYear()-s.monthOfYear():this._day-s._day;return o===0?0:o<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(s){return this._calendar.fromJD(s)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(s){return this._calendar.fromJSDate(s)},toString:function(){return(this.year()<0?"-":"")+n(Math.abs(this.year()),4)+"-"+n(this.month(),2)+"-"+n(this.day(),2)}});function r(){this.shortYearCutoff="+10"}e(r.prototype,{_validateLevel:0,newDate:function(s,o,h){return s==null?this.today():(s.year&&(this._validate(s,o,h,u.local.invalidDate||u.regionalOptions[""].invalidDate),h=s.day(),o=s.month(),s=s.year()),new i(this,s,o,h))},today:function(){return this.fromJSDate(new Date)},epoch:function(s){var o=this._validate(s,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return o.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(s){var o=this._validate(s,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return(o.year()<0?"-":"")+n(Math.abs(o.year()),4)},monthsInYear:function(s){return this._validate(s,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear),12},monthOfYear:function(s,o){var h=this._validate(s,o,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return(h.month()+this.monthsInYear(h)-this.firstMonth)%this.monthsInYear(h)+this.minMonth},fromMonthOfYear:function(s,o){var h=(o+this.firstMonth-2*this.minMonth)%this.monthsInYear(s)+this.minMonth;return this._validate(s,h,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth),h},daysInYear:function(s){var o=this._validate(s,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear);return this.leapYear(o)?366:365},dayOfYear:function(s,o,h){var p=this._validate(s,o,h,u.local.invalidDate||u.regionalOptions[""].invalidDate);return p.toJD()-this.newDate(p.year(),this.fromMonthOfYear(p.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(s,o,h){var p=this._validate(s,o,h,u.local.invalidDate||u.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(p))+2)%this.daysInWeek()},extraInfo:function(s,o,h){return this._validate(s,o,h,u.local.invalidDate||u.regionalOptions[""].invalidDate),{}},add:function(s,o,h){return this._validate(s,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate),this._correctAdd(s,this._add(s,o,h),o,h)},_add:function(s,o,h){if(this._validateLevel++,h==="d"||h==="w"){var p=s.toJD()+o*(h==="w"?this.daysInWeek():1),d=s.calendar().fromJD(p);return this._validateLevel--,[d.year(),d.month(),d.day()]}try{var y=s.year()+(h==="y"?o:0),g=s.monthOfYear()+(h==="m"?o:0),d=s.day(),D=function(x){for(;g<x.minMonth;)y--,g+=x.monthsInYear(y);for(var M=x.monthsInYear(y);g>M-1+x.minMonth;)y++,g-=M,M=x.monthsInYear(y)};h==="y"?(s.month()!==this.fromMonthOfYear(y,g)&&(g=this.newDate(y,s.month(),this.minDay).monthOfYear()),g=Math.min(g,this.monthsInYear(y)),d=Math.min(d,this.daysInMonth(y,this.fromMonthOfYear(y,g)))):h==="m"&&(D(this),d=Math.min(d,this.daysInMonth(y,this.fromMonthOfYear(y,g))));var C=[y,this.fromMonthOfYear(y,g),d];return this._validateLevel--,C}catch(L){throw this._validateLevel--,L}},_correctAdd:function(s,o,h,p){if(!this.hasYearZero&&(p==="y"||p==="m")&&(o[0]===0||s.year()>0!=o[0]>0)){var d={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[p],y=h<0?-1:1;o=this._add(s,h*d[0]+y*d[1],d[2])}return s.date(o[0],o[1],o[2])},set:function(s,o,h){this._validate(s,this.minMonth,this.minDay,u.local.invalidDate||u.regionalOptions[""].invalidDate);var p=h==="y"?o:s.year(),d=h==="m"?o:s.month(),y=h==="d"?o:s.day();return(h==="y"||h==="m")&&(y=Math.min(y,this.daysInMonth(p,d))),s.date(p,d,y)},isValid:function(s,o,h){this._validateLevel++;var p=this.hasYearZero||s!==0;if(p){var d=this.newDate(s,o,this.minDay);p=o>=this.minMonth&&o-this.minMonth<this.monthsInYear(d)&&h>=this.minDay&&h-this.minDay<this.daysInMonth(d)}return this._validateLevel--,p},toJSDate:function(s,o,h){var p=this._validate(s,o,h,u.local.invalidDate||u.regionalOptions[""].invalidDate);return u.instance().fromJD(this.toJD(p)).toJSDate()},fromJSDate:function(s){return this.fromJD(u.instance().fromJSDate(s).toJD())},_validate:function(s,o,h,p){if(s.year){if(this._validateLevel===0&&this.name!==s.calendar().name)throw(u.local.differentCalendars||u.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,s.calendar().local.name);return s}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(s,o,h))throw p.replace(/\{0\}/,this.local.name);var d=this.newDate(s,o,h);return this._validateLevel--,d}catch(y){throw this._validateLevel--,y}}});function f(s){this.local=this.regionalOptions[s]||this.regionalOptions[""]}f.prototype=new r,e(f.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var o=this._validate(s,this.minMonth,this.minDay,u.local.invalidYear||u.regionalOptions[""].invalidYear),s=o.year()+(o.year()<0?1:0);return s%4==0&&(s%100!=0||s%400==0)},weekOfYear:function(s,o,h){var p=this.newDate(s,o,h);return p.add(4-(p.dayOfWeek()||7),"d"),Math.floor((p.dayOfYear()-1)/7)+1},daysInMonth:function(s,o){var h=this._validate(s,o,this.minDay,u.local.invalidMonth||u.regionalOptions[""].invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(s,o,h){return(this.dayOfWeek(s,o,h)||7)<6},toJD:function(s,o,h){var p=this._validate(s,o,h,u.local.invalidDate||u.regionalOptions[""].invalidDate);s=p.year(),o=p.month(),h=p.day(),s<0&&s++,o<3&&(o+=12,s--);var d=Math.floor(s/100),y=2-d+Math.floor(d/4);return Math.floor(365.25*(s+4716))+Math.floor(30.6001*(o+1))+h+y-1524.5},fromJD:function(s){var o=Math.floor(s+.5),h=Math.floor((o-186721625e-2)/36524.25);h=o+1+h-Math.floor(h/4);var p=h+1524,d=Math.floor((p-122.1)/365.25),y=Math.floor(365.25*d),g=Math.floor((p-y)/30.6001),D=p-y-Math.floor(g*30.6001),C=g-(g>13.5?13:1),L=d-(C>2.5?4716:4715);return L<=0&&L--,this.newDate(L,C,D)},toJSDate:function(s,o,h){var p=this._validate(s,o,h,u.local.invalidDate||u.regionalOptions[""].invalidDate),d=new Date(p.year(),p.month()-1,p.day());return d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0),d.setHours(d.getHours()>12?d.getHours()+2:0),d},fromJSDate:function(s){return this.newDate(s.getFullYear(),s.getMonth()+1,s.getDate())}});var u=P.exports=new a;u.cdate=i,u.baseCalendar=r,u.calendars.gregorian=f},{"object-assign":55}],83:[function(t,P,k){var e=t("object-assign"),a=t("./main");e(a.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),a.local=a.regionalOptions[""],e(a.cdate.prototype,{formatDate:function(i,n){return typeof i!="string"&&(n=i,i=""),this._calendar.formatDate(i||"",this,n)}}),e(a.baseCalendar.prototype,{UNIX_EPOCH:a.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:a.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,n,r){if(typeof i!="string"&&(r=n,n=i,i=""),!n)return"";if(n.calendar()!==this)throw a.local.invalidFormat||a.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,r=r||{};var f=r.dayNamesShort||this.local.dayNamesShort,u=r.dayNames||this.local.dayNames,s=r.monthNumbers||this.local.monthNumbers,o=r.monthNamesShort||this.local.monthNamesShort,h=r.monthNames||this.local.monthNames;r.calculateWeek||this.local.calculateWeek;for(var p=function(A,V){for(var T=1;m+T<i.length&&i.charAt(m+T)===A;)T++;return m+=T-1,Math.floor(T/(V||1))>1},d=function(A,V,T,Y){var G=""+V;if(p(A,Y))for(;G.length<T;)G="0"+G;return G},y=function(A,V,T,Y){return p(A)?Y[V]:T[V]},g=this,D=function(A){return typeof s=="function"?s.call(g,A,p("m")):x(d("m",A.month(),2))},C=function(A,V){return V?typeof h=="function"?h.call(g,A):h[A.month()-g.minMonth]:typeof o=="function"?o.call(g,A):o[A.month()-g.minMonth]},L=this.local.digits,x=function(A){return r.localNumbers&&L?L(A):A},M="",v=!1,m=0;m<i.length;m++)if(v)i.charAt(m)==="'"&&!p("'")?v=!1:M+=i.charAt(m);else switch(i.charAt(m)){case"d":M+=x(d("d",n.day(),2));break;case"D":M+=y("D",n.dayOfWeek(),f,u);break;case"o":M+=d("o",n.dayOfYear(),3);break;case"w":M+=d("w",n.weekOfYear(),2);break;case"m":M+=D(n);break;case"M":M+=C(n,p("M"));break;case"y":M+=p("y",2)?n.year():(n.year()%100<10?"0":"")+n.year()%100;break;case"Y":p("Y",2),M+=n.formatYear();break;case"J":M+=n.toJD();break;case"@":M+=(n.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":M+=(n.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":p("'")?M+="'":v=!0;break;default:M+=i.charAt(m)}return M},parseDate:function(i,n,r){if(n==null)throw a.local.invalidArguments||a.regionalOptions[""].invalidArguments;if(n=typeof n=="object"?n.toString():n+"",n==="")return null;i=i||this.local.dateFormat,r=r||{};var f=r.shortYearCutoff||this.shortYearCutoff;f=typeof f!="string"?f:this.today().year()%100+parseInt(f,10);for(var u=r.dayNamesShort||this.local.dayNamesShort,s=r.dayNames||this.local.dayNames,o=r.parseMonth||this.local.parseMonth,h=r.monthNumbers||this.local.monthNumbers,p=r.monthNamesShort||this.local.monthNamesShort,d=r.monthNames||this.local.monthNames,y=-1,g=-1,D=-1,C=-1,L=-1,x=!1,M=!1,v=function(J,ae){for(var z=1;U+z<i.length&&i.charAt(U+z)===J;)z++;return U+=z-1,Math.floor(z/(ae||1))>1},m=function(J,ae){var z=v(J,ae),H=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(J)+1],Z=new RegExp("^-?\\d{1,"+H+"}"),re=n.substring(S).match(Z);if(!re)throw(a.local.missingNumberAt||a.regionalOptions[""].missingNumberAt).replace(/\{0\}/,S);return S+=re[0].length,parseInt(re[0],10)},A=this,V=function(){if(typeof h=="function"){v("m");var J=h.call(A,n.substring(S));return S+=J.length,J}return m("m")},T=function(J,ae,z,H){for(var Z=v(J,H)?z:ae,re=0;re<Z.length;re++)if(n.substr(S,Z[re].length).toLowerCase()===Z[re].toLowerCase())return S+=Z[re].length,re+A.minMonth;throw(a.local.unknownNameAt||a.regionalOptions[""].unknownNameAt).replace(/\{0\}/,S)},Y=function(){if(typeof d=="function"){var J=v("M")?d.call(A,n.substring(S)):p.call(A,n.substring(S));return S+=J.length,J}return T("M",p,d)},G=function(){if(n.charAt(S)!==i.charAt(U))throw(a.local.unexpectedLiteralAt||a.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,S);S++},S=0,U=0;U<i.length;U++)if(M)i.charAt(U)==="'"&&!v("'")?M=!1:G();else switch(i.charAt(U)){case"d":C=m("d");break;case"D":T("D",u,s);break;case"o":L=m("o");break;case"w":m("w");break;case"m":D=V();break;case"M":D=Y();break;case"y":var W=U;x=!v("y",2),U=W,g=m("y",2);break;case"Y":g=m("Y",2);break;case"J":y=m("J")+.5,n.charAt(S)==="."&&(S++,m("J"));break;case"@":y=m("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":y=m("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":S=n.length;break;case"'":v("'")?G():M=!0;break;default:G()}if(S<n.length)throw a.local.unexpectedText||a.regionalOptions[""].unexpectedText;if(g===-1?g=this.today().year():g<100&&x&&(g+=f===-1?1900:this.today().year()-this.today().year()%100-(g<=f?0:100)),typeof D=="string"&&(D=o.call(this,g,D)),L>-1){D=1,C=L;for(var K=this.daysInMonth(g,D);C>K;K=this.daysInMonth(g,D))D++,C-=K}return y>-1?this.fromJD(y):this.newDate(g,D,C)},determineDate:function(i,n,r,f,u){r&&typeof r!="object"&&(u=f,f=r,r=null),typeof f!="string"&&(u=f,f="");var s=this,o=function(h){try{return s.parseDate(f,h,u)}catch{}h=h.toLowerCase();for(var p=(h.match(/^c/)&&r?r.newDate():null)||s.today(),d=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,y=d.exec(h);y;)p.add(parseInt(y[1],10),y[2]||"d"),y=d.exec(h);return p};return n=n?n.newDate():null,i=i==null?n:typeof i=="string"?o(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?n:s.today().add(i,"d"):s.newDate(i),i}})},{"./main":82,"object-assign":55}],84:[function(t,P,k){P.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],85:[function(t,P,k){var e=t("./arrow_paths"),a=t("../../plots/font_attributes"),i=t("../../plots/cartesian/constants"),n=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),P.exports=n("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:a({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:e.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:e.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:a({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/font_attributes":310,"./arrow_paths":84}],86:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/cartesian/axes"),i=t("./draw").draw;P.exports=function(u){var s=u._fullLayout,o=e.filterVisible(s.annotations);if(o.length&&u._fullData.length)return e.syncOrAsync([i,n],u)};function n(f){var u=f._fullLayout;e.filterVisible(u.annotations).forEach(function(s){var o=a.getFromId(f,s.xref),h=a.getFromId(f,s.yref),p=a.getRefType(s.xref),d=a.getRefType(s.yref);s._extremes={},p==="range"&&r(s,o),d==="range"&&r(s,h)})}function r(f,u){var s=u._id,o=s.charAt(0),h=f[o],p=f["a"+o],d=f[o+"ref"],y=f["a"+o+"ref"],g=f["_"+o+"padplus"],D=f["_"+o+"padminus"],C={x:1,y:-1}[o]*f[o+"shift"],L=3*f.arrowsize*f.arrowwidth||0,x=L+C,M=L-C,v=3*f.startarrowsize*f.arrowwidth||0,m=v+C,A=v-C,V;if(y===d){var T=a.findExtremes(u,[u.r2c(h)],{ppadplus:x,ppadminus:M}),Y=a.findExtremes(u,[u.r2c(p)],{ppadplus:Math.max(g,m),ppadminus:Math.max(D,A)});V={min:[T.min[0],Y.min[0]],max:[T.max[0],Y.max[0]]}}else m=p?m+p:m,A=p?A-p:A,V=a.findExtremes(u,[u.r2c(h)],{ppadplus:Math.max(g,x,m),ppadminus:Math.max(D,M,A)});f._extremes[s]=V}},{"../../lib":232,"../../plots/cartesian/axes":279,"./draw":91}],87:[function(t,P,k){var e=t("../../lib"),a=t("../../registry"),i=t("../../plot_api/plot_template").arrayEditor;P.exports={hasClickToShow:n,onClick:r};function n(s,o){var h=f(s,o);return h.on.length>0||h.explicitOff.length>0}function r(s,o){var h=f(s,o),p=h.on,d=h.off.concat(h.explicitOff),y={},g=s._fullLayout.annotations,D,C;if(!!(p.length||d.length)){for(D=0;D<p.length;D++)C=i(s.layout,"annotations",g[p[D]]),C.modifyItem("visible",!0),e.extendFlat(y,C.getUpdateObj());for(D=0;D<d.length;D++)C=i(s.layout,"annotations",g[d[D]]),C.modifyItem("visible",!1),e.extendFlat(y,C.getUpdateObj());return a.call("update",s,{},y)}}function f(s,o){var h=s._fullLayout.annotations,p=[],d=[],y=[],g=(o||[]).length,D,C,L,x,M,v,m,A;for(D=0;D<h.length;D++)if(L=h[D],x=L.clicktoshow,x){for(C=0;C<g;C++)if(M=o[C],v=M.xaxis,m=M.yaxis,v._id===L.xref&&m._id===L.yref&&v.d2r(M.x)===u(L._xclick,v)&&m.d2r(M.y)===u(L._yclick,m)){L.visible?x==="onout"?A=d:A=y:A=p,A.push(D);break}C===g&&L.visible&&x==="onout"&&d.push(D)}return{on:p,off:d,explicitOff:y}}function u(s,o){return o.type==="log"?o.l2r(s):o.d2r(s)}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318}],88:[function(t,P,k){var e=t("../../lib"),a=t("../color");P.exports=function(n,r,f,u){u("opacity");var s=u("bgcolor"),o=u("bordercolor"),h=a.opacity(o);u("borderpad");var p=u("borderwidth"),d=u("showarrow");u("text",d?" ":f._dfltTitle.annotation),u("textangle"),e.coerceFont(u,"font",f.font),u("width"),u("align");var y=u("height");if(y&&u("valign"),d){var g=u("arrowside"),D,C;g.indexOf("end")!==-1&&(D=u("arrowhead"),C=u("arrowsize")),g.indexOf("start")!==-1&&(u("startarrowhead",D),u("startarrowsize",C)),u("arrowcolor",h?r.bordercolor:a.defaultLine),u("arrowwidth",(h&&p||1)*2),u("standoff"),u("startstandoff")}var L=u("hovertext"),x=f.hoverlabel||{};if(L){var M=u("hoverlabel.bgcolor",x.bgcolor||(a.opacity(s)?a.rgb(s):a.defaultLine)),v=u("hoverlabel.bordercolor",x.bordercolor||a.contrast(M));e.coerceFont(u,"hoverlabel.font",{family:x.font.family,size:x.font.size,color:x.font.color||v})}u("captureevents",!!L)}},{"../../lib":232,"../color":102}],89:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib/to_log_range");P.exports=function(n,r,f,u){r=r||{};var s=f==="log"&&r.type==="linear",o=f==="linear"&&r.type==="log";if(!(s||o))return;var h=n._fullLayout.annotations,p=r._id.charAt(0),d,y;function g(C){var L=d[C],x=null;s?x=a(L,r.range):x=Math.pow(10,L),e(x)||(x=null),u(y+C,x)}for(var D=0;D<h.length;D++)d=h[D],y="annotations["+D+"].",d[p+"ref"]===r._id&&g(p),d["a"+p+"ref"]===r._id&&g("a"+p)}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],90:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/cartesian/axes"),i=t("../../plots/array_container_defaults"),n=t("./common_defaults"),r=t("./attributes");P.exports=function(s,o){i(s,o,{name:"annotations",handleItemDefaults:f})};function f(u,s,o){function h(G,S){return e.coerce(u,s,r,G,S)}var p=h("visible"),d=h("clicktoshow");if(!!(p||d)){n(u,s,o,h);for(var y=s.showarrow,g=["x","y"],D=[-10,-30],C={_fullLayout:o},L=0;L<2;L++){var x=g[L],M=a.coerceRef(u,s,C,x,"","paper");if(M!=="paper"){var v=a.getFromId(C,M);v._annIndices.push(s._index)}if(a.coercePosition(s,C,h,M,x,.5),y){var m="a"+x,A=a.coerceRef(u,s,C,m,"pixel",["pixel","paper"]);A!=="pixel"&&A!==M&&(A=s[m]="pixel");var V=A==="pixel"?D[L]:.4;a.coercePosition(s,C,h,A,m,V)}h(x+"anchor"),h(x+"shift")}if(e.noneOrAll(u,s,["x","y"]),y&&e.noneOrAll(u,s,["ax","ay"]),d){var T=h("xclick"),Y=h("yclick");s._xclick=T===void 0?s.x:a.cleanPosition(T,C,s.xref),s._yclick=Y===void 0?s.y:a.cleanPosition(Y,C,s.yref)}}}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":85,"./common_defaults":88}],91:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../registry"),i=t("../../plots/plots"),n=t("../../lib"),r=n.strTranslate,f=t("../../plots/cartesian/axes"),u=t("../color"),s=t("../drawing"),o=t("../fx"),h=t("../../lib/svg_text_utils"),p=t("../../lib/setcursor"),d=t("../dragelement"),y=t("../../plot_api/plot_template").arrayEditor,g=t("./draw_arrow_head");P.exports={draw:D,drawOne:C,drawRaw:x};function D(M){var v=M._fullLayout;v._infolayer.selectAll(".annotation").remove();for(var m=0;m<v.annotations.length;m++)v.annotations[m].visible&&C(M,m);return i.previousPromises(M)}function C(M,v){var m=M._fullLayout,A=m.annotations[v]||{},V=f.getFromId(M,A.xref),T=f.getFromId(M,A.yref);V&&V.setScale(),T&&T.setScale(),x(M,A,v,!1,V,T)}function L(M,v,m,A,V){var T=V[m],Y=V[m+"ref"],G=m.indexOf("y")!==-1,S=f.getRefType(Y)==="domain",U=G?A.h:A.w;return M?S?T+(G?-v:v)/M._length:M.p2r(M.r2p(T)+v):T+(G?-v:v)/U}function x(M,v,m,A,V,T){var Y=M._fullLayout,G=M._fullLayout._size,S=M._context.edits,U,W;A?(U="annotation-"+A,W=A+".annotations"):(U="annotation",W="annotations");var K=y(M.layout,W,v),J=K.modifyBase,ae=K.modifyItem,z=K.getUpdateObj;Y._infolayer.selectAll("."+U+'[data-index="'+m+'"]').remove();var H="clip"+Y._uid+"_ann"+m;if(!v._input||v.visible===!1){e.selectAll("#"+H).remove();return}var Z={x:{},y:{}},re=+v.textangle||0,ie=Y._infolayer.append("g").classed(U,!0).attr("data-index",String(m)).style("opacity",v.opacity),ue=ie.append("g").classed("annotation-text-g",!0),ge=S[v.showarrow?"annotationTail":"annotationPosition"],ee=v.captureevents||S.annotationText||ge;function q(se){var fe={index:m,annotation:v._input,fullAnnotation:v,event:se};return A&&(fe.subplotId=A),fe}var ne=ue.append("g").style("pointer-events",ee?"all":null).call(p,"pointer").on("click",function(){M._dragging=!1,M.emit("plotly_clickannotation",q(e.event))});v.hovertext&&ne.on("mouseover",function(){var se=v.hoverlabel,fe=se.font,ce=this.getBoundingClientRect(),ye=M.getBoundingClientRect();o.loneHover({x0:ce.left-ye.left,x1:ce.right-ye.left,y:(ce.top+ce.bottom)/2-ye.top,text:v.hovertext,color:se.bgcolor,borderColor:se.bordercolor,fontFamily:fe.family,fontSize:fe.size,fontColor:fe.color},{container:Y._hoverlayer.node(),outerContainer:Y._paper.node(),gd:M})}).on("mouseout",function(){o.loneUnhover(Y._hoverlayer.node())});var oe=v.borderwidth,Q=v.borderpad,c=oe+Q,w=ne.append("rect").attr("class","bg").style("stroke-width",oe+"px").call(u.stroke,v.bordercolor).call(u.fill,v.bgcolor),B=v.width||v.height,E=Y._topclips.selectAll("#"+H).data(B?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",H).append("rect"),E.exit().remove();var b=v.font,O=Y._meta?n.templateString(v.text,Y._meta):v.text,N=ne.append("text").classed("annotation-text",!0).text(O);function R(se){return se.call(s.font,b).attr({"text-anchor":{left:"start",right:"end"}[v.align]||"middle"}),h.convertToTspans(se,M,j),se}function j(){var se=N.selectAll("a");if(se.size()===1&&se.text()===N.text()){var fe=ne.insert("a",":first-child").attr({"xlink:xlink:href":se.attr("xlink:href"),"xlink:xlink:show":se.attr("xlink:show")}).style({cursor:"pointer"});fe.node().appendChild(w.node())}var ce=ne.select(".annotation-text-math-group"),ye=!ce.empty(),xe=s.bBox((ye?ce:N).node()),De=xe.width,ke=xe.height,Ne=v.width||De,Ue=v.height||ke,Ce=Math.round(Ne+2*c),_e=Math.round(Ue+2*c);function Ie(Yt,Ft){return Ft==="auto"&&(Yt<1/3?Ft="left":Yt>2/3?Ft="right":Ft="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[Ft]}for(var Ze=!1,gt=["x","y"],Ve=0;Ve<gt.length;Ve++){var We=gt[Ve],Ke=v[We+"ref"]||We,ut=v["a"+We+"ref"],mt={x:V,y:T}[We],Lt=(re+(We==="x"?0:-90))*Math.PI/180,rt=Ce*Math.cos(Lt),dt=_e*Math.sin(Lt),ot=Math.abs(rt)+Math.abs(dt),pt=v[We+"anchor"],Ct=v[We+"shift"]*(We==="x"?1:-1),Ee=Z[We],Oe,at,pe,Ae,Se,Pe=f.getRefType(Ke);if(mt&&Pe!=="domain"){var tt=mt.r2fraction(v[We]);(tt<0||tt>1)&&(ut===Ke?(tt=mt.r2fraction(v["a"+We]),(tt<0||tt>1)&&(Ze=!0)):Ze=!0),Oe=mt._offset+mt.r2p(v[We]),Ae=.5}else{var Je=Pe==="domain";We==="x"?(pe=v[We],Oe=Je?mt._offset+mt._length*pe:Oe=G.l+G.w*pe):(pe=1-v[We],Oe=Je?mt._offset+mt._length*pe:Oe=G.t+G.h*pe),Ae=v.showarrow?.5:pe}if(v.showarrow){Ee.head=Oe;var ht=v["a"+We];if(Se=rt*Ie(.5,v.xanchor)-dt*Ie(.5,v.yanchor),ut===Ke){var vt=f.getRefType(ut);vt==="domain"?(We==="y"&&(ht=1-ht),Ee.tail=mt._offset+mt._length*ht):vt==="paper"?We==="y"?(ht=1-ht,Ee.tail=G.t+G.h*ht):Ee.tail=G.l+G.w*ht:Ee.tail=mt._offset+mt.r2p(ht),at=Se}else Ee.tail=Oe+ht,at=Se+ht;Ee.text=Ee.tail+Se;var nt=Y[We==="x"?"width":"height"];if(Ke==="paper"&&(Ee.head=n.constrain(Ee.head,1,nt-1)),ut==="pixel"){var je=-Math.max(Ee.tail-3,Ee.text),_t=Math.min(Ee.tail+3,Ee.text)-nt;je>0?(Ee.tail+=je,Ee.text+=je):_t>0&&(Ee.tail-=_t,Ee.text-=_t)}Ee.tail+=Ct,Ee.head+=Ct}else Se=ot*Ie(Ae,pt),at=Se,Ee.text=Oe+Se;Ee.text+=Ct,Se+=Ct,at+=Ct,v["_"+We+"padplus"]=ot/2+at,v["_"+We+"padminus"]=ot/2-at,v["_"+We+"size"]=ot,v["_"+We+"shift"]=Se}if(Ze){ne.remove();return}var Et=0,Tt=0;if(v.align!=="left"&&(Et=(Ne-De)*(v.align==="center"?.5:1)),v.valign!=="top"&&(Tt=(Ue-ke)*(v.valign==="middle"?.5:1)),ye)ce.select("svg").attr({x:c+Et-1,y:c+Tt}).call(s.setClipUrl,B?H:null,M);else{var Zt=c+Tt-xe.top,$t=c+Et-xe.left;N.call(h.positionText,$t,Zt).call(s.setClipUrl,B?H:null,M)}E.select("rect").call(s.setRect,c,c,Ne,Ue),w.call(s.setRect,oe/2,oe/2,Ce-oe,_e-oe),ne.call(s.setTranslate,Math.round(Z.x.text-Ce/2),Math.round(Z.y.text-_e/2)),ue.attr({transform:"rotate("+re+","+Z.x.text+","+Z.y.text+")"});var Qt=function(Yt,Ft){ie.selectAll(".annotation-arrow-g").remove();var ct=Z.x.head,Vt=Z.y.head,Ot=Z.x.tail+Yt,he=Z.y.tail+Ft,ve=Z.x.text+Yt,we=Z.y.text+Ft,Le=n.rotationXYMatrix(re,ve,we),Re=n.apply2DTransform(Le),Ge=n.apply2DTransform2(Le),Fe=+w.attr("width"),Ye=+w.attr("height"),$e=ve-.5*Fe,yt=$e+Fe,Mt=we-.5*Ye,St=Mt+Ye,wt=[[$e,Mt,$e,St],[$e,St,yt,St],[yt,St,yt,Mt],[yt,Mt,$e,Mt]].map(Ge);if(!wt.reduce(function(Dt,Jt){return Dt^!!n.segmentsIntersect(ct,Vt,ct+1e6,Vt+1e6,Jt[0],Jt[1],Jt[2],Jt[3])},!1)){wt.forEach(function(Dt){var Jt=n.segmentsIntersect(Ot,he,ct,Vt,Dt[0],Dt[1],Dt[2],Dt[3]);Jt&&(Ot=Jt.x,he=Jt.y)});var Ht=v.arrowwidth,Nt=v.arrowcolor,qt=v.arrowside,kt=ie.append("g").style({opacity:u.opacity(Nt)}).classed("annotation-arrow-g",!0),xt=kt.append("path").attr("d","M"+Ot+","+he+"L"+ct+","+Vt).style("stroke-width",Ht+"px").call(u.stroke,u.rgb(Nt));if(g(xt,qt,v),S.annotationPosition&&xt.node().parentNode&&!A){var It=ct,Ut=Vt;if(v.standoff){var it=Math.sqrt(Math.pow(ct-Ot,2)+Math.pow(Vt-he,2));It+=v.standoff*(Ot-ct)/it,Ut+=v.standoff*(he-Vt)/it}var At=kt.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Ot-It)+","+(he-Ut),transform:r(It,Ut)}).style("stroke-width",Ht+6+"px").call(u.stroke,"rgba(0,0,0,0)").call(u.fill,"rgba(0,0,0,0)"),Rt,bt;d.init({element:At.node(),gd:M,prepFn:function(){var Dt=s.getTranslate(ne);Rt=Dt.x,bt=Dt.y,V&&V.autorange&&J(V._name+".autorange",!0),T&&T.autorange&&J(T._name+".autorange",!0)},moveFn:function(Dt,Jt){var jt=Re(Rt,bt),Bt=jt[0]+Dt,nr=jt[1]+Jt;ne.call(s.setTranslate,Bt,nr),ae("x",L(V,Dt,"x",G,v)),ae("y",L(T,Jt,"y",G,v)),v.axref===v.xref&&ae("ax",L(V,Dt,"ax",G,v)),v.ayref===v.yref&&ae("ay",L(T,Jt,"ay",G,v)),kt.attr("transform",r(Dt,Jt)),ue.attr({transform:"rotate("+re+","+Bt+","+nr+")"})},doneFn:function(){a.call("_guiRelayout",M,z());var Dt=document.querySelector(".js-notes-box-panel");Dt&&Dt.redraw(Dt.selectedObj)}})}}};if(v.showarrow&&Qt(0,0),ge){var zt;d.init({element:ne.node(),gd:M,prepFn:function(){zt=ue.attr("transform")},moveFn:function(Yt,Ft){var ct="pointer";if(v.showarrow)v.axref===v.xref?ae("ax",L(V,Yt,"ax",G,v)):ae("ax",v.ax+Yt),v.ayref===v.yref?ae("ay",L(T,Ft,"ay",G.w,v)):ae("ay",v.ay+Ft),Qt(Yt,Ft);else{if(A)return;var Vt,Ot;if(V)Vt=L(V,Yt,"x",G,v);else{var he=v._xsize/G.w,ve=v.x+(v._xshift-v.xshift)/G.w-he/2;Vt=d.align(ve+Yt/G.w,he,0,1,v.xanchor)}if(T)Ot=L(T,Ft,"y",G,v);else{var we=v._ysize/G.h,Le=v.y-(v._yshift+v.yshift)/G.h-we/2;Ot=d.align(Le-Ft/G.h,we,0,1,v.yanchor)}ae("x",Vt),ae("y",Ot),(!V||!T)&&(ct=d.getCursor(V?.5:Vt,T?.5:Ot,v.xanchor,v.yanchor))}ue.attr({transform:r(Yt,Ft)+zt}),p(ne,ct)},clickFn:function(Yt,Ft){v.captureevents&&M.emit("plotly_clickannotation",q(Ft))},doneFn:function(){p(ne),a.call("_guiRelayout",M,z());var Yt=document.querySelector(".js-notes-box-panel");Yt&&Yt.redraw(Yt.selectedObj)}})}}S.annotationText?N.call(h.makeEditable,{delegate:ne,gd:M}).call(R).on("edit",function(se){v.text=se,this.call(R),ae("text",se),V&&V.autorange&&J(V._name+".autorange",!0),T&&T.autorange&&J(T._name+".autorange",!0),a.call("_guiRelayout",M,z())}):N.call(R)}},{"../../lib":232,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../fx":142,"./draw_arrow_head":92,"@plotly/d3":11}],92:[function(t,P,k){var e=t("@plotly/d3"),a=t("../color"),i=t("./arrow_paths"),n=t("../../lib"),r=n.strScale,f=n.strRotate,u=n.strTranslate;P.exports=function(o,h,p){var d=o.node(),y=i[p.arrowhead||0],g=i[p.startarrowhead||0],D=(p.arrowwidth||1)*(p.arrowsize||1),C=(p.arrowwidth||1)*(p.startarrowsize||1),L=h.indexOf("start")>=0,x=h.indexOf("end")>=0,M=y.backoff*D+p.standoff,v=g.backoff*C+p.startstandoff,m,A,V,T;if(d.nodeName==="line"){m={x:+o.attr("x1"),y:+o.attr("y1")},A={x:+o.attr("x2"),y:+o.attr("y2")};var Y=m.x-A.x,G=m.y-A.y;if(V=Math.atan2(G,Y),T=V+Math.PI,M&&v&&M+v>Math.sqrt(Y*Y+G*G)){ue();return}if(M){if(M*M>Y*Y+G*G){ue();return}var S=M*Math.cos(V),U=M*Math.sin(V);A.x+=S,A.y+=U,o.attr({x2:A.x,y2:A.y})}if(v){if(v*v>Y*Y+G*G){ue();return}var W=v*Math.cos(V),K=v*Math.sin(V);m.x-=W,m.y-=K,o.attr({x1:m.x,y1:m.y})}}else if(d.nodeName==="path"){var J=d.getTotalLength(),ae="";if(J<M+v){ue();return}var z=d.getPointAtLength(0),H=d.getPointAtLength(.1);V=Math.atan2(z.y-H.y,z.x-H.x),m=d.getPointAtLength(Math.min(v,J)),ae="0px,"+v+"px,";var Z=d.getPointAtLength(J),re=d.getPointAtLength(J-.1);T=Math.atan2(Z.y-re.y,Z.x-re.x),A=d.getPointAtLength(Math.max(0,J-M));var ie=ae?v+M:M;ae+=J-ie+"px,"+J+"px",o.style("stroke-dasharray",ae)}function ue(){o.style("stroke-dasharray","0px,100px")}function ge(ee,q,ne,oe){!ee.path||(ee.noRotate&&(ne=0),e.select(d.parentNode).append("path").attr({class:o.attr("class"),d:ee.path,transform:u(q.x,q.y)+f(ne*180/Math.PI)+r(oe)}).style({fill:a.rgb(p.arrowcolor),"stroke-width":0}))}L&&ge(g,m,V,C),x&&ge(y,A,T,D)}},{"../../lib":232,"../color":102,"./arrow_paths":84,"@plotly/d3":11}],93:[function(t,P,k){var e=t("./draw"),a=t("./click");P.exports={moduleType:"component",name:"annotations",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("annotations"),calcAutorange:t("./calc_autorange"),draw:e.draw,drawOne:e.drawOne,drawRaw:e.drawRaw,hasClickToShow:a.hasClickToShow,onClick:a.onClick,convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":85,"./calc_autorange":86,"./click":87,"./convert_coords":89,"./defaults":90,"./draw":91}],94:[function(t,P,k){var e=t("../annotations/attributes"),a=t("../../plot_api/edit_types").overrideAll,i=t("../../plot_api/plot_template").templatedArray;P.exports=a(i("annotation",{visible:e.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:e.xanchor,xshift:e.xshift,yanchor:e.yanchor,yshift:e.yshift,text:e.text,textangle:e.textangle,font:e.font,width:e.width,height:e.height,opacity:e.opacity,align:e.align,valign:e.valign,bgcolor:e.bgcolor,bordercolor:e.bordercolor,borderpad:e.borderpad,borderwidth:e.borderwidth,showarrow:e.showarrow,arrowcolor:e.arrowcolor,arrowhead:e.arrowhead,startarrowhead:e.startarrowhead,arrowside:e.arrowside,arrowsize:e.arrowsize,startarrowsize:e.startarrowsize,arrowwidth:e.arrowwidth,standoff:e.standoff,startstandoff:e.startstandoff,hovertext:e.hovertext,hoverlabel:e.hoverlabel,captureevents:e.captureevents}),"calc","from-root")},{"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../annotations/attributes":85}],95:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/cartesian/axes");P.exports=function(r){for(var f=r.fullSceneLayout,u=f.annotations,s=0;s<u.length;s++)i(u[s],r);r.fullLayout._infolayer.selectAll(".annotation-"+r.id).remove()};function i(n,r){var f=r.fullSceneLayout,u=f.domain,s=r.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};n._xa={},e.extendFlat(n._xa,o),a.setConvert(n._xa),n._xa._offset=s.l+u.x[0]*s.w,n._xa.l2p=function(){return .5*(1+n._pdata[0]/n._pdata[3])*s.w*(u.x[1]-u.x[0])},n._ya={},e.extendFlat(n._ya,o),a.setConvert(n._ya),n._ya._offset=s.t+(1-u.y[1])*s.h,n._ya.l2p=function(){return .5*(1-n._pdata[1]/n._pdata[3])*s.h*(u.y[1]-u.y[0])}}},{"../../lib":232,"../../plots/cartesian/axes":279}],96:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/cartesian/axes"),i=t("../../plots/array_container_defaults"),n=t("../annotations/common_defaults"),r=t("./attributes");P.exports=function(s,o,h){i(s,o,{name:"annotations",handleItemDefaults:f,fullLayout:h.fullLayout})};function f(u,s,o,h){function p(g,D){return e.coerce(u,s,r,g,D)}function d(g){var D=g+"axis",C={_fullLayout:{}};return C._fullLayout[D]=o[D],a.coercePosition(s,C,p,g,g,.5)}var y=p("visible");!y||(n(u,s,h.fullLayout,p),d("x"),d("y"),d("z"),e.noneOrAll(u,s,["x","y","z"]),s.xref="x",s.yref="y",s.zref="z",p("xanchor"),p("yanchor"),p("xshift"),p("yshift"),s.showarrow&&(s.axref="pixel",s.ayref="pixel",p("ax",-10),p("ay",-30),e.noneOrAll(u,s,["ax","ay"])))}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"../annotations/common_defaults":88,"./attributes":94}],97:[function(t,P,k){var e=t("../annotations/draw").drawRaw,a=t("../../plots/gl3d/project"),i=["x","y","z"];P.exports=function(r){for(var f=r.fullSceneLayout,u=r.dataScale,s=f.annotations,o=0;o<s.length;o++){for(var h=s[o],p=!1,d=0;d<3;d++){var y=i[d],g=h[y],D=f[y+"axis"],C=D.r2fraction(g);if(C<0||C>1){p=!0;break}}p?r.fullLayout._infolayer.select(".annotation-"+r.id+'[data-index="'+o+'"]').remove():(h._pdata=a(r.glplot.cameraParams,[f.xaxis.r2l(h.x)*u[0],f.yaxis.r2l(h.y)*u[1],f.zaxis.r2l(h.z)*u[2]]),e(r.graphDiv,h,o,r.id,h._xa,h._ya))}}},{"../../plots/gl3d/project":313,"../annotations/draw":91}],98:[function(t,P,k){var e=t("../../registry"),a=t("../../lib");P.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),includeBasePlot:i,convert:t("./convert"),draw:t("./draw")};function i(n,r){var f=e.subplotsRegistry.gl3d;if(!!f)for(var u=f.attrRegex,s=Object.keys(n),o=0;o<s.length;o++){var h=s[o];u.test(h)&&(n[h].annotations||[]).length&&(a.pushUnique(r._basePlotModules,f),a.pushUnique(r._subplots.gl3d,h))}}},{"../../lib":232,"../../registry":318,"./attributes":94,"./convert":95,"./defaults":96,"./draw":97}],99:[function(t,P,k){P.exports=t("world-calendars/dist/main"),t("world-calendars/dist/plus"),t("world-calendars/dist/calendars/chinese"),t("world-calendars/dist/calendars/coptic"),t("world-calendars/dist/calendars/discworld"),t("world-calendars/dist/calendars/ethiopian"),t("world-calendars/dist/calendars/hebrew"),t("world-calendars/dist/calendars/islamic"),t("world-calendars/dist/calendars/julian"),t("world-calendars/dist/calendars/mayan"),t("world-calendars/dist/calendars/nanakshahi"),t("world-calendars/dist/calendars/nepali"),t("world-calendars/dist/calendars/persian"),t("world-calendars/dist/calendars/taiwan"),t("world-calendars/dist/calendars/thai"),t("world-calendars/dist/calendars/ummalqura")},{"world-calendars/dist/calendars/chinese":68,"world-calendars/dist/calendars/coptic":69,"world-calendars/dist/calendars/discworld":70,"world-calendars/dist/calendars/ethiopian":71,"world-calendars/dist/calendars/hebrew":72,"world-calendars/dist/calendars/islamic":73,"world-calendars/dist/calendars/julian":74,"world-calendars/dist/calendars/mayan":75,"world-calendars/dist/calendars/nanakshahi":76,"world-calendars/dist/calendars/nepali":77,"world-calendars/dist/calendars/persian":78,"world-calendars/dist/calendars/taiwan":79,"world-calendars/dist/calendars/thai":80,"world-calendars/dist/calendars/ummalqura":81,"world-calendars/dist/main":82,"world-calendars/dist/plus":83}],100:[function(t,P,k){var e=t("./calendars"),a=t("../../lib"),i=t("../../constants/numerical"),n=i.EPOCHJD,r=i.ONEDAY,f={valType:"enumerated",values:a.sortObjectKeys(e.calendars),editType:"calc",dflt:"gregorian"},u=function(V,T,Y,G){var S={};return S[Y]=f,a.coerce(V,T,S,Y,G)},s=function(V,T,Y,G){for(var S=0;S<Y.length;S++)u(V,T,Y[S]+"calendar",G.calendar)},o={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},h={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},p={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},d="##",y={d:{"0":"dd","-":"d"},e:{"0":"d","-":"d"},a:{"0":"D","-":"D"},A:{"0":"DD","-":"DD"},j:{"0":"oo","-":"o"},W:{"0":"ww","-":"w"},m:{"0":"mm","-":"m"},b:{"0":"M","-":"M"},B:{"0":"MM","-":"MM"},y:{"0":"yy","-":"yy"},Y:{"0":"yyyy","-":"yyyy"},U:d,w:d,c:{"0":"D M d %X yyyy","-":"D M d %X yyyy"},x:{"0":"mm/dd/yyyy","-":"mm/dd/yyyy"}};function g(V,T,Y){for(var G=Math.floor((T+.05)/r)+n,S=C(Y).fromJD(G),U=0,W,K,J,ae,z;(U=V.indexOf("%",U))!==-1;)W=V.charAt(U+1),W==="0"||W==="-"||W==="_"?(J=3,K=V.charAt(U+2),W==="_"&&(W="-")):(K=W,W="0",J=2),ae=y[K],ae?(ae===d?z=d:z=S.formatDate(ae[W]),V=V.substr(0,U)+z+V.substr(U+J),U+=z.length):U+=J;return V}var D={};function C(V){var T=D[V];return T||(T=D[V]=e.instance(V),T)}function L(V){return a.extendFlat({},f,{description:V})}function x(V){return"Sets the calendar system to use with `"+V+"` date data."}var M={xcalendar:L(x("x"))},v=a.extendFlat({},M,{ycalendar:L(x("y"))}),m=a.extendFlat({},v,{zcalendar:L(x("z"))}),A=L(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));P.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:m,surface:m,mesh3d:m,scattergl:v,ohlc:M,candlestick:M},layout:{calendar:L(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:L(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:L(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:f,handleDefaults:u,handleTraceDefaults:s,CANONICAL_SUNDAY:h,CANONICAL_TICK:o,DFLTRANGE:p,getCal:C,worldCalFmt:g}},{"../../constants/numerical":212,"../../lib":232,"./calendars":99}],101:[function(t,P,k){k.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],k.defaultLine="#444",k.lightLine="#eee",k.background="#fff",k.borderLine="#BEC8D9",k.lightFraction=100*(14-4)/(15-4)},{}],102:[function(t,P,k){var e=t("tinycolor2"),a=t("fast-isnumeric"),i=t("../../lib/array").isTypedArray,n=P.exports={},r=t("./attributes");n.defaults=r.defaults;var f=n.defaultLine=r.defaultLine;n.lightLine=r.lightLine;var u=n.background=r.background;n.tinyRGB=function(o){var h=o.toRgb();return"rgb("+Math.round(h.r)+", "+Math.round(h.g)+", "+Math.round(h.b)+")"},n.rgb=function(o){return n.tinyRGB(e(o))},n.opacity=function(o){return o?e(o).getAlpha():0},n.addOpacity=function(o,h){var p=e(o).toRgb();return"rgba("+Math.round(p.r)+", "+Math.round(p.g)+", "+Math.round(p.b)+", "+h+")"},n.combine=function(o,h){var p=e(o).toRgb();if(p.a===1)return e(o).toRgbString();var d=e(h||u).toRgb(),y=d.a===1?d:{r:255*(1-d.a)+d.r*d.a,g:255*(1-d.a)+d.g*d.a,b:255*(1-d.a)+d.b*d.a},g={r:y.r*(1-p.a)+p.r*p.a,g:y.g*(1-p.a)+p.g*p.a,b:y.b*(1-p.a)+p.b*p.a};return e(g).toRgbString()},n.contrast=function(o,h,p){var d=e(o);d.getAlpha()!==1&&(d=e(n.combine(o,u)));var y=d.isDark()?h?d.lighten(h):u:p?d.darken(p):f;return y.toString()},n.stroke=function(o,h){var p=e(h);o.style({stroke:n.tinyRGB(p),"stroke-opacity":p.getAlpha()})},n.fill=function(o,h){var p=e(h);o.style({fill:n.tinyRGB(p),"fill-opacity":p.getAlpha()})},n.clean=function(o){if(!(!o||typeof o!="object")){var h=Object.keys(o),p,d,y,g;for(p=0;p<h.length;p++)if(y=h[p],g=o[y],y.substr(y.length-5)==="color")if(Array.isArray(g))for(d=0;d<g.length;d++)g[d]=s(g[d]);else o[y]=s(g);else if(y.substr(y.length-10)==="colorscale"&&Array.isArray(g))for(d=0;d<g.length;d++)Array.isArray(g[d])&&(g[d][1]=s(g[d][1]));else if(Array.isArray(g)){var D=g[0];if(!Array.isArray(D)&&D&&typeof D=="object")for(d=0;d<g.length;d++)n.clean(g[d])}else g&&typeof g=="object"&&!i(g)&&n.clean(g)}};function s(o){if(a(o)||typeof o!="string")return o;var h=o.trim();if(h.substr(0,3)!=="rgb")return o;var p=h.match(/^rgba?\s*\(([^()]*)\)$/);if(!p)return o;var d=p[1].trim().split(/\s*[\s,]\s*/),y=h.charAt(3)==="a"&&d.length===4;if(!y&&d.length!==3)return o;for(var g=0;g<d.length;g++){if(!d[g].length||(d[g]=Number(d[g]),!(d[g]>=0)))return o;if(g===3)d[g]>1&&(d[g]=1);else if(d[g]>=1)return o}var D=Math.round(d[0]*255)+", "+Math.round(d[1]*255)+", "+Math.round(d[2]*255);return y?"rgba("+D+", "+d[3]+")":"rgb("+D+")"}},{"../../lib/array":218,"./attributes":101,"fast-isnumeric":17,tinycolor2:67}],103:[function(t,P,k){var e=t("../../plots/cartesian/layout_attributes"),a=t("../../plots/font_attributes"),i=t("../../lib/extend").extendFlat,n=t("../../plot_api/edit_types").overrideAll;P.exports=n({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:e.linecolor,outlinewidth:e.linewidth,bordercolor:e.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:i({},e.ticks,{dflt:""}),ticklabeloverflow:i({},e.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,tickfont:a({}),tickangle:e.tickangle,tickformat:e.tickformat,tickformatstops:e.tickformatstops,tickprefix:e.tickprefix,showtickprefix:e.showtickprefix,ticksuffix:e.ticksuffix,showticksuffix:e.showticksuffix,separatethousands:e.separatethousands,exponentformat:e.exponentformat,minexponent:e.minexponent,showexponent:e.showexponent,title:{text:{valType:"string"},font:a({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:a({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plots/cartesian/layout_attributes":294,"../../plots/font_attributes":310}],104:[function(t,P,k){P.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},{}],105:[function(t,P,k){var e=t("../../lib"),a=t("../../plot_api/plot_template"),i=t("../../plots/cartesian/tick_value_defaults"),n=t("../../plots/cartesian/tick_mark_defaults"),r=t("../../plots/cartesian/tick_label_defaults"),f=t("../../plots/cartesian/prefix_suffix_defaults"),u=t("./attributes");P.exports=function(o,h,p){var d=a.newContainer(h,"colorbar"),y=o.colorbar||{};function g(S,U){return e.coerce(y,d,u,S,U)}var D=p.margin||{t:0,b:0,l:0,r:0},C=p.width-D.l-D.r,L=p.height-D.t-D.b,x=g("orientation"),M=x==="v",v=g("thicknessmode");g("thickness",v==="fraction"?30/(M?C:L):30);var m=g("lenmode");g("len",m==="fraction"?1:M?L:C),g("x",M?1.02:.5),g("xanchor",M?"left":"center"),g("xpad"),g("y",M?.5:1.02),g("yanchor",M?"middle":"bottom"),g("ypad"),e.noneOrAll(y,d,["x","y"]),g("outlinecolor"),g("outlinewidth"),g("bordercolor"),g("borderwidth"),g("bgcolor");var A=e.coerce(y,d,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:M?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");g("ticklabeloverflow",A.indexOf("inside")!==-1?"hide past domain":"hide past div"),i(y,d,g,"linear");var V=p.font,T={outerTicks:!1,font:V};A.indexOf("inside")!==-1&&(T.bgColor="black"),f(y,d,g,"linear",T),r(y,d,g,"linear",T),n(y,d,g,"linear",T),g("title.text",p._dfltTitle.colorbar);var Y=d.tickfont,G=e.extendFlat({},Y,{color:V.color,size:e.bigFont(Y.size)});e.coerceFont(g,"title.font",G),g("title.side",M?"top":"right")}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/prefix_suffix_defaults":298,"../../plots/cartesian/tick_label_defaults":303,"../../plots/cartesian/tick_mark_defaults":304,"../../plots/cartesian/tick_value_defaults":305,"./attributes":103}],106:[function(t,P,k){var e=t("@plotly/d3"),a=t("tinycolor2"),i=t("../../plots/plots"),n=t("../../registry"),r=t("../../plots/cartesian/axes"),f=t("../dragelement"),u=t("../../lib"),s=u.strTranslate,o=t("../../lib/extend").extendFlat,h=t("../../lib/setcursor"),p=t("../drawing"),d=t("../color"),y=t("../titles"),g=t("../../lib/svg_text_utils"),D=t("../colorscale/helpers").flipScale,C=t("../../plots/cartesian/axis_defaults"),L=t("../../plots/cartesian/position_defaults"),x=t("../../plots/cartesian/layout_attributes"),M=t("../../constants/alignment"),v=M.LINE_SPACING,m=M.FROM_TL,A=M.FROM_BR,V=t("./constants").cn;function T(K){var J=K._fullLayout,ae=J._infolayer.selectAll("g."+V.colorbar).data(Y(K),function(z){return z._id});ae.enter().append("g").attr("class",function(z){return z._id}).classed(V.colorbar,!0),ae.each(function(z){var H=e.select(this);u.ensureSingle(H,"rect",V.cbbg),u.ensureSingle(H,"g",V.cbfills),u.ensureSingle(H,"g",V.cblines),u.ensureSingle(H,"g",V.cbaxis,function(re){re.classed(V.crisp,!0)}),u.ensureSingle(H,"g",V.cbtitleunshift,function(re){re.append("g").classed(V.cbtitle,!0)}),u.ensureSingle(H,"rect",V.cboutline);var Z=G(H,z,K);Z&&Z.then&&(K._promises||[]).push(Z),K._context.edits.colorbarPosition&&S(H,z,K)}),ae.exit().each(function(z){i.autoMargin(K,z._id)}).remove(),ae.order()}function Y(K){var J=K._fullLayout,ae=K.calcdata,z=[],H,Z,re,ie;function ue(b){return o(b,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ge(){typeof ie.calc=="function"?ie.calc(K,re,H):(H._fillgradient=Z.reversescale?D(Z.colorscale):Z.colorscale,H._zrange=[Z[ie.min],Z[ie.max]])}for(var ee=0;ee<ae.length;ee++){var q=ae[ee];re=q[0].trace;var ne=re._module.colorbar;if(re.visible===!0&&ne)for(var oe=Array.isArray(ne),Q=oe?ne:[ne],c=0;c<Q.length;c++){ie=Q[c];var w=ie.container;Z=w?re[w]:re,Z&&Z.showscale&&(H=ue(Z.colorbar),H._id="cb"+re.uid+(oe&&w?"-"+w:""),H._traceIndex=re.index,H._propPrefix=(w?w+".":"")+"colorbar.",H._meta=re._meta,ge(),z.push(H))}}for(var B in J._colorAxes)if(Z=J[B],Z.showscale){var E=J._colorAxes[B];H=ue(Z.colorbar),H._id="cb"+B,H._propPrefix=B+".colorbar.",H._meta=J._meta,ie={min:"cmin",max:"cmax"},E[0]!=="heatmap"&&(re=E[1],ie.calc=re._module.colorbar.calc),ge(),z.push(H)}return z}function G(K,J,ae){var z=J.orientation==="v",H=J.len,Z=J.lenmode,re=J.thickness,ie=J.thicknessmode,ue=J.outlinewidth,ge=J.borderwidth,ee=J.bgcolor,q=J.xanchor,ne=J.yanchor,oe=J.xpad,Q=J.ypad,c=J.x,w=z?J.y:1-J.y,B=ae._fullLayout,E=B._size,b=J._fillcolor,O=J._line,N=J.title,R=N.side,j=J._zrange||e.extent((typeof b=="function"?b:O.color).domain()),se=typeof O.color=="function"?O.color:function(){return O.color},fe=typeof b=="function"?b:function(){return b},ce=J._levels,ye=U(ae,J,j),xe=ye.fill,De=ye.line,ke=Math.round(re*(ie==="fraction"?z?E.w:E.h:1)),Ne=ke/(z?E.w:E.h),Ue=Math.round(H*(Z==="fraction"?z?E.h:E.w:1)),Ce=Ue/(z?E.h:E.w),_e=Math.round(z?c*E.w+oe:w*E.h+Q),Ie={center:.5,right:1}[q]||0,Ze={top:1,middle:.5}[ne]||0,gt=z?c-Ie*Ne:w-Ze*Ne,Ve=z?w-Ze*Ce:c-Ie*Ce,We=Math.round(z?E.h*(1-Ve):E.w*Ve);J._lenFrac=Ce,J._thickFrac=Ne,J._uFrac=gt,J._vFrac=Ve;var Ke=J._axis=W(ae,J,j);Ke.position=Ne+(z?c+oe/E.w:w+Q/E.h);var ut=["top","bottom"].indexOf(R)!==-1;if(z&&ut&&(Ke.title.side=R,Ke.titlex=c+oe/E.w,Ke.titley=Ve+(N.side==="top"?Ce-Q/E.h:Q/E.h)),!z&&!ut&&(Ke.title.side=R,Ke.titley=w+Q/E.h,Ke.titlex=Ve+oe/E.w),O.color&&J.tickmode==="auto"){Ke.tickmode="linear",Ke.tick0=ce.start;var mt=ce.size,Lt=u.constrain(Ue/50,4,15)+1,rt=(j[1]-j[0])/((J.nticks||Lt)*mt);if(rt>1){var dt=Math.pow(10,Math.floor(Math.log(rt)/Math.LN10));mt*=dt*u.roundUp(rt/dt,[2,5,10]),(Math.abs(ce.start)/ce.size+1e-6)%1<2e-6&&(Ke.tick0=0)}Ke.dtick=mt}Ke.domain=z?[Ve+Q/E.h,Ve+Ce-Q/E.h]:[Ve+oe/E.w,Ve+Ce-oe/E.w],Ke.setScale(),K.attr("transform",s(Math.round(E.l),Math.round(E.t)));var ot=K.select("."+V.cbtitleunshift).attr("transform",s(-Math.round(E.l),-Math.round(E.t))),pt=Ke.ticklabelposition,Ct=Ke.title.font.size,Ee=K.select("."+V.cbaxis),Oe,at=0,pe=0;function Ae(ht,vt){var nt={propContainer:Ke,propName:J._propPrefix+"title",traceIndex:J._traceIndex,_meta:J._meta,placeholder:B._dfltTitle.colorbar,containerGroup:K.select("."+V.cbtitle)},je=ht.charAt(0)==="h"?ht.substr(1):"h"+ht;K.selectAll("."+je+",."+je+"-math-group").remove(),y.draw(ae,ht,o(nt,vt||{}))}function Se(){if(z&&ut||!z&&!ut){var ht,vt;R==="top"&&(ht=oe+E.l+E.w*c,vt=Q+E.t+E.h*(1-Ve-Ce)+3+Ct*.75),R==="bottom"&&(ht=oe+E.l+E.w*c,vt=Q+E.t+E.h*(1-Ve)-3-Ct*.25),R==="right"&&(vt=Q+E.t+E.h*w+3+Ct*.75,ht=oe+E.l+E.w*Ve),Ae(Ke._id+"title",{attributes:{x:ht,y:vt,"text-anchor":z?"start":"middle"}})}}function Pe(){if(z&&!ut||!z&&ut){var ht=Ke.position||0,vt=Ke._offset+Ke._length/2,nt,je;if(R==="right")je=vt,nt=E.l+E.w*ht+10+Ct*(Ke.showticklabels?1:.5);else if(nt=vt,R==="bottom"&&(je=E.t+E.h*ht+10+(pt.indexOf("inside")===-1?Ke.tickfont.size:0)+(Ke.ticks!=="intside"&&J.ticklen||0)),R==="top"){var _t=N.text.split("<br>").length;je=E.t+E.h*ht+10-ke-v*Ct*_t}Ae((z?"h":"v")+Ke._id+"title",{avoid:{selection:e.select(ae).selectAll("g."+Ke._id+"tick"),side:R,offsetTop:z?0:E.t,offsetLeft:z?E.l:0,maxShift:z?B.width:B.height},attributes:{x:nt,y:je,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function tt(){if(!z&&!ut||z&&ut){var ht=K.select("."+V.cbtitle),vt=ht.select("text"),nt=[-ue/2,ue/2],je=ht.select(".h"+Ke._id+"title-math-group").node(),_t=15.6;vt.node()&&(_t=parseInt(vt.node().style.fontSize,10)*v);var Et;if(je?(Et=p.bBox(je),pe=Et.width,at=Et.height,at>_t&&(nt[1]-=(at-_t)/2)):vt.node()&&!vt.classed(V.jsPlaceholder)&&(Et=p.bBox(vt.node()),pe=Et.width,at=Et.height),z){if(at){if(at+=5,R==="top")Ke.domain[1]-=at/E.h,nt[1]*=-1;else{Ke.domain[0]+=at/E.h;var Tt=g.lineCount(vt);nt[1]+=(1-Tt)*_t}ht.attr("transform",s(nt[0],nt[1])),Ke.setScale()}}else pe&&(R==="right"&&(Ke.domain[0]+=(pe+Ct/2)/E.w),ht.attr("transform",s(nt[0],nt[1])),Ke.setScale())}K.selectAll("."+V.cbfills+",."+V.cblines).attr("transform",z?s(0,Math.round(E.h*(1-Ke.domain[1]))):s(Math.round(E.w*Ke.domain[0]),0)),Ee.attr("transform",z?s(0,Math.round(-E.t)):s(Math.round(-E.l),0));var Zt=K.select("."+V.cbfills).selectAll("rect."+V.cbfill).attr("style","").data(xe);Zt.enter().append("rect").classed(V.cbfill,!0).style("stroke","none"),Zt.exit().remove();var $t=j.map(Ke.c2p).map(Math.round).sort(function(ct,Vt){return ct-Vt});Zt.each(function(ct,Vt){var Ot=[Vt===0?j[0]:(xe[Vt]+xe[Vt-1])/2,Vt===xe.length-1?j[1]:(xe[Vt]+xe[Vt+1])/2].map(Ke.c2p).map(Math.round);z&&(Ot[1]=u.constrain(Ot[1]+(Ot[1]>Ot[0])?1:-1,$t[0],$t[1]));var he=e.select(this).attr(z?"x":"y",_e).attr(z?"y":"x",e.min(Ot)).attr(z?"width":"height",Math.max(ke,2)).attr(z?"height":"width",Math.max(e.max(Ot)-e.min(Ot),2));if(J._fillgradient)p.gradient(he,ae,J._id,z?"vertical":"horizontalreversed",J._fillgradient,"fill");else{var ve=fe(ct).replace("e-","");he.attr("fill",a(ve).toHexString())}});var Qt=K.select("."+V.cblines).selectAll("path."+V.cbline).data(O.color&&O.width?De:[]);Qt.enter().append("path").classed(V.cbline,!0),Qt.exit().remove(),Qt.each(function(ct){var Vt=_e,Ot=Math.round(Ke.c2p(ct))+O.width/2%1;e.select(this).attr("d","M"+(z?Vt+","+Ot:Ot+","+Vt)+(z?"h":"v")+ke).call(p.lineGroupStyle,O.width,se(ct),O.dash)}),Ee.selectAll("g."+Ke._id+"tick,path").remove();var zt=_e+ke+(ue||0)/2-(J.ticks==="outside"?1:0),Yt=r.calcTicks(Ke),Ft=r.getTickSigns(Ke)[2];return r.drawTicks(ae,Ke,{vals:Ke.ticks==="inside"?r.clipEnds(Ke,Yt):Yt,layer:Ee,path:r.makeTickPath(Ke,zt,Ft),transFn:r.makeTransTickFn(Ke)}),r.drawLabels(ae,Ke,{vals:Yt,layer:Ee,transFn:r.makeTransTickLabelFn(Ke),labelFns:r.makeLabelFns(Ke,zt)})}function Je(){var ht,vt=ke+ue/2;pt.indexOf("inside")===-1&&(ht=p.bBox(Ee.node()),vt+=z?ht.width:ht.height),Oe=ot.select("text");var nt=0,je=z&&R==="top",_t=!z&&R==="right",Et=0;if(Oe.node()&&!Oe.classed(V.jsPlaceholder)){var Tt,Zt=ot.select(".h"+Ke._id+"title-math-group").node();Zt&&(z&&ut||!z&&!ut)?(ht=p.bBox(Zt),nt=ht.width,Tt=ht.height):(ht=p.bBox(ot.node()),nt=ht.right-E.l-(z?_e:We),Tt=ht.bottom-E.t-(z?We:_e),!z&&R==="top"&&(vt+=ht.height,Et=ht.height)),_t&&(Oe.attr("transform",s(nt/2+Ct/2,0)),nt*=2),vt=Math.max(vt,z?nt:Tt)}var $t=(z?oe:Q)*2+vt+ge+ue/2,Qt=0;!z&&N.text&&ne==="bottom"&&w<=0&&(Qt=$t/2,$t+=Qt,Et+=Qt),B._hColorbarMoveTitle=Qt,B._hColorbarMoveCBTitle=Et;var zt=ge+ue;K.select("."+V.cbbg).attr("x",(z?_e:We)-zt/2-(z?oe:0)).attr("y",(z?We:_e)-(z?Ue:Q+Et-Qt)).attr(z?"width":"height",Math.max($t-Qt,2)).attr(z?"height":"width",Math.max(Ue+zt,2)).call(d.fill,ee).call(d.stroke,J.bordercolor).style("stroke-width",ge);var Yt=_t?Math.max(nt-10,0):0;if(K.selectAll("."+V.cboutline).attr("x",(z?_e:We+oe)+Yt).attr("y",(z?We+Q-Ue:_e)+(je?at:0)).attr(z?"width":"height",Math.max(ke,2)).attr(z?"height":"width",Math.max(Ue-(z?2*Q+at:2*oe+Yt),2)).call(d.stroke,J.outlinecolor).style({fill:"none","stroke-width":ue}),K.attr("transform",s(E.l-(z?Ie*$t:0),E.t-(z?0:(1-Ze)*$t-Et))),!z&&(ge||a(ee).getAlpha()&&!a.equals(B.paper_bgcolor,ee))){var Ft=Ee.selectAll("text"),ct=Ft[0].length,Vt=K.select("."+V.cbbg).node(),Ot=p.bBox(Vt),he=p.getTranslate(K),ve=2;Ft.each(function($e,yt){var Mt=0,St=ct-1;if(yt===Mt||yt===St){var wt=p.bBox(this),Ht=p.getTranslate(this),Nt;if(yt===St){var qt=wt.right+Ht.x,kt=Ot.right+he.x+We-ge-ve+c;Nt=kt-qt,Nt>0&&(Nt=0)}else if(yt===Mt){var xt=wt.left+Ht.x,It=Ot.left+he.x+We+ge+ve;Nt=It-xt,Nt<0&&(Nt=0)}Nt&&(ct<3?this.setAttribute("transform","translate("+Nt+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var we={},Le=m[q],Re=A[q],Ge=m[ne],Fe=A[ne],Ye=$t-ke;z?(Z==="pixels"?(we.y=w,we.t=Ue*Ge,we.b=Ue*Fe):(we.t=we.b=0,we.yt=w+H*Ge,we.yb=w-H*Fe),ie==="pixels"?(we.x=c,we.l=$t*Le,we.r=$t*Re):(we.l=Ye*Le,we.r=Ye*Re,we.xl=c-re*Le,we.xr=c+re*Re)):(Z==="pixels"?(we.x=c,we.l=Ue*Le,we.r=Ue*Re):(we.l=we.r=0,we.xl=c+H*Le,we.xr=c-H*Re),ie==="pixels"?(we.y=1-w,we.t=$t*Ge,we.b=$t*Fe):(we.t=Ye*Ge,we.b=Ye*Fe,we.yt=w-re*Ge,we.yb=w+re*Fe)),i.autoMargin(ae,J._id,we)}return u.syncOrAsync([i.previousPromises,Se,tt,Pe,i.previousPromises,Je],ae)}function S(K,J,ae){var z=J.orientation==="v",H=ae._fullLayout,Z=H._size,re,ie,ue;f.init({element:K.node(),gd:ae,prepFn:function(){re=K.attr("transform"),h(K)},moveFn:function(ge,ee){K.attr("transform",re+s(ge,ee)),ie=f.align((z?J._uFrac:J._vFrac)+ge/Z.w,z?J._thickFrac:J._lenFrac,0,1,J.xanchor),ue=f.align((z?J._vFrac:1-J._uFrac)-ee/Z.h,z?J._lenFrac:J._thickFrac,0,1,J.yanchor);var q=f.getCursor(ie,ue,J.xanchor,J.yanchor);h(K,q)},doneFn:function(){if(h(K),ie!==void 0&&ue!==void 0){var ge={};ge[J._propPrefix+"x"]=ie,ge[J._propPrefix+"y"]=ue,J._traceIndex!==void 0?n.call("_guiRestyle",ae,ge,J._traceIndex):n.call("_guiRelayout",ae,ge)}}})}function U(K,J,ae){var z=J._levels,H=[],Z=[],re,ie,ue=z.end+z.size/100,ge=z.size,ee=1.001*ae[0]-.001*ae[1],q=1.001*ae[1]-.001*ae[0];for(ie=0;ie<1e5&&(re=z.start+ie*ge,!(ge>0?re>=ue:re<=ue));ie++)re>ee&&re<q&&H.push(re);if(J._fillgradient)Z=[0];else if(typeof J._fillcolor=="function"){var ne=J._filllevels;if(ne)for(ue=ne.end+ne.size/100,ge=ne.size,ie=0;ie<1e5&&(re=ne.start+ie*ge,!(ge>0?re>=ue:re<=ue));ie++)re>ae[0]&&re<ae[1]&&Z.push(re);else Z=H.map(function(oe){return oe-z.size/2}),Z.push(Z[Z.length-1]+z.size)}else J._fillcolor&&typeof J._fillcolor=="string"&&(Z=[0]);return z.size<0&&(H.reverse(),Z.reverse()),{line:H,fill:Z}}function W(K,J,ae){var z=K._fullLayout,H=J.orientation==="v",Z={type:"linear",range:ae,tickmode:J.tickmode,nticks:J.nticks,tick0:J.tick0,dtick:J.dtick,tickvals:J.tickvals,ticktext:J.ticktext,ticks:J.ticks,ticklen:J.ticklen,tickwidth:J.tickwidth,tickcolor:J.tickcolor,showticklabels:J.showticklabels,ticklabelposition:J.ticklabelposition,ticklabeloverflow:J.ticklabeloverflow,tickfont:J.tickfont,tickangle:J.tickangle,tickformat:J.tickformat,exponentformat:J.exponentformat,minexponent:J.minexponent,separatethousands:J.separatethousands,showexponent:J.showexponent,showtickprefix:J.showtickprefix,tickprefix:J.tickprefix,showticksuffix:J.showticksuffix,ticksuffix:J.ticksuffix,title:J.title,showline:!0,anchor:"free",side:H?"right":"bottom",position:1},re=H?"y":"x",ie={type:"linear",_id:re+J._id},ue={letter:re,font:z.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:z.calendar};function ge(ee,q){return u.coerce(Z,ie,x,ee,q)}return C(Z,ie,ge,ue,z),L(Z,ie,ge,ue),ie}P.exports={draw:T}},{"../../constants/alignment":207,"../../lib":232,"../../lib/extend":226,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_defaults":281,"../../plots/cartesian/layout_attributes":294,"../../plots/cartesian/position_defaults":297,"../../plots/plots":316,"../../registry":318,"../color":102,"../colorscale/helpers":113,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":104,"@plotly/d3":11,tinycolor2:67}],107:[function(t,P,k){var e=t("../../lib");P.exports=function(i){return e.isPlainObject(i.colorbar)}},{"../../lib":232}],108:[function(t,P,k){P.exports={moduleType:"component",name:"colorbar",attributes:t("./attributes"),supplyDefaults:t("./defaults"),draw:t("./draw").draw,hasColorbar:t("./has_colorbar")}},{"./attributes":103,"./defaults":105,"./draw":106,"./has_colorbar":107}],109:[function(t,P,k){var e=t("../colorbar/attributes"),a=t("../../lib/regex").counter,i=t("../../lib/sort_object_keys"),n=t("./scales.js").scales;i(n),P.exports=function(f,u){f=f||"",u=u||{};var s=u.cLetter||"c";"onlyIfNumerical"in u?u.onlyIfNumerical:Boolean(f);var o="noScale"in u?u.noScale:f==="marker.line",h="showScaleDflt"in u?u.showScaleDflt:s==="z",p=typeof u.colorscaleDflt=="string"?n[u.colorscaleDflt]:null,d=u.editTypeOverride||"",y;"colorAttr"in u?y=u.colorAttr:y={z:"z",c:"color"}[s];var g=s+"auto",D=s+"min",C=s+"max",L=s+"mid",x={};x[D]=x[C]=void 0;var M={};M[g]=!1;var v={};return y==="color"&&(v.color={valType:"color",arrayOk:!0,editType:d||"style"},u.anim&&(v.color.anim=!0)),v[g]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:x},v[D]={valType:"number",dflt:null,editType:d||"plot",impliedEdits:M},v[C]={valType:"number",dflt:null,editType:d||"plot",impliedEdits:M},v[L]={valType:"number",dflt:null,editType:"calc",impliedEdits:x},v.colorscale={valType:"colorscale",editType:"calc",dflt:p,impliedEdits:{autocolorscale:!1}},v.autocolorscale={valType:"boolean",dflt:u.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},v.reversescale={valType:"boolean",dflt:!1,editType:"plot"},o||(v.showscale={valType:"boolean",dflt:h,editType:"calc"},v.colorbar=e),u.noColorAxis||(v.coloraxis={valType:"subplotid",regex:a("coloraxis"),dflt:null,editType:"calc"}),v}},{"../../lib/regex":248,"../../lib/sort_object_keys":253,"../colorbar/attributes":103,"./scales.js":117}],110:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib"),i=t("./helpers").extractOpts;P.exports=function(r,f,u){var s=r._fullLayout,o=u.vals,h=u.containerStr,p=h?a.nestedProperty(f,h).get():f,d=i(p),y=d.auto!==!1,g=d.min,D=d.max,C=d.mid,L=function(){return a.aggNums(Math.min,null,o)},x=function(){return a.aggNums(Math.max,null,o)};if(g===void 0?g=L():y&&(p._colorAx&&e(g)?g=Math.min(g,L()):g=L()),D===void 0?D=x():y&&(p._colorAx&&e(D)?D=Math.max(D,x()):D=x()),y&&C!==void 0&&(D-C>C-g?g=C-(D-C):D-C<C-g&&(D=C+(C-g))),g===D&&(g-=.5,D+=.5),d._sync("min",g),d._sync("max",D),d.autocolorscale){var M;g*D<0?M=s.colorscale.diverging:g>=0?M=s.colorscale.sequential:M=s.colorscale.sequentialminus,d._sync("colorscale",M)}}},{"../../lib":232,"./helpers":113,"fast-isnumeric":17}],111:[function(t,P,k){var e=t("../../lib"),a=t("./helpers").hasColorscale,i=t("./helpers").extractOpts;P.exports=function(r,f){function u(g,D){var C=g["_"+D];C!==void 0&&(g[D]=C)}function s(g,D){var C=D.container?e.nestedProperty(g,D.container).get():g;if(C)if(C.coloraxis)C._colorAx=f[C.coloraxis];else{var L=i(C),x=L.auto;(x||L.min===void 0)&&u(C,D.min),(x||L.max===void 0)&&u(C,D.max),L.autocolorscale&&u(C,"colorscale")}}for(var o=0;o<r.length;o++){var h=r[o],p=h._module.colorbar;if(p)if(Array.isArray(p))for(var d=0;d<p.length;d++)s(h,p[d]);else s(h,p);a(h,"marker.line")&&s(h,{container:"marker.line",min:"cmin",max:"cmax"})}for(var y in f._colorAxes)s(f[y],{min:"cmin",max:"cmax"})}},{"../../lib":232,"./helpers":113}],112:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib"),i=t("../colorbar/has_colorbar"),n=t("../colorbar/defaults"),r=t("./scales").isValid,f=t("../../registry").traceIs;function u(s,o){var h=o.slice(0,o.length-1);return o?a.nestedProperty(s,h).get()||{}:s}P.exports=function s(o,h,p,d,y){var g=y.prefix,D=y.cLetter,C="_module"in h,L=u(o,g),x=u(h,g),M=u(h._template||{},g)||{},v=function(){return delete o.coloraxis,delete h.coloraxis,s(o,h,p,d,y)};if(C){var m=p._colorAxes||{},A=d(g+"coloraxis");if(A){var V=f(h,"contour")&&a.nestedProperty(h,"contours.coloring").get()||"heatmap",T=m[A];T?(T[2].push(v),T[0]!==V&&(T[0]=!1,a.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):m[A]=[V,h,[v]];return}}var Y=L[D+"min"],G=L[D+"max"],S=e(Y)&&e(G)&&Y<G,U=d(g+D+"auto",!S);U?d(g+D+"mid"):(d(g+D+"min"),d(g+D+"max"));var W=L.colorscale,K=M.colorscale,J;if(W!==void 0&&(J=!r(W)),K!==void 0&&(J=!r(K)),d(g+"autocolorscale",J),d(g+"colorscale"),d(g+"reversescale"),g!=="marker.line."){var ae;g&&C&&(ae=i(L));var z=d(g+"showscale",ae);z&&(g&&M&&(x._template=M),n(L,x,p))}}},{"../../lib":232,"../../registry":318,"../colorbar/defaults":105,"../colorbar/has_colorbar":107,"./scales":117,"fast-isnumeric":17}],113:[function(t,P,k){var e=t("@plotly/d3"),a=t("tinycolor2"),i=t("fast-isnumeric"),n=t("../../lib"),r=t("../color"),f=t("./scales").isValid;function u(C,L,x){var M=L?n.nestedProperty(C,L).get()||{}:C,v=M[x||"color"],m=!1;if(n.isArrayOrTypedArray(v)){for(var A=0;A<v.length;A++)if(i(v[A])){m=!0;break}}return n.isPlainObject(M)&&(m||M.showscale===!0||i(M.cmin)&&i(M.cmax)||f(M.colorscale)||n.isPlainObject(M.colorbar))}var s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],o=["min","max","mid","auto"];function h(C){var L=C._colorAx,x=L||C,M={},v,m,A;for(m=0;m<s.length;m++)A=s[m],M[A]=x[A];if(L)for(v="c",m=0;m<o.length;m++)A=o[m],M[A]=x["c"+A];else{var V;for(m=0;m<o.length;m++){if(A=o[m],V="c"+A,V in x){M[A]=x[V];continue}V="z"+A,V in x&&(M[A]=x[V])}v=V.charAt(0)}return M._sync=function(T,Y){var G=o.indexOf(T)!==-1?v+T:T;x[G]=x["_"+G]=Y},M}function p(C){for(var L=h(C),x=L.min,M=L.max,v=L.reversescale?d(L.colorscale):L.colorscale,m=v.length,A=new Array(m),V=new Array(m),T=0;T<m;T++){var Y=v[T];A[T]=x+Y[0]*(M-x),V[T]=Y[1]}return{domain:A,range:V}}function d(C){for(var L=C.length,x=new Array(L),M=L-1,v=0;M>=0;M--,v++){var m=C[M];x[v]=[1-m[0],m[1]]}return x}function y(C,L){L=L||{};for(var x=C.domain,M=C.range,v=M.length,m=new Array(v),A=0;A<v;A++){var V=a(M[A]).toRgb();m[A]=[V.r,V.g,V.b,V.a]}var T=e.scale.linear().domain(x).range(m).clamp(!0),Y=L.noNumericCheck,G=L.returnArray,S;return Y&&G?S=T:Y?S=function(U){return D(T(U))}:G?S=function(U){return i(U)?T(U):a(U).isValid()?U:r.defaultLine}:S=function(U){return i(U)?D(T(U)):a(U).isValid()?U:r.defaultLine},S.domain=T.domain,S.range=function(){return M},S}function g(C,L){return y(p(C),L)}function D(C){var L={r:C[0],g:C[1],b:C[2],a:C[3]};return a(L).toRgbString()}P.exports={hasColorscale:u,extractOpts:h,extractScale:p,flipScale:d,makeColorScaleFunc:y,makeColorScaleFuncFromTrace:g}},{"../../lib":232,"../color":102,"./scales":117,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],114:[function(t,P,k){var e=t("./scales"),a=t("./helpers");P.exports={moduleType:"component",name:"colorscale",attributes:t("./attributes"),layoutAttributes:t("./layout_attributes"),supplyLayoutDefaults:t("./layout_defaults"),handleDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),calc:t("./calc"),scales:e.scales,defaultScale:e.defaultScale,getScale:e.get,isValidScale:e.isValid,hasColorscale:a.hasColorscale,extractOpts:a.extractOpts,extractScale:a.extractScale,flipScale:a.flipScale,makeColorScaleFunc:a.makeColorScaleFunc,makeColorScaleFuncFromTrace:a.makeColorScaleFuncFromTrace}},{"./attributes":109,"./calc":110,"./cross_trace_defaults":111,"./defaults":112,"./helpers":113,"./layout_attributes":115,"./layout_defaults":116,"./scales":117}],115:[function(t,P,k){var e=t("../../lib/extend").extendFlat,a=t("./attributes"),i=t("./scales").scales;P.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:e({_isSubplotObj:!0,editType:"calc"},a("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},{"../../lib/extend":226,"./attributes":109,"./scales":117}],116:[function(t,P,k){var e=t("../../lib"),a=t("../../plot_api/plot_template"),i=t("./layout_attributes"),n=t("./defaults");P.exports=function(f,u){function s(C,L){return e.coerce(f,u,i,C,L)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var o=u._colorAxes,h,p;function d(C,L){return e.coerce(h,p,i.coloraxis,C,L)}for(var y in o){var g=o[y];if(g[0])h=f[y]||{},p=a.newContainer(u,y,"coloraxis"),p._name=y,n(h,p,u,d,{prefix:"",cLetter:"c"});else{for(var D=0;D<g[2].length;D++)g[2][D]();delete u._colorAxes[y]}}}},{"../../lib":232,"../../plot_api/plot_template":268,"./defaults":112,"./layout_attributes":115}],117:[function(t,P,k){var e=t("tinycolor2"),a={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=a.RdBu;function n(u,s){if(s||(s=i),!u)return s;function o(){try{u=a[u]||JSON.parse(u)}catch{u=s}}return typeof u=="string"&&(o(),typeof u=="string"&&o()),r(u)?u:s}function r(u){var s=0;if(!Array.isArray(u)||u.length<2||!u[0]||!u[u.length-1]||+u[0][0]!=0||+u[u.length-1][0]!=1)return!1;for(var o=0;o<u.length;o++){var h=u[o];if(h.length!==2||+h[0]<s||!e(h[1]).isValid())return!1;s=+h[0]}return!0}function f(u){return a[u]!==void 0?!0:r(u)}P.exports={scales:a,defaultScale:i,get:n,isValid:f}},{tinycolor2:67}],118:[function(t,P,k){P.exports=function(a,i,n,r,f){var u=(a-n)/(r-n),s=u+i/(r-n),o=(u+s)/2;return f==="left"||f==="bottom"?u:f==="center"||f==="middle"?o:f==="right"||f==="top"?s:u<2/3-o?u:s>4/3-o?s:o}},{}],119:[function(t,P,k){var e=t("../../lib"),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];P.exports=function(n,r,f,u){return f==="left"?n=0:f==="center"?n=1:f==="right"?n=2:n=e.constrain(Math.floor(n*3),0,2),u==="bottom"?r=0:u==="middle"?r=1:u==="top"?r=2:r=e.constrain(Math.floor(r*3),0,2),a[r][n]}},{"../../lib":232}],120:[function(t,P,k){k.selectMode=function(e){return e==="lasso"||e==="select"},k.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},k.openMode=function(e){return e==="drawline"||e==="drawopenpath"},k.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},k.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},k.selectingOrDrawing=function(e){return k.freeMode(e)||k.rectMode(e)}},{}],121:[function(t,P,k){var e=t("mouse-event-offset"),a=t("has-hover"),i=t("has-passive-events"),n=t("../../lib").removeElement,r=t("../../plots/cartesian/constants"),f=P.exports={};f.align=t("./align"),f.getCursor=t("./cursor");var u=t("./unhover");f.unhover=u.wrapped,f.unhoverRaw=u.raw,f.init=function(p){var d=p.gd,y=1,g=d._context.doubleClickDelay,D=p.element,C,L,x,M,v,m,A,V;d._mouseDownTime||(d._mouseDownTime=0),D.style.pointerEvents="all",D.onmousedown=G,i?(D._ontouchstart&&D.removeEventListener("touchstart",D._ontouchstart),D._ontouchstart=G,D.addEventListener("touchstart",G,{passive:!1})):D.ontouchstart=G;function T(W,K,J){return Math.abs(W)<J&&(W=0),Math.abs(K)<J&&(K=0),[W,K]}var Y=p.clampFn||T;function G(W){d._dragged=!1,d._dragging=!0;var K=o(W);C=K[0],L=K[1],A=W.target,m=W,V=W.buttons===2||W.ctrlKey,typeof W.clientX=="undefined"&&typeof W.clientY=="undefined"&&(W.clientX=C,W.clientY=L),x=new Date().getTime(),x-d._mouseDownTime<g?y+=1:(y=1,d._mouseDownTime=x),p.prepFn&&p.prepFn(W,C,L),a&&!V?(v=s(),v.style.cursor=window.getComputedStyle(D).cursor):a||(v=document,M=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(D).cursor),document.addEventListener("mouseup",U),document.addEventListener("touchend",U),p.dragmode!==!1&&(W.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(W){W.preventDefault();var K=o(W),J=p.minDrag||r.MINDRAG,ae=Y(K[0]-C,K[1]-L,J),z=ae[0],H=ae[1];(z||H)&&(d._dragged=!0,f.unhover(d,W)),d._dragged&&p.moveFn&&!V&&(d._dragdata={element:D,dx:z,dy:H},p.moveFn(z,H))}function U(W){if(delete d._dragdata,p.dragmode!==!1&&(W.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",U),document.removeEventListener("touchend",U),a?n(v):M&&(v.documentElement.style.cursor=M,M=null),!d._dragging){d._dragged=!1;return}if(d._dragging=!1,new Date().getTime()-d._mouseDownTime>g&&(y=Math.max(y-1,1)),d._dragged)p.doneFn&&p.doneFn();else if(p.clickFn&&p.clickFn(y,m),!V){var K;try{K=new MouseEvent("click",W)}catch{var J=o(W);K=document.createEvent("MouseEvents"),K.initMouseEvent("click",W.bubbles,W.cancelable,W.view,W.detail,W.screenX,W.screenY,J[0],J[1],W.ctrlKey,W.altKey,W.shiftKey,W.metaKey,W.button,W.relatedTarget)}A.dispatchEvent(K)}d._dragging=!1,d._dragged=!1}};function s(){var h=document.createElement("div");h.className="dragcover";var p=h.style;return p.position="fixed",p.left=0,p.right=0,p.top=0,p.bottom=0,p.zIndex=999999999,p.background="none",document.body.appendChild(h),h}f.coverSlip=s;function o(h){return e(h.changedTouches?h.changedTouches[0]:h,document.body)}},{"../../lib":232,"../../plots/cartesian/constants":286,"./align":118,"./cursor":119,"./unhover":122,"has-hover":48,"has-passive-events":49,"mouse-event-offset":53}],122:[function(t,P,k){var e=t("../../lib/events"),a=t("../../lib/throttle"),i=t("../../lib/dom").getGraphDiv,n=t("../fx/constants"),r=P.exports={};r.wrapped=function(f,u,s){f=i(f),f._fullLayout&&a.clear(f._fullLayout._uid+n.HOVERID),r.raw(f,u,s)},r.raw=function(u,s){var o=u._fullLayout,h=u._hoverdata;s||(s={}),!(s.target&&!u._dragged&&e.triggerHandler(u,"plotly_beforehover",s)===!1)&&(o._hoverlayer.selectAll("g").remove(),o._hoverlayer.selectAll("line").remove(),o._hoverlayer.selectAll("circle").remove(),u._hoverdata=void 0,s.target&&h&&u.emit("plotly_unhover",{event:s,points:h}))}},{"../../lib/dom":224,"../../lib/events":225,"../../lib/throttle":256,"../fx/constants":136}],123:[function(t,P,k){k.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},k.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},{}],124:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../lib"),i=a.numberFormat,n=t("fast-isnumeric"),r=t("tinycolor2"),f=t("../../registry"),u=t("../color"),s=t("../colorscale"),o=a.strTranslate,h=t("../../lib/svg_text_utils"),p=t("../../constants/xmlns_namespaces"),d=t("../../constants/alignment"),y=d.LINE_SPACING,g=t("../../constants/interactions").DESELECTDIM,D=t("../../traces/scatter/subtypes"),C=t("../../traces/scatter/make_bubble_size_func"),L=t("../../components/fx/helpers").appendArrayPointValue,x=P.exports={};x.font=function(ee,q,ne,oe){a.isPlainObject(q)&&(oe=q.color,ne=q.size,q=q.family),q&&ee.style("font-family",q),ne+1&&ee.style("font-size",ne+"px"),oe&&ee.call(u.fill,oe)},x.setPosition=function(ee,q,ne){ee.attr("x",q).attr("y",ne)},x.setSize=function(ee,q,ne){ee.attr("width",q).attr("height",ne)},x.setRect=function(ee,q,ne,oe,Q){ee.call(x.setPosition,q,ne).call(x.setSize,oe,Q)},x.translatePoint=function(ee,q,ne,oe){var Q=ne.c2p(ee.x),c=oe.c2p(ee.y);if(n(Q)&&n(c)&&q.node())q.node().nodeName==="text"?q.attr("x",Q).attr("y",c):q.attr("transform",o(Q,c));else return!1;return!0},x.translatePoints=function(ee,q,ne){ee.each(function(oe){var Q=e.select(this);x.translatePoint(oe,Q,q,ne)})},x.hideOutsideRangePoint=function(ee,q,ne,oe,Q,c){q.attr("display",ne.isPtWithinRange(ee,Q)&&oe.isPtWithinRange(ee,c)?null:"none")},x.hideOutsideRangePoints=function(ee,q){if(!!q._hasClipOnAxisFalse){var ne=q.xaxis,oe=q.yaxis;ee.each(function(Q){var c=Q[0].trace,w=c.xcalendar,B=c.ycalendar,E=f.traceIs(c,"bar-like")?".bartext":".point,.textpoint";ee.selectAll(E).each(function(b){x.hideOutsideRangePoint(b,e.select(this),ne,oe,w,B)})})}},x.crispRound=function(ee,q,ne){return!q||!n(q)?ne||0:ee._context.staticPlot?q:q<1?1:Math.round(q)},x.singleLineStyle=function(ee,q,ne,oe,Q){q.style("fill","none");var c=(((ee||[])[0]||{}).trace||{}).line||{},w=ne||c.width||0,B=Q||c.dash||"";u.stroke(q,oe||c.color),x.dashLine(q,B,w)},x.lineGroupStyle=function(ee,q,ne,oe){ee.style("fill","none").each(function(Q){var c=(((Q||[])[0]||{}).trace||{}).line||{},w=q||c.width||0,B=oe||c.dash||"";e.select(this).call(u.stroke,ne||c.color).call(x.dashLine,B,w)})},x.dashLine=function(ee,q,ne){ne=+ne||0,q=x.dashStyle(q,ne),ee.style({"stroke-dasharray":q,"stroke-width":ne+"px"})},x.dashStyle=function(ee,q){q=+q||1;var ne=Math.max(q,3);return ee==="solid"?ee="":ee==="dot"?ee=ne+"px,"+ne+"px":ee==="dash"?ee=3*ne+"px,"+3*ne+"px":ee==="longdash"?ee=5*ne+"px,"+5*ne+"px":ee==="dashdot"?ee=3*ne+"px,"+ne+"px,"+ne+"px,"+ne+"px":ee==="longdashdot"&&(ee=5*ne+"px,"+2*ne+"px,"+ne+"px,"+2*ne+"px"),ee},x.singleFillStyle=function(ee){var q=e.select(ee.node()),ne=q.data(),oe=(((ne[0]||[])[0]||{}).trace||{}).fillcolor;oe&&ee.call(u.fill,oe)},x.fillGroupStyle=function(ee){ee.style("stroke-width",0).each(function(q){var ne=e.select(this);q[0].trace&&ne.call(u.fill,q[0].trace.fillcolor)})};var M=t("./symbol_defs");x.symbolNames=[],x.symbolFuncs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(M).forEach(function(ee){var q=M[ee],ne=q.n;x.symbolList.push(ne,String(ne),ee,ne+100,String(ne+100),ee+"-open"),x.symbolNames[ne]=ee,x.symbolFuncs[ne]=q.f,q.needLine&&(x.symbolNeedLines[ne]=!0),q.noDot?x.symbolNoDot[ne]=!0:x.symbolList.push(ne+200,String(ne+200),ee+"-dot",ne+300,String(ne+300),ee+"-open-dot"),q.noFill&&(x.symbolNoFill[ne]=!0)});var v=x.symbolNames.length,m="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";x.symbolNumber=function(ee){if(n(ee))ee=+ee;else if(typeof ee=="string"){var q=0;ee.indexOf("-open")>0&&(q=100,ee=ee.replace("-open","")),ee.indexOf("-dot")>0&&(q+=200,ee=ee.replace("-dot","")),ee=x.symbolNames.indexOf(ee),ee>=0&&(ee+=q)}return ee%100>=v||ee>=400?0:Math.floor(Math.max(ee,0))};function A(ee,q){var ne=ee%100;return x.symbolFuncs[ne](q)+(ee>=200?m:"")}var V={x1:1,x2:0,y1:0,y2:0},T={x1:0,x2:0,y1:1,y2:0},Y=i("~f"),G={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:V},horizontalreversed:{node:"linearGradient",attrs:V,reversed:!0},vertical:{node:"linearGradient",attrs:T},verticalreversed:{node:"linearGradient",attrs:T,reversed:!0}};x.gradient=function(ee,q,ne,oe,Q,c){for(var w=Q.length,B=G[oe],E=new Array(w),b=0;b<w;b++)B.reversed?E[w-1-b]=[Y((1-Q[b][0])*100),Q[b][1]]:E[b]=[Y(Q[b][0]*100),Q[b][1]];var O=q._fullLayout,N="g"+O._uid+"-"+ne,R=O._defs.select(".gradients").selectAll("#"+N).data([oe+E.join(";")],a.identity);R.exit().remove(),R.enter().append(B.node).each(function(){var fe=e.select(this);B.attrs&&fe.attr(B.attrs),fe.attr("id",N);var ce=fe.selectAll("stop").data(E);ce.exit().remove(),ce.enter().append("stop"),ce.each(function(ye){var xe=r(ye[1]);e.select(this).attr({offset:ye[0]+"%","stop-color":u.tinyRGB(xe),"stop-opacity":xe.getAlpha()})})}),ee.style(c,ie(N,q)).style(c+"-opacity",null);var j=function(fe){return"."+fe.attr("class").replace(/\s/g,".")},se=j(e.select(ee.node().parentNode))+">"+j(ee);O._gradientUrlQueryParts[se]=1},x.pattern=function(ee,q,ne,oe,Q,c,w,B,E,b,O,N){var R=q==="legend";B&&(E==="overlay"?(b=B,O=u.contrast(b)):(b=void 0,O=B));var j=ne._fullLayout,se="p"+j._uid+"-"+oe,fe,ce,ye=function(gt,Ve,We,Ke,ut){return Ke+(ut-Ke)*(gt-Ve)/(We-Ve)},xe,De,ke,Ne,Ue={};switch(Q){case"/":fe=c*Math.sqrt(2),ce=c*Math.sqrt(2),xe="M-"+fe/4+","+ce/4+"l"+fe/2+",-"+ce/2+"M0,"+ce+"L"+fe+",0M"+fe/4*3+","+ce/4*5+"l"+fe/2+",-"+ce/2,De=w*c,Ne="path",Ue={d:xe,opacity:N,stroke:O,"stroke-width":De+"px"};break;case"\\":fe=c*Math.sqrt(2),ce=c*Math.sqrt(2),xe="M"+fe/4*3+",-"+ce/4+"l"+fe/2+","+ce/2+"M0,0L"+fe+","+ce+"M-"+fe/4+","+ce/4*3+"l"+fe/2+","+ce/2,De=w*c,Ne="path",Ue={d:xe,opacity:N,stroke:O,"stroke-width":De+"px"};break;case"x":fe=c*Math.sqrt(2),ce=c*Math.sqrt(2),xe="M-"+fe/4+","+ce/4+"l"+fe/2+",-"+ce/2+"M0,"+ce+"L"+fe+",0M"+fe/4*3+","+ce/4*5+"l"+fe/2+",-"+ce/2+"M"+fe/4*3+",-"+ce/4+"l"+fe/2+","+ce/2+"M0,0L"+fe+","+ce+"M-"+fe/4+","+ce/4*3+"l"+fe/2+","+ce/2,De=c-c*Math.sqrt(1-w),Ne="path",Ue={d:xe,opacity:N,stroke:O,"stroke-width":De+"px"};break;case"|":fe=c,ce=c,Ne="path",xe="M"+fe/2+",0L"+fe/2+","+ce,De=w*c,Ne="path",Ue={d:xe,opacity:N,stroke:O,"stroke-width":De+"px"};break;case"-":fe=c,ce=c,Ne="path",xe="M0,"+ce/2+"L"+fe+","+ce/2,De=w*c,Ne="path",Ue={d:xe,opacity:N,stroke:O,"stroke-width":De+"px"};break;case"+":fe=c,ce=c,Ne="path",xe="M"+fe/2+",0L"+fe/2+","+ce+"M0,"+ce/2+"L"+fe+","+ce/2,De=c-c*Math.sqrt(1-w),Ne="path",Ue={d:xe,opacity:N,stroke:O,"stroke-width":De+"px"};break;case".":fe=c,ce=c,w<Math.PI/4?ke=Math.sqrt(w*c*c/Math.PI):ke=ye(w,Math.PI/4,1,c/2,c/Math.sqrt(2)),Ne="circle",Ue={cx:fe/2,cy:ce/2,r:ke,opacity:N,fill:O};break}var Ce=[Q||"noSh",b||"noBg",O||"noFg",c,w].join(";"),_e=j._defs.select(".patterns").selectAll("#"+se).data([Ce],a.identity);_e.exit().remove(),_e.enter().append("pattern").each(function(){var gt=e.select(this);if(gt.attr({id:se,width:fe+"px",height:ce+"px",patternUnits:"userSpaceOnUse",patternTransform:R?"scale(0.8)":""}),b){var Ve=gt.selectAll("rect").data([0]);Ve.exit().remove(),Ve.enter().append("rect").attr({width:fe+"px",height:ce+"px",fill:b})}var We=gt.selectAll(Ne).data([0]);We.exit().remove(),We.enter().append(Ne).attr(Ue)}),ee.style("fill",ie(se,ne)).style("fill-opacity",null),ee.classed("pattern_filled",!0);var Ie=function(gt){return"."+gt.attr("class").replace(/\s/g,".")},Ze=Ie(e.select(ee.node().parentNode))+">.pattern_filled";j._patternUrlQueryParts[Ze]=1},x.initGradients=function(ee){var q=ee._fullLayout,ne=a.ensureSingle(q._defs,"g","gradients");ne.selectAll("linearGradient,radialGradient").remove(),q._gradientUrlQueryParts={}},x.initPatterns=function(ee){var q=ee._fullLayout,ne=a.ensureSingle(q._defs,"g","patterns");ne.selectAll("pattern").remove(),q._patternUrlQueryParts={}},x.getPatternAttr=function(ee,q,ne){return ee&&a.isArrayOrTypedArray(ee)?q<ee.length?ee[q]:ne:ee},x.pointStyle=function(ee,q,ne){if(!!ee.size()){var oe=x.makePointStyleFns(q);ee.each(function(Q){x.singlePointStyle(Q,e.select(this),q,oe,ne)})}},x.singlePointStyle=function(ee,q,ne,oe,Q){var c=ne.marker,w=c.line;if(q.style("opacity",oe.selectedOpacityFn?oe.selectedOpacityFn(ee):ee.mo===void 0?c.opacity:ee.mo),oe.ms2mrc){var B;ee.ms==="various"||c.size==="various"?B=3:B=oe.ms2mrc(ee.ms),ee.mrc=B,oe.selectedSizeFn&&(B=ee.mrc=oe.selectedSizeFn(ee));var E=x.symbolNumber(ee.mx||c.symbol)||0;ee.om=E%200>=100,q.attr("d",A(E,B))}var b=!1,O,N,R;if(ee.so)R=w.outlierwidth,N=w.outliercolor,O=c.outliercolor;else{var j=(w||{}).width;R=(ee.mlw+1||j+1||(ee.trace?(ee.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in ee?N=ee.mlcc=oe.lineScale(ee.mlc):a.isArrayOrTypedArray(w.color)?N=u.defaultLine:N=w.color,a.isArrayOrTypedArray(c.color)&&(O=u.defaultLine,b=!0),"mc"in ee?O=ee.mcc=oe.markerScale(ee.mc):O=c.color||"rgba(0,0,0,0)",oe.selectedColorFn&&(O=oe.selectedColorFn(ee))}if(ee.om)q.call(u.stroke,O).style({"stroke-width":(R||1)+"px",fill:"none"});else{q.style("stroke-width",(ee.isBlank?0:R)+"px");var se=c.gradient,fe=ee.mgt;fe?b=!0:fe=se&&se.type,a.isArrayOrTypedArray(fe)&&(fe=fe[0],G[fe]||(fe=0));var ce=c.pattern,ye=ce&&x.getPatternAttr(ce.shape,ee.i,"");if(fe&&fe!=="none"){var xe=ee.mgc;xe?b=!0:xe=se.color;var De=ne.uid;b&&(De+="-"+ee.i),x.gradient(q,Q,De,fe,[[0,xe],[1,O]],"fill")}else if(ye){var ke=x.getPatternAttr(ce.bgcolor,ee.i,null),Ne=x.getPatternAttr(ce.fgcolor,ee.i,null),Ue=ce.fgopacity,Ce=x.getPatternAttr(ce.size,ee.i,8),_e=x.getPatternAttr(ce.solidity,ee.i,.3),Ie=ee.mcc||a.isArrayOrTypedArray(ce.shape)||a.isArrayOrTypedArray(ce.bgcolor)||a.isArrayOrTypedArray(ce.size)||a.isArrayOrTypedArray(ce.solidity),Ze=ne.uid;Ie&&(Ze+="-"+ee.i),x.pattern(q,"point",Q,Ze,ye,Ce,_e,ee.mcc,ce.fillmode,ke,Ne,Ue)}else u.fill(q,O);R&&u.stroke(q,N)}},x.makePointStyleFns=function(ee){var q={},ne=ee.marker;return q.markerScale=x.tryColorscale(ne,""),q.lineScale=x.tryColorscale(ne,"line"),f.traceIs(ee,"symbols")&&(q.ms2mrc=D.isBubble(ee)?C(ee):function(){return(ne.size||6)/2}),ee.selectedpoints&&a.extendFlat(q,x.makeSelectedPointStyleFns(ee)),q},x.makeSelectedPointStyleFns=function(ee){var q={},ne=ee.selected||{},oe=ee.unselected||{},Q=ee.marker||{},c=ne.marker||{},w=oe.marker||{},B=Q.opacity,E=c.opacity,b=w.opacity,O=E!==void 0,N=b!==void 0;(a.isArrayOrTypedArray(B)||O||N)&&(q.selectedOpacityFn=function(ke){var Ne=ke.mo===void 0?Q.opacity:ke.mo;return ke.selected?O?E:Ne:N?b:g*Ne});var R=Q.color,j=c.color,se=w.color;(j||se)&&(q.selectedColorFn=function(ke){var Ne=ke.mcc||R;return ke.selected?j||Ne:se||Ne});var fe=Q.size,ce=c.size,ye=w.size,xe=ce!==void 0,De=ye!==void 0;return f.traceIs(ee,"symbols")&&(xe||De)&&(q.selectedSizeFn=function(ke){var Ne=ke.mrc||fe/2;return ke.selected?xe?ce/2:Ne:De?ye/2:Ne}),q},x.makeSelectedTextStyleFns=function(ee){var q={},ne=ee.selected||{},oe=ee.unselected||{},Q=ee.textfont||{},c=ne.textfont||{},w=oe.textfont||{},B=Q.color,E=c.color,b=w.color;return q.selectedTextColorFn=function(O){var N=O.tc||B;return O.selected?E||N:b||(E?N:u.addOpacity(N,g))},q},x.selectedPointStyle=function(ee,q){if(!(!ee.size()||!q.selectedpoints)){var ne=x.makeSelectedPointStyleFns(q),oe=q.marker||{},Q=[];ne.selectedOpacityFn&&Q.push(function(c,w){c.style("opacity",ne.selectedOpacityFn(w))}),ne.selectedColorFn&&Q.push(function(c,w){u.fill(c,ne.selectedColorFn(w))}),ne.selectedSizeFn&&Q.push(function(c,w){var B=w.mx||oe.symbol||0,E=ne.selectedSizeFn(w);c.attr("d",A(x.symbolNumber(B),E)),w.mrc2=E}),Q.length&&ee.each(function(c){for(var w=e.select(this),B=0;B<Q.length;B++)Q[B](w,c)})}},x.tryColorscale=function(ee,q){var ne=q?a.nestedProperty(ee,q).get():ee;if(ne){var oe=ne.color;if((ne.colorscale||ne._colorAx)&&a.isArrayOrTypedArray(oe))return s.makeColorScaleFuncFromTrace(ne)}return a.identity};var S={start:1,end:-1,middle:0,bottom:1,top:-1};function U(ee,q,ne,oe,Q){var c=e.select(ee.node().parentNode),w=q.indexOf("top")!==-1?"top":q.indexOf("bottom")!==-1?"bottom":"middle",B=q.indexOf("left")!==-1?"end":q.indexOf("right")!==-1?"start":"middle",E=oe?oe/.8+1:0,b=(h.lineCount(ee)-1)*y+1,O=S[B]*E,N=ne*.75+S[w]*E+(S[w]-1)*b*ne/2;ee.attr("text-anchor",B),Q||c.attr("transform",o(O,N))}function W(ee,q){var ne=ee.ts||q.textfont.size;return n(ne)&&ne>0?ne:0}x.textPointStyle=function(ee,q,ne){if(!!ee.size()){var oe;if(q.selectedpoints){var Q=x.makeSelectedTextStyleFns(q);oe=Q.selectedTextColorFn}var c=q.texttemplate,w=ne._fullLayout;ee.each(function(B){var E=e.select(this),b=c?a.extractOption(B,q,"txt","texttemplate"):a.extractOption(B,q,"tx","text");if(!b&&b!==0){E.remove();return}if(c){var O=q._module.formatLabels,N=O?O(B,q,w):{},R={};L(R,q,B.i);var j=q._meta||{};b=a.texttemplateString(b,N,w._d3locale,R,B,j)}var se=B.tp||q.textposition,fe=W(B,q),ce=oe?oe(B):B.tc||q.textfont.color;E.call(x.font,B.tf||q.textfont.family,fe,ce).text(b).call(h.convertToTspans,ne).call(U,se,fe,B.mrc)})}},x.selectedTextStyle=function(ee,q){if(!(!ee.size()||!q.selectedpoints)){var ne=x.makeSelectedTextStyleFns(q);ee.each(function(oe){var Q=e.select(this),c=ne.selectedTextColorFn(oe),w=oe.tp||q.textposition,B=W(oe,q);u.fill(Q,c);var E=f.traceIs(q,"bar-like");U(Q,w,B,oe.mrc2||oe.mrc,E)})}};var K=.5;x.smoothopen=function(ee,q){if(ee.length<3)return"M"+ee.join("L");var ne="M"+ee[0],oe=[],Q;for(Q=1;Q<ee.length-1;Q++)oe.push(J(ee[Q-1],ee[Q],ee[Q+1],q));for(ne+="Q"+oe[0][0]+" "+ee[1],Q=2;Q<ee.length-1;Q++)ne+="C"+oe[Q-2][1]+" "+oe[Q-1][0]+" "+ee[Q];return ne+="Q"+oe[ee.length-3][1]+" "+ee[ee.length-1],ne},x.smoothclosed=function(ee,q){if(ee.length<3)return"M"+ee.join("L")+"Z";var ne="M"+ee[0],oe=ee.length-1,Q=[J(ee[oe],ee[0],ee[1],q)],c;for(c=1;c<oe;c++)Q.push(J(ee[c-1],ee[c],ee[c+1],q));for(Q.push(J(ee[oe-1],ee[oe],ee[0],q)),c=1;c<=oe;c++)ne+="C"+Q[c-1][1]+" "+Q[c][0]+" "+ee[c];return ne+="C"+Q[oe][1]+" "+Q[0][0]+" "+ee[0]+"Z",ne};function J(ee,q,ne,oe){var Q=ee[0]-q[0],c=ee[1]-q[1],w=ne[0]-q[0],B=ne[1]-q[1],E=Math.pow(Q*Q+c*c,K/2),b=Math.pow(w*w+B*B,K/2),O=(b*b*Q-E*E*w)*oe,N=(b*b*c-E*E*B)*oe,R=3*b*(E+b),j=3*E*(E+b);return[[e.round(q[0]+(R&&O/R),2),e.round(q[1]+(R&&N/R),2)],[e.round(q[0]-(j&&O/j),2),e.round(q[1]-(j&&N/j),2)]]}var ae={hv:function(ee,q){return"H"+e.round(q[0],2)+"V"+e.round(q[1],2)},vh:function(ee,q){return"V"+e.round(q[1],2)+"H"+e.round(q[0],2)},hvh:function(ee,q){return"H"+e.round((ee[0]+q[0])/2,2)+"V"+e.round(q[1],2)+"H"+e.round(q[0],2)},vhv:function(ee,q){return"V"+e.round((ee[1]+q[1])/2,2)+"H"+e.round(q[0],2)+"V"+e.round(q[1],2)}},z=function(ee,q){return"L"+e.round(q[0],2)+","+e.round(q[1],2)};x.steps=function(ee){var q=ae[ee]||z;return function(ne){for(var oe="M"+e.round(ne[0][0],2)+","+e.round(ne[0][1],2),Q=1;Q<ne.length;Q++)oe+=q(ne[Q-1],ne[Q]);return oe}},x.makeTester=function(){var ee=a.ensureSingleById(e.select("body"),"svg","js-plotly-tester",function(ne){ne.attr(p.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),q=a.ensureSingle(ee,"path","js-reference-point",function(ne){ne.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});x.tester=ee,x.testref=q},x.savedBBoxes={};var H=0,Z=1e4;x.bBox=function(ee,q,ne){ne||(ne=re(ee));var oe;if(ne){if(oe=x.savedBBoxes[ne],oe)return a.extendFlat({},oe)}else if(ee.childNodes.length===1){var Q=ee.childNodes[0];if(ne=re(Q),ne){var c=+Q.getAttribute("x")||0,w=+Q.getAttribute("y")||0,B=Q.getAttribute("transform");if(!B){var E=x.bBox(Q,!1,ne);return c&&(E.left+=c,E.right+=c),w&&(E.top+=w,E.bottom+=w),E}if(ne+="~"+c+"~"+w+"~"+B,oe=x.savedBBoxes[ne],oe)return a.extendFlat({},oe)}}var b,O;q?b=ee:(O=x.tester.node(),b=ee.cloneNode(!0),O.appendChild(b)),e.select(b).attr("transform",null).call(h.positionText,0,0);var N=b.getBoundingClientRect(),R=x.testref.node().getBoundingClientRect();q||O.removeChild(b);var j={height:N.height,width:N.width,left:N.left-R.left,top:N.top-R.top,right:N.right-R.left,bottom:N.bottom-R.top};return H>=Z&&(x.savedBBoxes={},H=0),ne&&(x.savedBBoxes[ne]=j),H++,a.extendFlat({},j)};function re(ee){var q=ee.getAttribute("data-unformatted");if(q!==null)return q+ee.getAttribute("data-math")+ee.getAttribute("text-anchor")+ee.getAttribute("style")}x.setClipUrl=function(ee,q,ne){ee.attr("clip-path",ie(q,ne))};function ie(ee,q){if(!ee)return null;var ne=q._context,oe=ne._exportedPlot?"":ne._baseUrl||"";return oe?"url('"+oe+"#"+ee+"')":"url(#"+ee+")"}x.getTranslate=function(ee){var q=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,ne=ee.attr?"attr":"getAttribute",oe=ee[ne]("transform")||"",Q=oe.replace(q,function(c,w,B){return[w,B].join(" ")}).split(" ");return{x:+Q[0]||0,y:+Q[1]||0}},x.setTranslate=function(ee,q,ne){var oe=/(\btranslate\(.*?\);?)/,Q=ee.attr?"attr":"getAttribute",c=ee.attr?"attr":"setAttribute",w=ee[Q]("transform")||"";return q=q||0,ne=ne||0,w=w.replace(oe,"").trim(),w+=o(q,ne),w=w.trim(),ee[c]("transform",w),w},x.getScale=function(ee){var q=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,ne=ee.attr?"attr":"getAttribute",oe=ee[ne]("transform")||"",Q=oe.replace(q,function(c,w,B){return[w,B].join(" ")}).split(" ");return{x:+Q[0]||1,y:+Q[1]||1}},x.setScale=function(ee,q,ne){var oe=/(\bscale\(.*?\);?)/,Q=ee.attr?"attr":"getAttribute",c=ee.attr?"attr":"setAttribute",w=ee[Q]("transform")||"";return q=q||1,ne=ne||1,w=w.replace(oe,"").trim(),w+="scale("+q+","+ne+")",w=w.trim(),ee[c]("transform",w),w};var ue=/\s*sc.*/;x.setPointGroupScale=function(ee,q,ne){if(q=q||1,ne=ne||1,!!ee){var oe=q===1&&ne===1?"":"scale("+q+","+ne+")";ee.each(function(){var Q=(this.getAttribute("transform")||"").replace(ue,"");Q+=oe,Q=Q.trim(),this.setAttribute("transform",Q)})}};var ge=/translate\([^)]*\)\s*$/;x.setTextPointsScale=function(ee,q,ne){!ee||ee.each(function(){var oe,Q=e.select(this),c=Q.select("text");if(!!c.node()){var w=parseFloat(c.attr("x")||0),B=parseFloat(c.attr("y")||0),E=(Q.attr("transform")||"").match(ge);q===1&&ne===1?oe=[]:oe=[o(w,B),"scale("+q+","+ne+")",o(-w,-B)],E&&oe.push(E),Q.attr("transform",oe.join(""))}})}},{"../../components/fx/helpers":138,"../../constants/alignment":207,"../../constants/interactions":211,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../lib/svg_text_utils":255,"../../registry":318,"../../traces/scatter/make_bubble_size_func":375,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale":114,"./symbol_defs":125,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],125:[function(t,P,k){var e=t("@plotly/d3");P.exports={circle:{n:0,f:function(a){var i=e.round(a,2);return"M"+i+",0A"+i+","+i+" 0 1,1 0,-"+i+"A"+i+","+i+" 0 0,1 "+i+",0Z"}},square:{n:1,f:function(a){var i=e.round(a,2);return"M"+i+","+i+"H-"+i+"V-"+i+"H"+i+"Z"}},diamond:{n:2,f:function(a){var i=e.round(a*1.3,2);return"M"+i+",0L0,"+i+"L-"+i+",0L0,-"+i+"Z"}},cross:{n:3,f:function(a){var i=e.round(a*.4,2),n=e.round(a*1.2,2);return"M"+n+","+i+"H"+i+"V"+n+"H-"+i+"V"+i+"H-"+n+"V-"+i+"H-"+i+"V-"+n+"H"+i+"V-"+i+"H"+n+"Z"}},x:{n:4,f:function(a){var i=e.round(a*.8/Math.sqrt(2),2),n="l"+i+","+i,r="l"+i+",-"+i,f="l-"+i+",-"+i,u="l-"+i+","+i;return"M0,"+i+n+r+f+r+f+u+f+u+n+u+n+"Z"}},"triangle-up":{n:5,f:function(a){var i=e.round(a*2/Math.sqrt(3),2),n=e.round(a/2,2),r=e.round(a,2);return"M-"+i+","+n+"H"+i+"L0,-"+r+"Z"}},"triangle-down":{n:6,f:function(a){var i=e.round(a*2/Math.sqrt(3),2),n=e.round(a/2,2),r=e.round(a,2);return"M-"+i+",-"+n+"H"+i+"L0,"+r+"Z"}},"triangle-left":{n:7,f:function(a){var i=e.round(a*2/Math.sqrt(3),2),n=e.round(a/2,2),r=e.round(a,2);return"M"+n+",-"+i+"V"+i+"L-"+r+",0Z"}},"triangle-right":{n:8,f:function(a){var i=e.round(a*2/Math.sqrt(3),2),n=e.round(a/2,2),r=e.round(a,2);return"M-"+n+",-"+i+"V"+i+"L"+r+",0Z"}},"triangle-ne":{n:9,f:function(a){var i=e.round(a*.6,2),n=e.round(a*1.2,2);return"M-"+n+",-"+i+"H"+i+"V"+n+"Z"}},"triangle-se":{n:10,f:function(a){var i=e.round(a*.6,2),n=e.round(a*1.2,2);return"M"+i+",-"+n+"V"+i+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(a){var i=e.round(a*.6,2),n=e.round(a*1.2,2);return"M"+n+","+i+"H-"+i+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(a){var i=e.round(a*.6,2),n=e.round(a*1.2,2);return"M-"+i+","+n+"V-"+i+"H"+n+"Z"}},pentagon:{n:13,f:function(a){var i=e.round(a*.951,2),n=e.round(a*.588,2),r=e.round(-a,2),f=e.round(a*-.309,2),u=e.round(a*.809,2);return"M"+i+","+f+"L"+n+","+u+"H-"+n+"L-"+i+","+f+"L0,"+r+"Z"}},hexagon:{n:14,f:function(a){var i=e.round(a,2),n=e.round(a/2,2),r=e.round(a*Math.sqrt(3)/2,2);return"M"+r+",-"+n+"V"+n+"L0,"+i+"L-"+r+","+n+"V-"+n+"L0,-"+i+"Z"}},hexagon2:{n:15,f:function(a){var i=e.round(a,2),n=e.round(a/2,2),r=e.round(a*Math.sqrt(3)/2,2);return"M-"+n+","+r+"H"+n+"L"+i+",0L"+n+",-"+r+"H-"+n+"L-"+i+",0Z"}},octagon:{n:16,f:function(a){var i=e.round(a*.924,2),n=e.round(a*.383,2);return"M-"+n+",-"+i+"H"+n+"L"+i+",-"+n+"V"+n+"L"+n+","+i+"H-"+n+"L-"+i+","+n+"V-"+n+"Z"}},star:{n:17,f:function(a){var i=a*1.4,n=e.round(i*.225,2),r=e.round(i*.951,2),f=e.round(i*.363,2),u=e.round(i*.588,2),s=e.round(-i,2),o=e.round(i*-.309,2),h=e.round(i*.118,2),p=e.round(i*.809,2),d=e.round(i*.382,2);return"M"+n+","+o+"H"+r+"L"+f+","+h+"L"+u+","+p+"L0,"+d+"L-"+u+","+p+"L-"+f+","+h+"L-"+r+","+o+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(a){var i=e.round(a*.66,2),n=e.round(a*.38,2),r=e.round(a*.76,2);return"M-"+r+",0l-"+n+",-"+i+"h"+r+"l"+n+",-"+i+"l"+n+","+i+"h"+r+"l-"+n+","+i+"l"+n+","+i+"h-"+r+"l-"+n+","+i+"l-"+n+",-"+i+"h-"+r+"Z"}},"star-triangle-up":{n:19,f:function(a){var i=e.round(a*Math.sqrt(3)*.8,2),n=e.round(a*.8,2),r=e.round(a*1.6,2),f=e.round(a*4,2),u="A "+f+","+f+" 0 0 1 ";return"M-"+i+","+n+u+i+","+n+u+"0,-"+r+u+"-"+i+","+n+"Z"}},"star-triangle-down":{n:20,f:function(a){var i=e.round(a*Math.sqrt(3)*.8,2),n=e.round(a*.8,2),r=e.round(a*1.6,2),f=e.round(a*4,2),u="A "+f+","+f+" 0 0 1 ";return"M"+i+",-"+n+u+"-"+i+",-"+n+u+"0,"+r+u+i+",-"+n+"Z"}},"star-square":{n:21,f:function(a){var i=e.round(a*1.1,2),n=e.round(a*2,2),r="A "+n+","+n+" 0 0 1 ";return"M-"+i+",-"+i+r+"-"+i+","+i+r+i+","+i+r+i+",-"+i+r+"-"+i+",-"+i+"Z"}},"star-diamond":{n:22,f:function(a){var i=e.round(a*1.4,2),n=e.round(a*1.9,2),r="A "+n+","+n+" 0 0 1 ";return"M-"+i+",0"+r+"0,"+i+r+i+",0"+r+"0,-"+i+r+"-"+i+",0Z"}},"diamond-tall":{n:23,f:function(a){var i=e.round(a*.7,2),n=e.round(a*1.4,2);return"M0,"+n+"L"+i+",0L0,-"+n+"L-"+i+",0Z"}},"diamond-wide":{n:24,f:function(a){var i=e.round(a*1.4,2),n=e.round(a*.7,2);return"M0,"+n+"L"+i+",0L0,-"+n+"L-"+i+",0Z"}},hourglass:{n:25,f:function(a){var i=e.round(a,2);return"M"+i+","+i+"H-"+i+"L"+i+",-"+i+"H-"+i+"Z"},noDot:!0},bowtie:{n:26,f:function(a){var i=e.round(a,2);return"M"+i+","+i+"V-"+i+"L-"+i+","+i+"V-"+i+"Z"},noDot:!0},"circle-cross":{n:27,f:function(a){var i=e.round(a,2);return"M0,"+i+"V-"+i+"M"+i+",0H-"+i+"M"+i+",0A"+i+","+i+" 0 1,1 0,-"+i+"A"+i+","+i+" 0 0,1 "+i+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(a){var i=e.round(a,2),n=e.round(a/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+i+",0A"+i+","+i+" 0 1,1 0,-"+i+"A"+i+","+i+" 0 0,1 "+i+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(a){var i=e.round(a,2);return"M0,"+i+"V-"+i+"M"+i+",0H-"+i+"M"+i+","+i+"H-"+i+"V-"+i+"H"+i+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(a){var i=e.round(a,2);return"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+i+","+i+"H-"+i+"V-"+i+"H"+i+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(a){var i=e.round(a*1.3,2);return"M"+i+",0L0,"+i+"L-"+i+",0L0,-"+i+"ZM0,-"+i+"V"+i+"M-"+i+",0H"+i},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(a){var i=e.round(a*1.3,2),n=e.round(a*.65,2);return"M"+i+",0L0,"+i+"L-"+i+",0L0,-"+i+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(a){var i=e.round(a*1.4,2);return"M0,"+i+"V-"+i+"M"+i+",0H-"+i},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(a){var i=e.round(a,2);return"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(a){var i=e.round(a*1.2,2),n=e.round(a*.85,2);return"M0,"+i+"V-"+i+"M"+i+",0H-"+i+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(a){var i=e.round(a/2,2),n=e.round(a,2);return"M"+i+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+i+"H-"+n+"m0,-"+n+"H"+n},needLine:!0,noFill:!0},"y-up":{n:37,f:function(a){var i=e.round(a*1.2,2),n=e.round(a*1.6,2),r=e.round(a*.8,2);return"M-"+i+","+r+"L0,0M"+i+","+r+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(a){var i=e.round(a*1.2,2),n=e.round(a*1.6,2),r=e.round(a*.8,2);return"M-"+i+",-"+r+"L0,0M"+i+",-"+r+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(a){var i=e.round(a*1.2,2),n=e.round(a*1.6,2),r=e.round(a*.8,2);return"M"+r+","+i+"L0,0M"+r+",-"+i+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(a){var i=e.round(a*1.2,2),n=e.round(a*1.6,2),r=e.round(a*.8,2);return"M-"+r+","+i+"L0,0M-"+r+",-"+i+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(a){var i=e.round(a*1.4,2);return"M"+i+",0H-"+i},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(a){var i=e.round(a*1.4,2);return"M0,"+i+"V-"+i},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(a){var i=e.round(a,2);return"M"+i+",-"+i+"L-"+i+","+i},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(a){var i=e.round(a,2);return"M"+i+","+i+"L-"+i+",-"+i},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(a){var i=e.round(a,2),n=e.round(a*2,2);return"M0,0L-"+i+","+n+"H"+i+"Z"},noDot:!0},"arrow-down":{n:46,f:function(a){var i=e.round(a,2),n=e.round(a*2,2);return"M0,0L-"+i+",-"+n+"H"+i+"Z"},noDot:!0},"arrow-left":{n:47,f:function(a){var i=e.round(a*2,2),n=e.round(a,2);return"M0,0L"+i+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-right":{n:48,f:function(a){var i=e.round(a*2,2),n=e.round(a,2);return"M0,0L-"+i+",-"+n+"V"+n+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(a){var i=e.round(a,2),n=e.round(a*2,2);return"M-"+i+",0H"+i+"M0,0L-"+i+","+n+"H"+i+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(a){var i=e.round(a,2),n=e.round(a*2,2);return"M-"+i+",0H"+i+"M0,0L-"+i+",-"+n+"H"+i+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(a){var i=e.round(a*2,2),n=e.round(a,2);return"M0,-"+n+"V"+n+"M0,0L"+i+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(a){var i=e.round(a*2,2),n=e.round(a,2);return"M0,-"+n+"V"+n+"M0,0L-"+i+",-"+n+"V"+n+"Z"},needLine:!0,noDot:!0}}},{"@plotly/d3":11}],126:[function(t,P,k){P.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],127:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../registry"),i=t("../../plots/cartesian/axes"),n=t("../../lib"),r=t("./compute_error");P.exports=function(s){for(var o=s.calcdata,h=0;h<o.length;h++){var p=o[h],d=p[0].trace;if(d.visible===!0&&a.traceIs(d,"errorBarsOK")){var y=i.getFromId(s,d.xaxis),g=i.getFromId(s,d.yaxis);f(p,d,y,"x"),f(p,d,g,"y")}}};function f(u,s,o,h){var p=s["error_"+h]||{},d=p.visible&&["linear","log"].indexOf(o.type)!==-1,y=[];if(!!d){for(var g=r(p),D=0;D<u.length;D++){var C=u[D],L=C.i;if(L===void 0)L=D;else if(L===null)continue;var x=C[h];if(!!e(o.c2l(x))){var M=g(x,L);if(e(M[0])&&e(M[1])){var v=C[h+"s"]=x-M[0],m=C[h+"h"]=x+M[1];y.push(v,m)}}}var A=o._id,V=s._extremes[A],T=i.findExtremes(o,y,n.extendFlat({tozero:V.opts.tozero},{padded:!0}));V.min=V.min.concat(T.min),V.max=V.max.concat(T.max)}}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./compute_error":128,"fast-isnumeric":17}],128:[function(t,P,k){P.exports=function(i){var n=i.type,r=i.symmetric;if(n==="data"){var f=i.array||[];if(r)return function(p,d){var y=+f[d];return[y,y]};var u=i.arrayminus||[];return function(p,d){var y=+f[d],g=+u[d];return!isNaN(y)||!isNaN(g)?[g||0,y||0]:[NaN,NaN]}}else{var s=e(n,i.value),o=e(n,i.valueminus);return r||i.valueminus===void 0?function(p){var d=s(p);return[d,d]}:function(p){return[o(p),s(p)]}}};function e(a,i){if(a==="percent")return function(n){return Math.abs(n*i/100)};if(a==="constant")return function(){return Math.abs(i)};if(a==="sqrt")return function(n){return Math.sqrt(Math.abs(n))}}},{}],129:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../registry"),i=t("../../lib"),n=t("../../plot_api/plot_template"),r=t("./attributes");P.exports=function(f,u,s,o){var h="error_"+o.axis,p=n.newContainer(u,h),d=f[h]||{};function y(v,m){return i.coerce(d,p,r,v,m)}var g=d.array!==void 0||d.value!==void 0||d.type==="sqrt",D=y("visible",g);if(D!==!1){var C=y("type","array"in d?"data":"percent"),L=!0;C!=="sqrt"&&(L=y("symmetric",!((C==="data"?"arrayminus":"valueminus")in d))),C==="data"?(y("array"),y("traceref"),L||(y("arrayminus"),y("tracerefminus"))):(C==="percent"||C==="constant")&&(y("value"),L||y("valueminus"));var x="copy_"+o.inherit+"style";if(o.inherit){var M=u["error_"+o.inherit];(M||{}).visible&&y(x,!(d.color||e(d.thickness)||e(d.width)))}(!o.inherit||!p[x])&&(y("color",s),y("thickness"),y("width",a.traceIs(u,"gl3d")?0:4))}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"./attributes":126,"fast-isnumeric":17}],130:[function(t,P,k){var e=t("../../lib"),a=t("../../plot_api/edit_types").overrideAll,i=t("./attributes"),n={error_x:e.extendFlat({},i),error_y:e.extendFlat({},i)};delete n.error_x.copy_zstyle,delete n.error_y.copy_zstyle,delete n.error_y.copy_ystyle;var r={error_x:e.extendFlat({},i),error_y:e.extendFlat({},i),error_z:e.extendFlat({},i)};delete r.error_x.copy_ystyle,delete r.error_y.copy_ystyle,delete r.error_z.copy_ystyle,delete r.error_z.copy_zstyle,P.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:n,bar:n,histogram:n,scatter3d:a(r,"calc","nested"),scattergl:a(n,"calc","nested")}},supplyDefaults:t("./defaults"),calc:t("./calc"),makeComputeError:t("./compute_error"),plot:t("./plot"),style:t("./style"),hoverInfo:f};function f(u,s,o){(s.error_y||{}).visible&&(o.yerr=u.yh-u.y,s.error_y.symmetric||(o.yerrneg=u.y-u.ys)),(s.error_x||{}).visible&&(o.xerr=u.xh-u.x,s.error_x.symmetric||(o.xerrneg=u.x-u.xs))}},{"../../lib":232,"../../plot_api/edit_types":261,"./attributes":126,"./calc":127,"./compute_error":128,"./defaults":129,"./plot":131,"./style":132}],131:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=t("../drawing"),n=t("../../traces/scatter/subtypes");P.exports=function(u,s,o,h){var p,d=o.xaxis,y=o.yaxis,g=h&&h.duration>0;s.each(function(D){var C=D[0].trace,L=C.error_x||{},x=C.error_y||{},M;C.ids&&(M=function(V){return V.id});var v=n.hasMarkers(C)&&C.marker.maxdisplayed>0;!x.visible&&!L.visible&&(D=[]);var m=e.select(this).selectAll("g.errorbar").data(D,M);if(m.exit().remove(),!!D.length){L.visible||m.selectAll("path.xerror").remove(),x.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var A=m.enter().append("g").classed("errorbar",!0);g&&A.style("opacity",0).transition().duration(h.duration).style("opacity",1),i.setClipUrl(m,o.layerClipId,u),m.each(function(V){var T=e.select(this),Y=r(V,d,y);if(!(v&&!V.vis)){var G,S=T.select("path.yerror");if(x.visible&&a(Y.x)&&a(Y.yh)&&a(Y.ys)){var U=x.width;G="M"+(Y.x-U)+","+Y.yh+"h"+2*U+"m-"+U+",0V"+Y.ys,Y.noYS||(G+="m-"+U+",0h"+2*U),p=!S.size(),p?S=T.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):g&&(S=S.transition().duration(h.duration).ease(h.easing)),S.attr("d",G)}else S.remove();var W=T.select("path.xerror");if(L.visible&&a(Y.y)&&a(Y.xh)&&a(Y.xs)){var K=(L.copy_ystyle?x:L).width;G="M"+Y.xh+","+(Y.y-K)+"v"+2*K+"m0,-"+K+"H"+Y.xs,Y.noXS||(G+="m0,-"+K+"v"+2*K),p=!W.size(),p?W=T.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):g&&(W=W.transition().duration(h.duration).ease(h.easing)),W.attr("d",G)}else W.remove()}})}})};function r(f,u,s){var o={x:u.c2p(f.x),y:s.c2p(f.y)};return f.yh!==void 0&&(o.yh=s.c2p(f.yh),o.ys=s.c2p(f.ys),a(o.ys)||(o.noYS=!0,o.ys=s.c2p(f.ys,!0))),f.xh!==void 0&&(o.xh=u.c2p(f.xh),o.xs=u.c2p(f.xs),a(o.xs)||(o.noXS=!0,o.xs=u.c2p(f.xs,!0))),o}},{"../../traces/scatter/subtypes":383,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],132:[function(t,P,k){var e=t("@plotly/d3"),a=t("../color");P.exports=function(n){n.each(function(r){var f=r[0].trace,u=f.error_y||{},s=f.error_x||{},o=e.select(this);o.selectAll("path.yerror").style("stroke-width",u.thickness+"px").call(a.stroke,u.color),s.copy_ystyle&&(s=u),o.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(a.stroke,s.color)})}},{"../color":102,"@plotly/d3":11}],133:[function(t,P,k){var e=t("../../plots/font_attributes"),a=t("./layout_attributes").hoverlabel,i=t("../../lib/extend").extendFlat;P.exports={hoverlabel:{bgcolor:i({},a.bgcolor,{arrayOk:!0}),bordercolor:i({},a.bordercolor,{arrayOk:!0}),font:e({arrayOk:!0,editType:"none"}),align:i({},a.align,{arrayOk:!0}),namelength:i({},a.namelength,{arrayOk:!0}),editType:"none"}}},{"../../lib/extend":226,"../../plots/font_attributes":310,"./layout_attributes":143}],134:[function(t,P,k){var e=t("../../lib"),a=t("../../registry");P.exports=function(r){var f=r.calcdata,u=r._fullLayout;function s(y){return function(g){return e.coerceHoverinfo({hoverinfo:g},{_module:y._module},u)}}for(var o=0;o<f.length;o++){var h=f[o],p=h[0].trace;if(!a.traceIs(p,"pie-like")){var d=a.traceIs(p,"2dMap")?i:e.fillArray;d(p.hoverinfo,h,"hi",s(p)),p.hovertemplate&&d(p.hovertemplate,h,"ht"),!!p.hoverlabel&&(d(p.hoverlabel.bgcolor,h,"hbg"),d(p.hoverlabel.bordercolor,h,"hbc"),d(p.hoverlabel.font.size,h,"hts"),d(p.hoverlabel.font.color,h,"htc"),d(p.hoverlabel.font.family,h,"htf"),d(p.hoverlabel.namelength,h,"hnl"),d(p.hoverlabel.align,h,"hta"))}}};function i(n,r,f,u){u=u||e.identity,Array.isArray(n)&&(r[0][f]=u(n))}},{"../../lib":232,"../../registry":318}],135:[function(t,P,k){var e=t("../../registry"),a=t("./hover").hover;P.exports=function(n,r,f){var u=e.getComponentMethod("annotations","onClick")(n,n._hoverdata);f!==void 0&&a(n,r,f,!0);function s(){n.emit("plotly_click",{points:n._hoverdata,event:r})}n._hoverdata&&r&&r.target&&(u&&u.then?u.then(s):s(),r.stopImmediatePropagation&&r.stopImmediatePropagation())}},{"../../registry":318,"./hover":139}],136:[function(t,P,k){P.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],137:[function(t,P,k){var e=t("../../lib"),a=t("./attributes"),i=t("./hoverlabel_defaults");P.exports=function(r,f,u,s){function o(p,d){return e.coerce(r,f,a,p,d)}var h=e.extendFlat({},s.hoverlabel);f.hovertemplate&&(h.namelength=-1),i(r,f,o,h)}},{"../../lib":232,"./attributes":133,"./hoverlabel_defaults":140}],138:[function(t,P,k){var e=t("../../lib");k.getSubplot=function(u){return u.subplot||u.xaxis+u.yaxis||u.geo},k.isTraceInSubplots=function(u,s){if(u.type==="splom"){for(var o=u.xaxes||[],h=u.yaxes||[],p=0;p<o.length;p++)for(var d=0;d<h.length;d++)if(s.indexOf(o[p]+h[d])!==-1)return!0;return!1}return s.indexOf(k.getSubplot(u))!==-1},k.flat=function(u,s){for(var o=new Array(u.length),h=0;h<u.length;h++)o[h]=s;return o},k.p2c=function(u,s){for(var o=new Array(u.length),h=0;h<u.length;h++)o[h]=u[h].p2c(s);return o},k.getDistanceFunction=function(u,s,o,h){return u==="closest"?h||k.quadrature(s,o):u.charAt(0)==="x"?s:o},k.getClosest=function(u,s,o){if(o.index!==!1)o.index>=0&&o.index<u.length?o.distance=0:o.index=!1;else for(var h=0;h<u.length;h++){var p=s(u[h]);p<=o.distance&&(o.index=h,o.distance=p)}return o},k.inbox=function(u,s,o){return u*s<0||u===0?o:1/0},k.quadrature=function(u,s){return function(o){var h=u(o),p=s(o);return Math.sqrt(h*h+p*p)}},k.makeEventData=function(u,s,o){var h="index"in u?u.index:u.pointNumber,p={data:s._input,fullData:s,curveNumber:s.index,pointNumber:h};if(s._indexToPoints){var d=s._indexToPoints[h];d.length===1?p.pointIndex=d[0]:p.pointIndices=d}else p.pointIndex=h;return s._module.eventData?p=s._module.eventData(p,u,s,o,h):("xVal"in u?p.x=u.xVal:"x"in u&&(p.x=u.x),"yVal"in u?p.y=u.yVal:"y"in u&&(p.y=u.y),u.xa&&(p.xaxis=u.xa),u.ya&&(p.yaxis=u.ya),u.zLabelVal!==void 0&&(p.z=u.zLabelVal)),k.appendArrayPointValue(p,s,h),p},k.appendArrayPointValue=function(u,s,o){var h=s._arrayAttrs;if(!!h)for(var p=0;p<h.length;p++){var d=h[p],y=i(d);if(u[y]===void 0){var g=e.nestedProperty(s,d).get(),D=n(g,o);D!==void 0&&(u[y]=D)}}},k.appendArrayMultiPointValues=function(u,s,o){var h=s._arrayAttrs;if(!!h)for(var p=0;p<h.length;p++){var d=h[p],y=i(d);if(u[y]===void 0){for(var g=e.nestedProperty(s,d).get(),D=new Array(o.length),C=0;C<o.length;C++)D[C]=n(g,o[C]);u[y]=D}}};var a={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function i(u){return a[u]||u}function n(u,s){if(Array.isArray(s)){if(Array.isArray(u)&&Array.isArray(u[s[0]]))return u[s[0]][s[1]]}else return u[s]}var r={x:!0,y:!0},f={"x unified":!0,"y unified":!0};k.isUnifiedHover=function(u){return typeof u!="string"?!1:!!f[u]},k.isXYhover=function(u){return typeof u!="string"?!1:!!r[u]}},{"../../lib":232}],139:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=t("tinycolor2"),n=t("../../lib"),r=n.strTranslate,f=n.strRotate,u=t("../../lib/events"),s=t("../../lib/svg_text_utils"),o=t("../../lib/override_cursor"),h=t("../drawing"),p=t("../color"),d=t("../dragelement"),y=t("../../plots/cartesian/axes"),g=t("../../registry"),D=t("./helpers"),C=t("./constants"),L=t("../legend/defaults"),x=t("../legend/draw"),M=C.YANGLE,v=Math.PI*M/180,m=1/Math.sin(v),A=Math.cos(v),V=Math.sin(v),T=C.HOVERARROWSIZE,Y=C.HOVERTEXTPAD,G={box:!0,ohlc:!0,violin:!0,candlestick:!0},S={scatter:!0,scattergl:!0,splom:!0};k.hover=function(w,B,E,b){w=n.getGraphDiv(w);var O=B.target;n.throttle(w._fullLayout._uid+C.HOVERID,C.HOVERMINTIME,function(){U(w,B,E,b,O)})},k.loneHover=function(w,B){var E=!0;Array.isArray(w)||(E=!1,w=[w]);var b=B.gd,O=ne(b),N=oe(b),R=w.map(function(ke){var Ne=ke._x0||ke.x0||ke.x||0,Ue=ke._x1||ke.x1||ke.x||0,Ce=ke._y0||ke.y0||ke.y||0,_e=ke._y1||ke.y1||ke.y||0,Ie=ke.eventData;if(Ie){var Ze=Math.min(Ne,Ue),gt=Math.max(Ne,Ue),Ve=Math.min(Ce,_e),We=Math.max(Ce,_e),Ke=ke.trace;if(g.traceIs(Ke,"gl3d")){var ut=b._fullLayout[Ke.scene]._scene.container,mt=ut.offsetLeft,Lt=ut.offsetTop;Ze+=mt,gt+=mt,Ve+=Lt,We+=Lt}Ie.bbox={x0:Ze+N,x1:gt+N,y0:Ve+O,y1:We+O},B.inOut_bbox&&B.inOut_bbox.push(Ie.bbox)}else Ie=!1;return{color:ke.color||p.defaultLine,x0:ke.x0||ke.x||0,x1:ke.x1||ke.x||0,y0:ke.y0||ke.y||0,y1:ke.y1||ke.y||0,xLabel:ke.xLabel,yLabel:ke.yLabel,zLabel:ke.zLabel,text:ke.text,name:ke.name,idealAlign:ke.idealAlign,borderColor:ke.borderColor,fontFamily:ke.fontFamily,fontSize:ke.fontSize,fontColor:ke.fontColor,nameLength:ke.nameLength,textAlign:ke.textAlign,trace:ke.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:ke.hovertemplate||!1,hovertemplateLabels:ke.hovertemplateLabels||!1,eventData:Ie}}),j=!1,se=J(R,{gd:b,hovermode:"closest",rotateLabels:j,bgColor:B.bgColor||p.background,container:e.select(B.container),outerContainer:B.outerContainer||B.container}),fe=5,ce=0,ye=0;se.sort(function(ke,Ne){return ke.y0-Ne.y0}).each(function(ke,Ne){var Ue=ke.y0-ke.by/2;Ue-fe<ce?ke.offset=ce-Ue+fe:ke.offset=0,ce=Ue+ke.by+ke.offset,Ne===B.anchorIndex&&(ye=ke.offset)}).each(function(ke){ke.offset-=ye});var xe=b._fullLayout._invScaleX,De=b._fullLayout._invScaleY;return H(se,j,xe,De),E?se:se.node()};function U(c,w,B,E,b){B||(B="xy");var O=Array.isArray(B)?B:[B],N=c._fullLayout,R=N._plots||[],j=R[B],se=N._has("cartesian");if(j){var fe=j.overlays.map(function(Bt){return Bt.id});O=O.concat(fe)}for(var ce=O.length,ye=new Array(ce),xe=new Array(ce),De=!1,ke=0;ke<ce;ke++){var Ne=O[ke];if(R[Ne])De=!0,ye[ke]=R[Ne].xaxis,xe[ke]=R[Ne].yaxis;else if(N[Ne]&&N[Ne]._subplot){var Ue=N[Ne]._subplot;ye[ke]=Ue.xaxis,xe[ke]=Ue.yaxis}else{n.warn("Unrecognized subplot: "+Ne);return}}var Ce=w.hovermode||N.hovermode;if(Ce&&!De&&(Ce="closest"),["x","y","closest","x unified","y unified"].indexOf(Ce)===-1||!c.calcdata||c.querySelector(".zoombox")||c._dragging)return d.unhoverRaw(c,w);var _e=N.hoverdistance;_e===-1&&(_e=1/0);var Ie=N.spikedistance;Ie===-1&&(Ie=1/0);var Ze=[],gt=[],Ve,We,Ke,ut,mt,Lt,rt,dt,ot,pt,Ct,Ee,Oe,at={hLinePoint:null,vLinePoint:null},pe=!1;if(Array.isArray(w))for(Ce="array",Ke=0;Ke<w.length;Ke++)mt=c.calcdata[w[Ke].curveNumber||0],mt&&(Lt=mt[0].trace,mt[0].trace.hoverinfo!=="skip"&&(gt.push(mt),Lt.orientation==="h"&&(pe=!0)));else{for(ut=0;ut<c.calcdata.length;ut++)mt=c.calcdata[ut],Lt=mt[0].trace,Lt.hoverinfo!=="skip"&&D.isTraceInSubplots(Lt,O)&&(gt.push(mt),Lt.orientation==="h"&&(pe=!0));var Ae=!b,Se,Pe;if(Ae)"xpx"in w?Se=w.xpx:Se=ye[0]._length/2,"ypx"in w?Pe=w.ypx:Pe=xe[0]._length/2;else{if(u.triggerHandler(c,"plotly_beforehover",w)===!1)return;var tt=b.getBoundingClientRect();Se=w.clientX-tt.left,Pe=w.clientY-tt.top,N._calcInverseTransform(c);var Je=n.apply3DTransform(N._invTransform)(Se,Pe);if(Se=Je[0],Pe=Je[1],Se<0||Se>ye[0]._length||Pe<0||Pe>xe[0]._length)return d.unhoverRaw(c,w)}if(w.pointerX=Se+ye[0]._offset,w.pointerY=Pe+xe[0]._offset,"xval"in w?Ve=D.flat(O,w.xval):Ve=D.p2c(ye,Se),"yval"in w?We=D.flat(O,w.yval):We=D.p2c(xe,Pe),!a(Ve[0])||!a(We[0]))return n.warn("Fx.hover failed",w,c),d.unhoverRaw(c,w)}var ht=1/0;function vt(Bt,nr){for(ut=0;ut<gt.length;ut++)if(mt=gt[ut],!(!mt||!mt[0]||!mt[0].trace)&&(Lt=mt[0].trace,!(Lt.visible!==!0||Lt._length===0)&&["carpet","contourcarpet"].indexOf(Lt._module.name)===-1)){if(Lt.type==="splom"?(dt=0,rt=O[dt]):(rt=D.getSubplot(Lt),dt=O.indexOf(rt)),ot=Ce,D.isUnifiedHover(ot)&&(ot=ot.charAt(0)),Ee={cd:mt,trace:Lt,xa:ye[dt],ya:xe[dt],maxHoverDistance:_e,maxSpikeDistance:Ie,index:!1,distance:Math.min(ht,_e),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:Lt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},N[rt]&&(Ee.subplot=N[rt]._subplot),N._splomScenes&&N._splomScenes[Lt.uid]&&(Ee.scene=N._splomScenes[Lt.uid]),Oe=Ze.length,ot==="array"){var ir=w[ut];"pointNumber"in ir?(Ee.index=ir.pointNumber,ot="closest"):(ot="","xval"in ir&&(pt=ir.xval,ot="x"),"yval"in ir&&(Ct=ir.yval,ot=ot?"closest":"y"))}else Bt!==void 0&&nr!==void 0?(pt=Bt,Ct=nr):(pt=Ve[dt],Ct=We[dt]);if(_e!==0)if(Lt._module&&Lt._module.hoverPoints){var rr=Lt._module.hoverPoints(Ee,pt,Ct,ot,{finiteRange:!0,hoverLayer:N._hoverlayer});if(rr)for(var lr,fr=0;fr<rr.length;fr++)lr=rr[fr],a(lr.x0)&&a(lr.y0)&&Ze.push(Z(lr,Ce))}else n.log("Unrecognized trace type in hover:",Lt);if(Ce==="closest"&&Ze.length>Oe&&(Ze.splice(0,Oe),ht=Ze[0].distance),se&&Ie!==0&&Ze.length===0){Ee.distance=Ie,Ee.index=!1;var vr=Lt._module.hoverPoints(Ee,pt,Ct,"closest",{hoverLayer:N._hoverlayer});if(vr&&(vr=vr.filter(function(Lr){return Lr.spikeDistance<=Ie})),vr&&vr.length){var xr,Ar=vr.filter(function(Lr){return Lr.xa.showspikes&&Lr.xa.spikesnap!=="hovered data"});if(Ar.length){var Mr=Ar[0];a(Mr.x0)&&a(Mr.y0)&&(xr=je(Mr),(!at.vLinePoint||at.vLinePoint.spikeDistance>xr.spikeDistance)&&(at.vLinePoint=xr))}var _r=vr.filter(function(Lr){return Lr.ya.showspikes&&Lr.ya.spikesnap!=="hovered data"});if(_r.length){var Sr=_r[0];a(Sr.x0)&&a(Sr.y0)&&(xr=je(Sr),(!at.hLinePoint||at.hLinePoint.spikeDistance>xr.spikeDistance)&&(at.hLinePoint=xr))}}}}}vt();function nt(Bt,nr,ir){for(var rr=null,lr=1/0,fr,vr=0;vr<Bt.length;vr++)fr=Bt[vr].spikeDistance,ir&&vr===0&&(fr=-1/0),fr<=lr&&fr<=nr&&(rr=Bt[vr],lr=fr);return rr}function je(Bt){return Bt?{xa:Bt.xa,ya:Bt.ya,x:Bt.xSpike!==void 0?Bt.xSpike:(Bt.x0+Bt.x1)/2,y:Bt.ySpike!==void 0?Bt.ySpike:(Bt.y0+Bt.y1)/2,distance:Bt.distance,spikeDistance:Bt.spikeDistance,curveNumber:Bt.trace.index,color:Bt.color,pointNumber:Bt.index}:null}var _t={fullLayout:N,container:N._hoverlayer,event:w},Et=c._spikepoints,Tt={vLinePoint:at.vLinePoint,hLinePoint:at.hLinePoint};c._spikepoints=Tt;var Zt=function(){Ze.sort(function(Bt,nr){return Bt.distance-nr.distance}),Ze=ee(Ze,Ce)};Zt();var $t=Ce.charAt(0),Qt=($t==="x"||$t==="y")&&Ze[0]&&S[Ze[0].trace.type];if(se&&Ie!==0&&Ze.length!==0){var zt=Ze.filter(function(Bt){return Bt.ya.showspikes}),Yt=nt(zt,Ie,Qt);at.hLinePoint=je(Yt);var Ft=Ze.filter(function(Bt){return Bt.xa.showspikes}),ct=nt(Ft,Ie,Qt);at.vLinePoint=je(ct)}if(Ze.length===0){var Vt=d.unhoverRaw(c,w);return se&&(at.hLinePoint!==null||at.vLinePoint!==null)&&ue(Et)&&re(c,at,_t),Vt}if(se&&ue(Et)&&re(c,at,_t),D.isXYhover(ot)&&Ze[0].length!==0&&Ze[0].trace.type!=="splom"){var Ot=Ze[0];G[Ot.trace.type]?Ze=Ze.filter(function(Bt){return Bt.trace.index===Ot.trace.index}):Ze=[Ot];var he=Ze.length,ve=q("x",Ot,N),we=q("y",Ot,N);vt(ve,we);var Le=[],Re={},Ge=0,Fe=function(Bt){var nr=G[Bt.trace.type]?W(Bt):Bt.trace.index;if(!Re[nr])Ge++,Re[nr]=Ge,Le.push(Bt);else{var ir=Re[nr]-1,rr=Le[ir];ir>0&&Math.abs(Bt.distance)<Math.abs(rr.distance)&&(Le[ir]=Bt)}},Ye;for(Ye=0;Ye<he;Ye++)Fe(Ze[Ye]);for(Ye=Ze.length-1;Ye>he-1;Ye--)Fe(Ze[Ye]);Ze=Le,Zt()}var $e=c._hoverdata,yt=[],Mt=ne(c),St=oe(c);for(Ke=0;Ke<Ze.length;Ke++){var wt=Ze[Ke],Ht=D.makeEventData(wt,wt.trace,wt.cd);if(wt.hovertemplate!==!1){var Nt=!1;wt.cd[wt.index]&&wt.cd[wt.index].ht&&(Nt=wt.cd[wt.index].ht),wt.hovertemplate=Nt||wt.trace.hovertemplate||!1}if(wt.xa&&wt.ya){var qt=wt.x0+wt.xa._offset,kt=wt.x1+wt.xa._offset,xt=wt.y0+wt.ya._offset,It=wt.y1+wt.ya._offset,Ut=Math.min(qt,kt),it=Math.max(qt,kt),At=Math.min(xt,It),Rt=Math.max(xt,It);Ht.bbox={x0:Ut+St,x1:it+St,y0:At+Mt,y1:Rt+Mt}}wt.eventData=[Ht],yt.push(Ht)}c._hoverdata=yt;var bt=Ce==="y"&&(gt.length>1||Ze.length>1)||Ce==="closest"&&pe&&Ze.length>1,Dt=p.combine(N.plot_bgcolor||p.background,N.paper_bgcolor),Jt=J(Ze,{gd:c,hovermode:Ce,rotateLabels:bt,bgColor:Dt,container:N._hoverlayer,outerContainer:N._paper.node(),commonLabelOpts:N.hoverlabel,hoverdistance:N.hoverdistance});if(D.isUnifiedHover(Ce)||(z(Jt,bt?"xa":"ya",N),H(Jt,bt,N._invScaleX,N._invScaleY)),b&&b.tagName){var jt=g.getComponentMethod("annotations","hasClickToShow")(c,yt);o(e.select(b),jt?"pointer":"")}!b||E||!ie(c,w,$e)||($e&&c.emit("plotly_unhover",{event:w,points:$e}),c.emit("plotly_hover",{event:w,points:c._hoverdata,xaxes:ye,yaxes:xe,xvals:Ve,yvals:We}))}function W(c){return[c.trace.index,c.index,c.x0,c.y0,c.name,c.attr,c.xa?c.xa._id:"",c.ya?c.ya._id:""].join(",")}var K=/<extra>([\s\S]*)<\/extra>/;function J(c,w){var B=w.gd,E=B._fullLayout,b=w.hovermode,O=w.rotateLabels,N=w.bgColor,R=w.container,j=w.outerContainer,se=w.commonLabelOpts||{};if(c.length===0)return[[]];var fe=w.fontFamily||C.HOVERFONT,ce=w.fontSize||C.HOVERFONTSIZE,ye=c[0],xe=ye.xa,De=ye.ya,ke=b.charAt(0),Ne=ye[ke+"Label"],Ue=Q(B,j),Ce=Ue.top,_e=Ue.width,Ie=Ue.height,Ze=Ne!==void 0&&ye.distance<=w.hoverdistance&&(b==="x"||b==="y");if(Ze){var gt=!0,Ve,We;for(Ve=0;Ve<c.length;Ve++)if(gt&&c[Ve].zLabel===void 0&&(gt=!1),We=c[Ve].hoverinfo||c[Ve].trace.hoverinfo,We){var Ke=Array.isArray(We)?We:We.split("+");if(Ke.indexOf("all")===-1&&Ke.indexOf(b)===-1){Ze=!1;break}}gt&&(Ze=!1)}var ut=R.selectAll("g.axistext").data(Ze?[0]:[]);if(ut.enter().append("g").classed("axistext",!0),ut.exit().remove(),ut.each(function(){var ct=e.select(this),Vt=n.ensureSingle(ct,"path","",function(It){It.style({"stroke-width":"1px"})}),Ot=n.ensureSingle(ct,"text","",function(It){It.attr("data-notex",1)}),he=se.bgcolor||p.defaultLine,ve=se.bordercolor||p.contrast(he),we=p.contrast(he),Le={family:se.font.family||fe,size:se.font.size||ce,color:se.font.color||we};Vt.style({fill:he,stroke:ve}),Ot.text(Ne).call(h.font,Le).call(s.positionText,0,0).call(s.convertToTspans,B),ct.attr("transform","");var Re=Q(B,Ot.node()),Ge,Fe;if(b==="x"){var Ye=xe.side==="top"?"-":"";Ot.attr("text-anchor","middle").call(s.positionText,0,xe.side==="top"?Ce-Re.bottom-T-Y:Ce-Re.top+T+Y),Ge=xe._offset+(ye.x0+ye.x1)/2,Fe=De._offset+(xe.side==="top"?0:De._length);var $e=Re.width/2+Y;Ge<$e?(Ge=$e,Vt.attr("d","M-"+($e-T)+",0L-"+($e-T*2)+","+Ye+T+"H"+(Y+Re.width/2)+"v"+Ye+(Y*2+Re.height)+"H-"+$e+"V"+Ye+T+"Z")):Ge>E.width-$e?(Ge=E.width-$e,Vt.attr("d","M"+($e-T)+",0L"+$e+","+Ye+T+"v"+Ye+(Y*2+Re.height)+"H-"+$e+"V"+Ye+T+"H"+($e-T*2)+"Z")):Vt.attr("d","M0,0L"+T+","+Ye+T+"H"+(Y+Re.width/2)+"v"+Ye+(Y*2+Re.height)+"H-"+(Y+Re.width/2)+"V"+Ye+T+"H-"+T+"Z")}else{var yt,Mt,St;De.side==="right"?(yt="start",Mt=1,St="",Ge=xe._offset+xe._length):(yt="end",Mt=-1,St="-",Ge=xe._offset),Fe=De._offset+(ye.y0+ye.y1)/2,Ot.attr("text-anchor",yt),Vt.attr("d","M0,0L"+St+T+","+T+"V"+(Y+Re.height/2)+"h"+St+(Y*2+Re.width)+"V-"+(Y+Re.height/2)+"H"+St+T+"V-"+T+"Z");var wt=Re.height/2,Ht=Ce-Re.top-wt,Nt="clip"+E._uid+"commonlabel"+De._id,qt;if(Ge<Re.width+2*Y+T){qt="M-"+(T+Y)+"-"+wt+"h-"+(Re.width-Y)+"V"+wt+"h"+(Re.width-Y)+"Z";var kt=Re.width-Ge+Y;s.positionText(Ot,kt,Ht),yt==="end"&&Ot.selectAll("tspan").each(function(){var It=e.select(this),Ut=h.tester.append("text").text(It.text()).call(h.font,Le),it=Q(B,Ut.node());Math.round(it.width)<Math.round(Re.width)&&It.attr("x",kt-it.width),Ut.remove()})}else s.positionText(Ot,Mt*(Y+T),Ht),qt=null;var xt=E._topclips.selectAll("#"+Nt).data(qt?[0]:[]);xt.enter().append("clipPath").attr("id",Nt).append("path"),xt.exit().remove(),xt.select("path").attr("d",qt),h.setClipUrl(Ot,qt?Nt:null,B)}ct.attr("transform",r(Ge,Fe))}),D.isUnifiedHover(b)){R.selectAll("g.hovertext").remove();var mt=c.filter(function(ct){return ct.hoverinfo!=="none"});if(mt.length===0)return;var Lt=E.hoverlabel,rt=Lt.font,dt={showlegend:!0,legend:{title:{text:Ne,font:rt},font:rt,bgcolor:Lt.bgcolor,bordercolor:Lt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:E.legend?E.legend.traceorder:void 0,orientation:"v"}},ot={font:rt};L(dt,ot,B._fullData);var pt=ot.legend;pt.entries=[];for(var Ct=0;Ct<mt.length;Ct++){var Ee=mt[Ct];if(Ee.hoverinfo!=="none"){var Oe=ae(Ee,!0,b,E,Ne),at=Oe[0],pe=Oe[1];Ee.name=pe,pe!==""?Ee.text=pe+" : "+at:Ee.text=at;var Ae=Ee.cd[Ee.index];Ae&&(Ae.mc&&(Ee.mc=Ae.mc),Ae.mcc&&(Ee.mc=Ae.mcc),Ae.mlc&&(Ee.mlc=Ae.mlc),Ae.mlcc&&(Ee.mlc=Ae.mlcc),Ae.mlw&&(Ee.mlw=Ae.mlw),Ae.mrc&&(Ee.mrc=Ae.mrc),Ae.dir&&(Ee.dir=Ae.dir)),Ee._distinct=!0,pt.entries.push([Ee])}}pt.entries.sort(function(ct,Vt){return ct[0].trace.index-Vt[0].trace.index}),pt.layer=R,pt._inHover=!0,pt._groupTitleFont=Lt.grouptitlefont,x(B,pt);var Se=R.select("g.legend"),Pe=Q(B,Se.node()),tt=Pe.width+2*Y,Je=Pe.height+2*Y,ht=mt[0],vt=(ht.x0+ht.x1)/2,nt=(ht.y0+ht.y1)/2,je=!(g.traceIs(ht.trace,"bar-like")||g.traceIs(ht.trace,"box-violin")),_t,Et;ke==="y"?je?(Et=nt-Y,_t=nt+Y):(Et=Math.min.apply(null,mt.map(function(ct){return Math.min(ct.y0,ct.y1)})),_t=Math.max.apply(null,mt.map(function(ct){return Math.max(ct.y0,ct.y1)}))):Et=_t=n.mean(mt.map(function(ct){return(ct.y0+ct.y1)/2}))-Je/2;var Tt,Zt;ke==="x"?je?(Tt=vt+Y,Zt=vt-Y):(Tt=Math.max.apply(null,mt.map(function(ct){return Math.max(ct.x0,ct.x1)})),Zt=Math.min.apply(null,mt.map(function(ct){return Math.min(ct.x0,ct.x1)}))):Tt=Zt=n.mean(mt.map(function(ct){return(ct.x0+ct.x1)/2}))-tt/2;var $t=xe._offset,Qt=De._offset;_t+=Qt,Tt+=$t,Zt+=$t-tt,Et+=Qt-Je;var zt,Yt;return Tt+tt<_e&&Tt>=0?zt=Tt:Zt+tt<_e&&Zt>=0?zt=Zt:$t+tt<_e?zt=$t:Tt-vt<vt-Zt+tt?zt=_e-tt:zt=0,zt+=Y,_t+Je<Ie&&_t>=0?Yt=_t:Et+Je<Ie&&Et>=0?Yt=Et:Qt+Je<Ie?Yt=Qt:_t-nt<nt-Et+Je?Yt=Ie-Je:Yt=0,Yt+=Y,Se.attr("transform",r(zt-1,Yt-1)),Se}var Ft=R.selectAll("g.hovertext").data(c,function(ct){return W(ct)});return Ft.enter().append("g").classed("hovertext",!0).each(function(){var ct=e.select(this);ct.append("rect").call(p.fill,p.addOpacity(N,.8)),ct.append("text").classed("name",!0),ct.append("path").style("stroke-width","1px"),ct.append("text").classed("nums",!0).call(h.font,fe,ce)}),Ft.exit().remove(),Ft.each(function(ct){var Vt=e.select(this).attr("transform",""),Ot=ct.color;Array.isArray(Ot)&&(Ot=Ot[ct.eventData[0].pointNumber]);var he=ct.bgcolor||Ot,ve=p.combine(p.opacity(he)?he:p.defaultLine,N),we=p.combine(p.opacity(Ot)?Ot:p.defaultLine,N),Le=ct.borderColor||p.contrast(ve),Re=ae(ct,Ze,b,E,Ne,Vt),Ge=Re[0],Fe=Re[1],Ye=Vt.select("text.nums").call(h.font,ct.fontFamily||fe,ct.fontSize||ce,ct.fontColor||Le).text(Ge).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,B),$e=Vt.select("text.name"),yt=0,Mt=0;if(Fe&&Fe!==Ge){$e.call(h.font,ct.fontFamily||fe,ct.fontSize||ce,we).text(Fe).attr("data-notex",1).call(s.positionText,0,0).call(s.convertToTspans,B);var St=Q(B,$e.node());yt=St.width+2*Y,Mt=St.height+2*Y}else $e.remove(),Vt.select("rect").remove();Vt.select("path").style({fill:ve,stroke:Le});var wt=ct.xa._offset+(ct.x0+ct.x1)/2,Ht=ct.ya._offset+(ct.y0+ct.y1)/2,Nt=Math.abs(ct.x1-ct.x0),qt=Math.abs(ct.y1-ct.y0),kt=Q(B,Ye.node()),xt=kt.width/E._invScaleX,It=kt.height/E._invScaleY;ct.ty0=(Ce-kt.top)/E._invScaleY,ct.bx=xt+2*Y,ct.by=Math.max(It+2*Y,Mt),ct.anchor="start",ct.txwidth=xt,ct.tx2width=yt,ct.offset=0;var Ut=(xt+T+Y+yt)*E._invScaleX,it,At;if(O)ct.pos=wt,it=Ht+qt/2+Ut<=Ie,At=Ht-qt/2-Ut>=0,(ct.idealAlign==="top"||!it)&&At?(Ht-=qt/2,ct.anchor="end"):it?(Ht+=qt/2,ct.anchor="start"):ct.anchor="middle";else if(ct.pos=Ht,it=wt+Nt/2+Ut<=_e,At=wt-Nt/2-Ut>=0,(ct.idealAlign==="left"||!it)&&At)wt-=Nt/2,ct.anchor="end";else if(it)wt+=Nt/2,ct.anchor="start";else{ct.anchor="middle";var Rt=Ut/2,bt=wt+Rt-_e,Dt=wt-Rt;bt>0&&(wt-=bt),Dt<0&&(wt+=-Dt)}Ye.attr("text-anchor",ct.anchor),yt&&$e.attr("text-anchor",ct.anchor),Vt.attr("transform",r(wt,Ht)+(O?f(M):""))}),Ft}function ae(c,w,B,E,b,O){var N="",R="";c.nameOverride!==void 0&&(c.name=c.nameOverride),c.name&&(c.trace._meta&&(c.name=n.templateString(c.name,c.trace._meta)),N=ge(c.name,c.nameLength));var j=B.charAt(0),se=j==="x"?"y":"x";c.zLabel!==void 0?(c.xLabel!==void 0&&(R+="x: "+c.xLabel+"<br>"),c.yLabel!==void 0&&(R+="y: "+c.yLabel+"<br>"),c.trace.type!=="choropleth"&&c.trace.type!=="choroplethmapbox"&&(R+=(R?"z: ":"")+c.zLabel)):w&&c[j+"Label"]===b?R=c[se+"Label"]||"":c.xLabel===void 0?c.yLabel!==void 0&&c.trace.type!=="scattercarpet"&&(R=c.yLabel):c.yLabel===void 0?R=c.xLabel:R="("+c.xLabel+", "+c.yLabel+")",(c.text||c.text===0)&&!Array.isArray(c.text)&&(R+=(R?"<br>":"")+c.text),c.extraText!==void 0&&(R+=(R?"<br>":"")+c.extraText),O&&R===""&&!c.hovertemplate&&(N===""&&O.remove(),R=N);var fe=c.hovertemplate||!1;if(fe){var ce=c.hovertemplateLabels||c;c[j+"Label"]!==b&&(ce[j+"other"]=ce[j+"Val"],ce[j+"otherLabel"]=ce[j+"Label"]),R=n.hovertemplateString(fe,ce,E._d3locale,c.eventData[0]||{},c.trace._meta),R=R.replace(K,function(ye,xe){return N=ge(xe,c.nameLength),""})}return[R,N]}function z(c,w,B){var E=0,b=1,O=c.size(),N=new Array(O),R=0;c.each(function(Ve){var We=Ve[w],Ke=We._id.charAt(0)==="x",ut=We.range;R===0&&ut&&ut[0]>ut[1]!==Ke&&(b=-1),N[R++]=[{datum:Ve,traceIndex:Ve.trace.index,dp:0,pos:Ve.pos,posref:Ve.posref,size:Ve.by*(Ke?m:1)/2,pmin:0,pmax:Ke?B.width:B.height}]}),N.sort(function(Ve,We){return Ve[0].posref-We[0].posref||b*(We[0].traceIndex-Ve[0].traceIndex)});var j,se,fe,ce,ye,xe,De;function ke(Ve){var We=Ve[0],Ke=Ve[Ve.length-1];if(se=We.pmin-We.pos-We.dp+We.size,fe=Ke.pos+Ke.dp+Ke.size-We.pmax,se>.01){for(ye=Ve.length-1;ye>=0;ye--)Ve[ye].dp+=se;j=!1}if(!(fe<.01)){if(se<-.01){for(ye=Ve.length-1;ye>=0;ye--)Ve[ye].dp-=fe;j=!1}if(!!j){var ut=0;for(ce=0;ce<Ve.length;ce++)xe=Ve[ce],xe.pos+xe.dp+xe.size>We.pmax&&ut++;for(ce=Ve.length-1;ce>=0&&!(ut<=0);ce--)xe=Ve[ce],xe.pos>We.pmax-1&&(xe.del=!0,ut--);for(ce=0;ce<Ve.length&&!(ut<=0);ce++)if(xe=Ve[ce],xe.pos<We.pmin+1)for(xe.del=!0,ut--,fe=xe.size*2,ye=Ve.length-1;ye>=0;ye--)Ve[ye].dp-=fe;for(ce=Ve.length-1;ce>=0&&!(ut<=0);ce--)xe=Ve[ce],xe.pos+xe.dp+xe.size>We.pmax&&(xe.del=!0,ut--)}}}for(;!j&&E<=O;){for(E++,j=!0,ce=0;ce<N.length-1;){var Ne=N[ce],Ue=N[ce+1],Ce=Ne[Ne.length-1],_e=Ue[0];if(se=Ce.pos+Ce.dp+Ce.size-_e.pos-_e.dp+_e.size,se>.01&&Ce.pmin===_e.pmin&&Ce.pmax===_e.pmax){for(ye=Ue.length-1;ye>=0;ye--)Ue[ye].dp+=se;for(Ne.push.apply(Ne,Ue),N.splice(ce+1,1),De=0,ye=Ne.length-1;ye>=0;ye--)De+=Ne[ye].dp;for(fe=De/Ne.length,ye=Ne.length-1;ye>=0;ye--)Ne[ye].dp-=fe;j=!1}else ce++}N.forEach(ke)}for(ce=N.length-1;ce>=0;ce--){var Ie=N[ce];for(ye=Ie.length-1;ye>=0;ye--){var Ze=Ie[ye],gt=Ze.datum;gt.offset=Ze.dp,gt.del=Ze.del}}}function H(c,w,B,E){var b=function(N){return N*B},O=function(N){return N*E};c.each(function(N){var R=e.select(this);if(N.del)return R.remove();var j=R.select("text.nums"),se=N.anchor,fe=se==="end"?-1:1,ce={start:1,end:-1,middle:0}[se],ye=ce*(T+Y),xe=ye+ce*(N.txwidth+Y),De=0,ke=N.offset,Ne=se==="middle";Ne&&(ye-=N.tx2width/2,xe+=N.txwidth/2+Y),w&&(ke*=-V,De=N.offset*A),R.select("path").attr("d",Ne?"M-"+b(N.bx/2+N.tx2width/2)+","+O(ke-N.by/2)+"h"+b(N.bx)+"v"+O(N.by)+"h-"+b(N.bx)+"Z":"M0,0L"+b(fe*T+De)+","+O(T+ke)+"v"+O(N.by/2-T)+"h"+b(fe*N.bx)+"v-"+O(N.by)+"H"+b(fe*T+De)+"V"+O(ke-T)+"Z");var Ue=De+ye,Ce=ke+N.ty0-N.by/2+Y,_e=N.textAlign||"auto";_e!=="auto"&&(_e==="left"&&se!=="start"?(j.attr("text-anchor","start"),Ue=Ne?-N.bx/2-N.tx2width/2+Y:-N.bx-Y):_e==="right"&&se!=="end"&&(j.attr("text-anchor","end"),Ue=Ne?N.bx/2-N.tx2width/2-Y:N.bx+Y)),j.call(s.positionText,b(Ue),O(Ce)),N.tx2width&&(R.select("text.name").call(s.positionText,b(xe+ce*Y+De),O(ke+N.ty0-N.by/2+Y)),R.select("rect").call(h.setRect,b(xe+(ce-1)*N.tx2width/2+De),O(ke-N.by/2-1),b(N.tx2width),O(N.by+2)))})}function Z(c,w){var B=c.index,E=c.trace||{},b=c.cd[0],O=c.cd[B]||{};function N(ye){return ye||a(ye)&&ye===0}var R=Array.isArray(B)?function(ye,xe){var De=n.castOption(b,B,ye);return N(De)?De:n.extractOption({},E,"",xe)}:function(ye,xe){return n.extractOption(O,E,ye,xe)};function j(ye,xe,De){var ke=R(xe,De);N(ke)&&(c[ye]=ke)}if(j("hoverinfo","hi","hoverinfo"),j("bgcolor","hbg","hoverlabel.bgcolor"),j("borderColor","hbc","hoverlabel.bordercolor"),j("fontFamily","htf","hoverlabel.font.family"),j("fontSize","hts","hoverlabel.font.size"),j("fontColor","htc","hoverlabel.font.color"),j("nameLength","hnl","hoverlabel.namelength"),j("textAlign","hta","hoverlabel.align"),c.posref=w==="y"||w==="closest"&&E.orientation==="h"?c.xa._offset+(c.x0+c.x1)/2:c.ya._offset+(c.y0+c.y1)/2,c.x0=n.constrain(c.x0,0,c.xa._length),c.x1=n.constrain(c.x1,0,c.xa._length),c.y0=n.constrain(c.y0,0,c.ya._length),c.y1=n.constrain(c.y1,0,c.ya._length),c.xLabelVal!==void 0&&(c.xLabel="xLabel"in c?c.xLabel:y.hoverLabelText(c.xa,c.xLabelVal,E.xhoverformat),c.xVal=c.xa.c2d(c.xLabelVal)),c.yLabelVal!==void 0&&(c.yLabel="yLabel"in c?c.yLabel:y.hoverLabelText(c.ya,c.yLabelVal,E.yhoverformat),c.yVal=c.ya.c2d(c.yLabelVal)),c.zLabelVal!==void 0&&c.zLabel===void 0&&(c.zLabel=String(c.zLabelVal)),!isNaN(c.xerr)&&!(c.xa.type==="log"&&c.xerr<=0)){var se=y.tickText(c.xa,c.xa.c2l(c.xerr),"hover").text;c.xerrneg!==void 0?c.xLabel+=" +"+se+" / -"+y.tickText(c.xa,c.xa.c2l(c.xerrneg),"hover").text:c.xLabel+=" \xB1 "+se,w==="x"&&(c.distance+=1)}if(!isNaN(c.yerr)&&!(c.ya.type==="log"&&c.yerr<=0)){var fe=y.tickText(c.ya,c.ya.c2l(c.yerr),"hover").text;c.yerrneg!==void 0?c.yLabel+=" +"+fe+" / -"+y.tickText(c.ya,c.ya.c2l(c.yerrneg),"hover").text:c.yLabel+=" \xB1 "+fe,w==="y"&&(c.distance+=1)}var ce=c.hoverinfo||c.trace.hoverinfo;return ce&&ce!=="all"&&(ce=Array.isArray(ce)?ce:ce.split("+"),ce.indexOf("x")===-1&&(c.xLabel=void 0),ce.indexOf("y")===-1&&(c.yLabel=void 0),ce.indexOf("z")===-1&&(c.zLabel=void 0),ce.indexOf("text")===-1&&(c.text=void 0),ce.indexOf("name")===-1&&(c.name=void 0)),c}function re(c,w,B){var E=B.container,b=B.fullLayout,O=b._size,N=B.event,R=!!w.hLinePoint,j=!!w.vLinePoint,se,fe;if(E.selectAll(".spikeline").remove(),!!(j||R)){var ce=p.combine(b.plot_bgcolor,b.paper_bgcolor);if(R){var ye=w.hLinePoint,xe,De;se=ye&&ye.xa,fe=ye&&ye.ya;var ke=fe.spikesnap;ke==="cursor"?(xe=N.pointerX,De=N.pointerY):(xe=se._offset+ye.x,De=fe._offset+ye.y);var Ne=i.readability(ye.color,ce)<1.5?p.contrast(ce):ye.color,Ue=fe.spikemode,Ce=fe.spikethickness,_e=fe.spikecolor||Ne,Ie=y.getPxPosition(c,fe),Ze,gt;if(Ue.indexOf("toaxis")!==-1||Ue.indexOf("across")!==-1){if(Ue.indexOf("toaxis")!==-1&&(Ze=Ie,gt=xe),Ue.indexOf("across")!==-1){var Ve=fe._counterDomainMin,We=fe._counterDomainMax;fe.anchor==="free"&&(Ve=Math.min(Ve,fe.position),We=Math.max(We,fe.position)),Ze=O.l+Ve*O.w,gt=O.l+We*O.w}E.insert("line",":first-child").attr({x1:Ze,x2:gt,y1:De,y2:De,"stroke-width":Ce,stroke:_e,"stroke-dasharray":h.dashStyle(fe.spikedash,Ce)}).classed("spikeline",!0).classed("crisp",!0),E.insert("line",":first-child").attr({x1:Ze,x2:gt,y1:De,y2:De,"stroke-width":Ce+2,stroke:ce}).classed("spikeline",!0).classed("crisp",!0)}Ue.indexOf("marker")!==-1&&E.insert("circle",":first-child").attr({cx:Ie+(fe.side!=="right"?Ce:-Ce),cy:De,r:Ce,fill:_e}).classed("spikeline",!0)}if(j){var Ke=w.vLinePoint,ut,mt;se=Ke&&Ke.xa,fe=Ke&&Ke.ya;var Lt=se.spikesnap;Lt==="cursor"?(ut=N.pointerX,mt=N.pointerY):(ut=se._offset+Ke.x,mt=fe._offset+Ke.y);var rt=i.readability(Ke.color,ce)<1.5?p.contrast(ce):Ke.color,dt=se.spikemode,ot=se.spikethickness,pt=se.spikecolor||rt,Ct=y.getPxPosition(c,se),Ee,Oe;if(dt.indexOf("toaxis")!==-1||dt.indexOf("across")!==-1){if(dt.indexOf("toaxis")!==-1&&(Ee=Ct,Oe=mt),dt.indexOf("across")!==-1){var at=se._counterDomainMin,pe=se._counterDomainMax;se.anchor==="free"&&(at=Math.min(at,se.position),pe=Math.max(pe,se.position)),Ee=O.t+(1-pe)*O.h,Oe=O.t+(1-at)*O.h}E.insert("line",":first-child").attr({x1:ut,x2:ut,y1:Ee,y2:Oe,"stroke-width":ot,stroke:pt,"stroke-dasharray":h.dashStyle(se.spikedash,ot)}).classed("spikeline",!0).classed("crisp",!0),E.insert("line",":first-child").attr({x1:ut,x2:ut,y1:Ee,y2:Oe,"stroke-width":ot+2,stroke:ce}).classed("spikeline",!0).classed("crisp",!0)}dt.indexOf("marker")!==-1&&E.insert("circle",":first-child").attr({cx:ut,cy:Ct-(se.side!=="top"?ot:-ot),r:ot,fill:pt}).classed("spikeline",!0)}}}function ie(c,w,B){if(!B||B.length!==c._hoverdata.length)return!0;for(var E=B.length-1;E>=0;E--){var b=B[E],O=c._hoverdata[E];if(b.curveNumber!==O.curveNumber||String(b.pointNumber)!==String(O.pointNumber)||String(b.pointNumbers)!==String(O.pointNumbers))return!0}return!1}function ue(c,w){return!w||w.vLinePoint!==c._spikepoints.vLinePoint||w.hLinePoint!==c._spikepoints.hLinePoint}function ge(c,w){return s.plainText(c||"",{len:w,allowedTags:["br","sub","sup","b","i","em"]})}function ee(c,w){for(var B=w.charAt(0),E=[],b=[],O=[],N=0;N<c.length;N++){var R=c[N];g.traceIs(R.trace,"bar-like")||g.traceIs(R.trace,"box-violin")?O.push(R):R.trace[B+"period"]?b.push(R):E.push(R)}return E.concat(b).concat(O)}function q(c,w,B){var E=w[c+"a"],b=w[c+"Val"],O=w.cd[0];if(E.type==="category")b=E._categoriesMap[b];else if(E.type==="date"){var N=w.trace[c+"periodalignment"];if(N){var R=w.cd[w.index],j=R[c+"Start"];j===void 0&&(j=R[c]);var se=R[c+"End"];se===void 0&&(se=R[c]);var fe=se-j;N==="end"?b+=fe:N==="middle"&&(b+=fe/2)}b=E.d2c(b)}return O&&O.t&&O.t.posLetter===E._id&&(B.boxmode==="group"||B.violinmode==="group")&&(b+=O.t.dPos),b}function ne(c){return c.offsetTop+c.clientTop}function oe(c){return c.offsetLeft+c.clientLeft}function Q(c,w){var B=c._fullLayout,E=w.getBoundingClientRect(),b=E.x,O=E.y,N=b+E.width,R=O+E.height,j=n.apply3DTransform(B._invTransform)(b,O),se=n.apply3DTransform(B._invTransform)(N,R),fe=j[0],ce=j[1],ye=se[0],xe=se[1];return{x:fe,y:ce,width:ye-fe,height:xe-ce,top:Math.min(ce,xe),left:Math.min(fe,ye),right:Math.max(fe,ye),bottom:Math.max(ce,xe)}}},{"../../lib":232,"../../lib/events":225,"../../lib/override_cursor":243,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../legend/defaults":154,"../legend/draw":155,"./constants":136,"./helpers":138,"@plotly/d3":11,"fast-isnumeric":17,tinycolor2:67}],140:[function(t,P,k){var e=t("../../lib"),a=t("../color"),i=t("./helpers").isUnifiedHover;P.exports=function(r,f,u,s){s=s||{};var o=f.legend;function h(p){s.font[p]||(s.font[p]=o?f.legend.font[p]:f.font[p])}f&&i(f.hovermode)&&(s.font||(s.font={}),h("size"),h("family"),h("color"),o?(s.bgcolor||(s.bgcolor=a.combine(f.legend.bgcolor,f.paper_bgcolor)),s.bordercolor||(s.bordercolor=f.legend.bordercolor)):s.bgcolor||(s.bgcolor=f.paper_bgcolor)),u("hoverlabel.bgcolor",s.bgcolor),u("hoverlabel.bordercolor",s.bordercolor),u("hoverlabel.namelength",s.namelength),e.coerceFont(u,"hoverlabel.font",s.font),u("hoverlabel.align",s.align)}},{"../../lib":232,"../color":102,"./helpers":138}],141:[function(t,P,k){var e=t("../../lib"),a=t("./layout_attributes");P.exports=function(n,r){function f(u,s){return r[u]!==void 0?r[u]:e.coerce(n,r,a,u,s)}return f("clickmode"),f("hovermode")}},{"../../lib":232,"./layout_attributes":143}],142:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../lib"),i=t("../dragelement"),n=t("./helpers"),r=t("./layout_attributes"),f=t("./hover");P.exports={moduleType:"component",name:"fx",constants:t("./constants"),schema:{layout:r},attributes:t("./attributes"),layoutAttributes:r,supplyLayoutGlobalDefaults:t("./layout_global_defaults"),supplyDefaults:t("./defaults"),supplyLayoutDefaults:t("./layout_defaults"),calc:t("./calc"),getDistanceFunction:n.getDistanceFunction,getClosest:n.getClosest,inbox:n.inbox,quadrature:n.quadrature,appendArrayPointValue:n.appendArrayPointValue,castHoverOption:s,castHoverinfo:o,hover:f.hover,unhover:i.unhover,loneHover:f.loneHover,loneUnhover:u,click:t("./click")};function u(h){var p=a.isD3Selection(h)?h:e.select(h);p.selectAll("g.hovertext").remove(),p.selectAll(".spikeline").remove()}function s(h,p,d){return a.castOption(h,p,"hoverlabel."+d)}function o(h,p,d){function y(g){return a.coerceHoverinfo({hoverinfo:g},{_module:h._module},p)}return a.castOption(h,d,"hoverinfo",y)}},{"../../lib":232,"../dragelement":121,"./attributes":133,"./calc":134,"./click":135,"./constants":136,"./defaults":137,"./helpers":138,"./hover":139,"./layout_attributes":143,"./layout_defaults":144,"./layout_global_defaults":145,"@plotly/d3":11}],143:[function(t,P,k){var e=t("./constants"),a=t("../../plots/font_attributes"),i=a({editType:"none"});i.family.dflt=e.HOVERFONT,i.size.dflt=e.HOVERFONTSIZE,P.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:a({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},{"../../plots/font_attributes":310,"./constants":136}],144:[function(t,P,k){var e=t("../../lib"),a=t("./layout_attributes"),i=t("./hovermode_defaults"),n=t("./hoverlabel_defaults");P.exports=function(f,u){function s(g,D){return e.coerce(f,u,a,g,D)}var o=i(f,u);o&&(s("hoverdistance"),s("spikedistance"));var h=s("dragmode");h==="select"&&s("selectdirection");var p=u._has("mapbox"),d=u._has("geo"),y=u._basePlotModules.length;u.dragmode==="zoom"&&((p||d)&&y===1||p&&d&&y===2)&&(u.dragmode="pan"),n(f,u,s),e.coerceFont(s,"hoverlabel.grouptitlefont",u.hoverlabel.font)}},{"../../lib":232,"./hoverlabel_defaults":140,"./hovermode_defaults":141,"./layout_attributes":143}],145:[function(t,P,k){var e=t("../../lib"),a=t("./hoverlabel_defaults"),i=t("./layout_attributes");P.exports=function(r,f){function u(s,o){return e.coerce(r,f,i,s,o)}a(r,f,u)}},{"../../lib":232,"./hoverlabel_defaults":140,"./layout_attributes":143}],146:[function(t,P,k){var e=t("../../lib"),a=t("../../lib/regex").counter,i=t("../../plots/domain").attributes,n=t("../../plots/cartesian/constants").idRegex,r=t("../../plot_api/plot_template"),f={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[a("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[n.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[n.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function u(d,y,g){var D=y[g+"axes"],C=Object.keys((d._splomAxes||{})[g]||{});if(Array.isArray(D))return D;if(C.length)return C}function s(d,y){var g=d.grid||{},D=u(y,g,"x"),C=u(y,g,"y");if(!d.grid&&!D&&!C)return;var L=Array.isArray(g.subplots)&&Array.isArray(g.subplots[0]),x=Array.isArray(D),M=Array.isArray(C),v=x&&D!==g.xaxes&&M&&C!==g.yaxes,m,A;L?(m=g.subplots.length,A=g.subplots[0].length):(M&&(m=C.length),x&&(A=D.length));var V=r.newContainer(y,"grid");function T(H,Z){return e.coerce(g,V,f,H,Z)}var Y=T("rows",m),G=T("columns",A);if(!(Y*G>1)){delete y.grid;return}if(!L&&!x&&!M){var S=T("pattern")==="independent";S&&(L=!0)}V._hasSubplotGrid=L;var U=T("roworder"),W=U==="top to bottom",K=L?.2:.1,J=L?.3:.1,ae,z;v&&y._splomGridDflt&&(ae=y._splomGridDflt.xside,z=y._splomGridDflt.yside),V._domains={x:o("x",T,K,ae,G),y:o("y",T,J,z,Y,W)}}function o(d,y,g,D,C,L){var x=y(d+"gap",g),M=y("domain."+d);y(d+"side",D);for(var v=new Array(C),m=M[0],A=(M[1]-m)/(C-x),V=A*(1-x),T=0;T<C;T++){var Y=m+A*T;v[L?C-1-T:T]=[Y,Y+V]}return v}function h(d,y){var g=y.grid;if(!(!g||!g._domains)){var D=d.grid||{},C=y._subplots,L=g._hasSubplotGrid,x=g.rows,M=g.columns,v=g.pattern==="independent",m,A,V,T,Y,G,S,U=g._axisMap={};if(L){var W=D.subplots||[];G=g.subplots=new Array(x);var K=1;for(m=0;m<x;m++){var J=G[m]=new Array(M),ae=W[m]||[];for(A=0;A<M;A++)if(v?(Y=K===1?"xy":"x"+K+"y"+K,K++):Y=ae[A],J[A]="",C.cartesian.indexOf(Y)!==-1){if(S=Y.indexOf("y"),V=Y.slice(0,S),T=Y.slice(S),U[V]!==void 0&&U[V]!==A||U[T]!==void 0&&U[T]!==m)continue;J[A]=Y,U[V]=A,U[T]=m}}}else{var z=u(y,D,"x"),H=u(y,D,"y");g.xaxes=p(z,C.xaxis,M,U,"x"),g.yaxes=p(H,C.yaxis,x,U,"y")}var Z=g._anchors={},re=g.roworder==="top to bottom";for(var ie in U){var ue=ie.charAt(0),ge=g[ue+"side"],ee,q,ne;if(ge.length<8)Z[ie]="free";else if(ue==="x"){if(ge.charAt(0)==="t"===re?(ee=0,q=1,ne=x):(ee=x-1,q=-1,ne=-1),L){var oe=U[ie];for(m=ee;m!==ne;m+=q)if(Y=G[m][oe],!!Y&&(S=Y.indexOf("y"),Y.slice(0,S)===ie)){Z[ie]=Y.slice(S);break}}else for(m=ee;m!==ne;m+=q)if(T=g.yaxes[m],C.cartesian.indexOf(ie+T)!==-1){Z[ie]=T;break}}else if(ge.charAt(0)==="l"?(ee=0,q=1,ne=M):(ee=M-1,q=-1,ne=-1),L){var Q=U[ie];for(m=ee;m!==ne;m+=q)if(Y=G[Q][m],!!Y&&(S=Y.indexOf("y"),Y.slice(S)===ie)){Z[ie]=Y.slice(0,S);break}}else for(m=ee;m!==ne;m+=q)if(V=g.xaxes[m],C.cartesian.indexOf(V+ie)!==-1){Z[ie]=V;break}}}}function p(d,y,g,D,C){var L=new Array(g),x;function M(v,m){y.indexOf(m)!==-1&&D[m]===void 0?(L[v]=m,D[m]=v):L[v]=""}if(Array.isArray(d))for(x=0;x<g;x++)M(x,d[x]);else for(M(0,C),x=1;x<g;x++)M(x,C+(x+1));return L}P.exports={moduleType:"component",name:"grid",schema:{layout:{grid:f}},layoutAttributes:f,sizeDefaults:s,contentDefaults:h}},{"../../lib":232,"../../lib/regex":248,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286,"../../plots/domain":309}],147:[function(t,P,k){var e=t("../../plots/cartesian/constants"),a=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),P.exports=a("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",e.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",e.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../plot_api/plot_template":268,"../../plots/cartesian/constants":286}],148:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib/to_log_range");P.exports=function(n,r,f,u){r=r||{};var s=f==="log"&&r.type==="linear",o=f==="linear"&&r.type==="log";if(!!(s||o)){for(var h=n._fullLayout.images,p=r._id.charAt(0),d,y,g=0;g<h.length;g++)if(d=h[g],y="images["+g+"].",d[p+"ref"]===r._id){var D=d[p],C=d["size"+p],L=null,x=null;if(s){L=a(D,r.range);var M=C/Math.pow(10,L)/2;x=2*Math.log(M+Math.sqrt(1+M*M))/Math.LN10}else L=Math.pow(10,D),x=L*(Math.pow(10,C/2)-Math.pow(10,-C/2));e(L)?e(x)||(x=null):(L=null,x=null),u(y+p,L),u(y+"size"+p,x)}}}},{"../../lib/to_log_range":257,"fast-isnumeric":17}],149:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/cartesian/axes"),i=t("../../plots/array_container_defaults"),n=t("./attributes"),r="images";P.exports=function(s,o){var h={name:r,handleItemDefaults:f};i(s,o,h)};function f(u,s,o){function h(M,v){return e.coerce(u,s,n,M,v)}var p=h("source"),d=h("visible",!!p);if(!d)return s;h("layer"),h("xanchor"),h("yanchor"),h("sizex"),h("sizey"),h("sizing"),h("opacity");for(var y={_fullLayout:o},g=["x","y"],D=0;D<2;D++){var C=g[D],L=a.coerceRef(u,s,y,C,"paper",void 0);if(L!=="paper"){var x=a.getFromId(y,L);x._imgIndices.push(s._index)}a.coercePosition(s,y,h,L,C,0)}return s}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":147}],150:[function(t,P,k){var e=t("@plotly/d3"),a=t("../drawing"),i=t("../../plots/cartesian/axes"),n=t("../../plots/cartesian/axis_ids"),r=t("../../constants/xmlns_namespaces");P.exports=function(u){var s=u._fullLayout,o=[],h={},p=[],d,y;for(y=0;y<s.images.length;y++){var g=s.images[y];if(g.visible)if(g.layer==="below"&&g.xref!=="paper"&&g.yref!=="paper"){d=n.ref2id(g.xref)+n.ref2id(g.yref);var D=s._plots[d];if(!D){p.push(g);continue}D.mainplot&&(d=D.mainplot.id),h[d]||(h[d]=[]),h[d].push(g)}else g.layer==="above"?o.push(g):p.push(g)}var C={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function L(T){var Y=e.select(this);if(this._imgSrc!==T.source)if(Y.attr("xmlns",r.svg),T.source&&T.source.slice(0,5)==="data:")Y.attr("xlink:href",T.source),this._imgSrc=T.source;else{var G=new Promise(function(S){var U=new Image;this.img=U,U.setAttribute("crossOrigin","anonymous"),U.onerror=W,U.onload=function(){var K=document.createElement("canvas");K.width=this.width,K.height=this.height;var J=K.getContext("2d");J.drawImage(this,0,0);var ae=K.toDataURL("image/png");Y.attr("xlink:href",ae),S()},Y.on("error",W),U.src=T.source,this._imgSrc=T.source;function W(){Y.remove(),S()}}.bind(this));u._promises.push(G)}}function x(T){var Y=e.select(this),G=i.getFromId(u,T.xref),S=i.getFromId(u,T.yref),U=i.getRefType(T.xref)==="domain",W=i.getRefType(T.yref)==="domain",K=s._size,J,ae;G!==void 0?J=typeof T.xref=="string"&&U?G._length*T.sizex:Math.abs(G.l2p(T.sizex)-G.l2p(0)):J=T.sizex*K.w,S!==void 0?ae=typeof T.yref=="string"&&W?S._length*T.sizey:Math.abs(S.l2p(T.sizey)-S.l2p(0)):ae=T.sizey*K.h;var z=J*C.x[T.xanchor].offset,H=ae*C.y[T.yanchor].offset,Z=C.x[T.xanchor].sizing+C.y[T.yanchor].sizing,re,ie;switch(G!==void 0?re=typeof T.xref=="string"&&U?G._length*T.x+G._offset:G.r2p(T.x)+G._offset:re=T.x*K.w+K.l,re+=z,S!==void 0?ie=typeof T.yref=="string"&&W?S._length*(1-T.y)+S._offset:S.r2p(T.y)+S._offset:ie=K.h-T.y*K.h+K.t,ie+=H,T.sizing){case"fill":Z+=" slice";break;case"stretch":Z="none";break}Y.attr({x:re,y:ie,width:J,height:ae,preserveAspectRatio:Z,opacity:T.opacity});var ue=G&&i.getRefType(T.xref)!=="domain"?G._id:"",ge=S&&i.getRefType(T.yref)!=="domain"?S._id:"",ee=ue+ge;a.setClipUrl(Y,ee?"clip"+s._uid+ee:null,u)}var M=s._imageLowerLayer.selectAll("image").data(p),v=s._imageUpperLayer.selectAll("image").data(o);M.enter().append("image"),v.enter().append("image"),M.exit().remove(),v.exit().remove(),M.each(function(T){L.bind(this)(T),x.bind(this)(T)}),v.each(function(T){L.bind(this)(T),x.bind(this)(T)});var m=Object.keys(s._plots);for(y=0;y<m.length;y++){d=m[y];var A=s._plots[d];if(!!A.imagelayer){var V=A.imagelayer.selectAll("image").data(h[d]||[]);V.enter().append("image"),V.exit().remove(),V.each(function(T){L.bind(this)(T),x.bind(this)(T)})}}}},{"../../constants/xmlns_namespaces":213,"../../plots/cartesian/axes":279,"../../plots/cartesian/axis_ids":283,"../drawing":124,"@plotly/d3":11}],151:[function(t,P,k){P.exports={moduleType:"component",name:"images",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("images"),draw:t("./draw"),convertCoords:t("./convert_coords")}},{"../../plots/cartesian/include_components":292,"./attributes":147,"./convert_coords":148,"./defaults":149,"./draw":150}],152:[function(t,P,k){var e=t("../../plots/font_attributes"),a=t("../color/attributes");P.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:e({editType:"legend"}),grouptitlefont:e({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:e({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":310,"../color/attributes":101}],153:[function(t,P,k){P.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},{}],154:[function(t,P,k){var e=t("../../registry"),a=t("../../lib"),i=t("../../plot_api/plot_template"),n=t("../../plots/attributes"),r=t("./attributes"),f=t("../../plots/layout_attributes"),u=t("./helpers");P.exports=function(o,h,p){var d=o.legend||{},y=i.newContainer(h,"legend");function g(ae,z){return a.coerce(d,y,r,ae,z)}for(var D,C=function(ae,z){var H=D._input,Z=D;return a.coerce(H,Z,n,ae,z)},L=h.font||{},x=a.coerceFont(g,"grouptitlefont",a.extendFlat({},L,{size:Math.round(L.size*1.1)})),M=0,v=!1,m="normal",A=0;A<p.length;A++)D=p[A],!!D.visible&&((D.showlegend||D._dfltShowLegend&&!(D._module&&D._module.attributes&&D._module.attributes.showlegend&&D._module.attributes.showlegend.dflt===!1))&&(M++,D.showlegend&&(v=!0,(e.traceIs(D,"pie-like")||D._input.showlegend===!0)&&M++),a.coerceFont(C,"legendgrouptitle.font",x)),(e.traceIs(D,"bar")&&h.barmode==="stack"||["tonextx","tonexty"].indexOf(D.fill)!==-1)&&(m=u.isGrouped({traceorder:m})?"grouped+reversed":"reversed"),D.legendgroup!==void 0&&D.legendgroup!==""&&(m=u.isReversed({traceorder:m})?"reversed+grouped":"grouped"));var V=a.coerce(o,h,f,"showlegend",v&&M>1);if(V===!1&&(h.legend=void 0),!(V===!1&&!d.uirevision)&&(g("uirevision",h.uirevision),V!==!1)){g("bgcolor",h.paper_bgcolor),g("bordercolor"),g("borderwidth");var T=a.coerceFont(g,"font",h.font),Y=g("orientation"),G=Y==="h",S,U,W;G?(S=0,e.getComponentMethod("rangeslider","isVisible")(o.xaxis)?(U=1.1,W="bottom"):(U=-.1,W="top")):(S=1.02,U=1,W="auto"),g("traceorder",m),u.isGrouped(h.legend)&&g("tracegroupgap"),g("itemsizing"),g("itemwidth"),g("itemclick"),g("itemdoubleclick"),g("groupclick"),g("x",S),g("xanchor"),g("y",U),g("yanchor",W),g("valign"),a.noneOrAll(d,y,["x","y"]);var K=g("title.text");if(K){g("title.side",G?"left":"top");var J=a.extendFlat({},T,{size:a.bigFont(T.size)});a.coerceFont(g,"title.font",J)}}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/attributes":275,"../../plots/layout_attributes":314,"../../registry":318,"./attributes":152,"./helpers":158}],155:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../lib"),i=t("../../plots/plots"),n=t("../../registry"),r=t("../../lib/events"),f=t("../dragelement"),u=t("../drawing"),s=t("../color"),o=t("../../lib/svg_text_utils"),h=t("./handle_click"),p=t("./constants"),d=t("../../constants/alignment"),y=d.LINE_SPACING,g=d.FROM_TL,D=d.FROM_BR,C=t("./get_legend_data"),L=t("./style"),x=t("./helpers"),M=1;P.exports=function(z,H){return H||(H=z._fullLayout.legend||{}),v(z,H)};function v(ae,z){var H=ae._fullLayout,Z="legend"+H._uid,re,ie=z._inHover;if(ie?(re=z.layer,Z+="-hover"):re=H._infolayer,!!re){ae._legendMouseDownTime||(ae._legendMouseDownTime=0);var ue;if(ie){if(!z.entries)return;ue=C(z.entries,z)}else{if(!ae.calcdata)return;ue=H.showlegend&&C(ae.calcdata,z)}var ge=H.hiddenlabels||[];if(!ie&&(!H.showlegend||!ue.length))return re.selectAll(".legend").remove(),H._topdefs.select("#"+Z).remove(),i.autoMargin(ae,"legend");var ee=a.ensureSingle(re,"g","legend",function(b){ie||b.attr("pointer-events","all")}),q=a.ensureSingleById(H._topdefs,"clipPath",Z,function(b){b.append("rect")}),ne=a.ensureSingle(ee,"rect","bg",function(b){b.attr("shape-rendering","crispEdges")});ne.call(s.stroke,z.bordercolor).call(s.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px");var oe=a.ensureSingle(ee,"g","scrollbox"),Q=z.title;if(z._titleWidth=0,z._titleHeight=0,Q.text){var c=a.ensureSingle(oe,"text","legendtitletext");c.attr("text-anchor","start").call(u.font,Q.font).text(Q.text),Y(c,oe,ae,z,M)}else oe.selectAll(".legendtitletext").remove();var w=a.ensureSingle(ee,"rect","scrollbar",function(b){b.attr(p.scrollBarEnterAttrs).call(s.fill,p.scrollBarColor)}),B=oe.selectAll("g.groups").data(ue);B.enter().append("g").attr("class","groups"),B.exit().remove();var E=B.selectAll("g.traces").data(a.identity);E.enter().append("g").attr("class","traces"),E.exit().remove(),E.style("opacity",function(b){var O=b[0].trace;return n.traceIs(O,"pie-like")?ge.indexOf(b[0].label)!==-1?.5:1:O.visible==="legendonly"?.5:1}).each(function(){e.select(this).call(A,ae,z)}).call(L,ae,z).each(function(){ie||e.select(this).call(T,ae)}),a.syncOrAsync([i.previousPromises,function(){return U(ae,B,E,z)},function(){var b=H._size,O=z.borderwidth;if(!ie){var N=W(ae);if(N)return;var R=b.l+b.w*z.x-g[K(z)]*z._width,j=b.t+b.h*(1-z.y)-g[J(z)]*z._effHeight;if(H.margin.autoexpand){var se=R,fe=j;R=a.constrain(R,0,H.width-z._width),j=a.constrain(j,0,H.height-z._effHeight),R!==se&&a.log("Constrain legend.x to make legend fit inside graph"),j!==fe&&a.log("Constrain legend.y to make legend fit inside graph")}u.setTranslate(ee,R,j)}if(w.on(".drag",null),ee.on("wheel",null),ie||z._height<=z._maxHeight||ae._context.staticPlot){var ce=z._effHeight;ie&&(ce=z._height),ne.attr({width:z._width-O,height:ce-O,x:O/2,y:O/2}),u.setTranslate(oe,0,0),q.select("rect").attr({width:z._width-2*O,height:ce-2*O,x:O,y:O}),u.setClipUrl(oe,Z,ae),u.setRect(w,0,0,0,0),delete z._scrollY}else{var ye=Math.max(p.scrollBarMinHeight,z._effHeight*z._effHeight/z._height),xe=z._effHeight-ye-2*p.scrollBarMargin,De=z._height-z._effHeight,ke=xe/De,Ne=Math.min(z._scrollY||0,De);ne.attr({width:z._width-2*O+p.scrollBarWidth+p.scrollBarMargin,height:z._effHeight-O,x:O/2,y:O/2}),q.select("rect").attr({width:z._width-2*O+p.scrollBarWidth+p.scrollBarMargin,height:z._effHeight-2*O,x:O,y:O+Ne}),u.setClipUrl(oe,Z,ae),We(Ne,ye,ke),ee.on("wheel",function(){Ne=a.constrain(z._scrollY+e.event.deltaY/xe*De,0,De),We(Ne,ye,ke),Ne!==0&&Ne!==De&&e.event.preventDefault()});var Ue,Ce,_e,Ie=function(rt,dt,ot){var pt=(ot-dt)/ke+rt;return a.constrain(pt,0,De)},Ze=function(rt,dt,ot){var pt=(dt-ot)/ke+rt;return a.constrain(pt,0,De)},gt=e.behavior.drag().on("dragstart",function(){var rt=e.event.sourceEvent;rt.type==="touchstart"?Ue=rt.changedTouches[0].clientY:Ue=rt.clientY,_e=Ne}).on("drag",function(){var rt=e.event.sourceEvent;rt.buttons===2||rt.ctrlKey||(rt.type==="touchmove"?Ce=rt.changedTouches[0].clientY:Ce=rt.clientY,Ne=Ie(_e,Ue,Ce),We(Ne,ye,ke))});w.call(gt);var Ve=e.behavior.drag().on("dragstart",function(){var rt=e.event.sourceEvent;rt.type==="touchstart"&&(Ue=rt.changedTouches[0].clientY,_e=Ne)}).on("drag",function(){var rt=e.event.sourceEvent;rt.type==="touchmove"&&(Ce=rt.changedTouches[0].clientY,Ne=Ze(_e,Ue,Ce),We(Ne,ye,ke))});oe.call(Ve)}function We(rt,dt,ot){z._scrollY=ae._fullLayout.legend._scrollY=rt,u.setTranslate(oe,0,-rt),u.setRect(w,z._width,p.scrollBarMargin+rt*ot,p.scrollBarWidth,dt),q.select("rect").attr("y",O+rt)}if(ae._context.edits.legendPosition){var Ke,ut,mt,Lt;ee.classed("cursor-move",!0),f.init({element:ee.node(),gd:ae,prepFn:function(){var rt=u.getTranslate(ee);mt=rt.x,Lt=rt.y},moveFn:function(rt,dt){var ot=mt+rt,pt=Lt+dt;u.setTranslate(ee,ot,pt),Ke=f.align(ot,0,b.l,b.l+b.w,z.xanchor),ut=f.align(pt,0,b.t+b.h,b.t,z.yanchor)},doneFn:function(){Ke!==void 0&&ut!==void 0&&n.call("_guiRelayout",ae,{"legend.x":Ke,"legend.y":ut})},clickFn:function(rt,dt){var ot=re.selectAll("g.traces").filter(function(){var pt=this.getBoundingClientRect();return dt.clientX>=pt.left&&dt.clientX<=pt.right&&dt.clientY>=pt.top&&dt.clientY<=pt.bottom});ot.size()>0&&m(ae,ee,ot,rt,dt)}})}}],ae)}}function m(ae,z,H,Z,re){var ie=H.data()[0][0].trace,ue={event:re,node:H.node(),curveNumber:ie.index,expandedIndex:ie._expandedIndex,data:ae.data,layout:ae.layout,frames:ae._transitionData._frames,config:ae._context,fullData:ae._fullData,fullLayout:ae._fullLayout};ie._group&&(ue.group=ie._group),n.traceIs(ie,"pie-like")&&(ue.label=H.datum()[0].label);var ge=r.triggerHandler(ae,"plotly_legendclick",ue);if(ge!==!1){if(Z===1)z._clickTimeout=setTimeout(function(){!ae._fullLayout||h(H,ae,Z)},ae._context.doubleClickDelay);else if(Z===2){z._clickTimeout&&clearTimeout(z._clickTimeout),ae._legendMouseDownTime=0;var ee=r.triggerHandler(ae,"plotly_legenddoubleclick",ue);ee!==!1&&h(H,ae,Z)}}}function A(ae,z,H){var Z=ae.data()[0][0],re=Z.trace,ie=n.traceIs(re,"pie-like"),ue=!H._inHover&&z._context.edits.legendText&&!ie,ge=H._maxNameLength,ee,q;Z.groupTitle?(ee=Z.groupTitle.text,q=Z.groupTitle.font):(q=H.font,H.entries?ee=Z.text:(ee=ie?Z.label:re.name,re._meta&&(ee=a.templateString(ee,re._meta))));var ne=a.ensureSingle(ae,"text","legendtext");ne.attr("text-anchor","start").call(u.font,q).text(ue?V(ee,ge):ee);var oe=H.itemwidth+p.itemGap*2;o.positionText(ne,oe,0),ue?ne.call(o.makeEditable,{gd:z,text:ee}).call(Y,ae,z,H).on("edit",function(Q){this.text(V(Q,ge)).call(Y,ae,z,H);var c=Z.trace._fullInput||{},w={};if(n.hasTransform(c,"groupby")){var B=n.getTransformIndices(c,"groupby"),E=B[B.length-1],b=a.keyedContainer(c,"transforms["+E+"].styles","target","value.name");b.set(Z.trace._group,Q),w=b.constructUpdate()}else w.name=Q;return n.call("_guiRestyle",z,w,re.index)}):Y(ne,ae,z,H)}function V(ae,z){var H=Math.max(4,z);if(ae&&ae.trim().length>=H/2)return ae;ae=ae||"";for(var Z=H-ae.length;Z>0;Z--)ae+=" ";return ae}function T(ae,z){var H=z._context.doubleClickDelay,Z,re=1,ie=a.ensureSingle(ae,"rect","legendtoggle",function(ue){z._context.staticPlot||ue.style("cursor","pointer").attr("pointer-events","all"),ue.call(s.fill,"rgba(0,0,0,0)")});z._context.staticPlot||(ie.on("mousedown",function(){Z=new Date().getTime(),Z-z._legendMouseDownTime<H?re+=1:(re=1,z._legendMouseDownTime=Z)}),ie.on("mouseup",function(){if(!(z._dragged||z._editing)){var ue=z._fullLayout.legend;new Date().getTime()-z._legendMouseDownTime>H&&(re=Math.max(re-1,1)),m(z,ue,ae,re,e.event)}}))}function Y(ae,z,H,Z,re){Z._inHover&&ae.attr("data-notex",!0),o.convertToTspans(ae,H,function(){G(z,H,Z,re)})}function G(ae,z,H,Z){var re=ae.data()[0][0];if(!H._inHover&&re&&!re.trace.showlegend){ae.remove();return}var ie=ae.select("g[class*=math-group]"),ue=ie.node();H||(H=z._fullLayout.legend);var ge=H.borderwidth,ee;Z===M?ee=H.title.font:re.groupTitle?ee=re.groupTitle.font:ee=H.font;var q=ee.size*y,ne,oe;if(ue){var Q=u.bBox(ue);ne=Q.height,oe=Q.width,Z===M?u.setTranslate(ie,ge,ge+ne*.75):u.setTranslate(ie,0,ne*.25)}else{var c=ae.select(Z===M?".legendtitletext":".legendtext"),w=o.lineCount(c),B=c.node();if(ne=q*w,oe=B?u.bBox(B).width:0,Z===M)H.title.side==="left"&&(oe+=p.itemGap*2),o.positionText(c,ge+p.titlePad,ge+q);else{var E=p.itemGap*2+H.itemwidth;re.groupTitle&&(E=p.itemGap,oe-=H.itemwidth),o.positionText(c,E,-q*((w-1)/2-.3))}}Z===M?(H._titleWidth=oe,H._titleHeight=ne):(re.lineHeight=q,re.height=Math.max(ne,16)+3,re.width=oe)}function S(ae){var z=0,H=0,Z=ae.title.side;return Z&&(Z.indexOf("left")!==-1&&(z=ae._titleWidth),Z.indexOf("top")!==-1&&(H=ae._titleHeight)),[z,H]}function U(ae,z,H,Z){var re=ae._fullLayout;Z||(Z=re.legend);var ie=re._size,ue=x.isVertical(Z),ge=x.isGrouped(Z),ee=Z.borderwidth,q=2*ee,ne=p.itemGap,oe=Z.itemwidth+ne*2,Q=2*(ee+ne),c=J(Z),w=Z.y<0||Z.y===0&&c==="top",B=Z.y>1||Z.y===1&&c==="bottom",E=Z.tracegroupgap;Z._maxHeight=Math.max(w||B?re.height/2:ie.h,30);var b=0;Z._width=0,Z._height=0;var O=S(Z);if(ue)H.each(function(Ke){var ut=Ke[0].height;u.setTranslate(this,ee+O[0],ee+O[1]+Z._height+ut/2+ne),Z._height+=ut,Z._width=Math.max(Z._width,Ke[0].width)}),b=oe+Z._width,Z._width+=ne+oe+q,Z._height+=Q,ge&&(z.each(function(Ke,ut){u.setTranslate(this,0,ut*Z.tracegroupgap)}),Z._height+=(Z._lgroupsLength-1)*Z.tracegroupgap);else{var N=K(Z),R=Z.x<0||Z.x===0&&N==="right",j=Z.x>1||Z.x===1&&N==="left",se=B||w,fe=re.width/2;Z._maxWidth=Math.max(R?se&&N==="left"?ie.l+ie.w:fe:j?se&&N==="right"?ie.r+ie.w:fe:ie.w,2*oe);var ce=0,ye=0;H.each(function(Ke){var ut=Ke[0].width+oe;ce=Math.max(ce,ut),ye+=ut}),b=null;var xe=0;if(ge){var De=0,ke=0,Ne=0;z.each(function(){var Ke=0,ut=0;e.select(this).selectAll("g.traces").each(function(Lt){var rt=Lt[0].width,dt=Lt[0].height;u.setTranslate(this,O[0],O[1]+ee+ne+dt/2+ut),ut+=dt,Ke=Math.max(Ke,oe+rt)}),De=Math.max(De,ut);var mt=Ke+ne;ke>0&&mt+ee+ke>Z._maxWidth&&(xe=Math.max(xe,ke),ke=0,Ne+=De+E,De=ut),u.setTranslate(this,ke,Ne),ke+=mt}),Z._width=Math.max(xe,ke)+ee,Z._height=Ne+De+Q}else{var Ue=H.size(),Ce=ye+q+(Ue-1)*ne<Z._maxWidth,_e=0,Ie=0,Ze=0,gt=0;H.each(function(Ke){var ut=Ke[0].height,mt=oe+Ke[0].width,Lt=(Ce?mt:ce)+ne;Lt+ee+Ie-ne>=Z._maxWidth&&(xe=Math.max(xe,gt),Ie=0,Ze+=_e,Z._height+=_e,_e=0),u.setTranslate(this,O[0]+ee+Ie,O[1]+ee+Ze+ut/2+ne),gt=Ie+mt+ne,Ie+=Lt,_e=Math.max(_e,ut)}),Ce?(Z._width=Ie+q,Z._height=_e+Q):(Z._width=Math.max(xe,gt)+q,Z._height+=_e+Q)}}Z._width=Math.ceil(Math.max(Z._width+O[0],Z._titleWidth+2*(ee+p.titlePad))),Z._height=Math.ceil(Math.max(Z._height+O[1],Z._titleHeight+2*(ee+p.itemGap))),Z._effHeight=Math.min(Z._height,Z._maxHeight);var Ve=ae._context.edits,We=Ve.legendText||Ve.legendPosition;H.each(function(Ke){var ut=e.select(this).select(".legendtoggle"),mt=Ke[0].height,Lt=We?oe:b||oe+Ke[0].width;ue||(Lt+=ne/2),u.setRect(ut,0,-mt/2,Lt,mt)})}function W(ae){var z=ae._fullLayout,H=z.legend,Z=K(H),re=J(H);return i.autoMargin(ae,"legend",{x:H.x,y:H.y,l:H._width*g[Z],r:H._width*D[Z],b:H._effHeight*D[re],t:H._effHeight*g[re]})}function K(ae){return a.isRightAnchor(ae)?"right":a.isCenterAnchor(ae)?"center":"left"}function J(ae){return a.isBottomAnchor(ae)?"bottom":a.isMiddleAnchor(ae)?"middle":"top"}},{"../../constants/alignment":207,"../../lib":232,"../../lib/events":225,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":153,"./get_legend_data":156,"./handle_click":157,"./helpers":158,"./style":160,"@plotly/d3":11}],156:[function(t,P,k){var e=t("../../registry"),a=t("./helpers");P.exports=function(n,r){var f=r._inHover,u=a.isGrouped(r),s=a.isReversed(r),o={},h=[],p=!1,d={},y=0,g=0,D,C;function L(H,Z){if(H===""||!a.isGrouped(r)){var re="~~i"+y;h.push(re),o[re]=[Z],y++}else h.indexOf(H)===-1?(h.push(H),p=!0,o[H]=[Z]):o[H].push(Z)}for(D=0;D<n.length;D++){var x=n[D],M=x[0],v=M.trace,m=v.legendgroup;if(!(!f&&(!v.visible||!v.showlegend)))if(e.traceIs(v,"pie-like"))for(d[m]||(d[m]={}),C=0;C<x.length;C++){var A=x[C].label;d[m][A]||(L(m,{label:A,color:x[C].color,i:x[C].i,trace:v,pts:x[C].pts}),d[m][A]=!0,g=Math.max(g,(A||"").length))}else L(m,M),g=Math.max(g,(v.name||"").length)}if(!h.length)return[];var V=!p||!u,T=[];for(D=0;D<h.length;D++){var Y=o[h[D]];V?T.push(Y[0]):T.push(Y)}for(V&&(T=[T]),D=0;D<T.length;D++){var G=1/0;for(C=0;C<T[D].length;C++){var S=T[D][C].trace.legendrank;G>S&&(G=S)}T[D][0]._groupMinRank=G,T[D][0]._preGroupSort=D}var U=function(H,Z){return H[0]._groupMinRank-Z[0]._groupMinRank||H[0]._preGroupSort-Z[0]._preGroupSort},W=function(H,Z){return H.trace.legendrank-Z.trace.legendrank||H._preSort-Z._preSort};for(T.forEach(function(H,Z){H[0]._preGroupSort=Z}),T.sort(U),D=0;D<T.length;D++){T[D].forEach(function(H,Z){H._preSort=Z}),T[D].sort(W);var K=T[D][0].trace,J=null;for(C=0;C<T[D].length;C++){var ae=T[D][C].trace.legendgrouptitle;if(ae&&ae.text){J=ae,f&&(ae.font=r._groupTitleFont);break}}if(s&&T[D].reverse(),J){var z=!1;for(C=0;C<T[D].length;C++)if(e.traceIs(T[D][C].trace,"pie-like")){z=!0;break}T[D].unshift({i:-1,groupTitle:J,noClick:z,trace:{showlegend:K.showlegend,legendgroup:K.legendgroup,visible:r.groupclick==="toggleitem"?!0:K.visible}})}for(C=0;C<T[D].length;C++)T[D][C]=[T[D][C]]}return r._lgroupsLength=T.length,r._maxNameLength=g,T}},{"../../registry":318,"./helpers":158}],157:[function(t,P,k){var e=t("../../lib"),a=t("../../registry"),i=!0;P.exports=function(r,f,u){var s=f._fullLayout;if(f._dragged||f._editing)return;var o=s.legend.itemclick,h=s.legend.itemdoubleclick,p=s.legend.groupclick;u===1&&o==="toggle"&&h==="toggleothers"&&i&&f.data&&f._context.showTips&&e.notifier(e._(f,"Double-click on legend to isolate one trace"),"long"),i=!1;var d;if(u===1?d=o:u===2&&(d=h),!d)return;var y=p==="togglegroup",g=s.hiddenlabels?s.hiddenlabels.slice():[],D=r.data()[0][0];if(D.groupTitle&&D.noClick)return;var C=f._fullData,L=D.trace,x=L.legendgroup,M,v,m,A,V,T,Y={},G=[],S=[],U=[];function W(Q,c,w){var B=G.indexOf(Q),E=Y[c];return E||(E=Y[c]=[]),G.indexOf(Q)===-1&&(G.push(Q),B=G.length-1),E[B]=w,B}function K(Q,c){if(!(D.groupTitle&&!y)){var w=Q._fullInput;if(a.hasTransform(w,"groupby")){var B=S[w.index];if(!B){var E=a.getTransformIndices(w,"groupby"),b=E[E.length-1];B=e.keyedContainer(w,"transforms["+b+"].styles","target","value.visible"),S[w.index]=B}var O=B.get(Q._group);O===void 0&&(O=!0),O!==!1&&B.set(Q._group,c),U[w.index]=W(w.index,"visible",w.visible!==!1)}else{var N=w.visible===!1?!1:c;W(w.index,"visible",N)}}}if(a.traceIs(L,"pie-like")){var J=D.label,ae=g.indexOf(J);d==="toggle"?ae===-1?g.push(J):g.splice(ae,1):d==="toggleothers"&&(g=[],f.calcdata[0].forEach(function(Q){J!==Q.label&&g.push(Q.label)}),f._fullLayout.hiddenlabels&&f._fullLayout.hiddenlabels.length===g.length&&ae===-1&&(g=[])),a.call("_guiRelayout",f,"hiddenlabels",g)}else{var z=x&&x.length,H=[],Z;if(z)for(M=0;M<C.length;M++)Z=C[M],!!Z.visible&&Z.legendgroup===x&&H.push(M);if(d==="toggle"){var re;switch(L.visible){case!0:re="legendonly";break;case!1:re=!1;break;case"legendonly":re=!0;break}if(z)if(y)for(M=0;M<C.length;M++)C[M].visible!==!1&&C[M].legendgroup===x&&K(C[M],re);else K(L,re);else K(L,re)}else if(d==="toggleothers"){var ie,ue,ge,ee,q=!0;for(M=0;M<C.length;M++)if(ie=C[M]===L,ge=C[M].showlegend!==!0,!(ie||ge)&&(ue=z&&C[M].legendgroup===x,!ue&&C[M].visible===!0&&!a.traceIs(C[M],"notLegendIsolatable"))){q=!1;break}for(M=0;M<C.length;M++)if(C[M].visible!==!1&&!a.traceIs(C[M],"notLegendIsolatable"))switch(L.visible){case"legendonly":K(C[M],!0);break;case!0:ee=q?!0:"legendonly",ie=C[M]===L,ge=C[M].showlegend!==!0&&!C[M].legendgroup,ue=ie||z&&C[M].legendgroup===x,K(C[M],ue||ge?!0:ee);break}}for(M=0;M<S.length;M++)if(m=S[M],!!m){var ne=m.constructUpdate(),oe=Object.keys(ne);for(v=0;v<oe.length;v++)A=oe[v],T=Y[A]=Y[A]||[],T[U[M]]=ne[A]}for(V=Object.keys(Y),M=0;M<V.length;M++)for(A=V[M],v=0;v<G.length;v++)Y[A].hasOwnProperty(v)||(Y[A][v]=void 0);a.call("_guiRestyle",f,Y,G)}}},{"../../lib":232,"../../registry":318}],158:[function(t,P,k){k.isGrouped=function(a){return(a.traceorder||"").indexOf("grouped")!==-1},k.isVertical=function(a){return a.orientation!=="h"},k.isReversed=function(a){return(a.traceorder||"").indexOf("reversed")!==-1}},{}],159:[function(t,P,k){P.exports={moduleType:"component",name:"legend",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),style:t("./style")}},{"./attributes":152,"./defaults":154,"./draw":155,"./style":160}],160:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../registry"),i=t("../../lib"),n=i.strTranslate,r=t("../drawing"),f=t("../color"),u=t("../colorscale/helpers").extractOpts,s=t("../../traces/scatter/subtypes"),o=t("../../traces/pie/style_one"),h=t("../../traces/pie/helpers").castOption,p=t("./constants"),d=12,y=5,g=2,D=10,C=5;P.exports=function(m,A,V){var T=A._fullLayout;V||(V=T.legend);var Y=V.itemsizing==="constant",G=V.itemwidth,S=(G+p.itemGap*2)/2,U=n(S,0),W=function(oe,Q,c,w){var B;if(oe+1)B=oe;else if(Q&&Q.width>0)B=Q.width;else return 0;return Y?w:Math.min(B,c)};m.each(function(oe){var Q=e.select(this),c=i.ensureSingle(Q,"g","layers");c.style("opacity",oe[0].trace.opacity);var w=V.valign,B=oe[0].lineHeight,E=oe[0].height;if(w==="middle"||!B||!E)c.attr("transform",null);else{var b={top:1,bottom:-1}[w],O=b*(.5*(B-E+3));c.attr("transform",n(0,O))}var N=c.selectAll("g.legendfill").data([oe]);N.enter().append("g").classed("legendfill",!0);var R=c.selectAll("g.legendlines").data([oe]);R.enter().append("g").classed("legendlines",!0);var j=c.selectAll("g.legendsymbols").data([oe]);j.enter().append("g").classed("legendsymbols",!0),j.selectAll("g.legendpoints").data([oe]).enter().append("g").classed("legendpoints",!0)}).each(ne).each(ae).each(H).each(z).each(re).each(ee).each(ge).each(K).each(J).each(ie).each(ue);function K(oe){var Q=x(oe),c=Q.showFill,w=Q.showLine,B=Q.showGradientLine,E=Q.showGradientFill,b=Q.anyFill,O=Q.anyLine,N=oe[0],R=N.trace,j,se,fe=u(R),ce=fe.colorscale,ye=fe.reversescale,xe=function(Ie){if(Ie.size()){var Ze="legendfill-"+R.uid;r.gradient(Ie,A,Ze,L(ye),ce,"fill")}},De=function(Ie){if(Ie.size()){var Ze="legendline-"+R.uid;r.lineGroupStyle(Ie),r.gradient(Ie,A,Ze,L(ye),ce,"stroke")}},ke=s.hasMarkers(R)||!b?"M5,0":O?"M5,-2":"M5,-3",Ne=e.select(this),Ue=Ne.select(".legendfill").selectAll("path").data(c||E?[oe]:[]);if(Ue.enter().append("path").classed("js-fill",!0),Ue.exit().remove(),Ue.attr("d",ke+"h"+G+"v6h-"+G+"z").call(c?r.fillGroupStyle:xe),w||B){var Ce=W(void 0,R.line,D,y);se=i.minExtend(R,{line:{width:Ce}}),j=[i.minExtend(N,{trace:se})]}var _e=Ne.select(".legendlines").selectAll("path").data(w||B?[j]:[]);_e.enter().append("path").classed("js-line",!0),_e.exit().remove(),_e.attr("d",ke+(B?"l"+G+",0.0001":"h"+G)).call(w?r.lineGroupStyle:De)}function J(oe){var Q=x(oe),c=Q.anyFill,w=Q.anyLine,B=Q.showLine,E=Q.showMarker,b=oe[0],O=b.trace,N=!E&&!w&&!c&&s.hasText(O),R,j;function se(Ue,Ce,_e,Ie){var Ze=i.nestedProperty(O,Ue).get(),gt=i.isArrayOrTypedArray(Ze)&&Ce?Ce(Ze):Ze;if(Y&&gt&&Ie!==void 0&&(gt=Ie),_e){if(gt<_e[0])return _e[0];if(gt>_e[1])return _e[1]}return gt}function fe(Ue){return b._distinct&&b.index&&Ue[b.index]?Ue[b.index]:Ue[0]}if(E||N||B){var ce={},ye={};if(E){ce.mc=se("marker.color",fe),ce.mx=se("marker.symbol",fe),ce.mo=se("marker.opacity",i.mean,[.2,1]),ce.mlc=se("marker.line.color",fe),ce.mlw=se("marker.line.width",i.mean,[0,5],g),ye.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var xe=se("marker.size",i.mean,[2,16],d);ce.ms=xe,ye.marker.size=xe}B&&(ye.line={width:se("line.width",fe,[0,10],y)}),N&&(ce.tx="Aa",ce.tp=se("textposition",fe),ce.ts=10,ce.tc=se("textfont.color",fe),ce.tf=se("textfont.family",fe)),R=[i.minExtend(b,ce)],j=i.minExtend(O,ye),j.selectedpoints=null,j.texttemplate=null}var De=e.select(this).select("g.legendpoints"),ke=De.selectAll("path.scatterpts").data(E?R:[]);ke.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",U),ke.exit().remove(),ke.call(r.pointStyle,j,A),E&&(R[0].mrc=3);var Ne=De.selectAll("g.pointtext").data(N?R:[]);Ne.enter().append("g").classed("pointtext",!0).append("text").attr("transform",U),Ne.exit().remove(),Ne.selectAll("text").call(r.textPointStyle,j,A)}function ae(oe){var Q=oe[0].trace,c=Q.type==="waterfall";if(oe[0]._distinct&&c){var w=oe[0].trace[oe[0].dir].marker;return oe[0].mc=w.color,oe[0].mlw=w.line.width,oe[0].mlc=w.line.color,Z(oe,this,"waterfall")}var B=[];Q.visible&&c&&(B=oe[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var E=e.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(B);E.enter().append("path").classed("legendwaterfall",!0).attr("transform",U).style("stroke-miterlimit",1),E.exit().remove(),E.each(function(b){var O=e.select(this),N=Q[b[0]].marker,R=W(void 0,N.line,C,g);O.attr("d",b[1]).style("stroke-width",R+"px").call(f.fill,N.color),R&&O.call(f.stroke,N.line.color)})}function z(oe){Z(oe,this)}function H(oe){Z(oe,this,"funnel")}function Z(oe,Q,c){var w=oe[0].trace,B=w.marker||{},E=B.line||{},b=c?w.visible&&w.type===c:a.traceIs(w,"bar"),O=e.select(Q).select("g.legendpoints").selectAll("path.legend"+c).data(b?[oe]:[]);O.enter().append("path").classed("legend"+c,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",U),O.exit().remove(),O.each(function(N){var R=e.select(this),j=N[0],se=W(j.mlw,B.line,C,g);R.style("stroke-width",se+"px");var fe=j.mcc;if(!V._inHover&&"mc"in j){var ce=u(B),ye=ce.mid;ye===void 0&&(ye=(ce.max+ce.min)/2),fe=r.tryColorscale(B,"")(ye)}var xe=fe||j.mc||B.color,De=B.pattern,ke=De&&r.getPatternAttr(De.shape,0,"");if(ke){var Ne=r.getPatternAttr(De.bgcolor,0,null),Ue=r.getPatternAttr(De.fgcolor,0,null),Ce=De.fgopacity,_e=M(De.size,8,10),Ie=M(De.solidity,.5,1),Ze="legend-"+w.uid;R.call(r.pattern,"legend",A,Ze,ke,_e,Ie,fe,De.fillmode,Ne,Ue,Ce)}else R.call(f.fill,xe);se&&f.stroke(R,j.mlc||E.color)})}function re(oe){var Q=oe[0].trace,c=e.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Q.visible&&a.traceIs(Q,"box-violin")?[oe]:[]);c.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",U),c.exit().remove(),c.each(function(){var w=e.select(this);if((Q.boxpoints==="all"||Q.points==="all")&&f.opacity(Q.fillcolor)===0&&f.opacity((Q.line||{}).color)===0){var B=i.minExtend(Q,{marker:{size:Y?d:i.constrain(Q.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});c.call(r.pointStyle,B,A)}else{var E=W(void 0,Q.line,C,g);w.style("stroke-width",E+"px").call(f.fill,Q.fillcolor),E&&f.stroke(w,Q.line.color)}})}function ie(oe){var Q=oe[0].trace,c=e.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Q.visible&&Q.type==="candlestick"?[oe,oe]:[]);c.enter().append("path").classed("legendcandle",!0).attr("d",function(w,B){return B?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",U).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(w,B){var E=e.select(this),b=Q[B?"increasing":"decreasing"],O=W(void 0,b.line,C,g);E.style("stroke-width",O+"px").call(f.fill,b.fillcolor),O&&f.stroke(E,b.line.color)})}function ue(oe){var Q=oe[0].trace,c=e.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Q.visible&&Q.type==="ohlc"?[oe,oe]:[]);c.enter().append("path").classed("legendohlc",!0).attr("d",function(w,B){return B?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",U).style("stroke-miterlimit",1),c.exit().remove(),c.each(function(w,B){var E=e.select(this),b=Q[B?"increasing":"decreasing"],O=W(void 0,b.line,C,g);E.style("fill","none").call(r.dashLine,b.line.dash,O),O&&f.stroke(E,b.line.color)})}function ge(oe){q(oe,this,"pie")}function ee(oe){q(oe,this,"funnelarea")}function q(oe,Q,c){var w=oe[0],B=w.trace,E=c?B.visible&&B.type===c:a.traceIs(B,c),b=e.select(Q).select("g.legendpoints").selectAll("path.legend"+c).data(E?[oe]:[]);if(b.enter().append("path").classed("legend"+c,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",U),b.exit().remove(),b.size()){var O=(B.marker||{}).line,N=W(h(O.width,w.pts),O,C,g),R=i.minExtend(B,{marker:{line:{width:N}}});R.marker.line.color=O.color;var j=i.minExtend(w,{trace:R});o(b,j,R)}}function ne(oe){var Q=oe[0].trace,c,w=[];if(Q.visible)switch(Q.type){case"histogram2d":case"heatmap":w=[["M-15,-2V4H15V-2Z"]],c=!0;break;case"choropleth":case"choroplethmapbox":w=[["M-6,-6V6H6V-6Z"]],c=!0;break;case"densitymapbox":w=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],c="radial";break;case"cone":w=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],c=!1;break;case"streamtube":w=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],c=!1;break;case"surface":w=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],c=!0;break;case"mesh3d":w=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!1;break;case"volume":w=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],c=!0;break;case"isosurface":w=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],c=!1;break}var B=e.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(w);B.enter().append("path").classed("legend3dandfriends",!0).attr("transform",U).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(E,b){var O=e.select(this),N=u(Q),R=N.colorscale,j=N.reversescale,se=function(xe){if(xe.size()){var De="legendfill-"+Q.uid;r.gradient(xe,A,De,L(j,c==="radial"),R,"fill")}},fe;if(R){if(!c){var ye=R.length;fe=b===0?R[j?ye-1:0][1]:b===1?R[j?0:ye-1][1]:R[Math.floor((ye-1)/2)][1]}}else{var ce=Q.vertexcolor||Q.facecolor||Q.color;fe=i.isArrayOrTypedArray(ce)?ce[b]||ce[0]:ce}O.attr("d",E[0]),fe?O.call(f.fill,fe):O.call(se)})}};function L(v,m){var A=m?"radial":"horizontal";return A+(v?"":"reversed")}function x(v){var m=v[0].trace,A=m.contours,V=s.hasLines(m),T=s.hasMarkers(m),Y=m.visible&&m.fill&&m.fill!=="none",G=!1,S=!1;if(A){var U=A.coloring;U==="lines"?G=!0:V=U==="none"||U==="heatmap"||A.showlines,A.type==="constraint"?Y=A._operation!=="=":(U==="fill"||U==="heatmap")&&(S=!0)}return{showMarker:T,showLine:V,showFill:Y,showGradientLine:G,showGradientFill:S,anyLine:V||G,anyFill:Y||S}}function M(v,m,A){return v&&i.isArrayOrTypedArray(v)?m:v>A?A:v}},{"../../lib":232,"../../registry":318,"../../traces/pie/helpers":350,"../../traces/pie/style_one":356,"../../traces/scatter/subtypes":383,"../color":102,"../colorscale/helpers":113,"../drawing":124,"./constants":153,"@plotly/d3":11}],161:[function(t,P,k){t("./constants"),P.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},{"./constants":163}],162:[function(t,P,k){var e=t("../../registry"),a=t("../../plots/plots"),i=t("../../plots/cartesian/axis_ids"),n=t("../../fonts/ploticon"),r=t("../shapes/draw").eraseActiveShape,f=t("../../lib"),u=f._,s=P.exports={};s.toImage={name:"toImage",title:function(v){var m=v._context.toImageButtonOptions||{},A=m.format||"png";return A==="png"?u(v,"Download plot as a png"):u(v,"Download plot")},icon:n.camera,click:function(v){var m=v._context.toImageButtonOptions,A={format:m.format||"png"};f.notifier(u(v,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&f.isIE()&&(f.notifier(u(v,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(V){V in m&&(A[V]=m[V])}),e.call("downloadImage",v,A).then(function(V){f.notifier(u(v,"Snapshot succeeded")+" - "+V,"long")}).catch(function(){f.notifier(u(v,"Sorry, there was a problem downloading your snapshot!"),"long")})}},s.sendDataToCloud={name:"sendDataToCloud",title:function(v){return u(v,"Edit in Chart Studio")},icon:n.disk,click:function(v){a.sendDataToCloud(v)}},s.editInChartStudio={name:"editInChartStudio",title:function(v){return u(v,"Edit in Chart Studio")},icon:n.pencil,click:function(v){a.sendDataToCloud(v)}},s.zoom2d={name:"zoom2d",_cat:"zoom",title:function(v){return u(v,"Zoom")},attr:"dragmode",val:"zoom",icon:n.zoombox,click:o},s.pan2d={name:"pan2d",_cat:"pan",title:function(v){return u(v,"Pan")},attr:"dragmode",val:"pan",icon:n.pan,click:o},s.select2d={name:"select2d",_cat:"select",title:function(v){return u(v,"Box Select")},attr:"dragmode",val:"select",icon:n.selectbox,click:o},s.lasso2d={name:"lasso2d",_cat:"lasso",title:function(v){return u(v,"Lasso Select")},attr:"dragmode",val:"lasso",icon:n.lasso,click:o},s.drawclosedpath={name:"drawclosedpath",title:function(v){return u(v,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:n.drawclosedpath,click:o},s.drawopenpath={name:"drawopenpath",title:function(v){return u(v,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:n.drawopenpath,click:o},s.drawline={name:"drawline",title:function(v){return u(v,"Draw line")},attr:"dragmode",val:"drawline",icon:n.drawline,click:o},s.drawrect={name:"drawrect",title:function(v){return u(v,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:n.drawrect,click:o},s.drawcircle={name:"drawcircle",title:function(v){return u(v,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:n.drawcircle,click:o},s.eraseshape={name:"eraseshape",title:function(v){return u(v,"Erase active shape")},icon:n.eraseshape,click:r},s.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(v){return u(v,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:o},s.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(v){return u(v,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:o},s.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(v){return u(v,"Autoscale")},attr:"zoom",val:"auto",icon:n.autoscale,click:o},s.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(v){return u(v,"Reset axes")},attr:"zoom",val:"reset",icon:n.home,click:o},s.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(v){return u(v,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:n.tooltip_basic,gravity:"ne",click:o},s.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(v){return u(v,"Compare data on hover")},attr:"hovermode",val:function(v){return v._fullLayout._isHoriz?"y":"x"},icon:n.tooltip_compare,gravity:"ne",click:o};function o(v,m){var A=m.currentTarget,V=A.getAttribute("data-attr"),T=A.getAttribute("data-val")||!0,Y=v._fullLayout,G={},S=i.list(v,null,!0),U=Y._cartesianSpikesEnabled,W,K;if(V==="zoom"){var J=T==="in"?.5:2,ae=(1+J)/2,z=(1-J)/2,H;for(K=0;K<S.length;K++)if(W=S[K],!W.fixedrange)if(H=W._name,T==="auto")G[H+".autorange"]=!0;else if(T==="reset"){if(W._rangeInitial===void 0)G[H+".autorange"]=!0;else{var Z=W._rangeInitial.slice();G[H+".range[0]"]=Z[0],G[H+".range[1]"]=Z[1]}W._showSpikeInitial!==void 0&&(G[H+".showspikes"]=W._showSpikeInitial,U==="on"&&!W._showSpikeInitial&&(U="off"))}else{var re=[W.r2l(W.range[0]),W.r2l(W.range[1])],ie=[ae*re[0]+z*re[1],ae*re[1]+z*re[0]];G[H+".range[0]"]=W.l2r(ie[0]),G[H+".range[1]"]=W.l2r(ie[1])}}else V==="hovermode"&&(T==="x"||T==="y")&&(T=Y._isHoriz?"y":"x",A.setAttribute("data-val",T)),G[V]=T;Y._cartesianSpikesEnabled=U,e.call("_guiRelayout",v,G)}s.zoom3d={name:"zoom3d",_cat:"zoom",title:function(v){return u(v,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:n.zoombox,click:h},s.pan3d={name:"pan3d",_cat:"pan",title:function(v){return u(v,"Pan")},attr:"scene.dragmode",val:"pan",icon:n.pan,click:h},s.orbitRotation={name:"orbitRotation",title:function(v){return u(v,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:n["3d_rotate"],click:h},s.tableRotation={name:"tableRotation",title:function(v){return u(v,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:n["z-axis"],click:h};function h(v,m){for(var A=m.currentTarget,V=A.getAttribute("data-attr"),T=A.getAttribute("data-val")||!0,Y=v._fullLayout._subplots.gl3d||[],G={},S=V.split("."),U=0;U<Y.length;U++)G[Y[U]+"."+S[1]]=T;var W=T==="pan"?T:"zoom";G.dragmode=W,e.call("_guiRelayout",v,G)}s.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(v){return u(v,"Reset camera to default")},attr:"resetDefault",icon:n.home,click:p},s.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(v){return u(v,"Reset camera to last save")},attr:"resetLastSave",icon:n.movie,click:p};function p(v,m){for(var A=m.currentTarget,V=A.getAttribute("data-attr"),T=V==="resetLastSave",Y=V==="resetDefault",G=v._fullLayout,S=G._subplots.gl3d||[],U={},W=0;W<S.length;W++){var K=S[W],J=K+".camera",ae=K+".aspectratio",z=K+".aspectmode",H=G[K]._scene,Z;T?(U[J+".up"]=H.viewInitial.up,U[J+".eye"]=H.viewInitial.eye,U[J+".center"]=H.viewInitial.center,Z=!0):Y&&(U[J+".up"]=null,U[J+".eye"]=null,U[J+".center"]=null,Z=!0),Z&&(U[ae+".x"]=H.viewInitial.aspectratio.x,U[ae+".y"]=H.viewInitial.aspectratio.y,U[ae+".z"]=H.viewInitial.aspectratio.z,U[z]=H.viewInitial.aspectmode)}e.call("_guiRelayout",v,U)}s.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(v){return u(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:y};function d(v,m){var A=m.currentTarget,V=A._previousVal,T=v._fullLayout,Y=T._subplots.gl3d||[],G=["xaxis","yaxis","zaxis"],S={},U={};if(V)U=V,A._previousVal=null;else{for(var W=0;W<Y.length;W++){var K=Y[W],J=T[K],ae=K+".hovermode";S[ae]=J.hovermode,U[ae]=!1;for(var z=0;z<3;z++){var H=G[z],Z=K+"."+H+".showspikes";U[Z]=!1,S[Z]=J[H].showspikes}}A._previousVal=S}return U}function y(v,m){var A=d(v,m);e.call("_guiRelayout",v,A)}s.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(v){return u(v,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:g},s.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(v){return u(v,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:g},s.resetGeo={name:"resetGeo",_cat:"reset",title:function(v){return u(v,"Reset")},attr:"reset",val:null,icon:n.autoscale,click:g},s.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(v){return u(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:C};function g(v,m){for(var A=m.currentTarget,V=A.getAttribute("data-attr"),T=A.getAttribute("data-val")||!0,Y=v._fullLayout,G=Y._subplots.geo||[],S=0;S<G.length;S++){var U=G[S],W=Y[U];if(V==="zoom"){var K=W.projection.scale,J=T==="in"?2*K:.5*K;e.call("_guiRelayout",v,U+".projection.scale",J)}}V==="reset"&&M(v,"geo")}s.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(v){return u(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:C},s.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(v){return u(v,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:n.tooltip_basic,gravity:"ne",click:C};function D(v){var m=v._fullLayout;return m.hovermode?!1:m._has("cartesian")?m._isHoriz?"y":"x":"closest"}function C(v){var m=D(v);e.call("_guiRelayout",v,"hovermode",m)}s.resetViewSankey={name:"resetSankeyGroup",title:function(v){return u(v,"Reset view")},icon:n.home,click:function(v){for(var m={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<v._fullData.length;A++){var V=v._fullData[A]._viewInitial;m["node.groups"].push(V.node.groups.slice()),m["node.x"].push(V.node.x.slice()),m["node.y"].push(V.node.y.slice())}e.call("restyle",v,m)}},s.toggleHover={name:"toggleHover",title:function(v){return u(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:n.tooltip_basic,gravity:"ne",click:function(v,m){var A=d(v,m);A.hovermode=D(v),e.call("_guiRelayout",v,A)}},s.resetViews={name:"resetViews",title:function(v){return u(v,"Reset views")},icon:n.home,click:function(v,m){var A=m.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),o(v,m),A.setAttribute("data-attr","resetLastSave"),p(v,m),M(v,"geo"),M(v,"mapbox")}},s.toggleSpikelines={name:"toggleSpikelines",title:function(v){return u(v,"Toggle Spike Lines")},icon:n.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(v){var m=v._fullLayout,A=m._cartesianSpikesEnabled;m._cartesianSpikesEnabled=A==="on"?"off":"on",e.call("_guiRelayout",v,L(v))}};function L(v){for(var m=v._fullLayout,A=m._cartesianSpikesEnabled==="on",V=i.list(v,null,!0),T={},Y=0;Y<V.length;Y++){var G=V[Y];T[G._name+".showspikes"]=A?!0:G._showSpikeInitial}return T}s.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(v){return u(v,"Reset view")},attr:"reset",icon:n.home,click:function(v){M(v,"mapbox")}},s.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(v){return u(v,"Zoom in")},attr:"zoom",val:"in",icon:n.zoom_plus,click:x},s.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(v){return u(v,"Zoom out")},attr:"zoom",val:"out",icon:n.zoom_minus,click:x};function x(v,m){for(var A=m.currentTarget,V=A.getAttribute("data-val"),T=v._fullLayout,Y=T._subplots.mapbox||[],G=1.05,S={},U=0;U<Y.length;U++){var W=Y[U],K=T[W].zoom,J=V==="in"?G*K:K/G;S[W+".zoom"]=J}e.call("_guiRelayout",v,S)}function M(v,m){for(var A=v._fullLayout,V=A._subplots[m]||[],T={},Y=0;Y<V.length;Y++)for(var G=V[Y],S=A[G]._subplot,U=S.viewInitial,W=Object.keys(U),K=0;K<W.length;K++){var J=W[K];T[G+"."+J]=U[J]}e.call("_guiRelayout",v,T)}},{"../../fonts/ploticon":215,"../../lib":232,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../shapes/draw":186}],163:[function(t,P,k){var e=t("./buttons"),a=Object.keys(e),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],n=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),r=[],f=function(u){if(n.indexOf(u._cat||u.name)===-1){var s=u.name,o=(u._cat||u.name).toLowerCase();r.indexOf(s)===-1&&r.push(s),r.indexOf(o)===-1&&r.push(o)}};a.forEach(function(u){f(e[u])}),r.sort(),P.exports={DRAW_MODES:i,backButtons:n,foreButtons:r}},{"./buttons":162}],164:[function(t,P,k){var e=t("../../lib"),a=t("../color"),i=t("../../plot_api/plot_template"),n=t("./attributes");P.exports=function(f,u){var s=f.modebar||{},o=i.newContainer(u,"modebar");function h(d,y){return e.coerce(s,o,n,d,y)}h("orientation"),h("bgcolor",a.addOpacity(u.paper_bgcolor,.5));var p=a.contrast(a.rgb(u.modebar.bgcolor));h("color",a.addOpacity(p,.3)),h("activecolor",a.addOpacity(p,.7)),h("uirevision",u.uirevision),h("add"),h("remove")}},{"../../lib":232,"../../plot_api/plot_template":268,"../color":102,"./attributes":161}],165:[function(t,P,k){P.exports={moduleType:"component",name:"modebar",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),manage:t("./manage")}},{"./attributes":161,"./defaults":164,"./manage":166}],166:[function(t,P,k){var e=t("../../plots/cartesian/axis_ids"),a=t("../../traces/scatter/subtypes"),i=t("../../registry"),n=t("../fx/helpers").isUnifiedHover,r=t("./modebar"),f=t("./buttons"),u=t("./constants").DRAW_MODES;P.exports=function(D){var C=D._fullLayout,L=D._context,x=C._modeBar;if(!L.displayModeBar&&!L.watermark){x&&(x.destroy(),delete C._modeBar);return}if(!Array.isArray(L.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(L.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var M=L.modeBarButtons,v;Array.isArray(M)&&M.length?v=y(M):!L.displayModeBar&&L.watermark?v=[]:v=s(D),x?x.update(D,v):C._modeBar=r(D,v)};function s(g){var D=g._fullLayout,C=g._fullData,L=g._context;function x(E,b){if(typeof b=="string"){if(b.toLowerCase()===E.toLowerCase())return!0}else{var O=b.name,N=b._cat||b.name;if(O===E||N===E.toLowerCase())return!0}return!1}var M=D.modebar.add;typeof M=="string"&&(M=[M]);var v=D.modebar.remove;typeof v=="string"&&(v=[v]);var m=L.modeBarButtonsToAdd.concat(M.filter(function(E){for(var b=0;b<L.modeBarButtonsToRemove.length;b++)if(x(E,L.modeBarButtonsToRemove[b]))return!1;return!0})),A=L.modeBarButtonsToRemove.concat(v.filter(function(E){for(var b=0;b<L.modeBarButtonsToAdd.length;b++)if(x(E,L.modeBarButtonsToAdd[b]))return!1;return!0})),V=D._has("cartesian"),T=D._has("gl3d"),Y=D._has("geo"),G=D._has("pie"),S=D._has("funnelarea"),U=D._has("gl2d"),W=D._has("ternary"),K=D._has("mapbox"),J=D._has("polar"),ae=D._has("smith"),z=D._has("sankey"),H=o(D),Z=n(D.hovermode),re=[];function ie(E){if(!!E.length){for(var b=[],O=0;O<E.length;O++){for(var N=E[O],R=f[N],j=R.name.toLowerCase(),se=(R._cat||R.name).toLowerCase(),fe=!1,ce=0;ce<A.length;ce++){var ye=A[ce].toLowerCase();if(ye===j||ye===se){fe=!0;break}}fe||b.push(f[N])}re.push(b)}}var ue=["toImage"];L.showEditInChartStudio?ue.push("editInChartStudio"):L.showSendToCloud&&ue.push("sendDataToCloud"),ie(ue);var ge=[],ee=[],q=[],ne=[];(V||U||G||S||W)+Y+T+K+J+ae>1?(ee=["toggleHover"],q=["resetViews"]):Y?(ge=["zoomInGeo","zoomOutGeo"],ee=["hoverClosestGeo"],q=["resetGeo"]):T?(ee=["hoverClosest3d"],q=["resetCameraDefault3d","resetCameraLastSave3d"]):K?(ge=["zoomInMapbox","zoomOutMapbox"],ee=["toggleHover"],q=["resetViewMapbox"]):U?ee=["hoverClosestGl2d"]:G?ee=["hoverClosestPie"]:z?(ee=["hoverClosestCartesian","hoverCompareCartesian"],q=["resetViewSankey"]):ee=["toggleHover"],V&&(ee=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(p(C)||Z)&&(ee=[]),(V||U)&&!H&&(ge=["zoomIn2d","zoomOut2d","autoScale2d"],q[0]!=="resetViews"&&(q=["resetScale2d"])),T?ne=["zoom3d","pan3d","orbitRotation","tableRotation"]:(V||U)&&!H||W?ne=["zoom2d","pan2d"]:K||Y?ne=["pan2d"]:J&&(ne=["zoom2d"]),h(C)&&ne.push("select2d","lasso2d");var oe=[],Q=function(E){oe.indexOf(E)===-1&&ee.indexOf(E)!==-1&&oe.push(E)};if(Array.isArray(m)){for(var c=[],w=0;w<m.length;w++){var B=m[w];typeof B=="string"?(B=B.toLowerCase(),u.indexOf(B)!==-1?(D._has("mapbox")||D._has("cartesian"))&&ne.push(B):B==="togglespikelines"?Q("toggleSpikelines"):B==="togglehover"?Q("toggleHover"):B==="hovercompare"?Q("hoverCompareCartesian"):B==="hoverclosest"?(Q("hoverClosestCartesian"),Q("hoverClosestGeo"),Q("hoverClosest3d"),Q("hoverClosestGl2d"),Q("hoverClosestPie")):B==="v1hovermode"&&(Q("toggleHover"),Q("hoverClosestCartesian"),Q("hoverCompareCartesian"),Q("hoverClosestGeo"),Q("hoverClosest3d"),Q("hoverClosestGl2d"),Q("hoverClosestPie"))):c.push(B)}m=c}return ie(ne),ie(ge.concat(q)),ie(oe),d(re,m)}function o(g){for(var D=e.list({_fullLayout:g},null,!0),C=0;C<D.length;C++)if(!D[C].fixedrange)return!1;return!0}function h(g){for(var D=!1,C=0;C<g.length&&!D;C++){var L=g[C];!L._module||!L._module.selectPoints||(i.traceIs(L,"scatter-like")?(a.hasMarkers(L)||a.hasText(L))&&(D=!0):i.traceIs(L,"box-violin")?(L.boxpoints==="all"||L.points==="all")&&(D=!0):D=!0)}return D}function p(g){for(var D=0;D<g.length;D++)if(!i.traceIs(g[D],"noHover"))return!1;return!0}function d(g,D){if(D.length)if(Array.isArray(D[0]))for(var C=0;C<D.length;C++)g.push(D[C]);else g.push(D);return g}function y(g){for(var D=0;D<g.length;D++)for(var C=g[D],L=0;L<C.length;L++){var x=C[L];if(typeof x=="string")if(f[x]!==void 0)g[D][L]=f[x];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return g}},{"../../plots/cartesian/axis_ids":283,"../../registry":318,"../../traces/scatter/subtypes":383,"../fx/helpers":138,"./buttons":162,"./constants":163,"./modebar":167}],167:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=t("../../lib"),n=t("../../fonts/ploticon"),r=new DOMParser;function f(o){this.container=o.container,this.element=document.createElement("div"),this.update(o.graphInfo,o.buttons),this.container.appendChild(this.element)}var u=f.prototype;u.update=function(o,h){this.graphInfo=o;var p=this.graphInfo._context,d=this.graphInfo._fullLayout,y="modebar-"+d._uid;this.element.setAttribute("id",y),this._uid=y,this.element.className="modebar",p.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),d.modebar.orientation==="v"&&(this.element.className+=" vertical",h=h.reverse());var g=d.modebar,D=p.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(y),i.addRelatedStyleRule(y,D+"#"+y+" .modebar-group","background-color: "+g.bgcolor),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn .icon path","fill: "+g.color),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn:hover .icon path","fill: "+g.activecolor),i.addRelatedStyleRule(y,"#"+y+" .modebar-btn.active .icon path","fill: "+g.activecolor);var C=!this.hasButtons(h),L=this.hasLogo!==p.displaylogo,x=this.locale!==p.locale;if(this.locale=p.locale,(C||L||x)&&(this.removeAllButtons(),this.updateButtons(h),p.watermark||p.displaylogo)){var M=this.getLogo();p.watermark&&(M.className=M.className+" watermark"),d.modebar.orientation==="v"?this.element.insertBefore(M,this.element.childNodes[0]):this.element.appendChild(M),this.hasLogo=!0}this.updateActiveButton()},u.updateButtons=function(o){var h=this;this.buttons=o,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(p){var d=h.createGroup();p.forEach(function(y){var g=y.name;if(!g)throw new Error("must provide button 'name' in button config");if(h.buttonsNames.indexOf(g)!==-1)throw new Error("button name '"+g+"' is taken");h.buttonsNames.push(g);var D=h.createButton(y);h.buttonElements.push(D),d.appendChild(D)}),h.element.appendChild(d)})},u.createGroup=function(){var o=document.createElement("div");return o.className="modebar-group",o},u.createButton=function(o){var h=this,p=document.createElement("a");p.setAttribute("rel","tooltip"),p.className="modebar-btn";var d=o.title;d===void 0?d=o.name:typeof d=="function"&&(d=d(this.graphInfo)),(d||d===0)&&p.setAttribute("data-title",d),o.attr!==void 0&&p.setAttribute("data-attr",o.attr);var y=o.val;y!==void 0&&(typeof y=="function"&&(y=y(this.graphInfo)),p.setAttribute("data-val",y));var g=o.click;if(typeof g!="function")throw new Error("must provide button 'click' function in button config");p.addEventListener("click",function(C){o.click(h.graphInfo,C),h.updateActiveButton(C.currentTarget)}),p.setAttribute("data-toggle",o.toggle||!1),o.toggle&&e.select(p).classed("active",!0);var D=o.icon;return typeof D=="function"?p.appendChild(D()):p.appendChild(this.createIcon(D||n.question)),p.setAttribute("data-gravity",o.gravity||"n"),p},u.createIcon=function(o){var h=a(o.height)?Number(o.height):o.ascent-o.descent,p="http://www.w3.org/2000/svg",d;if(o.path){d=document.createElementNS(p,"svg"),d.setAttribute("viewBox",[0,0,o.width,h].join(" ")),d.setAttribute("class","icon");var y=document.createElementNS(p,"path");y.setAttribute("d",o.path),o.transform?y.setAttribute("transform",o.transform):o.ascent!==void 0&&y.setAttribute("transform","matrix(1 0 0 -1 0 "+o.ascent+")"),d.appendChild(y)}if(o.svg){var g=r.parseFromString(o.svg,"application/xml");d=g.childNodes[0]}return d.setAttribute("height","1em"),d.setAttribute("width","1em"),d},u.updateActiveButton=function(o){var h=this.graphInfo._fullLayout,p=o!==void 0?o.getAttribute("data-attr"):null;this.buttonElements.forEach(function(d){var y=d.getAttribute("data-val")||!0,g=d.getAttribute("data-attr"),D=d.getAttribute("data-toggle")==="true",C=e.select(d);if(D)g===p&&C.classed("active",!C.classed("active"));else{var L=g===null?g:i.nestedProperty(h,g).get();C.classed("active",L===y)}})},u.hasButtons=function(o){var h=this.buttons;if(!h||o.length!==h.length)return!1;for(var p=0;p<o.length;++p){if(o[p].length!==h[p].length)return!1;for(var d=0;d<o[p].length;d++)if(o[p][d].name!==h[p][d].name)return!1}return!0},u.getLogo=function(){var o=this.createGroup(),h=document.createElement("a");return h.href="https://plotly.com/",h.target="_blank",h.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),h.className="modebar-btn plotlyjsicon modebar-btn--logo",h.appendChild(this.createIcon(n.newplotlylogo)),o.appendChild(h),o},u.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},u.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)};function s(o,h){var p=o._fullLayout,d=new f({graphInfo:o,container:p._modebardiv.node(),buttons:h});return p._privateplot&&e.select(d.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),d}P.exports=s},{"../../fonts/ploticon":215,"../../lib":232,"@plotly/d3":11,"fast-isnumeric":17}],168:[function(t,P,k){var e=t("../../plots/font_attributes"),a=t("../color/attributes"),i=t("../../plot_api/plot_template").templatedArray,n=i("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});P.exports={visible:{valType:"boolean",editType:"plot"},buttons:n,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:e({editType:"plot"}),bgcolor:{valType:"color",dflt:a.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../color/attributes":101}],169:[function(t,P,k){P.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],170:[function(t,P,k){var e=t("../../lib"),a=t("../color"),i=t("../../plot_api/plot_template"),n=t("../../plots/array_container_defaults"),r=t("./attributes"),f=t("./constants");P.exports=function(h,p,d,y,g){var D=h.rangeselector||{},C=i.newContainer(p,"rangeselector");function L(A,V){return e.coerce(D,C,r,A,V)}var x=n(D,C,{name:"buttons",handleItemDefaults:u,calendar:g}),M=L("visible",x.length>0);if(M){var v=s(p,d,y);L("x",v[0]),L("y",v[1]),e.noneOrAll(h,p,["x","y"]),L("xanchor"),L("yanchor"),e.coerceFont(L,"font",d.font);var m=L("bgcolor");L("activecolor",a.contrast(m,f.lightAmount,f.darkAmount)),L("bordercolor"),L("borderwidth")}};function u(o,h,p,d){var y=d.calendar;function g(L,x){return e.coerce(o,h,r.buttons,L,x)}var D=g("visible");if(D){var C=g("step");C!=="all"&&(y&&y!=="gregorian"&&(C==="month"||C==="year")?h.stepmode="backward":g("stepmode"),g("count")),g("label")}}function s(o,h,p){for(var d=p.filter(function(C){return h[C].anchor===o._id}),y=0,g=0;g<d.length;g++){var D=h[d[g]].domain;D&&(y=Math.max(D[1],y))}return[o.domain[0],y+f.yPad]}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/array_container_defaults":274,"../color":102,"./attributes":168,"./constants":169}],171:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../registry"),i=t("../../plots/plots"),n=t("../color"),r=t("../drawing"),f=t("../../lib"),u=f.strTranslate,s=t("../../lib/svg_text_utils"),o=t("../../plots/cartesian/axis_ids"),h=t("../../constants/alignment"),p=h.LINE_SPACING,d=h.FROM_TL,y=h.FROM_BR,g=t("./constants"),D=t("./get_update_object");P.exports=function(Y){var G=Y._fullLayout,S=G._infolayer.selectAll(".rangeselector").data(C(Y),L);S.enter().append("g").classed("rangeselector",!0),S.exit().remove(),S.style({cursor:"pointer","pointer-events":"all"}),S.each(function(U){var W=e.select(this),K=U,J=K.rangeselector,ae=W.selectAll("g.button").data(f.filterVisible(J.buttons));ae.enter().append("g").classed("button",!0),ae.exit().remove(),ae.each(function(z){var H=e.select(this),Z=D(K,z);z._isActive=x(K,z,Z),H.call(M,J,z),H.call(m,J,z,Y),H.on("click",function(){Y._dragged||a.call("_guiRelayout",Y,Z)}),H.on("mouseover",function(){z._isHovered=!0,H.call(M,J,z)}),H.on("mouseout",function(){z._isHovered=!1,H.call(M,J,z)})}),V(Y,ae,J,K._name,W)})};function C(T){for(var Y=o.list(T,"x",!0),G=[],S=0;S<Y.length;S++){var U=Y[S];U.rangeselector&&U.rangeselector.visible&&G.push(U)}return G}function L(T){return T._id}function x(T,Y,G){if(Y.step==="all")return T.autorange===!0;var S=Object.keys(G);return T.range[0]===G[S[0]]&&T.range[1]===G[S[1]]}function M(T,Y,G){var S=f.ensureSingle(T,"rect","selector-rect",function(U){U.attr("shape-rendering","crispEdges")});S.attr({rx:g.rx,ry:g.ry}),S.call(n.stroke,Y.bordercolor).call(n.fill,v(Y,G)).style("stroke-width",Y.borderwidth+"px")}function v(T,Y){return Y._isActive||Y._isHovered?T.activecolor:T.bgcolor}function m(T,Y,G,S){function U(K){s.convertToTspans(K,S)}var W=f.ensureSingle(T,"text","selector-text",function(K){K.attr("text-anchor","middle")});W.call(r.font,Y.font).text(A(G,S._fullLayout._meta)).call(U)}function A(T,Y){return T.label?Y?f.templateString(T.label,Y):T.label:T.step==="all"?"all":T.count+T.step.charAt(0)}function V(T,Y,G,S,U){var W=0,K=0,J=G.borderwidth;Y.each(function(){var ie=e.select(this),ue=ie.select(".selector-text"),ge=G.font.size*p,ee=Math.max(ge*s.lineCount(ue),16)+3;K=Math.max(K,ee)}),Y.each(function(){var ie=e.select(this),ue=ie.select(".selector-rect"),ge=ie.select(".selector-text"),ee=ge.node()&&r.bBox(ge.node()).width,q=G.font.size*p,ne=s.lineCount(ge),oe=Math.max(ee+10,g.minButtonWidth);ie.attr("transform",u(J+W,J)),ue.attr({x:0,y:0,width:oe,height:K}),s.positionText(ge,oe/2,K/2-(ne-1)*q/2+3),W+=oe+5});var ae=T._fullLayout._size,z=ae.l+ae.w*G.x,H=ae.t+ae.h*(1-G.y),Z="left";f.isRightAnchor(G)&&(z-=W,Z="right"),f.isCenterAnchor(G)&&(z-=W/2,Z="center");var re="top";f.isBottomAnchor(G)&&(H-=K,re="bottom"),f.isMiddleAnchor(G)&&(H-=K/2,re="middle"),W=Math.ceil(W),K=Math.ceil(K),z=Math.round(z),H=Math.round(H),i.autoMargin(T,S+"-range-selector",{x:G.x,y:G.y,l:W*d[Z],r:W*y[Z],b:K*y[re],t:K*d[re]}),U.attr("transform",u(z,H))}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"./constants":169,"./get_update_object":172,"@plotly/d3":11}],172:[function(t,P,k){var e=t("d3-time"),a=t("../../lib").titleCase;P.exports=function(r,f){var u=r._name,s={};if(f.step==="all")s[u+".autorange"]=!0;else{var o=i(r,f);s[u+".range[0]"]=o[0],s[u+".range[1]"]=o[1]}return s};function i(n,r){var f=n.range,u=new Date(n.r2l(f[1])),s=r.step,o=e["utc"+a(s)],h=r.count,p;switch(r.stepmode){case"backward":p=n.l2r(+o.offset(u,-h));break;case"todate":var d=o.offset(u,-h);p=n.l2r(+o.ceil(d));break}var y=f[1];return[p,y]}},{"../../lib":232,"d3-time":16}],173:[function(t,P,k){P.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":168,"./defaults":170,"./draw":171}],174:[function(t,P,k){var e=t("../color/attributes");P.exports={bgcolor:{valType:"color",dflt:e.background,editType:"plot"},bordercolor:{valType:"color",dflt:e.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":101}],175:[function(t,P,k){var e=t("../../plots/cartesian/axis_ids").list,a=t("../../plots/cartesian/autorange").getAutoRange,i=t("./constants");P.exports=function(r){for(var f=e(r,"x",!0),u=0;u<f.length;u++){var s=f[u],o=s[i.name];o&&o.visible&&o.autorange&&(o._input.autorange=!0,o._input.range=o.range=a(r,s))}}},{"../../plots/cartesian/autorange":278,"../../plots/cartesian/axis_ids":283,"./constants":176}],176:[function(t,P,k){P.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],177:[function(t,P,k){var e=t("../../lib"),a=t("../../plot_api/plot_template"),i=t("../../plots/cartesian/axis_ids"),n=t("./attributes"),r=t("./oppaxis_attributes");P.exports=function(u,s,o){var h=u[o],p=s[o];if(!(h.rangeslider||s._requestRangeslider[p._id]))return;e.isPlainObject(h.rangeslider)||(h.rangeslider={});var d=h.rangeslider,y=a.newContainer(p,"rangeslider");function g(S,U){return e.coerce(d,y,n,S,U)}var D,C;function L(S,U){return e.coerce(D,C,r,S,U)}var x=g("visible");if(!!x){g("bgcolor",s.plot_bgcolor),g("bordercolor"),g("borderwidth"),g("thickness"),g("autorange",!p.isValidRange(d.range)),g("range");var M=s._subplots;if(M)for(var v=M.cartesian.filter(function(S){return S.substr(0,S.indexOf("y"))===i.name2id(o)}).map(function(S){return S.substr(S.indexOf("y"),S.length)}),m=e.simpleMap(v,i.id2name),A=0;A<m.length;A++){var V=m[A];D=d[V]||{},C=a.newContainer(y,V,"yaxis");var T=s[V],Y;D.range&&T.isValidRange(D.range)&&(Y="fixed");var G=L("rangemode",Y);G!=="match"&&L("range",T.range.slice())}y._input=d}}},{"../../lib":232,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_ids":283,"./attributes":174,"./oppaxis_attributes":181}],178:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../registry"),i=t("../../plots/plots"),n=t("../../lib"),r=n.strTranslate,f=t("../drawing"),u=t("../color"),s=t("../titles"),o=t("../../plots/cartesian"),h=t("../../plots/cartesian/axis_ids"),p=t("../dragelement"),d=t("../../lib/setcursor"),y=t("./constants");P.exports=function(T){for(var Y=T._fullLayout,G=Y._rangeSliderData,S=0;S<G.length;S++){var U=G[S][y.name];U._clipId=U._id+"-"+Y._uid}function W(J){return J._name}var K=Y._infolayer.selectAll("g."+y.containerClassName).data(G,W);K.exit().each(function(J){var ae=J[y.name];Y._topdefs.select("#"+ae._clipId).remove()}).remove(),G.length!==0&&(K.enter().append("g").classed(y.containerClassName,!0).attr("pointer-events","all"),K.each(function(J){var ae=e.select(this),z=J[y.name],H=Y[h.id2name(J.anchor)],Z=z[h.id2name(J.anchor)];if(z.range){var re=n.simpleMap(z.range,J.r2l),ie=n.simpleMap(J.range,J.r2l),ue;ie[0]<ie[1]?ue=[Math.min(re[0],ie[0]),Math.max(re[1],ie[1])]:ue=[Math.max(re[0],ie[0]),Math.min(re[1],ie[1])],z.range=z._input.range=n.simpleMap(ue,J.l2r)}J.cleanRange("rangeslider.range");var ge=Y._size,ee=J.domain;z._width=ge.w*(ee[1]-ee[0]);var q=Math.round(ge.l+ge.w*ee[0]),ne=Math.round(ge.t+ge.h*(1-J._counterDomainMin)+(J.side==="bottom"?J._depth:0)+z._offsetShift+y.extraPad);ae.attr("transform",r(q,ne)),z._rl=n.simpleMap(z.range,J.r2l);var oe=z._rl[0],Q=z._rl[1],c=Q-oe;if(z.p2d=function(fe){return fe/z._width*c+oe},z.d2p=function(fe){return(fe-oe)/c*z._width},J.rangebreaks){var w=J.locateBreaks(oe,Q);if(w.length){var B,E,b=0;for(B=0;B<w.length;B++)E=w[B],b+=E.max-E.min;var O=z._width/(Q-oe-b),N=[-O*oe];for(B=0;B<w.length;B++)E=w[B],N.push(N[N.length-1]-O*(E.max-E.min));for(z.d2p=function(fe){for(var ce=N[0],ye=0;ye<w.length;ye++){var xe=w[ye];if(fe>=xe.max)ce=N[ye+1];else if(fe<xe.min)break}return ce+O*fe},B=0;B<w.length;B++)E=w[B],E.pmin=z.d2p(E.min),E.pmax=z.d2p(E.max);z.p2d=function(fe){for(var ce=N[0],ye=0;ye<w.length;ye++){var xe=w[ye];if(fe>=xe.pmax)ce=N[ye+1];else if(fe<xe.pmin)break}return(fe-ce)/O}}}if(Z.rangemode!=="match"){var R=H.r2l(Z.range[0]),j=H.r2l(Z.range[1]),se=j-R;z.d2pOppAxis=function(fe){return(fe-R)/se*z._height}}ae.call(L,T,J,z).call(x,T,J,z).call(M,T,J,z).call(m,T,J,z,Z).call(A,T,J,z).call(V,T,J,z),g(ae,T,J,z),C(ae,T,J,z,H,Z),J.side==="bottom"&&s.draw(T,J._id+"title",{propContainer:J,propName:J._name+".title",placeholder:Y._dfltTitle.x,attributes:{x:J._offset+J._length/2,y:ne+z._height+z._offsetShift+10+1.5*J.title.font.size,"text-anchor":"middle"}})}))};function g(T,Y,G,S){if(Y._context.staticPlot)return;var U=T.select("rect."+y.slideBoxClassName).node(),W=T.select("rect."+y.grabAreaMinClassName).node(),K=T.select("rect."+y.grabAreaMaxClassName).node();function J(){var ae=e.event,z=ae.target,H=ae.clientX||ae.touches[0].clientX,Z=H-T.node().getBoundingClientRect().left,re=S.d2p(G._rl[0]),ie=S.d2p(G._rl[1]),ue=p.coverSlip();this.addEventListener("touchmove",ge),this.addEventListener("touchend",ee),ue.addEventListener("mousemove",ge),ue.addEventListener("mouseup",ee);function ge(q){var ne=q.clientX||q.touches[0].clientX,oe=+ne-H,Q,c,w;switch(z){case U:w="ew-resize",Q=re+oe,c=ie+oe;break;case W:w="col-resize",Q=re+oe,c=ie;break;case K:w="col-resize",Q=re,c=ie+oe;break;default:w="ew-resize",Q=Z,c=Z+oe;break}if(c<Q){var B=c;c=Q,Q=B}S._pixelMin=Q,S._pixelMax=c,d(e.select(ue),w),D(T,Y,G,S)}function ee(){ue.removeEventListener("mousemove",ge),ue.removeEventListener("mouseup",ee),this.removeEventListener("touchmove",ge),this.removeEventListener("touchend",ee),n.removeElement(ue)}}T.on("mousedown",J),T.on("touchstart",J)}function D(T,Y,G,S){function U(J){return G.l2r(n.constrain(J,S._rl[0],S._rl[1]))}var W=U(S.p2d(S._pixelMin)),K=U(S.p2d(S._pixelMax));window.requestAnimationFrame(function(){a.call("_guiRelayout",Y,G._name+".range",[W,K])})}function C(T,Y,G,S,U,W){var K=y.handleWidth/2;function J(q){return n.constrain(q,0,S._width)}function ae(q){return n.constrain(q,0,S._height)}function z(q){return n.constrain(q,-K,S._width+K)}var H=J(S.d2p(G._rl[0])),Z=J(S.d2p(G._rl[1]));if(T.select("rect."+y.slideBoxClassName).attr("x",H).attr("width",Z-H),T.select("rect."+y.maskMinClassName).attr("width",H),T.select("rect."+y.maskMaxClassName).attr("x",Z).attr("width",S._width-Z),W.rangemode!=="match"){var re=S._height-ae(S.d2pOppAxis(U._rl[1])),ie=S._height-ae(S.d2pOppAxis(U._rl[0]));T.select("rect."+y.maskMinOppAxisClassName).attr("x",H).attr("height",re).attr("width",Z-H),T.select("rect."+y.maskMaxOppAxisClassName).attr("x",H).attr("y",ie).attr("height",S._height-ie).attr("width",Z-H),T.select("rect."+y.slideBoxClassName).attr("y",re).attr("height",ie-re)}var ue=.5,ge=Math.round(z(H-K))-ue,ee=Math.round(z(Z-K))+ue;T.select("g."+y.grabberMinClassName).attr("transform",r(ge,ue)),T.select("g."+y.grabberMaxClassName).attr("transform",r(ee,ue))}function L(T,Y,G,S){var U=n.ensureSingle(T,"rect",y.bgClassName,function(ae){ae.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),W=S.borderwidth%2==0?S.borderwidth:S.borderwidth-1,K=-S._offsetShift,J=f.crispRound(Y,S.borderwidth);U.attr({width:S._width+W,height:S._height+W,transform:r(K,K),fill:S.bgcolor,stroke:S.bordercolor,"stroke-width":J})}function x(T,Y,G,S){var U=Y._fullLayout,W=n.ensureSingleById(U._topdefs,"clipPath",S._clipId,function(K){K.append("rect").attr({x:0,y:0})});W.select("rect").attr({width:S._width,height:S._height})}function M(T,Y,G,S){var U=Y.calcdata,W=T.selectAll("g."+y.rangePlotClassName).data(G._subplotsWith,n.identity);W.enter().append("g").attr("class",function(J){return y.rangePlotClassName+" "+J}).call(f.setClipUrl,S._clipId,Y),W.order(),W.exit().remove();var K;W.each(function(J,ae){var z=e.select(this),H=ae===0,Z=h.getFromId(Y,J,"y"),re=Z._name,ie=S[re],ue={data:[],layout:{xaxis:{type:G.type,domain:[0,1],range:S.range.slice(),calendar:G.calendar},width:S._width,height:S._height,margin:{t:0,b:0,l:0,r:0}},_context:Y._context};G.rangebreaks&&(ue.layout.xaxis.rangebreaks=G.rangebreaks),ue.layout[re]={type:Z.type,domain:[0,1],range:ie.rangemode!=="match"?ie.range.slice():Z.range.slice(),calendar:Z.calendar},Z.rangebreaks&&(ue.layout[re].rangebreaks=Z.rangebreaks),i.supplyDefaults(ue);var ge=ue._fullLayout.xaxis,ee=ue._fullLayout[re];ge.clearCalc(),ge.setScale(),ee.clearCalc(),ee.setScale();var q={id:J,plotgroup:z,xaxis:ge,yaxis:ee,isRangePlot:!0};H?K=q:(q.mainplot="xy",q.mainplotinfo=K),o.rangePlot(Y,q,v(U,J))})}function v(T,Y){for(var G=[],S=0;S<T.length;S++){var U=T[S],W=U[0].trace;W.xaxis+W.yaxis===Y&&G.push(U)}return G}function m(T,Y,G,S,U){var W=n.ensureSingle(T,"rect",y.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});W.attr("height",S._height).call(u.fill,y.maskColor);var K=n.ensureSingle(T,"rect",y.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(K.attr("height",S._height).call(u.fill,y.maskColor),U.rangemode!=="match"){var J=n.ensureSingle(T,"rect",y.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});J.attr("width",S._width).call(u.fill,y.maskOppAxisColor);var ae=n.ensureSingle(T,"rect",y.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});ae.attr("width",S._width).style("border-top",y.maskOppBorder).call(u.fill,y.maskOppAxisColor)}}function A(T,Y,G,S){if(!Y._context.staticPlot){var U=n.ensureSingle(T,"rect",y.slideBoxClassName,function(W){W.attr({y:0,cursor:y.slideBoxCursor,"shape-rendering":"crispEdges"})});U.attr({height:S._height,fill:y.slideBoxFill})}}function V(T,Y,G,S){var U=n.ensureSingle(T,"g",y.grabberMinClassName),W=n.ensureSingle(T,"g",y.grabberMaxClassName),K={x:0,width:y.handleWidth,rx:y.handleRadius,fill:u.background,stroke:u.defaultLine,"stroke-width":y.handleStrokeWidth,"shape-rendering":"crispEdges"},J={y:Math.round(S._height/4),height:Math.round(S._height/2)},ae=n.ensureSingle(U,"rect",y.handleMinClassName,function(ie){ie.attr(K)});ae.attr(J);var z=n.ensureSingle(W,"rect",y.handleMaxClassName,function(ie){ie.attr(K)});z.attr(J);var H={width:y.grabAreaWidth,x:0,y:0,fill:y.grabAreaFill,cursor:Y._context.staticPlot?void 0:y.grabAreaCursor},Z=n.ensureSingle(U,"rect",y.grabAreaMinClassName,function(ie){ie.attr(H)});Z.attr("height",S._height);var re=n.ensureSingle(W,"rect",y.grabAreaMaxClassName,function(ie){ie.attr(H)});re.attr("height",S._height)}},{"../../lib":232,"../../lib/setcursor":252,"../../plots/cartesian":293,"../../plots/cartesian/axis_ids":283,"../../plots/plots":316,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"../titles":200,"./constants":176,"@plotly/d3":11}],179:[function(t,P,k){var e=t("../../plots/cartesian/axis_ids"),a=t("../../lib/svg_text_utils"),i=t("./constants"),n=t("../../constants/alignment").LINE_SPACING,r=i.name;function f(u){var s=u&&u[r];return s&&s.visible}k.isVisible=f,k.makeData=function(u){var s=e.list({_fullLayout:u},"x",!0),o=u.margin,h=[];if(!u._has("gl2d"))for(var p=0;p<s.length;p++){var d=s[p];if(f(d)){h.push(d);var y=d[r];y._id=r+d._id,y._height=(u.height-o.b-o.t)*y.thickness,y._offsetShift=Math.floor(y.borderwidth/2)}}u._rangeSliderData=h},k.autoMarginOpts=function(u,s){var o=u._fullLayout,h=s[r],p=s._id.charAt(0),d=0,y=0;if(s.side==="bottom"&&(d=s._depth,s.title.text!==o._dfltTitle[p])){y=1.5*s.title.font.size+10+h._offsetShift;var g=(s.title.text.match(a.BR_TAG_ALL)||[]).length;y+=g*s.title.font.size*n}return{x:0,y:s._counterDomainMin,l:0,r:0,t:0,b:h._height+d+Math.max(o.margin.b,y),pad:i.extraPad+h._offsetShift*2}}},{"../../constants/alignment":207,"../../lib/svg_text_utils":255,"../../plots/cartesian/axis_ids":283,"./constants":176}],180:[function(t,P,k){var e=t("../../lib"),a=t("./attributes"),i=t("./oppaxis_attributes"),n=t("./helpers");P.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:e.extendFlat({},a,{yaxis:i})}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:t("./draw"),isVisible:n.isVisible,makeData:n.makeData,autoMarginOpts:n.autoMarginOpts}},{"../../lib":232,"./attributes":174,"./calc_autorange":175,"./defaults":177,"./draw":178,"./helpers":179,"./oppaxis_attributes":181}],181:[function(t,P,k){P.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},{}],182:[function(t,P,k){var e=t("../annotations/attributes"),a=t("../../traces/scatter/attributes").line,i=t("../drawing/attributes").dash,n=t("../../lib/extend").extendFlat,r=t("../../plot_api/plot_template").templatedArray;t("../../constants/axis_placeable_objects"),P.exports=r("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:n({},e.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:n({},e.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:n({},a.color,{editType:"arraydraw"}),width:n({},a.width,{editType:"calc+arraydraw"}),dash:n({},i,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},editType:"arraydraw"})},{"../../constants/axis_placeable_objects":208,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../traces/scatter/attributes":358,"../annotations/attributes":85,"../drawing/attributes":123}],183:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/cartesian/axes"),i=t("./constants"),n=t("./helpers");P.exports=function(h){var p=h._fullLayout,d=e.filterVisible(p.shapes);if(!(!d.length||!h._fullData.length))for(var y=0;y<d.length;y++){var g=d[y];g._extremes={};var D,C,L=a.getRefType(g.xref),x=a.getRefType(g.yref);if(g.xref!=="paper"&&L!=="domain"){var M=g.xsizemode==="pixel"?g.xanchor:g.x0,v=g.xsizemode==="pixel"?g.xanchor:g.x1;D=a.getFromId(h,g.xref),C=s(D,M,v,g.path,i.paramIsX),C&&(g._extremes[D._id]=a.findExtremes(D,C,r(g)))}if(g.yref!=="paper"&&x!=="domain"){var m=g.ysizemode==="pixel"?g.yanchor:g.y0,A=g.ysizemode==="pixel"?g.yanchor:g.y1;D=a.getFromId(h,g.yref),C=s(D,m,A,g.path,i.paramIsY),C&&(g._extremes[D._id]=a.findExtremes(D,C,f(g)))}}};function r(o){return u(o.line.width,o.xsizemode,o.x0,o.x1,o.path,!1)}function f(o){return u(o.line.width,o.ysizemode,o.y0,o.y1,o.path,!0)}function u(o,h,p,d,y,g){var D=o/2,C=g;if(h==="pixel"){var L=y?n.extractPathCoords(y,g?i.paramIsY:i.paramIsX):[p,d],x=e.aggNums(Math.max,null,L),M=e.aggNums(Math.min,null,L),v=M<0?Math.abs(M)+D:D,m=x>0?x+D:D;return{ppad:D,ppadplus:C?v:m,ppadminus:C?m:v}}else return{ppad:D}}function s(o,h,p,d,y){var g=o.type==="category"||o.type==="multicategory"?o.r2c:o.d2c;if(h!==void 0)return[g(h),g(p)];if(!!d){var D=1/0,C=-1/0,L=d.match(i.segmentRE),x,M,v,m,A;for(o.type==="date"&&(g=n.decodeDate(g)),x=0;x<L.length;x++)M=L[x],v=y[M.charAt(0)].drawn,v!==void 0&&(m=L[x].substr(1).match(i.paramRE),!(!m||m.length<v)&&(A=g(m[v]),A<D&&(D=A),A>C&&(C=A)));if(C>=D)return[D,C]}}},{"../../lib":232,"../../plots/cartesian/axes":279,"./constants":184,"./helpers":193}],184:[function(t,P,k){P.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],185:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/cartesian/axes"),i=t("../../plots/array_container_defaults"),n=t("./attributes"),r=t("./helpers");P.exports=function(s,o){i(s,o,{name:"shapes",handleItemDefaults:f})};function f(u,s,o){function h(re,ie){return e.coerce(u,s,n,re,ie)}var p=h("visible");if(!!p){var d=h("path"),y=d?"path":"rect",g=h("type",y);s.type!=="path"&&delete s.path,h("editable"),h("layer"),h("opacity"),h("fillcolor"),h("fillrule");var D=h("line.width");D&&(h("line.color"),h("line.dash"));for(var C=h("xsizemode"),L=h("ysizemode"),x=["x","y"],M=0;M<2;M++){var v=x[M],m=v+"anchor",A=v==="x"?C:L,V={_fullLayout:o},T,Y,G,S=a.coerceRef(u,s,V,v,void 0,"paper"),U=a.getRefType(S);if(U==="range"?(T=a.getFromId(V,S),T._shapeIndices.push(s._index),G=r.rangeToShapePosition(T),Y=r.shapePositionToRange(T)):Y=G=e.identity,g!=="path"){var W=.25,K=.75,J=v+"0",ae=v+"1",z=u[J],H=u[ae];u[J]=Y(u[J],!0),u[ae]=Y(u[ae],!0),A==="pixel"?(h(J,0),h(ae,10)):(a.coercePosition(s,V,h,S,J,W),a.coercePosition(s,V,h,S,ae,K)),s[J]=G(s[J]),s[ae]=G(s[ae]),u[J]=z,u[ae]=H}if(A==="pixel"){var Z=u[m];u[m]=Y(u[m],!0),a.coercePosition(s,V,h,S,m,.25),s[m]=G(s[m]),u[m]=Z}}g==="path"?h("path"):e.noneOrAll(u,s,["x0","x1","y0","y1"])}}},{"../../lib":232,"../../plots/array_container_defaults":274,"../../plots/cartesian/axes":279,"./attributes":182,"./helpers":193}],186:[function(t,P,k){var e=t("../../registry"),a=t("../../lib"),i=t("../../plots/cartesian/axes"),n=t("./draw_newshape/helpers").readPaths,r=t("./draw_newshape/display_outlines"),f=t("../../plots/cartesian/handle_outline").clearOutlineControllers,u=t("../color"),s=t("../drawing"),o=t("../../plot_api/plot_template").arrayEditor,h=t("../dragelement"),p=t("../../lib/setcursor"),d=t("./constants"),y=t("./helpers");P.exports={draw:g,drawOne:L,eraseActiveShape:Y};function g(G){var S=G._fullLayout;S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove();for(var U in S._plots){var W=S._plots[U].shapelayer;W&&W.selectAll("path").remove()}for(var K=0;K<S.shapes.length;K++)S.shapes[K].visible&&L(G,K)}function D(G){return!!G._fullLayout._drawing}function C(G){return!G._context.edits.shapePosition}function L(G,S){G._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var U=y.makeOptionsAndPlotinfo(G,S),W=U.options,K=U.plotinfo;if(!W._input||W.visible===!1)return;if(W.layer!=="below")ae(G._fullLayout._shapeUpperLayer);else if(W.xref==="paper"||W.yref==="paper")ae(G._fullLayout._shapeLowerLayer);else if(K._hadPlotinfo){var J=K.mainplotinfo||K;ae(J.shapelayer)}else ae(G._fullLayout._shapeLowerLayer);function ae(z){var H=v(G,W),Z={"data-index":S,"fill-rule":W.fillrule,d:H},re=W.opacity,ie=W.fillcolor,ue=W.line.width?W.line.color:"rgba(0,0,0,0)",ge=W.line.width,ee=W.line.dash;!ge&&W.editable===!0&&(ge=5,ee="solid");var q=H[H.length-1]!=="Z",ne=C(G)&&W.editable&&G._fullLayout._activeShapeIndex===S;ne&&(ie=q?"rgba(0,0,0,0)":G._fullLayout.activeshape.fillcolor,re=G._fullLayout.activeshape.opacity);var oe=z.append("path").attr(Z).style("opacity",re).call(u.stroke,ue).call(u.fill,ie).call(s.dashLine,ee,ge);x(oe,G,W);var Q;if((ne||G._context.edits.shapePosition)&&(Q=o(G.layout,"shapes",W)),ne){oe.style({cursor:"move"});var c={element:oe.node(),plotinfo:K,gd:G,editHelpers:Q,isActiveShape:!0},w=n(H,G);r(w,oe,c)}else G._context.edits.shapePosition?M(G,oe,W,S,z,Q):W.editable===!0&&oe.style("pointer-events",q||u.opacity(ie)*re<=.5?"stroke":"all");oe.node().addEventListener("click",function(){return V(G,oe)})}}function x(G,S,U){var W=(U.xref+U.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(G,W?"clip"+S._fullLayout._uid+W:null,S)}function M(G,S,U,W,K,J){var ae=10,z=10,H=U.xsizemode==="pixel",Z=U.ysizemode==="pixel",re=U.type==="line",ie=U.type==="path",ue=J.modifyItem,ge,ee,q,ne,oe,Q,c,w,B,E,b,O,N,R,j,se=i.getFromId(G,U.xref),fe=i.getRefType(U.xref),ce=i.getFromId(G,U.yref),ye=i.getRefType(U.yref),xe=y.getDataToPixel(G,se,!1,fe),De=y.getDataToPixel(G,ce,!0,ye),ke=y.getPixelToData(G,se,!1,fe),Ne=y.getPixelToData(G,ce,!0,ye),Ue=Ie(),Ce={element:Ue.node(),gd:G,prepFn:Ve,doneFn:We,clickFn:Ke},_e;h.init(Ce),Ue.node().onmousemove=gt;function Ie(){return re?Ze():S}function Ze(){var ot=10,pt=Math.max(U.line.width,ot),Ct=K.append("g").attr("data-index",W);Ct.append("path").attr("d",S.attr("d")).style({cursor:"move","stroke-width":pt,"stroke-opacity":"0"});var Ee={"fill-opacity":"0"},Oe=Math.max(pt/2,ot);return Ct.append("circle").attr({"data-line-point":"start-point",cx:H?xe(U.xanchor)+U.x0:xe(U.x0),cy:Z?De(U.yanchor)-U.y0:De(U.y0),r:Oe}).style(Ee).classed("cursor-grab",!0),Ct.append("circle").attr({"data-line-point":"end-point",cx:H?xe(U.xanchor)+U.x1:xe(U.x1),cy:Z?De(U.yanchor)-U.y1:De(U.y1),r:Oe}).style(Ee).classed("cursor-grab",!0),Ct}function gt(ot){if(D(G)){_e=null;return}if(re)ot.target.tagName==="path"?_e="move":_e=ot.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var pt=Ce.element.getBoundingClientRect(),Ct=pt.right-pt.left,Ee=pt.bottom-pt.top,Oe=ot.clientX-pt.left,at=ot.clientY-pt.top,pe=!ie&&Ct>ae&&Ee>z&&!ot.shiftKey?h.getCursor(Oe/Ct,1-at/Ee):"move";p(S,pe),_e=pe.split("-")[0]}}function Ve(ot){D(G)||(H&&(oe=xe(U.xanchor)),Z&&(Q=De(U.yanchor)),U.type==="path"?j=U.path:(ge=H?U.x0:xe(U.x0),ee=Z?U.y0:De(U.y0),q=H?U.x1:xe(U.x1),ne=Z?U.y1:De(U.y1)),ge<q?(B=ge,N="x0",E=q,R="x1"):(B=q,N="x1",E=ge,R="x0"),!Z&&ee<ne||Z&&ee>ne?(c=ee,b="y0",w=ne,O="y1"):(c=ne,b="y1",w=ee,O="y0"),gt(ot),Lt(K,U),dt(S,U,G),Ce.moveFn=_e==="move"?ut:mt,Ce.altKey=ot.altKey)}function We(){D(G)||(p(S),rt(K),x(S,G,U),e.call("_guiRelayout",G,J.getUpdateObj()))}function Ke(){D(G)||rt(K)}function ut(ot,pt){if(U.type==="path"){var Ct=function(at){return at},Ee=Ct,Oe=Ct;H?ue("xanchor",U.xanchor=ke(oe+ot)):(Ee=function(pe){return ke(xe(pe)+ot)},se&&se.type==="date"&&(Ee=y.encodeDate(Ee))),Z?ue("yanchor",U.yanchor=Ne(Q+pt)):(Oe=function(pe){return Ne(De(pe)+pt)},ce&&ce.type==="date"&&(Oe=y.encodeDate(Oe))),ue("path",U.path=A(j,Ee,Oe))}else H?ue("xanchor",U.xanchor=ke(oe+ot)):(ue("x0",U.x0=ke(ge+ot)),ue("x1",U.x1=ke(q+ot))),Z?ue("yanchor",U.yanchor=Ne(Q+pt)):(ue("y0",U.y0=Ne(ee+pt)),ue("y1",U.y1=Ne(ne+pt)));S.attr("d",v(G,U)),Lt(K,U)}function mt(ot,pt){if(ie){var Ct=function(Tt){return Tt},Ee=Ct,Oe=Ct;H?ue("xanchor",U.xanchor=ke(oe+ot)):(Ee=function(Zt){return ke(xe(Zt)+ot)},se&&se.type==="date"&&(Ee=y.encodeDate(Ee))),Z?ue("yanchor",U.yanchor=Ne(Q+pt)):(Oe=function(Zt){return Ne(De(Zt)+pt)},ce&&ce.type==="date"&&(Oe=y.encodeDate(Oe))),ue("path",U.path=A(j,Ee,Oe))}else if(re){if(_e==="resize-over-start-point"){var at=ge+ot,pe=Z?ee-pt:ee+pt;ue("x0",U.x0=H?at:ke(at)),ue("y0",U.y0=Z?pe:Ne(pe))}else if(_e==="resize-over-end-point"){var Ae=q+ot,Se=Z?ne-pt:ne+pt;ue("x1",U.x1=H?Ae:ke(Ae)),ue("y1",U.y1=Z?Se:Ne(Se))}}else{var Pe=function(Tt){return _e.indexOf(Tt)!==-1},tt=Pe("n"),Je=Pe("s"),ht=Pe("w"),vt=Pe("e"),nt=tt?c+pt:c,je=Je?w+pt:w,_t=ht?B+ot:B,Et=vt?E+ot:E;Z&&(tt&&(nt=c-pt),Je&&(je=w-pt)),(!Z&&je-nt>z||Z&&nt-je>z)&&(ue(b,U[b]=Z?nt:Ne(nt)),ue(O,U[O]=Z?je:Ne(je))),Et-_t>ae&&(ue(N,U[N]=H?_t:ke(_t)),ue(R,U[R]=H?Et:ke(Et)))}S.attr("d",v(G,U)),Lt(K,U)}function Lt(ot,pt){(H||Z)&&Ct();function Ct(){var Ee=pt.type!=="path",Oe=ot.selectAll(".visual-cue").data([0]),at=1;Oe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":at}).classed("visual-cue",!0);var pe=xe(H?pt.xanchor:a.midRange(Ee?[pt.x0,pt.x1]:y.extractPathCoords(pt.path,d.paramIsX))),Ae=De(Z?pt.yanchor:a.midRange(Ee?[pt.y0,pt.y1]:y.extractPathCoords(pt.path,d.paramIsY)));if(pe=y.roundPositionForSharpStrokeRendering(pe,at),Ae=y.roundPositionForSharpStrokeRendering(Ae,at),H&&Z){var Se="M"+(pe-1-at)+","+(Ae-1-at)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Oe.attr("d",Se)}else if(H){var Pe="M"+(pe-1-at)+","+(Ae-9-at)+"v18 h2 v-18 Z";Oe.attr("d",Pe)}else{var tt="M"+(pe-9-at)+","+(Ae-1-at)+"h18 v2 h-18 Z";Oe.attr("d",tt)}}}function rt(ot){ot.selectAll(".visual-cue").remove()}function dt(ot,pt,Ct){var Ee=pt.xref,Oe=pt.yref,at=i.getFromId(Ct,Ee),pe=i.getFromId(Ct,Oe),Ae="";Ee!=="paper"&&!at.autorange&&(Ae+=Ee),Oe!=="paper"&&!pe.autorange&&(Ae+=Oe),s.setClipUrl(ot,Ae?"clip"+Ct._fullLayout._uid+Ae:null,Ct)}}function v(G,S){var U=S.type,W=i.getRefType(S.xref),K=i.getRefType(S.yref),J=i.getFromId(G,S.xref),ae=i.getFromId(G,S.yref),z=G._fullLayout._size,H,Z,re,ie,ue,ge,ee,q;if(J?W==="domain"?Z=function(N){return J._offset+J._length*N}:(H=y.shapePositionToRange(J),Z=function(N){return J._offset+J.r2p(H(N,!0))}):Z=function(N){return z.l+z.w*N},ae?K==="domain"?ie=function(N){return ae._offset+ae._length*(1-N)}:(re=y.shapePositionToRange(ae),ie=function(N){return ae._offset+ae.r2p(re(N,!0))}):ie=function(N){return z.t+z.h*(1-N)},U==="path")return J&&J.type==="date"&&(Z=y.decodeDate(Z)),ae&&ae.type==="date"&&(ie=y.decodeDate(ie)),m(S,Z,ie);if(S.xsizemode==="pixel"){var ne=Z(S.xanchor);ue=ne+S.x0,ge=ne+S.x1}else ue=Z(S.x0),ge=Z(S.x1);if(S.ysizemode==="pixel"){var oe=ie(S.yanchor);ee=oe-S.y0,q=oe-S.y1}else ee=ie(S.y0),q=ie(S.y1);if(U==="line")return"M"+ue+","+ee+"L"+ge+","+q;if(U==="rect")return"M"+ue+","+ee+"H"+ge+"V"+q+"H"+ue+"Z";var Q=(ue+ge)/2,c=(ee+q)/2,w=Math.abs(Q-ue),B=Math.abs(c-ee),E="A"+w+","+B,b=Q+w+","+c,O=Q+","+(c-B);return"M"+b+E+" 0 1,1 "+O+E+" 0 0,1 "+b+"Z"}function m(G,S,U){var W=G.path,K=G.xsizemode,J=G.ysizemode,ae=G.xanchor,z=G.yanchor;return W.replace(d.segmentRE,function(H){var Z=0,re=H.charAt(0),ie=d.paramIsX[re],ue=d.paramIsY[re],ge=d.numParams[re],ee=H.substr(1).replace(d.paramRE,function(q){return ie[Z]?K==="pixel"?q=S(ae)+Number(q):q=S(q):ue[Z]&&(J==="pixel"?q=U(z)-Number(q):q=U(q)),Z++,Z>ge&&(q="X"),q});return Z>ge&&(ee=ee.replace(/[\s,]*X.*/,""),a.log("Ignoring extra params in segment "+H)),re+ee})}function A(G,S,U){return G.replace(d.segmentRE,function(W){var K=0,J=W.charAt(0),ae=d.paramIsX[J],z=d.paramIsY[J],H=d.numParams[J],Z=W.substr(1).replace(d.paramRE,function(re){return K>=H||(ae[K]?re=S(re):z[K]&&(re=U(re)),K++),re});return J+Z})}function V(G,S){if(!!C(G)){var U=S.node(),W=+U.getAttribute("data-index");if(W>=0){if(W===G._fullLayout._activeShapeIndex){T(G);return}G._fullLayout._activeShapeIndex=W,G._fullLayout._deactivateShape=T,g(G)}}}function T(G){if(!!C(G)){var S=G._fullLayout._activeShapeIndex;S>=0&&(f(G),delete G._fullLayout._activeShapeIndex,g(G))}}function Y(G){if(!!C(G)){f(G);var S=G._fullLayout._activeShapeIndex,U=(G.layout||{}).shapes||[];if(S<U.length){for(var W=[],K=0;K<U.length;K++)K!==S&&W.push(U[K]);delete G._fullLayout._activeShapeIndex,e.call("_guiRelayout",G,{shapes:W})}}}},{"../../lib":232,"../../lib/setcursor":252,"../../plot_api/plot_template":268,"../../plots/cartesian/axes":279,"../../plots/cartesian/handle_outline":290,"../../registry":318,"../color":102,"../dragelement":121,"../drawing":124,"./constants":184,"./draw_newshape/display_outlines":190,"./draw_newshape/helpers":191,"./helpers":193}],187:[function(t,P,k){var e=t("../../drawing/attributes").dash,a=t("../../../lib/extend").extendFlat;P.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:a({},e,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},{"../../../lib/extend":226,"../../drawing/attributes":123}],188:[function(t,P,k){var e=32;P.exports={CIRCLE_SIDES:e,i000:0,i090:e/4,i180:e/2,i270:e/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},{}],189:[function(t,P,k){var e=t("../../color");P.exports=function(i,n,r){r("newshape.drawdirection"),r("newshape.layer"),r("newshape.fillcolor"),r("newshape.fillrule"),r("newshape.opacity");var f=r("newshape.line.width");if(f){var u=(i||{}).plot_bgcolor||"#FFF";r("newshape.line.color",e.contrast(u)),r("newshape.line.dash")}r("activeshape.fillcolor"),r("activeshape.opacity")}},{"../../color":102}],190:[function(t,P,k){var e=t("../../dragelement"),a=t("../../dragelement/helpers"),i=a.drawMode,n=t("../../../registry"),r=t("./constants"),f=r.i000,u=r.i090,s=r.i180,o=r.i270,h=t("../../../plots/cartesian/handle_outline"),p=h.clearOutlineControllers,d=t("./helpers"),y=d.pointsShapeRectangle,g=d.pointsShapeEllipse,D=d.writePaths,C=t("./newshapes");P.exports=function x(M,v,m,A){A||(A=0);var V=m.gd;function T(){x(M,v,m,A++),g(M[0])&&Y({redrawing:!0})}function Y(E){m.isActiveShape=!1;var b=C(v,m);Object.keys(b).length&&n.call((E||{}).redrawing?"relayout":"_guiRelayout",V,b)}var G=m.isActiveShape,S=V._fullLayout,U=S._zoomlayer,W=m.dragmode,K=i(W);K?V._fullLayout._drawing=!0:V._fullLayout._activeShapeIndex>=0&&p(V),v.attr("d",D(M));var J,ae,z,H,Z;if(G&&!A){Z=L([],M);var re=U.append("g").attr("class","outline-controllers");ne(re),B()}function ie(E){z=+E.srcElement.getAttribute("data-i"),H=+E.srcElement.getAttribute("data-j"),J[z][H].moveFn=ue}function ue(E,b){if(!!M.length){var O=Z[z][H][1],N=Z[z][H][2],R=M[z],j=R.length;if(y(R)){for(var se=0;se<j;se++)if(se!==H){var fe=R[se];fe[1]===R[H][1]&&(fe[1]=O+E),fe[2]===R[H][2]&&(fe[2]=N+b)}if(R[H][1]=O+E,R[H][2]=N+b,!y(R))for(var ce=0;ce<j;ce++)for(var ye=0;ye<R[ce].length;ye++)R[ce][ye]=Z[z][ce][ye]}else R[H][1]=O+E,R[H][2]=N+b;T()}}function ge(){Y()}function ee(){if(!!M.length&&!!M[z]&&!!M[z].length){for(var E=[],b=0;b<M[z].length;b++)b!==H&&E.push(M[z][b]);E.length>1&&!(E.length===2&&E[1][0]==="Z")&&(H===0&&(E[0][0]="M"),M[z]=E,T(),Y())}}function q(E,b){if(E===2){z=+b.srcElement.getAttribute("data-i"),H=+b.srcElement.getAttribute("data-j");var O=M[z];!y(O)&&!g(O)&&ee()}}function ne(E){J=[];for(var b=0;b<M.length;b++){var O=M[b],N=y(O),R=!N&&g(O);J[b]=[];for(var j=0;j<O.length;j++)if(O[j][0]!=="Z"&&!(R&&j!==f&&j!==u&&j!==s&&j!==o)){var se=O[j][1],fe=O[j][2],ce=E.append("circle").classed("cursor-grab",!0).attr("data-i",b).attr("data-j",j).attr("cx",se).attr("cy",fe).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});J[b][j]={element:ce.node(),gd:V,prepFn:ie,doneFn:ge,clickFn:q},e.init(J[b][j])}}}function oe(E,b){if(!!M.length)for(var O=0;O<M.length;O++)for(var N=0;N<M[O].length;N++)for(var R=0;R+2<M[O][N].length;R+=2)M[O][N][R+1]=Z[O][N][R+1]+E,M[O][N][R+2]=Z[O][N][R+2]+b}function Q(E,b){oe(E,b),T()}function c(E){z=+E.srcElement.getAttribute("data-i"),z||(z=0),ae[z].moveFn=Q}function w(){Y()}function B(){if(ae=[],!!M.length){var E=0;ae[E]={element:v[0][0],gd:V,prepFn:c,doneFn:w},e.init(ae[E])}}};function L(x,M){for(var v=0;v<M.length;v++){var m=M[v];x[v]=[];for(var A=0;A<m.length;A++){x[v][A]=[];for(var V=0;V<m[A].length;V++)x[v][A][V]=m[A][V]}}return x}},{"../../../plots/cartesian/handle_outline":290,"../../../registry":318,"../../dragelement":121,"../../dragelement/helpers":120,"./constants":188,"./helpers":191,"./newshapes":192}],191:[function(t,P,k){var e=t("parse-svg-path"),a=t("./constants"),i=a.CIRCLE_SIDES,n=a.SQRT2,r=t("../../../plots/cartesian/helpers"),f=r.p2r,u=r.r2p,s=[0,3,4,5,6,1,2],o=[0,3,4,1,2];k.writePaths=function(d){var y=d.length;if(!y)return"M0,0Z";for(var g="",D=0;D<y;D++)for(var C=d[D].length,L=0;L<C;L++){var x=d[D][L][0];if(x==="Z")g+="Z";else for(var M=d[D][L].length,v=0;v<M;v++){var m=v;x==="Q"||x==="S"?m=o[v]:x==="C"&&(m=s[v]),g+=d[D][L][m],v>0&&v<M-1&&(g+=",")}}return g},k.readPaths=function(d,y,g,D){var C=e(d),L=[],x=-1,M=function(){x++,L[x]=[]},v,m=0,A=0,V,T,Y=function(){V=m,T=A};Y();for(var G=0;G<C.length;G++){var S=[],U,W,K,J,ae=C[G][0],z=ae;switch(ae){case"M":M(),m=+C[G][1],A=+C[G][2],S.push([z,m,A]),Y();break;case"Q":case"S":U=+C[G][1],K=+C[G][2],m=+C[G][3],A=+C[G][4],S.push([z,m,A,U,K]);break;case"C":U=+C[G][1],K=+C[G][2],W=+C[G][3],J=+C[G][4],m=+C[G][5],A=+C[G][6],S.push([z,m,A,U,K,W,J]);break;case"T":case"L":m=+C[G][1],A=+C[G][2],S.push([z,m,A]);break;case"H":z="L",m=+C[G][1],S.push([z,m,A]);break;case"V":z="L",A=+C[G][1],S.push([z,m,A]);break;case"A":z="L";var H=+C[G][1],Z=+C[G][2];+C[G][4]||(H=-H,Z=-Z);var re=m-H,ie=A;for(v=1;v<=i/2;v++){var ue=2*Math.PI*v/i;S.push([z,re+H*Math.cos(ue),ie+Z*Math.sin(ue)])}break;case"Z":(m!==V||A!==T)&&(m=V,A=T,S.push([z,m,A]));break}for(var ge=(g||{}).domain,ee=y._fullLayout._size,q=g&&g.xsizemode==="pixel",ne=g&&g.ysizemode==="pixel",oe=D===!1,Q=0;Q<S.length;Q++){for(v=0;v+2<7;v+=2){var c=S[Q][v+1],w=S[Q][v+2];c===void 0||w===void 0||(m=c,A=w,g&&(g.xaxis&&g.xaxis.p2r?(oe&&(c-=g.xaxis._offset),q?c=u(g.xaxis,g.xanchor)+c:c=f(g.xaxis,c)):(oe&&(c-=ee.l),ge?c=ge.x[0]+c/ee.w:c=c/ee.w),g.yaxis&&g.yaxis.p2r?(oe&&(w-=g.yaxis._offset),ne?w=u(g.yaxis,g.yanchor)-w:w=f(g.yaxis,w)):(oe&&(w-=ee.t),ge?w=ge.y[1]-w/ee.h:w=1-w/ee.h)),S[Q][v+1]=c,S[Q][v+2]=w)}L[x].push(S[Q].slice())}}return L};function h(d,y){return Math.abs(d-y)<=1e-6}function p(d,y){var g=y[1]-d[1],D=y[2]-d[2];return Math.sqrt(g*g+D*D)}k.pointsShapeRectangle=function(d){var y=d.length;if(y!==5)return!1;for(var g=1;g<3;g++){var D=d[0][g]-d[1][g],C=d[3][g]-d[2][g];if(!h(D,C))return!1;var L=d[0][g]-d[3][g],x=d[1][g]-d[2][g];if(!h(L,x))return!1}return!h(d[0][1],d[1][1])&&!h(d[0][1],d[3][1])?!1:!!(p(d[0],d[1])*p(d[0],d[3]))},k.pointsShapeEllipse=function(d){var y=d.length;if(y!==i+1)return!1;y=i;for(var g=0;g<y;g++){var D=(y*2-g)%y,C=(y/2+D)%y,L=(y/2+g)%y;if(!h(p(d[g],d[L]),p(d[D],d[C])))return!1}return!0},k.handleEllipse=function(d,y,g){if(!d)return[y,g];var D=k.ellipseOver({x0:y[0],y0:y[1],x1:g[0],y1:g[1]}),C=(D.x1+D.x0)/2,L=(D.y1+D.y0)/2,x=(D.x1-D.x0)/2,M=(D.y1-D.y0)/2;x||(x=M=M/n),M||(M=x=x/n);for(var v=[],m=0;m<i;m++){var A=m*2*Math.PI/i;v.push([C+x*Math.cos(A),L+M*Math.sin(A)])}return v},k.ellipseOver=function(d){var y=d.x0,g=d.y0,D=d.x1,C=d.y1,L=D-y,x=C-g;y-=L,g-=x;var M=(y+D)/2,v=(g+C)/2,m=n;return L*=m,x*=m,{x0:M-L,y0:v-x,x1:M+L,y1:v+x}}},{"../../../plots/cartesian/helpers":291,"./constants":188,"parse-svg-path":56}],192:[function(t,P,k){var e=t("../../dragelement/helpers"),a=e.drawMode,i=e.openMode,n=t("./constants"),r=n.i000,f=n.i090,u=n.i180,s=n.i270,o=n.cos45,h=n.sin45,p=t("../../../plots/cartesian/helpers"),d=p.p2r,y=p.r2p,g=t("../../../plots/cartesian/handle_outline"),D=g.clearSelect,C=t("./helpers"),L=C.readPaths,x=C.writePaths,M=C.ellipseOver;P.exports=function(A,V){if(!!A.length){var T=A[0][0];if(!!T){var Y=T.getAttribute("d"),G=V.gd,S=G._fullLayout.newshape,U=V.plotinfo,W=U.xaxis,K=U.yaxis,J=!!U.domain||!U.xaxis,ae=!!U.domain||!U.yaxis,z=V.isActiveShape,H=V.dragmode,Z=(G.layout||{}).shapes||[];if(!a(H)&&z!==void 0){var re=G._fullLayout._activeShapeIndex;if(re<Z.length)switch(G._fullLayout.shapes[re].type){case"rect":H="drawrect";break;case"circle":H="drawcircle";break;case"line":H="drawline";break;case"path":var ie=Z[re].path||"";ie[ie.length-1]==="Z"?H="drawclosedpath":H="drawopenpath";break}}var ue=i(H),ge=L(Y,G,U,z),ee={editable:!0,xref:J?"paper":W._id,yref:ae?"paper":K._id,layer:S.layer,opacity:S.opacity,line:{color:S.line.color,width:S.line.width,dash:S.line.dash}};ue||(ee.fillcolor=S.fillcolor,ee.fillrule=S.fillrule);var q;if(ge.length===1&&(q=ge[0]),q&&H==="drawrect")ee.type="rect",ee.x0=q[0][1],ee.y0=q[0][2],ee.x1=q[2][1],ee.y1=q[2][2];else if(q&&H==="drawline")ee.type="line",ee.x0=q[0][1],ee.y0=q[0][2],ee.x1=q[1][1],ee.y1=q[1][2];else if(q&&H==="drawcircle"){ee.type="circle";var ne=q[r][1],oe=q[f][1],Q=q[u][1],c=q[s][1],w=q[r][2],B=q[f][2],E=q[u][2],b=q[s][2],O=U.xaxis&&(U.xaxis.type==="date"||U.xaxis.type==="log"),N=U.yaxis&&(U.yaxis.type==="date"||U.yaxis.type==="log");O&&(ne=y(U.xaxis,ne),oe=y(U.xaxis,oe),Q=y(U.xaxis,Q),c=y(U.xaxis,c)),N&&(w=y(U.yaxis,w),B=y(U.yaxis,B),E=y(U.yaxis,E),b=y(U.yaxis,b));var R=(oe+c)/2,j=(w+E)/2,se=(c-oe+Q-ne)/2,fe=(b-B+E-w)/2,ce=M({x0:R,y0:j,x1:R+se*o,y1:j+fe*h});O&&(ce.x0=d(U.xaxis,ce.x0),ce.x1=d(U.xaxis,ce.x1)),N&&(ce.y0=d(U.yaxis,ce.y0),ce.y1=d(U.yaxis,ce.y1)),ee.x0=ce.x0,ee.y0=ce.y0,ee.x1=ce.x1,ee.y1=ce.y1}else ee.type="path",W&&K&&v(ge,W,K),ee.path=x(ge),q=null;D(G);for(var ye=V.editHelpers,xe=(ye||{}).modifyItem,De=[],ke=0;ke<Z.length;ke++){var Ne=G._fullLayout.shapes[ke];if(De[ke]=Ne._input,z!==void 0&&ke===G._fullLayout._activeShapeIndex){var Ue=ee;switch(Ne.type){case"line":case"rect":case"circle":xe("x0",Ue.x0),xe("x1",Ue.x1),xe("y0",Ue.y0),xe("y1",Ue.y1);break;case"path":xe("path",Ue.path);break}}}return z===void 0?(De.push(ee),De):ye?ye.getUpdateObj():{}}}};function v(m,A,V){var T=A.type==="date",Y=V.type==="date";if(!T&&!Y)return m;for(var G=0;G<m.length;G++)for(var S=0;S<m[G].length;S++)for(var U=0;U+2<m[G][S].length;U+=2)T&&(m[G][S][U+1]=m[G][S][U+1].replace(" ","_")),Y&&(m[G][S][U+2]=m[G][S][U+2].replace(" ","_"));return m}},{"../../../plots/cartesian/handle_outline":290,"../../../plots/cartesian/helpers":291,"../../dragelement/helpers":120,"./constants":188,"./helpers":191}],193:[function(t,P,k){var e=t("./constants"),a=t("../../lib");k.rangeToShapePosition=function(i){return i.type==="log"?i.r2d:function(n){return n}},k.shapePositionToRange=function(i){return i.type==="log"?i.d2r:function(n){return n}},k.decodeDate=function(i){return function(n){return n.replace&&(n=n.replace("_"," ")),i(n)}},k.encodeDate=function(i){return function(n){return i(n).replace(" ","_")}},k.extractPathCoords=function(i,n){var r=[],f=i.match(e.segmentRE);return f.forEach(function(u){var s=n[u.charAt(0)].drawn;if(s!==void 0){var o=u.substr(1).match(e.paramRE);!o||o.length<s||r.push(a.cleanNumber(o[s]))}}),r},k.getDataToPixel=function(i,n,r,f){var u=i._fullLayout._size,s;if(n)if(f==="domain")s=function(h){return n._length*(r?1-h:h)+n._offset};else{var o=k.shapePositionToRange(n);s=function(h){return n._offset+n.r2p(o(h,!0))},n.type==="date"&&(s=k.decodeDate(s))}else r?s=function(h){return u.t+u.h*(1-h)}:s=function(h){return u.l+u.w*h};return s},k.getPixelToData=function(i,n,r,f){var u=i._fullLayout._size,s;if(n)if(f==="domain")s=function(h){var p=(h-n._offset)/n._length;return r?1-p:p};else{var o=k.rangeToShapePosition(n);s=function(h){return o(n.p2r(h-n._offset))}}else r?s=function(h){return 1-(h-u.t)/u.h}:s=function(h){return(h-u.l)/u.w};return s},k.roundPositionForSharpStrokeRendering=function(i,n){var r=Math.round(n%2)===1,f=Math.round(i);return r?f+.5:f},k.makeOptionsAndPlotinfo=function(i,n){var r=i._fullLayout.shapes[n]||{},f=i._fullLayout._plots[r.xref+r.yref],u=!!f;return u?f._hadPlotinfo=!0:(f={},r.xref&&r.xref!=="paper"&&(f.xaxis=i._fullLayout[r.xref+"axis"]),r.yref&&r.yref!=="paper"&&(f.yaxis=i._fullLayout[r.yref+"axis"])),f.xsizemode=r.xsizemode,f.ysizemode=r.ysizemode,f.xanchor=r.xanchor,f.yanchor=r.yanchor,{options:r,plotinfo:f}}},{"../../lib":232,"./constants":184}],194:[function(t,P,k){var e=t("./draw");P.exports={moduleType:"component",name:"shapes",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),supplyDrawNewShapeDefaults:t("./draw_newshape/defaults"),includeBasePlot:t("../../plots/cartesian/include_components")("shapes"),calcAutorange:t("./calc_autorange"),draw:e.draw,drawOne:e.drawOne}},{"../../plots/cartesian/include_components":292,"./attributes":182,"./calc_autorange":183,"./defaults":185,"./draw":186,"./draw_newshape/defaults":189}],195:[function(t,P,k){var e=t("../../plots/font_attributes"),a=t("../../plots/pad_attributes"),i=t("../../lib/extend").extendDeepAll,n=t("../../plot_api/edit_types").overrideAll,r=t("../../plots/animation_attributes"),f=t("../../plot_api/plot_template").templatedArray,u=t("./constants"),s=f("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});P.exports=n(f("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:s,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(a({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:r.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:e({})},font:e({}),activebgcolor:{valType:"color",dflt:u.gripBgActiveColor},bgcolor:{valType:"color",dflt:u.railBgColor},bordercolor:{valType:"color",dflt:u.railBorderColor},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth},ticklen:{valType:"number",min:0,dflt:u.tickLength},tickcolor:{valType:"color",dflt:u.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/animation_attributes":273,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"./constants":196}],196:[function(t,P,k){P.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],197:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/array_container_defaults"),i=t("./attributes"),n=t("./constants"),r=n.name,f=i.steps;P.exports=function(h,p){a(h,p,{name:r,handleItemDefaults:u})};function u(o,h,p){function d(v,m){return e.coerce(o,h,i,v,m)}for(var y=a(o,h,{name:"steps",handleItemDefaults:s}),g=0,D=0;D<y.length;D++)y[D].visible&&g++;var C;if(g<2?C=h.visible=!1:C=d("visible"),!!C){h._stepCount=g;var L=h._visibleSteps=e.filterVisible(y),x=d("active");(y[x]||{}).visible||(h.active=L[0]._index),d("x"),d("y"),e.noneOrAll(o,h,["x","y"]),d("xanchor"),d("yanchor"),d("len"),d("lenmode"),d("pad.t"),d("pad.r"),d("pad.b"),d("pad.l"),e.coerceFont(d,"font",p.font);var M=d("currentvalue.visible");M&&(d("currentvalue.xanchor"),d("currentvalue.prefix"),d("currentvalue.suffix"),d("currentvalue.offset"),e.coerceFont(d,"currentvalue.font",h.font)),d("transition.duration"),d("transition.easing"),d("bgcolor"),d("activebgcolor"),d("bordercolor"),d("borderwidth"),d("ticklen"),d("tickwidth"),d("tickcolor"),d("minorticklen")}}function s(o,h){function p(g,D){return e.coerce(o,h,f,g,D)}var d;if(o.method!=="skip"&&!Array.isArray(o.args)?d=h.visible=!1:d=p("visible"),d){p("method"),p("args");var y=p("label","step-"+h._index);p("value",y),p("execute")}}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":195,"./constants":196}],198:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../plots/plots"),i=t("../color"),n=t("../drawing"),r=t("../../lib"),f=r.strTranslate,u=t("../../lib/svg_text_utils"),s=t("../../plot_api/plot_template").arrayEditor,o=t("./constants"),h=t("../../constants/alignment"),p=h.LINE_SPACING,d=h.FROM_TL,y=h.FROM_BR;P.exports=function(H){var Z=H._fullLayout,re=D(Z,H),ie=Z._infolayer.selectAll("g."+o.containerClassName).data(re.length>0?[0]:[]);ie.enter().append("g").classed(o.containerClassName,!0).style("cursor","ew-resize");function ue(ne){ne._commandObserver&&(ne._commandObserver.remove(),delete ne._commandObserver),a.autoMargin(H,g(ne))}if(ie.exit().each(function(){e.select(this).selectAll("g."+o.groupClassName).each(ue)}).remove(),re.length!==0){var ge=ie.selectAll("g."+o.groupClassName).data(re,C);ge.enter().append("g").classed(o.groupClassName,!0),ge.exit().each(ue).remove();for(var ee=0;ee<re.length;ee++){var q=re[ee];L(H,q)}ge.each(function(ne){var oe=e.select(this);S(ne),a.manageCommandObserver(H,ne,ne._visibleSteps,function(Q){var c=oe.data()[0];c.active!==Q.index&&(c._dragging||T(H,oe,c,Q.index,!1,!0))}),x(H,e.select(this),ne)})}};function g(z){return o.autoMarginIdRoot+z._index}function D(z,H){for(var Z=z[o.name],re=[],ie=0;ie<Z.length;ie++){var ue=Z[ie];!ue.visible||(ue._gd=H,re.push(ue))}return re}function C(z){return z._index}function L(z,H){var Z=n.tester.selectAll("g."+o.labelGroupClass).data(H._visibleSteps);Z.enter().append("g").classed(o.labelGroupClass,!0);var re=0,ie=0;Z.each(function(B){var E=e.select(this),b=m(E,{step:B},H),O=b.node();if(O){var N=n.bBox(O);ie=Math.max(ie,N.height),re=Math.max(re,N.width)}}),Z.remove();var ue=H._dims={};ue.inputAreaWidth=Math.max(o.railWidth,o.gripHeight);var ge=z._fullLayout._size;ue.lx=ge.l+ge.w*H.x,ue.ly=ge.t+ge.h*(1-H.y),H.lenmode==="fraction"?ue.outerLength=Math.round(ge.w*H.len):ue.outerLength=H.len,ue.inputAreaStart=0,ue.inputAreaLength=Math.round(ue.outerLength-H.pad.l-H.pad.r);var ee=ue.inputAreaLength-2*o.stepInset,q=ee/(H._stepCount-1),ne=re+o.labelPadding;if(ue.labelStride=Math.max(1,Math.ceil(ne/q)),ue.labelHeight=ie,ue.currentValueMaxWidth=0,ue.currentValueHeight=0,ue.currentValueTotalHeight=0,ue.currentValueMaxLines=1,H.currentvalue.visible){var oe=n.tester.append("g");Z.each(function(B){var E=M(oe,H,B.label),b=E.node()&&n.bBox(E.node())||{width:0,height:0},O=u.lineCount(E);ue.currentValueMaxWidth=Math.max(ue.currentValueMaxWidth,Math.ceil(b.width)),ue.currentValueHeight=Math.max(ue.currentValueHeight,Math.ceil(b.height)),ue.currentValueMaxLines=Math.max(ue.currentValueMaxLines,O)}),ue.currentValueTotalHeight=ue.currentValueHeight+H.currentvalue.offset,oe.remove()}ue.height=ue.currentValueTotalHeight+o.tickOffset+H.ticklen+o.labelOffset+ue.labelHeight+H.pad.t+H.pad.b;var Q="left";r.isRightAnchor(H)&&(ue.lx-=ue.outerLength,Q="right"),r.isCenterAnchor(H)&&(ue.lx-=ue.outerLength/2,Q="center");var c="top";r.isBottomAnchor(H)&&(ue.ly-=ue.height,c="bottom"),r.isMiddleAnchor(H)&&(ue.ly-=ue.height/2,c="middle"),ue.outerLength=Math.ceil(ue.outerLength),ue.height=Math.ceil(ue.height),ue.lx=Math.round(ue.lx),ue.ly=Math.round(ue.ly);var w={y:H.y,b:ue.height*y[c],t:ue.height*d[c]};H.lenmode==="fraction"?(w.l=0,w.xl=H.x-H.len*d[Q],w.r=0,w.xr=H.x+H.len*y[Q]):(w.x=H.x,w.l=ue.outerLength*d[Q],w.r=ue.outerLength*y[Q]),a.autoMargin(z,g(H),w)}function x(z,H,Z){(Z.steps[Z.active]||{}).visible||(Z.active=Z._visibleSteps[0]._index),H.call(M,Z).call(ae,Z).call(A,Z).call(G,Z).call(J,z,Z).call(v,z,Z);var re=Z._dims;n.setTranslate(H,re.lx+Z.pad.l,re.ly+Z.pad.t),H.call(U,Z,!1),H.call(M,Z)}function M(z,H,Z){if(!!H.currentvalue.visible){var re=H._dims,ie,ue;switch(H.currentvalue.xanchor){case"right":ie=re.inputAreaLength-o.currentValueInset-re.currentValueMaxWidth,ue="left";break;case"center":ie=re.inputAreaLength*.5,ue="middle";break;default:ie=o.currentValueInset,ue="left"}var ge=r.ensureSingle(z,"text",o.labelClass,function(c){c.attr({"text-anchor":ue,"data-notex":1})}),ee=H.currentvalue.prefix?H.currentvalue.prefix:"";if(typeof Z=="string")ee+=Z;else{var q=H.steps[H.active].label,ne=H._gd._fullLayout._meta;ne&&(q=r.templateString(q,ne)),ee+=q}H.currentvalue.suffix&&(ee+=H.currentvalue.suffix),ge.call(n.font,H.currentvalue.font).text(ee).call(u.convertToTspans,H._gd);var oe=u.lineCount(ge),Q=(re.currentValueMaxLines+1-oe)*H.currentvalue.font.size*p;return u.positionText(ge,ie,Q),ge}}function v(z,H,Z){var re=r.ensureSingle(z,"rect",o.gripRectClass,function(ie){ie.call(Y,H,z,Z).style("pointer-events","all")});re.attr({width:o.gripWidth,height:o.gripHeight,rx:o.gripRadius,ry:o.gripRadius}).call(i.stroke,Z.bordercolor).call(i.fill,Z.bgcolor).style("stroke-width",Z.borderwidth+"px")}function m(z,H,Z){var re=r.ensureSingle(z,"text",o.labelClass,function(ge){ge.attr({"text-anchor":"middle","data-notex":1})}),ie=H.step.label,ue=Z._gd._fullLayout._meta;return ue&&(ie=r.templateString(ie,ue)),re.call(n.font,Z.font).text(ie).call(u.convertToTspans,Z._gd),re}function A(z,H){var Z=r.ensureSingle(z,"g",o.labelsClass),re=H._dims,ie=Z.selectAll("g."+o.labelGroupClass).data(re.labelSteps);ie.enter().append("g").classed(o.labelGroupClass,!0),ie.exit().remove(),ie.each(function(ue){var ge=e.select(this);ge.call(m,ue,H),n.setTranslate(ge,W(H,ue.fraction),o.tickOffset+H.ticklen+H.font.size*p+o.labelOffset+re.currentValueTotalHeight)})}function V(z,H,Z,re,ie){var ue=Math.round(re*(Z._stepCount-1)),ge=Z._visibleSteps[ue]._index;ge!==Z.active&&T(z,H,Z,ge,!0,ie)}function T(z,H,Z,re,ie,ue){var ge=Z.active;Z.active=re,s(z.layout,o.name,Z).applyUpdate("active",re);var ee=Z.steps[Z.active];H.call(U,Z,ue),H.call(M,Z),z.emit("plotly_sliderchange",{slider:Z,step:Z.steps[Z.active],interaction:ie,previousActive:ge}),ee&&ee.method&&ie&&(H._nextMethod?(H._nextMethod.step=ee,H._nextMethod.doCallback=ie,H._nextMethod.doTransition=ue):(H._nextMethod={step:ee,doCallback:ie,doTransition:ue},H._nextMethodRaf=window.requestAnimationFrame(function(){var q=H._nextMethod.step;!q.method||(q.execute&&a.executeAPICommand(z,q.method,q.args),H._nextMethod=null,H._nextMethodRaf=null)})))}function Y(z,H,Z){var re=Z.node(),ie=e.select(H);function ue(){return Z.data()[0]}function ge(){var ee=ue();H.emit("plotly_sliderstart",{slider:ee});var q=Z.select("."+o.gripRectClass);e.event.stopPropagation(),e.event.preventDefault(),q.call(i.fill,ee.activebgcolor);var ne=K(ee,e.mouse(re)[0]);V(H,Z,ee,ne,!0),ee._dragging=!0;function oe(){var c=ue(),w=K(c,e.mouse(re)[0]);V(H,Z,c,w,!1)}ie.on("mousemove",oe),ie.on("touchmove",oe);function Q(){var c=ue();c._dragging=!1,q.call(i.fill,c.bgcolor),ie.on("mouseup",null),ie.on("mousemove",null),ie.on("touchend",null),ie.on("touchmove",null),H.emit("plotly_sliderend",{slider:c,step:c.steps[c.active]})}ie.on("mouseup",Q),ie.on("touchend",Q)}z.on("mousedown",ge),z.on("touchstart",ge)}function G(z,H){var Z=z.selectAll("rect."+o.tickRectClass).data(H._visibleSteps),re=H._dims;Z.enter().append("rect").classed(o.tickRectClass,!0),Z.exit().remove(),Z.attr({width:H.tickwidth+"px","shape-rendering":"crispEdges"}),Z.each(function(ie,ue){var ge=ue%re.labelStride==0,ee=e.select(this);ee.attr({height:ge?H.ticklen:H.minorticklen}).call(i.fill,H.tickcolor),n.setTranslate(ee,W(H,ue/(H._stepCount-1))-.5*H.tickwidth,(ge?o.tickOffset:o.minorTickOffset)+re.currentValueTotalHeight)})}function S(z){var H=z._dims;H.labelSteps=[];for(var Z=z._stepCount,re=0;re<Z;re+=H.labelStride)H.labelSteps.push({fraction:re/(Z-1),step:z._visibleSteps[re]})}function U(z,H,Z){for(var re=z.select("rect."+o.gripRectClass),ie=0,ue=0;ue<H._stepCount;ue++)if(H._visibleSteps[ue]._index===H.active){ie=ue;break}var ge=W(H,ie/(H._stepCount-1));if(!H._invokingCommand){var ee=re;Z&&H.transition.duration>0&&(ee=ee.transition().duration(H.transition.duration).ease(H.transition.easing)),ee.attr("transform",f(ge-o.gripWidth*.5,H._dims.currentValueTotalHeight))}}function W(z,H){var Z=z._dims;return Z.inputAreaStart+o.stepInset+(Z.inputAreaLength-2*o.stepInset)*Math.min(1,Math.max(0,H))}function K(z,H){var Z=z._dims;return Math.min(1,Math.max(0,(H-o.stepInset-Z.inputAreaStart)/(Z.inputAreaLength-2*o.stepInset-2*Z.inputAreaStart)))}function J(z,H,Z){var re=Z._dims,ie=r.ensureSingle(z,"rect",o.railTouchRectClass,function(ue){ue.call(Y,H,z,Z).style("pointer-events","all")});ie.attr({width:re.inputAreaLength,height:Math.max(re.inputAreaWidth,o.tickOffset+Z.ticklen+re.labelHeight)}).call(i.fill,Z.bgcolor).attr("opacity",0),n.setTranslate(ie,0,re.currentValueTotalHeight)}function ae(z,H){var Z=H._dims,re=Z.inputAreaLength-o.railInset*2,ie=r.ensureSingle(z,"rect",o.railRectClass);ie.attr({width:re,height:o.railWidth,rx:o.railRadius,ry:o.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,H.bordercolor).call(i.fill,H.bgcolor).style("stroke-width",H.borderwidth+"px"),n.setTranslate(ie,o.railInset,(Z.inputAreaWidth-o.railWidth)*.5+Z.currentValueTotalHeight)}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":196,"@plotly/d3":11}],199:[function(t,P,k){var e=t("./constants");P.exports={moduleType:"component",name:e.name,layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":195,"./constants":196,"./defaults":197,"./draw":198}],200:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=t("../../plots/plots"),n=t("../../registry"),r=t("../../lib"),f=r.strTranslate,u=t("../drawing"),s=t("../color"),o=t("../../lib/svg_text_utils"),h=t("../../constants/interactions"),p=t("../../constants/alignment").OPPOSITE_SIDE,d=/ [XY][0-9]* /;function y(g,D,C){var L=C.propContainer,x=C.propName,M=C.placeholder,v=C.traceIndex,m=C.avoid||{},A=C.attributes,V=C.transform,T=C.containerGroup,Y=g._fullLayout,G=1,S=!1,U=L.title,W=(U&&U.text?U.text:"").trim(),K=U&&U.font?U.font:{},J=K.family,ae=K.size,z=K.color,H;x==="title.text"?H="titleText":x.indexOf("axis")!==-1?H="axisTitleText":x.indexOf("colorbar"!==-1)&&(H="colorbarTitleText");var Z=g._context.edits[H];W===""?G=0:W.replace(d," % ")===M.replace(d," % ")&&(G=.2,S=!0,Z||(W="")),C._meta?W=r.templateString(W,C._meta):Y._meta&&(W=r.templateString(W,Y._meta));var re=W||Z,ie;T||(T=r.ensureSingle(Y._infolayer,"g","g-"+D),ie=Y._hColorbarMoveTitle);var ue=T.selectAll("text").data(re?[0]:[]);if(ue.enter().append("text"),ue.text(W).attr("class",D),ue.exit().remove(),!re)return T;function ge(oe){r.syncOrAsync([ee,q],oe)}function ee(oe){var Q;return!V&&ie&&(V={}),V?(Q="",V.rotate&&(Q+="rotate("+[V.rotate,A.x,A.y]+")"),(V.offset||ie)&&(Q+=f(0,(V.offset||0)-(ie||0)))):Q=null,oe.attr("transform",Q),oe.style({"font-family":J,"font-size":e.round(ae,2)+"px",fill:s.rgb(z),opacity:G*s.opacity(z),"font-weight":i.fontWeight}).attr(A).call(o.convertToTspans,g),i.previousPromises(g)}function q(oe){var Q=e.select(oe.node().parentNode);if(m&&m.selection&&m.side&&W){Q.attr("transform",null);var c=p[m.side],w=m.side==="left"||m.side==="top"?-1:1,B=a(m.pad)?m.pad:2,E=u.bBox(Q.node()),b={left:0,top:0,right:Y.width,bottom:Y.height},O=m.maxShift||w*(b[m.side]-E[m.side]),N=0;if(O<0)N=O;else{var R=m.offsetLeft||0,j=m.offsetTop||0;E.left-=R,E.right-=R,E.top-=j,E.bottom-=j,m.selection.each(function(){var fe=u.bBox(this);r.bBoxIntersect(E,fe,B)&&(N=Math.max(N,w*(fe[m.side]-E[c])+B))}),N=Math.min(O,N)}if(N>0||O<0){var se={left:[-N,0],right:[N,0],top:[0,-N],bottom:[0,N]}[m.side];Q.attr("transform",f(se[0],se[1]))}}}ue.call(ge);function ne(){G=0,S=!0,ue.text(M).on("mouseover.opacity",function(){e.select(this).transition().duration(h.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){e.select(this).transition().duration(h.HIDE_PLACEHOLDER).style("opacity",0)})}return Z&&(W?ue.on(".opacity",null):ne(),ue.call(o.makeEditable,{gd:g}).on("edit",function(oe){v!==void 0?n.call("_guiRestyle",g,x,oe,v):n.call("_guiRelayout",g,x,oe)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(ge)}).on("input",function(oe){this.text(oe||" ").call(o.positionText,A.x,A.y)})),ue.classed("js-placeholder",S),T}P.exports={draw:y}},{"../../constants/alignment":207,"../../constants/interactions":211,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"../color":102,"../drawing":124,"@plotly/d3":11,"fast-isnumeric":17}],201:[function(t,P,k){var e=t("../../plots/font_attributes"),a=t("../color/attributes"),i=t("../../lib/extend").extendFlat,n=t("../../plot_api/edit_types").overrideAll,r=t("../../plots/pad_attributes"),f=t("../../plot_api/plot_template").templatedArray,u=f("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});P.exports=n(f("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(r({editType:"arraydraw"}),{}),font:e({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:a.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},{"../../lib/extend":226,"../../plot_api/edit_types":261,"../../plot_api/plot_template":268,"../../plots/font_attributes":310,"../../plots/pad_attributes":315,"../color/attributes":101}],202:[function(t,P,k){P.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"\u25C4",right:"\u25BA",up:"\u25B2",down:"\u25BC"}}},{}],203:[function(t,P,k){var e=t("../../lib"),a=t("../../plots/array_container_defaults"),i=t("./attributes"),n=t("./constants"),r=n.name,f=i.buttons;P.exports=function(h,p){var d={name:r,handleItemDefaults:u};a(h,p,d)};function u(o,h,p){function d(D,C){return e.coerce(o,h,i,D,C)}var y=a(o,h,{name:"buttons",handleItemDefaults:s}),g=d("visible",y.length>0);!g||(d("active"),d("direction"),d("type"),d("showactive"),d("x"),d("y"),e.noneOrAll(o,h,["x","y"]),d("xanchor"),d("yanchor"),d("pad.t"),d("pad.r"),d("pad.b"),d("pad.l"),e.coerceFont(d,"font",p.font),d("bgcolor",p.paper_bgcolor),d("bordercolor"),d("borderwidth"))}function s(o,h){function p(y,g){return e.coerce(o,h,f,y,g)}var d=p("visible",o.method==="skip"||Array.isArray(o.args));d&&(p("method"),p("args"),p("args2"),p("label"),p("execute"))}},{"../../lib":232,"../../plots/array_container_defaults":274,"./attributes":201,"./constants":202}],204:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../plots/plots"),i=t("../color"),n=t("../drawing"),r=t("../../lib"),f=t("../../lib/svg_text_utils"),u=t("../../plot_api/plot_template").arrayEditor,s=t("../../constants/alignment").LINE_SPACING,o=t("./constants"),h=t("./scrollbox");P.exports=function(K){var J=K._fullLayout,ae=r.filterVisible(J[o.name]);function z(q){a.autoMargin(K,G(q))}var H=J._menulayer.selectAll("g."+o.containerClassName).data(ae.length>0?[0]:[]);if(H.enter().append("g").classed(o.containerClassName,!0).style("cursor","pointer"),H.exit().each(function(){e.select(this).selectAll("g."+o.headerGroupClassName).each(z)}).remove(),ae.length!==0){var Z=H.selectAll("g."+o.headerGroupClassName).data(ae,p);Z.enter().append("g").classed(o.headerGroupClassName,!0);for(var re=r.ensureSingle(H,"g",o.dropdownButtonGroupClassName,function(q){q.style("pointer-events","all")}),ie=0;ie<ae.length;ie++){var ue=ae[ie];Y(K,ue)}var ge="updatemenus"+J._uid,ee=new h(K,re,ge);Z.enter().size()&&(re.node().parentNode.appendChild(re.node()),re.call(U)),Z.exit().each(function(q){re.call(U),z(q)}).remove(),Z.each(function(q){var ne=e.select(this),oe=q.type==="dropdown"?re:null;a.manageCommandObserver(K,q,q.buttons,function(Q){g(K,q,q.buttons[Q.index],ne,oe,ee,Q.index,!0)}),q.type==="dropdown"?(D(K,ne,re,ee,q),y(re,q)&&C(K,ne,re,ee,q)):C(K,ne,null,null,q)})}};function p(W){return W._index}function d(W){return+W.attr(o.menuIndexAttrName)==-1}function y(W,K){return+W.attr(o.menuIndexAttrName)===K._index}function g(W,K,J,ae,z,H,Z,re){K.active=Z,u(W.layout,o.name,K).applyUpdate("active",Z),K.type==="buttons"?C(W,ae,null,null,K):K.type==="dropdown"&&(z.attr(o.menuIndexAttrName,"-1"),D(W,ae,z,H,K),re||C(W,ae,z,H,K))}function D(W,K,J,ae,z){var H=r.ensureSingle(K,"g",o.headerClassName,function(q){q.style("pointer-events","all")}),Z=z._dims,re=z.active,ie=z.buttons[re]||o.blankHeaderOpts,ue={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},ge={width:Z.headerWidth,height:Z.headerHeight};H.call(M,z,ie,W).call(S,z,ue,ge);var ee=r.ensureSingle(K,"text",o.headerArrowClassName,function(q){q.attr("text-anchor","end").call(n.font,z.font).text(o.arrowSymbol[z.direction])});ee.attr({x:Z.headerWidth-o.arrowOffsetX+z.pad.l,y:Z.headerHeight/2+o.textOffsetY+z.pad.t}),H.on("click",function(){J.call(U,String(y(J,z)?-1:z._index)),C(W,K,J,ae,z)}),H.on("mouseover",function(){H.call(V)}),H.on("mouseout",function(){H.call(T,z)}),n.setTranslate(K,Z.lx,Z.ly)}function C(W,K,J,ae,z){J||(J=K,J.attr("pointer-events","all"));var H=!d(J)||z.type==="buttons"?z.buttons:[],Z=z.type==="dropdown"?o.dropdownButtonClassName:o.buttonClassName,re=J.selectAll("g."+Z).data(r.filterVisible(H)),ie=re.enter().append("g").classed(Z,!0),ue=re.exit();z.type==="dropdown"?(ie.attr("opacity","0").transition().attr("opacity","1"),ue.transition().attr("opacity","0").remove()):ue.remove();var ge=0,ee=0,q=z._dims,ne=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ne?ee=q.headerHeight+o.gapButtonHeader:ge=q.headerWidth+o.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(ee=-o.gapButtonHeader+o.gapButton-q.openHeight),z.type==="dropdown"&&z.direction==="left"&&(ge=-o.gapButtonHeader+o.gapButton-q.openWidth);var oe={x:q.lx+ge+z.pad.l,y:q.ly+ee+z.pad.t,yPad:o.gapButton,xPad:o.gapButton,index:0},Q={l:oe.x+z.borderwidth,t:oe.y+z.borderwidth};re.each(function(c,w){var B=e.select(this);B.call(M,z,c,W).call(S,z,oe),B.on("click",function(){e.event.defaultPrevented||(c.execute&&(c.args2&&z.active===w?(g(W,z,c,K,J,ae,-1),a.executeAPICommand(W,c.method,c.args2)):(g(W,z,c,K,J,ae,w),a.executeAPICommand(W,c.method,c.args))),W.emit("plotly_buttonclicked",{menu:z,button:c,active:z.active}))}),B.on("mouseover",function(){B.call(V)}),B.on("mouseout",function(){B.call(T,z),re.call(A,z)})}),re.call(A,z),ne?(Q.w=Math.max(q.openWidth,q.headerWidth),Q.h=oe.y-Q.t):(Q.w=oe.x-Q.l,Q.h=Math.max(q.openHeight,q.headerHeight)),Q.direction=z.direction,ae&&(re.size()?L(W,K,J,ae,z,Q):x(ae))}function L(W,K,J,ae,z,H){var Z=z.direction,re=Z==="up"||Z==="down",ie=z._dims,ue=z.active,ge,ee,q;if(re)for(ee=0,q=0;q<ue;q++)ee+=ie.heights[q]+o.gapButton;else for(ge=0,q=0;q<ue;q++)ge+=ie.widths[q]+o.gapButton;ae.enable(H,ge,ee),ae.hbar&&ae.hbar.attr("opacity","0").transition().attr("opacity","1"),ae.vbar&&ae.vbar.attr("opacity","0").transition().attr("opacity","1")}function x(W){var K=!!W.hbar,J=!!W.vbar;K&&W.hbar.transition().attr("opacity","0").each("end",function(){K=!1,J||W.disable()}),J&&W.vbar.transition().attr("opacity","0").each("end",function(){J=!1,K||W.disable()})}function M(W,K,J,ae){W.call(v,K).call(m,K,J,ae)}function v(W,K){var J=r.ensureSingle(W,"rect",o.itemRectClassName,function(ae){ae.attr({rx:o.rx,ry:o.ry,"shape-rendering":"crispEdges"})});J.call(i.stroke,K.bordercolor).call(i.fill,K.bgcolor).style("stroke-width",K.borderwidth+"px")}function m(W,K,J,ae){var z=r.ensureSingle(W,"text",o.itemTextClassName,function(re){re.attr({"text-anchor":"start","data-notex":1})}),H=J.label,Z=ae._fullLayout._meta;Z&&(H=r.templateString(H,Z)),z.call(n.font,K.font).text(H).call(f.convertToTspans,ae)}function A(W,K){var J=K.active;W.each(function(ae,z){var H=e.select(this);z===J&&K.showactive&&H.select("rect."+o.itemRectClassName).call(i.fill,o.activeColor)})}function V(W){W.select("rect."+o.itemRectClassName).call(i.fill,o.hoverColor)}function T(W,K){W.select("rect."+o.itemRectClassName).call(i.fill,K.bgcolor)}function Y(W,K){var J=K._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},ae=n.tester.selectAll("g."+o.dropdownButtonClassName).data(r.filterVisible(K.buttons));ae.enter().append("g").classed(o.dropdownButtonClassName,!0);var z=["up","down"].indexOf(K.direction)!==-1;ae.each(function(ge,ee){var q=e.select(this);q.call(M,K,ge,W);var ne=q.select("."+o.itemTextClassName),oe=ne.node()&&n.bBox(ne.node()).width,Q=Math.max(oe+o.textPadX,o.minWidth),c=K.font.size*s,w=f.lineCount(ne),B=Math.max(c*w,o.minHeight)+o.textOffsetY;B=Math.ceil(B),Q=Math.ceil(Q),J.widths[ee]=Q,J.heights[ee]=B,J.height1=Math.max(J.height1,B),J.width1=Math.max(J.width1,Q),z?(J.totalWidth=Math.max(J.totalWidth,Q),J.openWidth=J.totalWidth,J.totalHeight+=B+o.gapButton,J.openHeight+=B+o.gapButton):(J.totalWidth+=Q+o.gapButton,J.openWidth+=Q+o.gapButton,J.totalHeight=Math.max(J.totalHeight,B),J.openHeight=J.totalHeight)}),z?J.totalHeight-=o.gapButton:J.totalWidth-=o.gapButton,J.headerWidth=J.width1+o.arrowPadX,J.headerHeight=J.height1,K.type==="dropdown"&&(z?(J.width1+=o.arrowPadX,J.totalHeight=J.height1):J.totalWidth=J.width1,J.totalWidth+=o.arrowPadX),ae.remove();var H=J.totalWidth+K.pad.l+K.pad.r,Z=J.totalHeight+K.pad.t+K.pad.b,re=W._fullLayout._size;J.lx=re.l+re.w*K.x,J.ly=re.t+re.h*(1-K.y);var ie="left";r.isRightAnchor(K)&&(J.lx-=H,ie="right"),r.isCenterAnchor(K)&&(J.lx-=H/2,ie="center");var ue="top";r.isBottomAnchor(K)&&(J.ly-=Z,ue="bottom"),r.isMiddleAnchor(K)&&(J.ly-=Z/2,ue="middle"),J.totalWidth=Math.ceil(J.totalWidth),J.totalHeight=Math.ceil(J.totalHeight),J.lx=Math.round(J.lx),J.ly=Math.round(J.ly),a.autoMargin(W,G(K),{x:K.x,y:K.y,l:H*({right:1,center:.5}[ie]||0),r:H*({left:1,center:.5}[ie]||0),b:Z*({top:1,middle:.5}[ue]||0),t:Z*({bottom:1,middle:.5}[ue]||0)})}function G(W){return o.autoMarginIdRoot+W._index}function S(W,K,J,ae){ae=ae||{};var z=W.select("."+o.itemRectClassName),H=W.select("."+o.itemTextClassName),Z=K.borderwidth,re=J.index,ie=K._dims;n.setTranslate(W,Z+J.x,Z+J.y);var ue=["up","down"].indexOf(K.direction)!==-1,ge=ae.height||(ue?ie.heights[re]:ie.height1);z.attr({x:0,y:0,width:ae.width||(ue?ie.width1:ie.widths[re]),height:ge});var ee=K.font.size*s,q=f.lineCount(H),ne=(q-1)*ee/2;f.positionText(H,o.textOffsetX,ge/2-ne+o.textOffsetY),ue?J.y+=ie.heights[re]+J.yPad:J.x+=ie.widths[re]+J.xPad,J.index++}function U(W,K){W.attr(o.menuIndexAttrName,K||"-1").selectAll("g."+o.dropdownButtonClassName).remove()}},{"../../constants/alignment":207,"../../lib":232,"../../lib/svg_text_utils":255,"../../plot_api/plot_template":268,"../../plots/plots":316,"../color":102,"../drawing":124,"./constants":202,"./scrollbox":206,"@plotly/d3":11}],205:[function(t,P,k){arguments[4][199][0].apply(k,arguments)},{"./attributes":201,"./constants":202,"./defaults":203,"./draw":204,dup:199}],206:[function(t,P,k){P.exports=r;var e=t("@plotly/d3"),a=t("../color"),i=t("../drawing"),n=t("../../lib");function r(f,u,s){this.gd=f,this.container=u,this.id=s,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(u,s,o){var h=this.gd._fullLayout,p=h.width,d=h.height;this.position=u;var y=this.position.l,g=this.position.w,D=this.position.t,C=this.position.h,L=this.position.direction,x=L==="down",M=L==="left",v=L==="right",m=L==="up",A=g,V=C,T,Y,G,S;!x&&!M&&!v&&!m&&(this.position.direction="down",x=!0);var U=x||m;U?(T=y,Y=T+A,x?(G=D,S=Math.min(G+V,d),V=S-G):(S=D+V,G=Math.max(S-V,0),V=S-G)):(G=D,S=G+V,M?(Y=y+A,T=Math.max(Y-A,0),A=Y-T):(T=y,Y=Math.min(T+A,p),A=Y-T)),this._box={l:T,t:G,w:A,h:V};var W=g>A,K=r.barLength+2*r.barPad,J=r.barWidth+2*r.barPad,ae=y,z=D+C;z+J>d&&(z=d-J);var H=this.container.selectAll("rect.scrollbar-horizontal").data(W?[0]:[]);H.exit().on(".drag",null).remove(),H.enter().append("rect").classed("scrollbar-horizontal",!0).call(a.fill,r.barColor),W?(this.hbar=H.attr({rx:r.barRadius,ry:r.barRadius,x:ae,y:z,width:K,height:J}),this._hbarXMin=ae+K/2,this._hbarTranslateMax=A-K):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var Z=C>V,re=r.barWidth+2*r.barPad,ie=r.barLength+2*r.barPad,ue=y+g,ge=D;ue+re>p&&(ue=p-re);var ee=this.container.selectAll("rect.scrollbar-vertical").data(Z?[0]:[]);ee.exit().on(".drag",null).remove(),ee.enter().append("rect").classed("scrollbar-vertical",!0).call(a.fill,r.barColor),Z?(this.vbar=ee.attr({rx:r.barRadius,ry:r.barRadius,x:ue,y:ge,width:re,height:ie}),this._vbarYMin=ge+ie/2,this._vbarTranslateMax=V-ie):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var q=this.id,ne=T-.5,oe=Z?Y+re+.5:Y+.5,Q=G-.5,c=W?S+J+.5:S+.5,w=h._topdefs.selectAll("#"+q).data(W||Z?[0]:[]);if(w.exit().remove(),w.enter().append("clipPath").attr("id",q).append("rect"),W||Z?(this._clipRect=w.select("rect").attr({x:Math.floor(ne),y:Math.floor(Q),width:Math.ceil(oe)-Math.floor(ne),height:Math.ceil(c)-Math.floor(Q)}),this.container.call(i.setClipUrl,q,this.gd),this.bg.attr({x:y,y:D,width:g,height:C})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),W||Z){var B=e.behavior.drag().on("dragstart",function(){e.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(B);var E=e.behavior.drag().on("dragstart",function(){e.event.sourceEvent.preventDefault(),e.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));W&&this.hbar.on(".drag",null).call(E),Z&&this.vbar.on(".drag",null).call(E)}this.setTranslate(s,o)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var u=this.translateX,s=this.translateY;this.hbar&&(u-=e.event.dx),this.vbar&&(s-=e.event.dy),this.setTranslate(u,s)},r.prototype._onBoxWheel=function(){var u=this.translateX,s=this.translateY;this.hbar&&(u+=e.event.deltaY),this.vbar&&(s+=e.event.deltaY),this.setTranslate(u,s)},r.prototype._onBarDrag=function(){var u=this.translateX,s=this.translateY;if(this.hbar){var o=u+this._hbarXMin,h=o+this._hbarTranslateMax,p=n.constrain(e.event.x,o,h),d=(p-o)/(h-o),y=this.position.w-this._box.w;u=d*y}if(this.vbar){var g=s+this._vbarYMin,D=g+this._vbarTranslateMax,C=n.constrain(e.event.y,g,D),L=(C-g)/(D-g),x=this.position.h-this._box.h;s=L*x}this.setTranslate(u,s)},r.prototype.setTranslate=function(u,s){var o=this.position.w-this._box.w,h=this.position.h-this._box.h;if(u=n.constrain(u||0,0,o),s=n.constrain(s||0,0,h),this.translateX=u,this.translateY=s,this.container.call(i.setTranslate,this._box.l-this.position.l-u,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+u-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var p=u/o;this.hbar.call(i.setTranslate,u+p*this._hbarTranslateMax,s)}if(this.vbar){var d=s/h;this.vbar.call(i.setTranslate,u,s+d*this._vbarTranslateMax)}}},{"../../lib":232,"../color":102,"../drawing":124,"@plotly/d3":11}],207:[function(t,P,k){P.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},{}],208:[function(t,P,k){P.exports={axisRefDescription:function(e,a,i){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",a,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",a,"("+i+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",a,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",a,"and the",i,"of the domain of the","second",e,"axis."].join(" ")}}},{}],209:[function(t,P,k){P.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},{}],210:[function(t,P,k){P.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},{}],211:[function(t,P,k){P.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},{}],212:[function(t,P,k){P.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"\u2212"}},{}],213:[function(t,P,k){k.xmlns="http://www.w3.org/2000/xmlns/",k.svg="http://www.w3.org/2000/svg",k.xlink="http://www.w3.org/1999/xlink",k.svgAttrs={xmlns:k.svg,"xmlns:xlink":k.xlink}},{}],214:[function(t,P,k){k.version=t("./version").version,t("native-promise-only"),t("../build/plotcss");for(var e=t("./registry"),a=k.register=e.register,i=t("./plot_api"),n=Object.keys(i),r=0;r<n.length;r++){var f=n[r];f.charAt(0)!=="_"&&(k[f]=i[f]),a({moduleType:"apiMethod",name:f,fn:i[f]})}a(t("./traces/scatter")),a([t("./components/legend"),t("./components/fx"),t("./components/annotations"),t("./components/annotations3d"),t("./components/shapes"),t("./components/images"),t("./components/updatemenus"),t("./components/sliders"),t("./components/rangeslider"),t("./components/rangeselector"),t("./components/grid"),t("./components/errorbars"),t("./components/colorscale"),t("./components/colorbar"),t("./components/modebar")]),a([t("./locale-en"),t("./locale-en-us")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(a(window.PlotlyLocales),delete window.PlotlyLocales),k.Icons=t("./fonts/ploticon");var u=t("./components/fx"),s=t("./plots/plots");k.Plots={resize:s.resize,graphJson:s.graphJson,sendDataToCloud:s.sendDataToCloud},k.Fx={hover:u.hover,unhover:u.unhover,loneHover:u.loneHover,loneUnhover:u.loneUnhover},k.Snapshot=t("./snapshot"),k.PlotSchema=t("./plot_api/plot_schema")},{"../build/plotcss":1,"./components/annotations":93,"./components/annotations3d":98,"./components/colorbar":108,"./components/colorscale":114,"./components/errorbars":130,"./components/fx":142,"./components/grid":146,"./components/images":151,"./components/legend":159,"./components/modebar":165,"./components/rangeselector":173,"./components/rangeslider":180,"./components/shapes":194,"./components/sliders":199,"./components/updatemenus":205,"./fonts/ploticon":215,"./locale-en":259,"./locale-en-us":258,"./plot_api":263,"./plot_api/plot_schema":267,"./plots/plots":316,"./registry":318,"./snapshot":323,"./traces/scatter":370,"./version":391,"native-promise-only":54}],215:[function(t,P,k){P.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},{}],216:[function(t,P,k){k.isLeftAnchor=function(a){return a.xanchor==="left"||a.xanchor==="auto"&&a.x<=1/3},k.isCenterAnchor=function(a){return a.xanchor==="center"||a.xanchor==="auto"&&a.x>1/3&&a.x<2/3},k.isRightAnchor=function(a){return a.xanchor==="right"||a.xanchor==="auto"&&a.x>=2/3},k.isTopAnchor=function(a){return a.yanchor==="top"||a.yanchor==="auto"&&a.y>=2/3},k.isMiddleAnchor=function(a){return a.yanchor==="middle"||a.yanchor==="auto"&&a.y>1/3&&a.y<2/3},k.isBottomAnchor=function(a){return a.yanchor==="bottom"||a.yanchor==="auto"&&a.y<=1/3}},{}],217:[function(t,P,k){var e=t("./mod"),a=e.mod,i=e.modHalf,n=Math.PI,r=2*n;function f(L){return L/180*n}function u(L){return L/n*180}function s(L){return Math.abs(L[1]-L[0])>r-1e-14}function o(L,x){return i(x-L,r)}function h(L,x){return Math.abs(o(L,x))}function p(L,x){if(s(x))return!0;var M,v;x[0]<x[1]?(M=x[0],v=x[1]):(M=x[1],v=x[0]),M=a(M,r),v=a(v,r),M>v&&(v+=r);var m=a(L,r),A=m+r;return m>=M&&m<=v||A>=M&&A<=v}function d(L,x,M,v){if(!p(x,v))return!1;var m,A;return M[0]<M[1]?(m=M[0],A=M[1]):(m=M[1],A=M[0]),L>=m&&L<=A}function y(L,x,M,v,m,A,V){m=m||0,A=A||0;var T=s([M,v]),Y,G,S,U,W;T?(Y=0,G=n,S=r):M<v?(Y=M,S=v):(Y=v,S=M),L<x?(U=L,W=x):(U=x,W=L);function K(H,Z){return[H*Math.cos(Z)+m,A-H*Math.sin(Z)]}var J=Math.abs(S-Y)<=n?0:1;function ae(H,Z,re){return"A"+[H,H]+" "+[0,J,re]+" "+K(H,Z)}var z;return T?U===null?z="M"+K(W,Y)+ae(W,G,0)+ae(W,S,0)+"Z":z="M"+K(U,Y)+ae(U,G,0)+ae(U,S,0)+"ZM"+K(W,Y)+ae(W,G,1)+ae(W,S,1)+"Z":U===null?(z="M"+K(W,Y)+ae(W,S,0),V&&(z+="L0,0Z")):z="M"+K(U,Y)+"L"+K(W,Y)+ae(W,S,0)+"L"+K(U,S)+ae(U,Y,1)+"Z",z}function g(L,x,M,v,m){return y(null,L,x,M,v,m,0)}function D(L,x,M,v,m){return y(null,L,x,M,v,m,1)}function C(L,x,M,v,m,A){return y(L,x,M,v,m,A,1)}P.exports={deg2rad:f,rad2deg:u,angleDelta:o,angleDist:h,isFullCircle:s,isAngleInsideSector:p,isPtInsideSector:d,pathArc:g,pathSector:D,pathAnnulus:C}},{"./mod":239}],218:[function(t,P,k){var e=Array.isArray,a=ArrayBuffer,i=DataView;function n(s){return a.isView(s)&&!(s instanceof i)}k.isTypedArray=n;function r(s){return e(s)||n(s)}k.isArrayOrTypedArray=r;function f(s){return!r(s[0])}k.isArray1D=f,k.ensureArray=function(s,o){return e(s)||(s=[]),s.length=o,s},k.concat=function(){var s=[],o=!0,h=0,p,d,y,g,D,C,L,x;for(y=0;y<arguments.length;y++)g=arguments[y],C=g.length,C&&(d?s.push(g):(d=g,D=C),e(g)?p=!1:(o=!1,h?p!==g.constructor&&(p=!1):p=g.constructor),h+=C);if(!h)return[];if(!s.length)return d;if(o)return d.concat.apply(d,s);if(p){for(L=new p(h),L.set(d),y=0;y<s.length;y++)g=s[y],L.set(g,D),D+=g.length;return L}for(L=new Array(h),x=0;x<d.length;x++)L[x]=d[x];for(y=0;y<s.length;y++){for(g=s[y],x=0;x<g.length;x++)L[D+x]=g[x];D+=x}return L},k.maxRowLength=function(s){return u(s,Math.max,0)},k.minRowLength=function(s){return u(s,Math.min,1/0)};function u(s,o,h){if(r(s))if(r(s[0])){for(var p=h,d=0;d<s.length;d++)p=o(p,s[d].length);return p}else return s.length;return 0}},{}],219:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../constants/numerical").BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;P.exports=function(r){return typeof r=="string"&&(r=r.replace(i,"")),e(r)?Number(r):a}},{"../constants/numerical":212,"fast-isnumeric":17}],220:[function(t,P,k){P.exports=function(a){var i=a._fullLayout;i._glcanvas&&i._glcanvas.size()&&i._glcanvas.each(function(n){n.regl&&n.regl.clear({color:!0,depth:!0})})}},{}],221:[function(t,P,k){P.exports=function(a){a._responsiveChartHandler&&(window.removeEventListener("resize",a._responsiveChartHandler),delete a._responsiveChartHandler)}},{}],222:[function(t,P,k){var e=t("fast-isnumeric"),a=t("tinycolor2"),i=t("../plots/attributes"),n=t("../components/colorscale/scales"),r=t("../components/color"),f=t("../constants/interactions").DESELECTDIM,u=t("./nested_property"),s=t("./regex").counter,o=t("./mod").modHalf,h=t("./array").isArrayOrTypedArray;k.valObjectMeta={data_array:{coerceFunction:function(d,y,g){h(d)?y.set(d):g!==void 0&&y.set(g)}},enumerated:{coerceFunction:function(d,y,g,D){D.coerceNumber&&(d=+d),D.values.indexOf(d)===-1?y.set(g):y.set(d)},validateFunction:function(d,y){y.coerceNumber&&(d=+d);for(var g=y.values,D=0;D<g.length;D++){var C=String(g[D]);if(C.charAt(0)==="/"&&C.charAt(C.length-1)==="/"){var L=new RegExp(C.substr(1,C.length-2));if(L.test(d))return!0}else if(d===g[D])return!0}return!1}},boolean:{coerceFunction:function(d,y,g){d===!0||d===!1?y.set(d):y.set(g)}},number:{coerceFunction:function(d,y,g,D){!e(d)||D.min!==void 0&&d<D.min||D.max!==void 0&&d>D.max?y.set(g):y.set(+d)}},integer:{coerceFunction:function(d,y,g,D){d%1||!e(d)||D.min!==void 0&&d<D.min||D.max!==void 0&&d>D.max?y.set(g):y.set(+d)}},string:{coerceFunction:function(d,y,g,D){if(typeof d!="string"){var C=typeof d=="number";D.strict===!0||!C?y.set(g):y.set(String(d))}else D.noBlank&&!d?y.set(g):y.set(d)}},color:{coerceFunction:function(d,y,g){a(d).isValid()?y.set(d):y.set(g)}},colorlist:{coerceFunction:function(d,y,g){function D(C){return a(C).isValid()}!Array.isArray(d)||!d.length?y.set(g):d.every(D)?y.set(d):y.set(g)}},colorscale:{coerceFunction:function(d,y,g){y.set(n.get(d,g))}},angle:{coerceFunction:function(d,y,g){d==="auto"?y.set("auto"):e(d)?y.set(o(+d,360)):y.set(g)}},subplotid:{coerceFunction:function(d,y,g,D){var C=D.regex||s(g);if(typeof d=="string"&&C.test(d)){y.set(d);return}y.set(g)},validateFunction:function(d,y){var g=y.dflt;return d===g?!0:typeof d!="string"?!1:!!s(g).test(d)}},flaglist:{coerceFunction:function(d,y,g,D){if(typeof d!="string"){y.set(g);return}if((D.extras||[]).indexOf(d)!==-1){y.set(d);return}for(var C=d.split("+"),L=0;L<C.length;){var x=C[L];D.flags.indexOf(x)===-1||C.indexOf(x)<L?C.splice(L,1):L++}C.length?y.set(C.join("+")):y.set(g)}},any:{coerceFunction:function(d,y,g){d===void 0?y.set(g):y.set(d)}},info_array:{coerceFunction:function(d,y,g,D){function C(K,J,ae){var z,H={set:function(Z){z=Z}};return ae===void 0&&(ae=J.dflt),k.valObjectMeta[J.valType].coerceFunction(K,H,ae,J),z}var L=D.dimensions===2||D.dimensions==="1-2"&&Array.isArray(d)&&Array.isArray(d[0]);if(!Array.isArray(d)){y.set(g);return}var x=D.items,M=[],v=Array.isArray(x),m=v&&L&&Array.isArray(x[0]),A=L&&v&&!m,V=v&&!A?x.length:d.length,T,Y,G,S,U,W;if(g=Array.isArray(g)?g:[],L)for(T=0;T<V;T++)for(M[T]=[],G=Array.isArray(d[T])?d[T]:[],A?U=x.length:v?U=x[T].length:U=G.length,Y=0;Y<U;Y++)A?S=x[Y]:v?S=x[T][Y]:S=x,W=C(G[Y],S,(g[T]||[])[Y]),W!==void 0&&(M[T][Y]=W);else for(T=0;T<V;T++)W=C(d[T],v?x[T]:x,g[T]),W!==void 0&&(M[T]=W);y.set(M)},validateFunction:function(d,y){if(!Array.isArray(d))return!1;var g=y.items,D=Array.isArray(g),C=y.dimensions===2;if(!y.freeLength&&d.length!==g.length)return!1;for(var L=0;L<d.length;L++)if(C){if(!Array.isArray(d[L])||!y.freeLength&&d[L].length!==g[L].length)return!1;for(var x=0;x<d[L].length;x++)if(!p(d[L][x],D?g[L][x]:g))return!1}else if(!p(d[L],D?g[L]:g))return!1;return!0}}},k.coerce=function(d,y,g,D,C){var L=u(g,D).get(),x=u(d,D),M=u(y,D),v=x.get(),m=y._template;if(v===void 0&&m&&(v=u(m,D).get(),m=0),C===void 0&&(C=L.dflt),L.arrayOk&&h(v))return M.set(v),v;var A=k.valObjectMeta[L.valType].coerceFunction;A(v,M,C,L);var V=M.get();return m&&V===C&&!p(v,L)&&(v=u(m,D).get(),A(v,M,C,L),V=M.get()),V},k.coerce2=function(d,y,g,D,C){var L=u(d,D),x=k.coerce(d,y,g,D,C),M=L.get();return M!=null?x:!1},k.coerceFont=function(d,y,g){var D={};return g=g||{},D.family=d(y+".family",g.family),D.size=d(y+".size",g.size),D.color=d(y+".color",g.color),D},k.coercePattern=function(d,y,g,D){var C=d(y+".shape");if(C){d(y+".solidity"),d(y+".size");var L=d(y+".fillmode"),x=L==="overlay";if(!D){var M=d(y+".bgcolor",x?g:void 0);d(y+".fgcolor",x?r.contrast(M):g)}d(y+".fgopacity",x?.5:1)}},k.coerceHoverinfo=function(d,y,g){var D=y._module.attributes,C=D.hoverinfo?D:i,L=C.hoverinfo,x;if(g._dataLength===1){var M=L.dflt==="all"?L.flags.slice():L.dflt.split("+");M.splice(M.indexOf("name"),1),x=M.join("+")}return k.coerce(d,y,C,"hoverinfo",x)},k.coerceSelectionMarkerOpacity=function(d,y){if(!!d.marker){var g=d.marker.opacity;if(g!==void 0){var D,C;!h(g)&&!d.selected&&!d.unselected&&(D=g,C=f*g),y("selected.marker.opacity",D),y("unselected.marker.opacity",C)}}};function p(d,y){var g=k.valObjectMeta[y.valType];if(y.arrayOk&&h(d))return!0;if(g.validateFunction)return g.validateFunction(d,y);var D={},C=D,L={set:function(x){C=x}};return g.coerceFunction(d,L,D,y),C!==D}k.validate=p},{"../components/color":102,"../components/colorscale/scales":117,"../constants/interactions":211,"../plots/attributes":275,"./array":218,"./mod":239,"./nested_property":240,"./regex":248,"fast-isnumeric":17,tinycolor2:67}],223:[function(t,P,k){var e=t("d3-time-format").timeFormat,a=t("fast-isnumeric"),i=t("./loggers"),n=t("./mod").mod,r=t("../constants/numerical"),f=r.BADNUM,u=r.ONEDAY,s=r.ONEHOUR,o=r.ONEMIN,h=r.ONESEC,p=r.EPOCHJD,d=t("../registry"),y=t("d3-time-format").utcFormat,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,D=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,C=new Date().getFullYear()-70;function L(z){return z&&d.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}k.dateTick0=function(z,H){var Z=x(z,!!H);if(H<2)return Z;var re=k.dateTime2ms(Z,z);return re+=u*(H-1),k.ms2DateTime(re,0,z)};function x(z,H){return L(z)?H?d.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:d.getComponentMethod("calendars","CANONICAL_TICK")[z]:H?"2000-01-02":"2000-01-01"}k.dfltRange=function(z){return L(z)?d.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},k.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var M,v;k.dateTime2ms=function(z,H){if(k.isJSDate(z)){var Z=z.getTimezoneOffset()*o,re=(z.getUTCMinutes()-z.getMinutes())*o+(z.getUTCSeconds()-z.getSeconds())*h+(z.getUTCMilliseconds()-z.getMilliseconds());if(re){var ie=3*o;Z=Z-ie/2+n(re-Z+ie/2,ie)}return z=Number(z)-Z,z>=M&&z<=v?z:f}if(typeof z!="string"&&typeof z!="number")return f;z=String(z);var ue=L(H),ge=z.charAt(0);ue&&(ge==="G"||ge==="g")&&(z=z.substr(1),H="");var ee=ue&&H.substr(0,7)==="chinese",q=z.match(ee?D:g);if(!q)return f;var ne=q[1],oe=q[3]||"1",Q=Number(q[5]||1),c=Number(q[7]||0),w=Number(q[9]||0),B=Number(q[11]||0);if(ue){if(ne.length===2)return f;ne=Number(ne);var E;try{var b=d.getComponentMethod("calendars","getCal")(H);if(ee){var O=oe.charAt(oe.length-1)==="i";oe=parseInt(oe,10),E=b.newDate(ne,b.toMonthIndex(ne,oe,O),Q)}else E=b.newDate(ne,Number(oe),Q)}catch{return f}return E?(E.toJD()-p)*u+c*s+w*o+B*h:f}ne.length===2?ne=(Number(ne)+2e3-C)%100+C:ne=Number(ne),oe-=1;var N=new Date(Date.UTC(2e3,oe,Q,c,w));return N.setUTCFullYear(ne),N.getUTCMonth()!==oe||N.getUTCDate()!==Q?f:N.getTime()+B*h},M=k.MIN_MS=k.dateTime2ms("-9999"),v=k.MAX_MS=k.dateTime2ms("9999-12-31 23:59:59.9999"),k.isDateTime=function(z,H){return k.dateTime2ms(z,H)!==f};function m(z,H){return String(z+Math.pow(10,H)).substr(1)}var A=90*u,V=3*s,T=5*o;k.ms2DateTime=function(z,H,Z){if(typeof z!="number"||!(z>=M&&z<=v))return f;H||(H=0);var re=Math.floor(n(z+.05,1)*10),ie=Math.round(z-re/10),ue,ge,ee,q,ne,oe;if(L(Z)){var Q=Math.floor(ie/u)+p,c=Math.floor(n(z,u));try{ue=d.getComponentMethod("calendars","getCal")(Z).fromJD(Q).formatDate("yyyy-mm-dd")}catch{ue=y("G%Y-%m-%d")(new Date(ie))}if(ue.charAt(0)==="-")for(;ue.length<11;)ue="-0"+ue.substr(1);else for(;ue.length<10;)ue="0"+ue;ge=H<A?Math.floor(c/s):0,ee=H<A?Math.floor(c%s/o):0,q=H<V?Math.floor(c%o/h):0,ne=H<T?c%h*10+re:0}else oe=new Date(ie),ue=y("%Y-%m-%d")(oe),ge=H<A?oe.getUTCHours():0,ee=H<A?oe.getUTCMinutes():0,q=H<V?oe.getUTCSeconds():0,ne=H<T?oe.getUTCMilliseconds()*10+re:0;return Y(ue,ge,ee,q,ne)},k.ms2DateTimeLocal=function(z){if(!(z>=M+u&&z<=v-u))return f;var H=Math.floor(n(z+.05,1)*10),Z=new Date(Math.round(z-H/10)),re=e("%Y-%m-%d")(Z),ie=Z.getHours(),ue=Z.getMinutes(),ge=Z.getSeconds(),ee=Z.getUTCMilliseconds()*10+H;return Y(re,ie,ue,ge,ee)};function Y(z,H,Z,re,ie){if((H||Z||re||ie)&&(z+=" "+m(H,2)+":"+m(Z,2),(re||ie)&&(z+=":"+m(re,2),ie))){for(var ue=4;ie%10==0;)ue-=1,ie/=10;z+="."+m(ie,ue)}return z}k.cleanDate=function(z,H,Z){if(z===f)return H;if(k.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(L(Z))return i.error("JS Dates and milliseconds are incompatible with world calendars",z),H;if(z=k.ms2DateTimeLocal(+z),!z&&H!==void 0)return H}else if(!k.isDateTime(z,Z))return i.error("unrecognized date",z),H;return z};var G=/%\d?f/g,S=/%h/g,U={"1":"1","2":"1","3":"2","4":"2"};function W(z,H,Z,re){z=z.replace(G,function(ue){var ge=Math.min(+ue.charAt(1)||6,6),ee=(H/1e3%1+2).toFixed(ge).substr(2).replace(/0+$/,"")||"0";return ee});var ie=new Date(Math.floor(H+.05));if(z=z.replace(S,function(){return U[Z("%q")(ie)]}),L(re))try{z=d.getComponentMethod("calendars","worldCalFmt")(z,H,re)}catch{return"Invalid"}return Z(z)(ie)}var K=[59,59.9,59.99,59.999,59.9999];function J(z,H){var Z=n(z+.05,u),re=m(Math.floor(Z/s),2)+":"+m(n(Math.floor(Z/o),60),2);if(H!=="M"){a(H)||(H=0);var ie=Math.min(n(z/h,60),K[H]),ue=(100+ie).toFixed(H).substr(1);H>0&&(ue=ue.replace(/0+$/,"").replace(/[\.]$/,"")),re+=":"+ue}return re}k.formatDate=function(z,H,Z,re,ie,ue){if(ie=L(ie)&&ie,!H)if(Z==="y")H=ue.year;else if(Z==="m")H=ue.month;else if(Z==="d")H=ue.dayMonth+`
`+ue.year;else return J(z,Z)+`
`+W(ue.dayMonthYear,z,re,ie);return W(H,z,re,ie)};var ae=3*u;k.incrementMonth=function(z,H,Z){Z=L(Z)&&Z;var re=n(z,u);if(z=Math.round(z-re),Z)try{var ie=Math.round(z/u)+p,ue=d.getComponentMethod("calendars","getCal")(Z),ge=ue.fromJD(ie);return H%12?ue.add(ge,H,"m"):ue.add(ge,H/12,"y"),(ge.toJD()-p)*u+re}catch{i.error("invalid ms "+z+" in calendar "+Z)}var ee=new Date(z+ae);return ee.setUTCMonth(ee.getUTCMonth()+H)+re-ae},k.findExactDates=function(z,H){for(var Z=0,re=0,ie=0,ue=0,ge,ee,q=L(H)&&d.getComponentMethod("calendars","getCal")(H),ne=0;ne<z.length;ne++){if(ee=z[ne],!a(ee)){ue++;continue}if(!(ee%u))if(q)try{ge=q.fromJD(ee/u+p),ge.day()===1?ge.month()===1?Z++:re++:ie++}catch{}else ge=new Date(ee),ge.getUTCDate()===1?ge.getUTCMonth()===0?Z++:re++:ie++}re+=Z,ie+=re;var oe=z.length-ue;return{exactYears:Z/oe,exactMonths:re/oe,exactDays:ie/oe}}},{"../constants/numerical":212,"../registry":318,"./loggers":236,"./mod":239,"d3-time-format":14,"fast-isnumeric":17}],224:[function(t,P,k){var e=t("@plotly/d3"),a=t("./loggers"),i=t("./matrix"),n=t("gl-mat4");function r(C){var L;if(typeof C=="string"){if(L=document.getElementById(C),L===null)throw new Error("No DOM element with id '"+C+"' exists on the page.");return L}else if(C==null)throw new Error("DOM element provided is null or undefined");return C}function f(C){var L=e.select(C);return L.node()instanceof HTMLElement&&L.size()&&L.classed("js-plotly-plot")}function u(C){var L=C&&C.parentNode;L&&L.removeChild(C)}function s(C,L){o("global",C,L)}function o(C,L,x){var M="plotly.js-style-"+C,v=document.getElementById(M);v||(v=document.createElement("style"),v.setAttribute("id",M),v.appendChild(document.createTextNode("")),document.head.appendChild(v));var m=v.sheet;m.insertRule?m.insertRule(L+"{"+x+"}",0):m.addRule?m.addRule(L,x,0):a.warn("addStyleRule failed")}function h(C){var L="plotly.js-style-"+C,x=document.getElementById(L);x&&u(x)}function p(C){var L=y(C),x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return L.forEach(function(M){var v=d(M);if(v){var m=i.convertCssMatrix(v);x=n.multiply(x,x,m)}}),x}function d(C){var L=window.getComputedStyle(C,null),x=L.getPropertyValue("-webkit-transform")||L.getPropertyValue("-moz-transform")||L.getPropertyValue("-ms-transform")||L.getPropertyValue("-o-transform")||L.getPropertyValue("transform");return x==="none"?null:x.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(M){return+M})}function y(C){for(var L=[];g(C);)L.push(C),C=C.parentNode;return L}function g(C){return C&&(C instanceof Element||C instanceof HTMLElement)}function D(C,L){return C&&L&&C.x===L.x&&C.y===L.y&&C.top===L.top&&C.left===L.left&&C.right===L.right&&C.bottom===L.bottom}P.exports={getGraphDiv:r,isPlotDiv:f,removeElement:u,addStyleRule:s,addRelatedStyleRule:o,deleteRelatedStyleRule:h,getFullTransformMatrix:p,getElementTransformMatrix:d,getElementAndAncestors:y,equalDomRects:D}},{"./loggers":236,"./matrix":238,"@plotly/d3":11,"gl-mat4":33}],225:[function(t,P,k){var e=t("events").EventEmitter,a={init:function(i){if(i._ev instanceof e)return i;var n=new e,r=new e;return i._ev=n,i._internalEv=r,i.on=n.on.bind(n),i.once=n.once.bind(n),i.removeListener=n.removeListener.bind(n),i.removeAllListeners=n.removeAllListeners.bind(n),i._internalOn=r.on.bind(r),i._internalOnce=r.once.bind(r),i._removeInternalListener=r.removeListener.bind(r),i._removeAllInternalListeners=r.removeAllListeners.bind(r),i.emit=function(f,u){typeof jQuery!="undefined"&&jQuery(i).trigger(f,u),n.emit(f,u),r.emit(f,u)},i},triggerHandler:function(i,n,r){var f,u;typeof jQuery!="undefined"&&(f=jQuery(i).triggerHandler(n,r));var s=i._ev;if(!s)return f;var o=s._events[n];if(!o)return f;function h(d){if(d.listener){if(s.removeListener(n,d.listener),!d.fired)return d.fired=!0,d.listener.apply(s,[r])}else return d.apply(s,[r])}o=Array.isArray(o)?o:[o];var p;for(p=0;p<o.length-1;p++)h(o[p]);return u=h(o[p]),f!==void 0?f:u},purge:function(i){return delete i._ev,delete i.on,delete i.once,delete i.removeListener,delete i.removeAllListeners,delete i.emit,delete i._ev,delete i._internalEv,delete i._internalOn,delete i._internalOnce,delete i._removeInternalListener,delete i._removeAllInternalListeners,i}};P.exports=a},{events:12}],226:[function(t,P,k){var e=t("./is_plain_object.js"),a=Array.isArray;function i(r,f){var u,s;for(u=0;u<r.length;u++){if(s=r[u],s!==null&&typeof s=="object")return!1;s!==void 0&&(f[u]=s)}return!0}k.extendFlat=function(){return n(arguments,!1,!1,!1)},k.extendDeep=function(){return n(arguments,!0,!1,!1)},k.extendDeepAll=function(){return n(arguments,!0,!0,!1)},k.extendDeepNoArrays=function(){return n(arguments,!0,!1,!0)};function n(r,f,u,s){var o=r[0],h=r.length,p,d,y,g,D,C,L;if(h===2&&a(o)&&a(r[1])&&o.length===0){if(L=i(r[1],o),L)return o;o.splice(0,o.length)}for(var x=1;x<h;x++){p=r[x];for(d in p)y=o[d],g=p[d],s&&a(g)?o[d]=g:f&&g&&(e(g)||(D=a(g)))?(D?(D=!1,C=y&&a(y)?y:[]):C=y&&e(y)?y:{},o[d]=n([C,g],f,u,s)):(typeof g!="undefined"||u)&&(o[d]=g)}return o}},{"./is_plain_object.js":233}],227:[function(t,P,k){P.exports=function(a){for(var i={},n=[],r=0,f=0;f<a.length;f++){var u=a[f];i[u]!==1&&(i[u]=1,n[r++]=u)}return n}},{}],228:[function(t,P,k){P.exports=function(r){for(var f=i(r)?a:e,u=[],s=0;s<r.length;s++){var o=r[s];f(o)&&u.push(o)}return u};function e(n){return n.visible===!0}function a(n){var r=n[0].trace;return r.visible===!0&&r._length!==0}function i(n){return Array.isArray(n)&&Array.isArray(n[0])&&n[0][0]&&n[0][0].trace}},{}],229:[function(t,P,k){var e=t("./mod").mod;k.segmentsIntersect=a;function a(u,s,o,h,p,d,y,g){var D=o-u,C=p-u,L=y-p,x=h-s,M=d-s,v=g-d,m=D*v-L*x;if(m===0)return null;var A=(C*v-L*M)/m,V=(C*x-D*M)/m;return V<0||V>1||A<0||A>1?null:{x:u+D*A,y:s+x*A}}k.segmentDistance=function(s,o,h,p,d,y,g,D){if(a(s,o,h,p,d,y,g,D))return 0;var C=h-s,L=p-o,x=g-d,M=D-y,v=C*C+L*L,m=x*x+M*M,A=Math.min(i(C,L,v,d-s,y-o),i(C,L,v,g-s,D-o),i(x,M,m,s-d,o-y),i(x,M,m,h-d,p-y));return Math.sqrt(A)};function i(u,s,o,h,p){var d=h*u+p*s;if(d<0)return h*h+p*p;if(d>o){var y=h-u,g=p-s;return y*y+g*g}else{var D=h*s-p*u;return D*D/o}}var n,r,f;k.getTextLocation=function(s,o,h,p){if((s!==r||p!==f)&&(n={},r=s,f=p),n[h])return n[h];var d=s.getPointAtLength(e(h-p/2,o)),y=s.getPointAtLength(e(h+p/2,o)),g=Math.atan((y.y-d.y)/(y.x-d.x)),D=s.getPointAtLength(e(h,o)),C=(D.x*4+d.x+y.x)/6,L=(D.y*4+d.y+y.y)/6,x={x:C,y:L,theta:g};return n[h]=x,x},k.clearLocationCache=function(){r=null},k.getVisibleSegment=function(s,o,h){var p=o.left,d=o.right,y=o.top,g=o.bottom,D=0,C=s.getTotalLength(),L=C,x,M;function v(A){var V=s.getPointAtLength(A);A===0?x=V:A===C&&(M=V);var T=V.x<p?p-V.x:V.x>d?V.x-d:0,Y=V.y<y?y-V.y:V.y>g?V.y-g:0;return Math.sqrt(T*T+Y*Y)}for(var m=v(D);m;){if(D+=m+h,D>L)return;m=v(D)}for(m=v(L);m;){if(L-=m+h,D>L)return;m=v(L)}return{min:D,max:L,len:L-D,total:C,isClosed:D===0&&L===C&&Math.abs(x.x-M.x)<.1&&Math.abs(x.y-M.y)<.1}},k.findPointOnPath=function(s,o,h,p){p=p||{};for(var d=p.pathLength||s.getTotalLength(),y=p.tolerance||.001,g=p.iterationLimit||30,D=s.getPointAtLength(0)[h]>s.getPointAtLength(d)[h]?-1:1,C=0,L=0,x=d,M,v,m;C<g;){if(M=(L+x)/2,v=s.getPointAtLength(M),m=v[h]-o,Math.abs(m)<y)return v;D*m>0?x=M:L=M,C++}return v}},{"./mod":239}],230:[function(t,P,k){P.exports=function(a){return a}},{}],231:[function(t,P,k){P.exports=function(a,i){if(!i)return a;var n=1/Math.abs(i),r=n>1?(n*a+n*i)/n:a+i,f=String(r).length;if(f>16){var u=String(i).length,s=String(a).length;if(f>=s+u){var o=parseFloat(r).toPrecision(12);o.indexOf("e+")===-1&&(r=+o)}}return r}},{}],232:[function(t,P,k){var e=t("@plotly/d3"),a=t("d3-time-format").utcFormat,i=t("d3-format").format,n=t("fast-isnumeric"),r=t("../constants/numerical"),f=r.FP_SAFE,u=-f,s=r.BADNUM,o=P.exports={};o.adjustFormat=function(oe){return!oe||/^\d[.]\df/.test(oe)||/[.]\d%/.test(oe)?oe:oe==="0.f"?"~f":/^\d%/.test(oe)?"~%":/^\ds/.test(oe)?"~s":!/^[~,.0$]/.test(oe)&&/[&fps]/.test(oe)?"~"+oe:oe};var h={};o.warnBadFormat=function(ne){var oe=String(ne);h[oe]||(h[oe]=1,o.warn('encountered bad format: "'+oe+'"'))},o.noFormat=function(ne){return String(ne)},o.numberFormat=function(ne){var oe;try{oe=i(o.adjustFormat(ne))}catch{return o.warnBadFormat(ne),o.noFormat}return oe},o.nestedProperty=t("./nested_property"),o.keyedContainer=t("./keyed_container"),o.relativeAttr=t("./relative_attr"),o.isPlainObject=t("./is_plain_object"),o.toLogRange=t("./to_log_range"),o.relinkPrivateKeys=t("./relink_private");var p=t("./array");o.isTypedArray=p.isTypedArray,o.isArrayOrTypedArray=p.isArrayOrTypedArray,o.isArray1D=p.isArray1D,o.ensureArray=p.ensureArray,o.concat=p.concat,o.maxRowLength=p.maxRowLength,o.minRowLength=p.minRowLength;var d=t("./mod");o.mod=d.mod,o.modHalf=d.modHalf;var y=t("./coerce");o.valObjectMeta=y.valObjectMeta,o.coerce=y.coerce,o.coerce2=y.coerce2,o.coerceFont=y.coerceFont,o.coercePattern=y.coercePattern,o.coerceHoverinfo=y.coerceHoverinfo,o.coerceSelectionMarkerOpacity=y.coerceSelectionMarkerOpacity,o.validate=y.validate;var g=t("./dates");o.dateTime2ms=g.dateTime2ms,o.isDateTime=g.isDateTime,o.ms2DateTime=g.ms2DateTime,o.ms2DateTimeLocal=g.ms2DateTimeLocal,o.cleanDate=g.cleanDate,o.isJSDate=g.isJSDate,o.formatDate=g.formatDate,o.incrementMonth=g.incrementMonth,o.dateTick0=g.dateTick0,o.dfltRange=g.dfltRange,o.findExactDates=g.findExactDates,o.MIN_MS=g.MIN_MS,o.MAX_MS=g.MAX_MS;var D=t("./search");o.findBin=D.findBin,o.sorterAsc=D.sorterAsc,o.sorterDes=D.sorterDes,o.distinctVals=D.distinctVals,o.roundUp=D.roundUp,o.sort=D.sort,o.findIndexOfMin=D.findIndexOfMin,o.sortObjectKeys=t("./sort_object_keys");var C=t("./stats");o.aggNums=C.aggNums,o.len=C.len,o.mean=C.mean,o.median=C.median,o.midRange=C.midRange,o.variance=C.variance,o.stdev=C.stdev,o.interp=C.interp;var L=t("./matrix");o.init2dArray=L.init2dArray,o.transposeRagged=L.transposeRagged,o.dot=L.dot,o.translationMatrix=L.translationMatrix,o.rotationMatrix=L.rotationMatrix,o.rotationXYMatrix=L.rotationXYMatrix,o.apply3DTransform=L.apply3DTransform,o.apply2DTransform=L.apply2DTransform,o.apply2DTransform2=L.apply2DTransform2,o.convertCssMatrix=L.convertCssMatrix,o.inverseTransformMatrix=L.inverseTransformMatrix;var x=t("./angles");o.deg2rad=x.deg2rad,o.rad2deg=x.rad2deg,o.angleDelta=x.angleDelta,o.angleDist=x.angleDist,o.isFullCircle=x.isFullCircle,o.isAngleInsideSector=x.isAngleInsideSector,o.isPtInsideSector=x.isPtInsideSector,o.pathArc=x.pathArc,o.pathSector=x.pathSector,o.pathAnnulus=x.pathAnnulus;var M=t("./anchor_utils");o.isLeftAnchor=M.isLeftAnchor,o.isCenterAnchor=M.isCenterAnchor,o.isRightAnchor=M.isRightAnchor,o.isTopAnchor=M.isTopAnchor,o.isMiddleAnchor=M.isMiddleAnchor,o.isBottomAnchor=M.isBottomAnchor;var v=t("./geometry2d");o.segmentsIntersect=v.segmentsIntersect,o.segmentDistance=v.segmentDistance,o.getTextLocation=v.getTextLocation,o.clearLocationCache=v.clearLocationCache,o.getVisibleSegment=v.getVisibleSegment,o.findPointOnPath=v.findPointOnPath;var m=t("./extend");o.extendFlat=m.extendFlat,o.extendDeep=m.extendDeep,o.extendDeepAll=m.extendDeepAll,o.extendDeepNoArrays=m.extendDeepNoArrays;var A=t("./loggers");o.log=A.log,o.warn=A.warn,o.error=A.error;var V=t("./regex");o.counterRegex=V.counter;var T=t("./throttle");o.throttle=T.throttle,o.throttleDone=T.done,o.clearThrottle=T.clear;var Y=t("./dom");o.getGraphDiv=Y.getGraphDiv,o.isPlotDiv=Y.isPlotDiv,o.removeElement=Y.removeElement,o.addStyleRule=Y.addStyleRule,o.addRelatedStyleRule=Y.addRelatedStyleRule,o.deleteRelatedStyleRule=Y.deleteRelatedStyleRule,o.getFullTransformMatrix=Y.getFullTransformMatrix,o.getElementTransformMatrix=Y.getElementTransformMatrix,o.getElementAndAncestors=Y.getElementAndAncestors,o.equalDomRects=Y.equalDomRects,o.clearResponsive=t("./clear_responsive"),o.preserveDrawingBuffer=t("./preserve_drawing_buffer"),o.makeTraceGroups=t("./make_trace_groups"),o._=t("./localize"),o.notifier=t("./notifier"),o.filterUnique=t("./filter_unique"),o.filterVisible=t("./filter_visible"),o.pushUnique=t("./push_unique"),o.increment=t("./increment"),o.cleanNumber=t("./clean_number"),o.ensureNumber=function(oe){return n(oe)?(oe=Number(oe),oe>f||oe<u?s:oe):s},o.isIndex=function(ne,oe){return oe!==void 0&&ne>=oe?!1:n(ne)&&ne>=0&&ne%1==0},o.noop=t("./noop"),o.identity=t("./identity"),o.repeat=function(ne,oe){for(var Q=new Array(oe),c=0;c<oe;c++)Q[c]=ne;return Q},o.swapAttrs=function(ne,oe,Q,c){Q||(Q="x"),c||(c="y");for(var w=0;w<oe.length;w++){var B=oe[w],E=o.nestedProperty(ne,B.replace("?",Q)),b=o.nestedProperty(ne,B.replace("?",c)),O=E.get();E.set(b.get()),b.set(O)}},o.raiseToTop=function(oe){oe.parentNode.appendChild(oe)},o.cancelTransition=function(ne){return ne.transition().duration(0)},o.constrain=function(ne,oe,Q){return oe>Q?Math.max(Q,Math.min(oe,ne)):Math.max(oe,Math.min(Q,ne))},o.bBoxIntersect=function(ne,oe,Q){return Q=Q||0,ne.left<=oe.right+Q&&oe.left<=ne.right+Q&&ne.top<=oe.bottom+Q&&oe.top<=ne.bottom+Q},o.simpleMap=function(ne,oe,Q,c,w){for(var B=ne.length,E=new Array(B),b=0;b<B;b++)E[b]=oe(ne[b],Q,c,w);return E},o.randstr=function ne(oe,Q,c,w){if(c||(c=16),Q===void 0&&(Q=24),Q<=0)return"0";var B=Math.log(Math.pow(2,Q))/Math.log(c),E="",b,O,N;for(b=2;B===1/0;b*=2)B=Math.log(Math.pow(2,Q/b))/Math.log(c)*b;var R=B-Math.floor(B);for(b=0;b<Math.floor(B);b++)N=Math.floor(Math.random()*c).toString(c),E=N+E;R&&(O=Math.pow(c,R),N=Math.floor(Math.random()*O).toString(c),E=N+E);var j=parseInt(E,c);return oe&&oe[E]||j!==1/0&&j>=Math.pow(2,Q)?w>10?(o.warn("randstr failed uniqueness"),E):ne(oe,Q,c,(w||0)+1):E},o.OptionControl=function(ne,oe){ne||(ne={}),oe||(oe="opt");var Q={};return Q.optionList=[],Q._newoption=function(c){c[oe]=ne,Q[c.name]=c,Q.optionList.push(c)},Q["_"+oe]=ne,Q},o.smooth=function(ne,oe){if(oe=Math.round(oe)||0,oe<2)return ne;var Q=ne.length,c=2*Q,w=2*oe-1,B=new Array(w),E=new Array(Q),b,O,N,R;for(b=0;b<w;b++)B[b]=(1-Math.cos(Math.PI*(b+1)/oe))/(2*oe);for(b=0;b<Q;b++){for(R=0,O=0;O<w;O++)N=b+O+1-oe,N<-Q?N-=c*Math.round(N/c):N>=c&&(N-=c*Math.floor(N/c)),N<0?N=-1-N:N>=Q&&(N=c-1-N),R+=ne[N]*B[O];E[b]=R}return E},o.syncOrAsync=function(ne,oe,Q){var c,w;function B(){return o.syncOrAsync(ne,oe,Q)}for(;ne.length;)if(w=ne.splice(0,1)[0],c=w(oe),c&&c.then)return c.then(B);return Q&&Q(oe)},o.stripTrailingSlash=function(ne){return ne.substr(-1)==="/"?ne.substr(0,ne.length-1):ne},o.noneOrAll=function(ne,oe,Q){if(!!ne){var c=!1,w=!0,B,E;for(B=0;B<Q.length;B++)E=ne[Q[B]],E!=null?c=!0:w=!1;if(c&&!w)for(B=0;B<Q.length;B++)ne[Q[B]]=oe[Q[B]]}},o.mergeArray=function(ne,oe,Q,c){var w=typeof c=="function";if(o.isArrayOrTypedArray(ne))for(var B=Math.min(ne.length,oe.length),E=0;E<B;E++){var b=ne[E];oe[E][Q]=w?c(b):b}},o.mergeArrayCastPositive=function(ne,oe,Q){return o.mergeArray(ne,oe,Q,function(c){var w=+c;return isFinite(w)&&w>0?w:0})},o.fillArray=function(ne,oe,Q,c){if(c=c||o.identity,o.isArrayOrTypedArray(ne))for(var w=0;w<oe.length;w++)oe[w][Q]=c(ne[w])},o.castOption=function(ne,oe,Q,c){c=c||o.identity;var w=o.nestedProperty(ne,Q).get();return o.isArrayOrTypedArray(w)?Array.isArray(oe)&&o.isArrayOrTypedArray(w[oe[0]])?c(w[oe[0]][oe[1]]):c(w[oe]):w},o.extractOption=function(ne,oe,Q,c){if(Q in ne)return ne[Q];var w=o.nestedProperty(oe,c).get();if(!Array.isArray(w))return w};function G(ne){var oe={};for(var Q in ne)for(var c=ne[Q],w=0;w<c.length;w++)oe[c[w]]=+Q;return oe}o.tagSelected=function(ne,oe,Q){var c=oe.selectedpoints,w=oe._indexToPoints,B;w&&(B=G(w));function E(j){return j!==void 0&&j<ne.length}for(var b=0;b<c.length;b++){var O=c[b];if(o.isIndex(O)||o.isArrayOrTypedArray(O)&&o.isIndex(O[0])&&o.isIndex(O[1])){var N=B?B[O]:O,R=Q?Q[N]:N;E(R)&&(ne[R].selected=1)}}},o.selIndices2selPoints=function(ne){var oe=ne.selectedpoints,Q=ne._indexToPoints;if(Q){for(var c=G(Q),w=[],B=0;B<oe.length;B++){var E=oe[B];if(o.isIndex(E)){var b=c[E];o.isIndex(b)&&w.push(b)}}return w}else return oe},o.getTargetArray=function(ne,oe){var Q=oe.target;if(typeof Q=="string"&&Q){var c=o.nestedProperty(ne,Q).get();return Array.isArray(c)?c:!1}else if(Array.isArray(Q))return Q;return!1},o.minExtend=function(ne,oe){var Q={};typeof oe!="object"&&(oe={});var c=3,w=Object.keys(ne),B,E,b;for(B=0;B<w.length;B++)E=w[B],b=ne[E],!(E.charAt(0)==="_"||typeof b=="function")&&(E==="module"?Q[E]=b:Array.isArray(b)?E==="colorscale"?Q[E]=b.slice():Q[E]=b.slice(0,c):o.isTypedArray(b)?Q[E]=b.subarray(0,c):b&&typeof b=="object"?Q[E]=o.minExtend(ne[E],oe[E]):Q[E]=b);for(w=Object.keys(oe),B=0;B<w.length;B++)E=w[B],b=oe[E],(typeof b!="object"||!(E in Q)||typeof Q[E]!="object")&&(Q[E]=b);return Q},o.titleCase=function(ne){return ne.charAt(0).toUpperCase()+ne.substr(1)},o.containsAny=function(ne,oe){for(var Q=0;Q<oe.length;Q++)if(ne.indexOf(oe[Q])!==-1)return!0;return!1},o.isIE=function(){return typeof window.navigator.msSaveBlob!="undefined"};var S=/Version\/[\d\.]+.*Safari/;o.isSafari=function(){return S.test(window.navigator.userAgent)};var U=/iPad|iPhone|iPod/;o.isIOS=function(){return U.test(window.navigator.userAgent)};var W=/Firefox\/(\d+)\.\d+/;o.getFirefoxVersion=function(){var ne=W.exec(window.navigator.userAgent);if(ne&&ne.length===2){var oe=parseInt(ne[1]);if(!isNaN(oe))return oe}return null},o.isD3Selection=function(ne){return ne instanceof e.selection},o.ensureSingle=function(ne,oe,Q,c){var w=ne.select(oe+(Q?"."+Q:""));if(w.size())return w;var B=ne.append(oe);return Q&&B.classed(Q,!0),c&&B.call(c),B},o.ensureSingleById=function(ne,oe,Q,c){var w=ne.select(oe+"#"+Q);if(w.size())return w;var B=ne.append(oe).attr("id",Q);return c&&B.call(c),B},o.objectFromPath=function(ne,oe){for(var Q=ne.split("."),c,w=c={},B=0;B<Q.length;B++){var E=Q[B],b=null,O=Q[B].match(/(.*)\[([0-9]+)\]/);O?(E=O[1],b=O[2],c=c[E]=[],B===Q.length-1?c[b]=oe:c[b]={},c=c[b]):(B===Q.length-1?c[E]=oe:c[E]={},c=c[E])}return w};var K=/^([^\[\.]+)\.(.+)?/,J=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;o.expandObjectPaths=function(ne){var oe,Q,c,w,B,E,b;if(typeof ne=="object"&&!Array.isArray(ne))for(Q in ne)ne.hasOwnProperty(Q)&&((oe=Q.match(K))?(w=ne[Q],c=oe[1],delete ne[Q],ne[c]=o.extendDeepNoArrays(ne[c]||{},o.objectFromPath(Q,o.expandObjectPaths(w))[c])):(oe=Q.match(J))?(w=ne[Q],c=oe[1],B=parseInt(oe[2]),delete ne[Q],ne[c]=ne[c]||[],oe[3]==="."?(b=oe[4],E=ne[c][B]=ne[c][B]||{},o.extendDeepNoArrays(E,o.objectFromPath(b,o.expandObjectPaths(w)))):ne[c][B]=o.expandObjectPaths(w)):ne[Q]=o.expandObjectPaths(ne[Q]));return ne},o.numSeparate=function(ne,oe,Q){if(Q||(Q=!1),typeof oe!="string"||oe.length===0)throw new Error("Separator string required for formatting!");typeof ne=="number"&&(ne=String(ne));var c=/(\d+)(\d{3})/,w=oe.charAt(0),B=oe.charAt(1),E=ne.split("."),b=E[0],O=E.length>1?w+E[1]:"";if(B&&(E.length>1||b.length>4||Q))for(;c.test(b);)b=b.replace(c,"$1"+B+"$2");return b+O},o.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var ae=/^\w*$/;o.templateString=function(ne,oe){var Q={};return ne.replace(o.TEMPLATE_STRING_REGEX,function(c,w){var B;return ae.test(w)?B=oe[w]:(Q[w]=Q[w]||o.nestedProperty(oe,w).get,B=Q[w]()),o.isValidTextValue(B)?B:""})};var z={max:10,count:0,name:"hovertemplate"};o.hovertemplateString=function(){return re.apply(z,arguments)};var H={max:10,count:0,name:"texttemplate"};o.texttemplateString=function(){return re.apply(H,arguments)};var Z=/^[:|\|]/;function re(ne,oe,Q){var c=this,w=arguments;oe||(oe={});var B={};return ne.replace(o.TEMPLATE_STRING_REGEX,function(E,b,O){var N=b==="xother"||b==="yother",R=b==="_xother"||b==="_yother",j=b==="_xother_"||b==="_yother_",se=b==="xother_"||b==="yother_",fe=N||R||se||j,ce=b;(R||j)&&(ce=ce.substring(1)),(se||j)&&(ce=ce.substring(0,ce.length-1));var ye;if(fe){if(ye=oe[ce],ye===void 0)return""}else{var xe,De;for(De=3;De<w.length;De++)if(xe=w[De],!!xe){if(xe.hasOwnProperty(ce)){ye=xe[ce];break}if(ae.test(ce)||(ye=o.nestedProperty(xe,ce).get(),ye=B[ce]||o.nestedProperty(xe,ce).get(),ye&&(B[ce]=ye)),ye!==void 0)break}}if(ye===void 0&&c)return c.count<c.max&&(o.warn("Variable '"+ce+"' in "+c.name+" could not be found!"),ye=E),c.count===c.max&&o.warn("Too many "+c.name+" warnings - additional warnings will be suppressed"),c.count++,E;if(O){var ke;if(O[0]===":"&&(ke=Q?Q.numberFormat:o.numberFormat,ye=ke(O.replace(Z,""))(ye)),O[0]==="|"){ke=Q?Q.timeFormat:a;var Ne=o.dateTime2ms(ye);ye=o.formatDate(Ne,O.replace(Z,""),!1,ke)}}else{var Ue=ce+"Label";oe.hasOwnProperty(Ue)&&(ye=oe[Ue])}return fe&&(ye="("+ye+")",(R||j)&&(ye=" "+ye),(se||j)&&(ye=ye+" ")),ye})}var ie=48,ue=57;o.subplotSort=function(ne,oe){for(var Q=Math.min(ne.length,oe.length)+1,c=0,w=0,B=0;B<Q;B++){var E=ne.charCodeAt(B)||0,b=oe.charCodeAt(B)||0,O=E>=ie&&E<=ue,N=b>=ie&&b<=ue;if(O&&(c=10*c+E-ie),N&&(w=10*w+b-ie),!O||!N){if(c!==w)return c-w;if(E!==b)return E-b}}return w-c};var ge=2e9;o.seedPseudoRandom=function(){ge=2e9},o.pseudoRandom=function(){var ne=ge;return ge=(69069*ge+1)%4294967296,Math.abs(ge-ne)<429496729?o.pseudoRandom():ge/4294967296},o.fillText=function(ne,oe,Q){var c=Array.isArray(Q)?function(E){Q.push(E)}:function(E){Q.text=E},w=o.extractOption(ne,oe,"htx","hovertext");if(o.isValidTextValue(w))return c(w);var B=o.extractOption(ne,oe,"tx","text");if(o.isValidTextValue(B))return c(B)},o.isValidTextValue=function(ne){return ne||ne===0},o.formatPercent=function(ne,oe){oe=oe||0;for(var Q=(Math.round(100*ne*Math.pow(10,oe))*Math.pow(.1,oe)).toFixed(oe)+"%",c=0;c<oe;c++)Q.indexOf(".")!==-1&&(Q=Q.replace("0%","%"),Q=Q.replace(".%","%"));return Q},o.isHidden=function(ne){var oe=window.getComputedStyle(ne).display;return!oe||oe==="none"},o.strTranslate=function(ne,oe){return ne||oe?"translate("+ne+","+oe+")":""},o.strRotate=function(ne){return ne?"rotate("+ne+")":""},o.strScale=function(ne){return ne!==1?"scale("+ne+")":""},o.getTextTransform=function(ne){var oe=ne.noCenter,Q=ne.textX,c=ne.textY,w=ne.targetX,B=ne.targetY,E=ne.anchorX||0,b=ne.anchorY||0,O=ne.rotate,N=ne.scale;return N?N>1&&(N=1):N=0,o.strTranslate(w-N*(Q+E),B-N*(c+b))+o.strScale(N)+(O?"rotate("+O+(oe?"":" "+Q+" "+c)+")":"")},o.ensureUniformFontSize=function(ne,oe){var Q=o.extendFlat({},oe);return Q.size=Math.max(oe.size,ne._fullLayout.uniformtext.minsize||0),Q},o.join2=function(ne,oe,Q){var c=ne.length;return c>1?ne.slice(0,-1).join(oe)+Q+ne[c-1]:ne.join(oe)},o.bigFont=function(ne){return Math.round(1.2*ne)};var ee=o.getFirefoxVersion(),q=ee!==null&&ee<86;o.getPositionFromD3Event=function(){return q?[e.event.layerX,e.event.layerY]:[e.event.offsetX,e.event.offsetY]}},{"../constants/numerical":212,"./anchor_utils":216,"./angles":217,"./array":218,"./clean_number":219,"./clear_responsive":221,"./coerce":222,"./dates":223,"./dom":224,"./extend":226,"./filter_unique":227,"./filter_visible":228,"./geometry2d":229,"./identity":230,"./increment":231,"./is_plain_object":233,"./keyed_container":234,"./localize":235,"./loggers":236,"./make_trace_groups":237,"./matrix":238,"./mod":239,"./nested_property":240,"./noop":241,"./notifier":242,"./preserve_drawing_buffer":245,"./push_unique":246,"./regex":248,"./relative_attr":249,"./relink_private":250,"./search":251,"./sort_object_keys":253,"./stats":254,"./throttle":256,"./to_log_range":257,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],233:[function(t,P,k){P.exports=function(a){return window&&window.process&&window.process.versions?Object.prototype.toString.call(a)==="[object Object]":Object.prototype.toString.call(a)==="[object Object]"&&Object.getPrototypeOf(a).hasOwnProperty("hasOwnProperty")}},{}],234:[function(t,P,k){var e=t("./nested_property"),a=/^\w*$/,i=0,n=1,r=2,f=3,u=4;P.exports=function(o,h,p,d){p=p||"name",d=d||"value";var y,g,D,C={};h&&h.length?(D=e(o,h),g=D.get()):g=o,h=h||"";var L={};if(g)for(y=0;y<g.length;y++)L[g[y][p]]=y;var x=a.test(d),M={set:function(v,m){var A=m===null?u:i;if(!g){if(!D||A===u)return;g=[],D.set(g)}var V=L[v];if(V===void 0){if(A===u)return;A=A|f,V=g.length,L[v]=V}else m!==(x?g[V][d]:e(g[V],d).get())&&(A=A|r);var T=g[V]=g[V]||{};return T[p]=v,x?T[d]=m:e(T,d).set(m),m!==null&&(A=A&~u),C[V]=C[V]|A,M},get:function(v){if(!!g){var m=L[v];if(m!==void 0)return x?g[m][d]:e(g[m],d).get()}},rename:function(v,m){var A=L[v];return A===void 0||(C[A]=C[A]|n,L[m]=A,delete L[v],g[A][p]=m),M},remove:function(v){var m=L[v];if(m===void 0)return M;var A=g[m];if(Object.keys(A).length>2)return C[m]=C[m]|r,M.set(v,null);if(x){for(y=m;y<g.length;y++)C[y]=C[y]|f;for(y=m;y<g.length;y++)L[g[y][p]]--;g.splice(m,1),delete L[v]}else e(A,d).set(null),C[m]=C[m]|r|u;return M},constructUpdate:function(){for(var v,m,A={},V=Object.keys(C),T=0;T<V.length;T++)m=V[T],v=h+"["+m+"]",g[m]?(C[m]&n&&(A[v+"."+p]=g[m][p]),C[m]&r&&(x?A[v+"."+d]=C[m]&u?null:g[m][d]:A[v+"."+d]=C[m]&u?null:e(g[m],d).get())):A[v]=null;return A}};return M}},{"./nested_property":240}],235:[function(t,P,k){var e=t("../registry");P.exports=function(i,n){for(var r=i._context.locale,f=0;f<2;f++){for(var u=i._context.locales,s=0;s<2;s++){var o=(u[r]||{}).dictionary;if(o){var h=o[n];if(h)return h}u=e.localeRegistry}var p=r.split("-")[0];if(p===r)break;r=p}return n}},{"../registry":318}],236:[function(t,P,k){var e=t("../plot_api/plot_config").dfltConfig,a=t("./notifier"),i=P.exports={};i.log=function(){var n;if(e.logging>1){var r=["LOG:"];for(n=0;n<arguments.length;n++)r.push(arguments[n]);console.trace.apply(console,r)}if(e.notifyOnLogging>1){var f=[];for(n=0;n<arguments.length;n++)f.push(arguments[n]);a(f.join("<br>"),"long")}},i.warn=function(){var n;if(e.logging>0){var r=["WARN:"];for(n=0;n<arguments.length;n++)r.push(arguments[n]);console.trace.apply(console,r)}if(e.notifyOnLogging>0){var f=[];for(n=0;n<arguments.length;n++)f.push(arguments[n]);a(f.join("<br>"),"stick")}},i.error=function(){var n;if(e.logging>0){var r=["ERROR:"];for(n=0;n<arguments.length;n++)r.push(arguments[n]);console.error.apply(console,r)}if(e.notifyOnLogging>0){var f=[];for(n=0;n<arguments.length;n++)f.push(arguments[n]);a(f.join("<br>"),"stick")}}},{"../plot_api/plot_config":266,"./notifier":242}],237:[function(t,P,k){var e=t("@plotly/d3");P.exports=function(i,n,r){var f=i.selectAll("g."+r.replace(/\s/g,".")).data(n,function(s){return s[0].trace.uid});f.exit().remove(),f.enter().append("g").attr("class",r),f.order();var u=i.classed("rangeplot")?"nodeRangePlot3":"node3";return f.each(function(s){s[0][u]=e.select(this)}),f}},{"@plotly/d3":11}],238:[function(t,P,k){var e=t("gl-mat4");k.init2dArray=function(a,i){for(var n=new Array(a),r=0;r<a;r++)n[r]=new Array(i);return n},k.transposeRagged=function(a){var i=0,n=a.length,r,f;for(r=0;r<n;r++)i=Math.max(i,a[r].length);var u=new Array(i);for(r=0;r<i;r++)for(u[r]=new Array(n),f=0;f<n;f++)u[r][f]=a[f][r];return u},k.dot=function(a,i){if(!(a.length&&i.length)||a.length!==i.length)return null;var n=a.length,r,f;if(a[0].length)for(r=new Array(n),f=0;f<n;f++)r[f]=k.dot(a[f],i);else if(i[0].length){var u=k.transposeRagged(i);for(r=new Array(u.length),f=0;f<u.length;f++)r[f]=k.dot(a,u[f])}else for(r=0,f=0;f<n;f++)r+=a[f]*i[f];return r},k.translationMatrix=function(a,i){return[[1,0,a],[0,1,i],[0,0,1]]},k.rotationMatrix=function(a){var i=a*Math.PI/180;return[[Math.cos(i),-Math.sin(i),0],[Math.sin(i),Math.cos(i),0],[0,0,1]]},k.rotationXYMatrix=function(a,i,n){return k.dot(k.dot(k.translationMatrix(i,n),k.rotationMatrix(a)),k.translationMatrix(-i,-n))},k.apply3DTransform=function(a){return function(){var i=arguments,n=arguments.length===1?i[0]:[i[0],i[1],i[2]||0];return k.dot(a,[n[0],n[1],n[2],1]).slice(0,3)}},k.apply2DTransform=function(a){return function(){var i=arguments;i.length===3&&(i=i[0]);var n=arguments.length===1?i[0]:[i[0],i[1]];return k.dot(a,[n[0],n[1],1]).slice(0,2)}},k.apply2DTransform2=function(a){var i=k.apply2DTransform(a);return function(n){return i(n.slice(0,2)).concat(i(n.slice(2,4)))}},k.convertCssMatrix=function(a){if(a){var i=a.length;if(i===16)return a;if(i===6)return[a[0],a[1],0,0,a[2],a[3],0,0,0,0,1,0,a[4],a[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},k.inverseTransformMatrix=function(a){var i=[];return e.invert(i,a),[[i[0],i[1],i[2],i[3]],[i[4],i[5],i[6],i[7]],[i[8],i[9],i[10],i[11]],[i[12],i[13],i[14],i[15]]]}},{"gl-mat4":33}],239:[function(t,P,k){function e(i,n){var r=i%n;return r<0?r+n:r}function a(i,n){return Math.abs(i)>n/2?i-Math.round(i/n)*n:i}P.exports={mod:e,modHalf:a}},{}],240:[function(t,P,k){var e=t("fast-isnumeric"),a=t("./array").isArrayOrTypedArray;P.exports=function(d,y){if(e(y))y=String(y);else if(typeof y!="string"||y.substr(y.length-4)==="[-1]")throw"bad property string";for(var g=0,D=y.split("."),C,L,x;g<D.length;){if(C=String(D[g]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),C){if(C[1])D[g]=C[1];else if(g===0)D.splice(0,1);else throw"bad property string";for(L=C[2].substr(1,C[2].length-2).split("]["),x=0;x<L.length;x++)g++,D.splice(g,0,Number(L[x]))}g++}return typeof d!="object"?h(d,y,D):{set:f(d,D,y),get:i(d,D),astr:y,parts:D,obj:d}};function i(p,d){return function(){var y=p,g,D,C,L,x;for(L=0;L<d.length-1;L++){if(g=d[L],g===-1){for(D=!0,C=[],x=0;x<y.length;x++)C[x]=i(y[x],d.slice(L+1))(),C[x]!==C[0]&&(D=!1);return D?C[0]:C}if(typeof g=="number"&&!a(y)||(y=y[g],typeof y!="object"||y===null))return}if(!(typeof y!="object"||y===null)&&(C=y[d[L]],C!==null))return C}}var n=/(^|\.)args\[/;function r(p,d){return p===void 0||p===null&&!d.match(n)}function f(p,d,y){return function(g){var D=p,C="",L=r(g,y),x,M;for(M=0;M<d.length-1;M++){if(x=d[M],typeof x=="number"&&!a(D))throw"array index but container is not an array";if(x===-1){if(L=!s(D,d.slice(M+1),g,y),L)break;return}if(!o(D,x,d[M+1],L))break;if(D=D[x],typeof D!="object"||D===null)throw"container is not an object";C=u(C,x)}if(L){if(M===d.length-1&&(delete D[d[M]],Array.isArray(D)&&+d[M]==D.length-1))for(;D.length&&D[D.length-1]===void 0;)D.pop()}else D[d[M]]=g}}function u(p,d){var y=d;return e(d)?y="["+d+"]":p&&(y="."+d),p+y}function s(p,d,y,g){var D=a(y),C=!0,L=y,x=g.replace("-1",0),M=D?!1:r(y,x),v=d[0],m;for(m=0;m<p.length;m++)x=g.replace("-1",m),D&&(L=y[m%y.length],M=r(L,x)),M&&(C=!1),!!o(p,m,v,M)&&f(p[m],d,g.replace("-1",m))(L);return C}function o(p,d,y,g){if(p[d]===void 0){if(g)return!1;typeof y=="number"?p[d]=[]:p[d]={}}return!0}function h(p,d,y){return{set:function(){throw"bad container"},get:function(){},astr:d,parts:y,obj:p}}},{"./array":218,"fast-isnumeric":17}],241:[function(t,P,k){P.exports=function(){}},{}],242:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=[];P.exports=function(n,r){if(i.indexOf(n)!==-1)return;i.push(n);var f=1e3;a(r)?f=r:r==="long"&&(f=3e3);var u=e.select("body").selectAll(".plotly-notifier").data([0]);u.enter().append("div").classed("plotly-notifier",!0);var s=u.selectAll(".notifier-note").data(i);function o(h){h.duration(700).style("opacity",0).each("end",function(p){var d=i.indexOf(p);d!==-1&&i.splice(d,1),e.select(this).remove()})}s.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(h){var p=e.select(this);p.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){p.transition().call(o)});for(var d=p.append("p"),y=h.split(/<br\s*\/?>/g),g=0;g<y.length;g++)g&&d.append("br"),d.append("span").text(y[g]);r==="stick"?p.transition().duration(350).style("opacity",1):p.transition().duration(700).style("opacity",1).transition().delay(f).call(o)})}},{"@plotly/d3":11,"fast-isnumeric":17}],243:[function(t,P,k){var e=t("./setcursor"),a="data-savedcursor",i="!!";P.exports=function(r,f){var u=r.attr(a);if(f){if(!u){for(var s=(r.attr("class")||"").split(" "),o=0;o<s.length;o++){var h=s[o];h.indexOf("cursor-")===0&&r.attr(a,h.substr(7)).classed(h,!1)}r.attr(a)||r.attr(a,i)}e(r,f)}else u&&(r.attr(a,null),u===i?e(r):e(r,u))}},{"./setcursor":252}],244:[function(t,P,k){var e=t("./matrix").dot,a=t("../constants/numerical").BADNUM,i=P.exports={};i.tester=function(r){var f=r.slice(),u=f[0][0],s=u,o=f[0][1],h=o,p;for(f.push(f[0]),p=1;p<f.length;p++)u=Math.min(u,f[p][0]),s=Math.max(s,f[p][0]),o=Math.min(o,f[p][1]),h=Math.max(h,f[p][1]);var d=!1,y;f.length===5&&(f[0][0]===f[1][0]?f[2][0]===f[3][0]&&f[0][1]===f[3][1]&&f[1][1]===f[2][1]&&(d=!0,y=function(x){return x[0]===f[0][0]}):f[0][1]===f[1][1]&&f[2][1]===f[3][1]&&f[0][0]===f[3][0]&&f[1][0]===f[2][0]&&(d=!0,y=function(x){return x[1]===f[0][1]}));function g(x,M){var v=x[0],m=x[1];return!(v===a||v<u||v>s||m===a||m<o||m>h||M&&y(x))}function D(x,M){var v=x[0],m=x[1];if(v===a||v<u||v>s||m===a||m<o||m>h)return!1;var A=f.length,V=f[0][0],T=f[0][1],Y=0,G,S,U,W,K;for(G=1;G<A;G++)if(S=V,U=T,V=f[G][0],T=f[G][1],W=Math.min(S,V),!(v<W||v>Math.max(S,V)||m>Math.max(U,T)))if(m<Math.min(U,T))v!==W&&Y++;else{if(V===S?K=m:K=U+(v-S)*(T-U)/(V-S),m===K)return!(G===1&&M);m<=K&&v!==W&&Y++}return Y%2==1}var C=!0,L=f[0];for(p=1;p<f.length;p++)if(L[0]!==f[p][0]||L[1]!==f[p][1]){C=!1;break}return{xmin:u,xmax:s,ymin:o,ymax:h,pts:f,contains:d?g:D,isRect:d,degenerate:C}},i.isSegmentBent=function(r,f,u,s){var o=r[f],h=[r[u][0]-o[0],r[u][1]-o[1]],p=e(h,h),d=Math.sqrt(p),y=[-h[1]/d,h[0]/d],g,D,C;for(g=f+1;g<u;g++)if(D=[r[g][0]-o[0],r[g][1]-o[1]],C=e(D,h),C<0||C>p||Math.abs(e(D,y))>s)return!0;return!1},i.filter=function(r,f){var u=[r[0]],s=0,o=0;function h(d){r.push(d);var y=u.length,g=s;u.splice(o+1);for(var D=g+1;D<r.length;D++)(D===r.length-1||i.isSegmentBent(r,g,D+1,f))&&(u.push(r[D]),u.length<y-2&&(s=D,o=u.length-1),g=D)}if(r.length>1){var p=r.pop();h(p)}return{addPt:h,raw:r,filtered:u}}},{"../constants/numerical":212,"./matrix":238}],245:[function(t,P,k){var e=t("fast-isnumeric"),a=t("is-mobile");P.exports=function(r){var f;if(r&&r.hasOwnProperty("userAgent")?f=r.userAgent:f=i(),typeof f!="string")return!0;var u=a({ua:{headers:{"user-agent":f}},tablet:!0,featureDetect:!1});if(!u)for(var s=f.split(" "),o=1;o<s.length;o++){var h=s[o];if(h.indexOf("Safari")!==-1)for(var p=o-1;p>-1;p--){var d=s[p];if(d.substr(0,8)==="Version/"){var y=d.substr(8).split(".")[0];if(e(y)&&(y=+y),y>=13)return!0}}}return u};function i(){var n;return typeof navigator!="undefined"&&(n=navigator.userAgent),n&&n.headers&&typeof n.headers["user-agent"]=="string"&&(n=n.headers["user-agent"]),n}},{"fast-isnumeric":17,"is-mobile":51}],246:[function(t,P,k){P.exports=function(a,i){if(i instanceof RegExp){for(var n=i.toString(),r=0;r<a.length;r++)if(a[r]instanceof RegExp&&a[r].toString()===n)return a;a.push(i)}else(i||i===0)&&a.indexOf(i)===-1&&a.push(i);return a}},{}],247:[function(t,P,k){var e=t("../lib"),a=t("../plot_api/plot_config").dfltConfig;function i(r,f){for(var u=[],s,o=0;o<f.length;o++)s=f[o],s===r?u[o]=s:typeof s=="object"?u[o]=Array.isArray(s)?e.extendDeep([],s):e.extendDeepAll({},s):u[o]=s;return u}var n={};n.add=function(r,f,u,s,o){var h,p;if(r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},p=r.undoQueue.index,r.autoplay){r.undoQueue.inSequence||(r.autoplay=!1);return}!r.undoQueue.sequence||r.undoQueue.beginSequence?(h={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},r.undoQueue.queue.splice(p,r.undoQueue.queue.length-p,h),r.undoQueue.index+=1):h=r.undoQueue.queue[p-1],r.undoQueue.beginSequence=!1,h&&(h.undo.calls.unshift(f),h.undo.args.unshift(u),h.redo.calls.push(s),h.redo.args.push(o)),r.undoQueue.queue.length>a.queueLength&&(r.undoQueue.queue.shift(),r.undoQueue.index--)},n.startSequence=function(r){r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},r.undoQueue.sequence=!0,r.undoQueue.beginSequence=!0},n.stopSequence=function(r){r.undoQueue=r.undoQueue||{index:0,queue:[],sequence:!1},r.undoQueue.sequence=!1,r.undoQueue.beginSequence=!1},n.undo=function(f){var u,s;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index<=0)){for(f.undoQueue.index--,u=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,s=0;s<u.undo.calls.length;s++)n.plotDo(f,u.undo.calls[s],u.undo.args[s]);f.undoQueue.inSequence=!1,f.autoplay=!1}},n.redo=function(f){var u,s;if(!(f.undoQueue===void 0||isNaN(f.undoQueue.index)||f.undoQueue.index>=f.undoQueue.queue.length)){for(u=f.undoQueue.queue[f.undoQueue.index],f.undoQueue.inSequence=!0,s=0;s<u.redo.calls.length;s++)n.plotDo(f,u.redo.calls[s],u.redo.args[s]);f.undoQueue.inSequence=!1,f.autoplay=!1,f.undoQueue.index++}},n.plotDo=function(r,f,u){r.autoplay=!0,u=i(r,u),f.apply(null,u)},P.exports=n},{"../lib":232,"../plot_api/plot_config":266}],248:[function(t,P,k){k.counter=function(e,a,i,n){var r=(a||"")+(i?"":"$"),f=n===!1?"":"^";return e==="xy"?new RegExp(f+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+r):new RegExp(f+e+"([2-9]|[1-9][0-9]+)?"+r)}},{}],249:[function(t,P,k){var e=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,a=/^[^\.\[\]]+$/;P.exports=function(i,n){for(;n;){var r=i.match(e);if(r)i=r[1];else if(i.match(a))i="";else throw new Error("bad relativeAttr call:"+[i,n]);if(n.charAt(0)==="^")n=n.slice(1);else break}return i&&n.charAt(0)!=="["?i+"."+n:i+n}},{}],250:[function(t,P,k){var e=t("./array").isArrayOrTypedArray,a=t("./is_plain_object");P.exports=function i(n,r){for(var f in r){var u=r[f],s=n[f];if(s!==u)if(f.charAt(0)==="_"||typeof u=="function"){if(f in n)continue;n[f]=u}else if(e(u)&&e(s)&&a(u[0])){if(f==="customdata"||f==="ids")continue;for(var o=Math.min(u.length,s.length),h=0;h<o;h++)s[h]!==u[h]&&a(u[h])&&a(s[h])&&i(s[h],u[h])}else a(u)&&a(s)&&(i(s,u),Object.keys(s).length||delete n[f])}}},{"./array":218,"./is_plain_object":233}],251:[function(t,P,k){var e=t("fast-isnumeric"),a=t("./loggers"),i=t("./identity"),n=t("../constants/numerical").BADNUM,r=1e-9;k.findBin=function(h,p,d){if(e(p.start))return d?Math.ceil((h-p.start)/p.size-r)-1:Math.floor((h-p.start)/p.size+r);var y=0,g=p.length,D=0,C=g>1?(p[g-1]-p[0])/(g-1):1,L,x;for(C>=0?x=d?f:u:x=d?o:s,h+=C*r*(d?-1:1)*(C>=0?1:-1);y<g&&D++<100;)L=Math.floor((y+g)/2),x(p[L],h)?y=L+1:g=L;return D>90&&a.log("Long binary search..."),y-1};function f(h,p){return h<p}function u(h,p){return h<=p}function s(h,p){return h>p}function o(h,p){return h>=p}k.sorterAsc=function(h,p){return h-p},k.sorterDes=function(h,p){return p-h},k.distinctVals=function(h){var p=h.slice();p.sort(k.sorterAsc);var d;for(d=p.length-1;d>-1&&p[d]===n;d--);for(var y=p[d]-p[0]||1,g=y/(d||1)/1e4,D=[],C,L=0;L<=d;L++){var x=p[L],M=x-C;C===void 0?(D.push(x),C=x):M>g&&(y=Math.min(y,M),D.push(x),C=x)}return{vals:D,minDiff:y}},k.roundUp=function(h,p,d){for(var y=0,g=p.length-1,D,C=0,L=d?0:1,x=d?1:0,M=d?Math.ceil:Math.floor;y<g&&C++<100;)D=M((y+g)/2),p[D]<=h?y=D+L:g=D-x;return p[y]},k.sort=function(h,p){for(var d=0,y=0,g=1;g<h.length;g++){var D=p(h[g],h[g-1]);if(D<0?d=1:D>0&&(y=1),d&&y)return h.sort(p)}return y?h:h.reverse()},k.findIndexOfMin=function(h,p){p=p||i;for(var d=1/0,y,g=0;g<h.length;g++){var D=p(h[g]);D<d&&(d=D,y=g)}return y}},{"../constants/numerical":212,"./identity":230,"./loggers":236,"fast-isnumeric":17}],252:[function(t,P,k){P.exports=function(a,i){(a.attr("class")||"").split(" ").forEach(function(n){n.indexOf("cursor-")===0&&a.classed(n,!1)}),i&&a.classed("cursor-"+i,!0)}},{}],253:[function(t,P,k){P.exports=function(a){return Object.keys(a).sort()}},{}],254:[function(t,P,k){var e=t("fast-isnumeric"),a=t("./array").isArrayOrTypedArray;k.aggNums=function(i,n,r,f){var u,s;if((!f||f>r.length)&&(f=r.length),e(n)||(n=!1),a(r[0])){for(s=new Array(f),u=0;u<f;u++)s[u]=k.aggNums(i,n,r[u]);r=s}for(u=0;u<f;u++)e(n)?e(r[u])&&(n=i(+n,+r[u])):n=r[u];return n},k.len=function(i){return k.aggNums(function(n){return n+1},0,i)},k.mean=function(i,n){return n||(n=k.len(i)),k.aggNums(function(r,f){return r+f},0,i)/n},k.midRange=function(i){if(!(i===void 0||i.length===0))return(k.aggNums(Math.max,null,i)+k.aggNums(Math.min,null,i))/2},k.variance=function(i,n,r){return n||(n=k.len(i)),e(r)||(r=k.mean(i,n)),k.aggNums(function(f,u){return f+Math.pow(u-r,2)},0,i)/n},k.stdev=function(i,n,r){return Math.sqrt(k.variance(i,n,r))},k.median=function(i){var n=i.slice().sort();return k.interp(n,.5)},k.interp=function(i,n){if(!e(n))throw"n should be a finite number";if(n=n*i.length-.5,n<0)return i[0];if(n>i.length-1)return i[i.length-1];var r=n%1;return r*i[Math.ceil(n)]+(1-r)*i[Math.floor(n)]}},{"./array":218,"fast-isnumeric":17}],255:[function(t,P,k){var e=t("@plotly/d3"),a=t("../lib"),i=a.strTranslate,n=t("../constants/xmlns_namespaces"),r=t("../constants/alignment").LINE_SPACING,f=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;k.convertToTspans=function(H,Z,re){var ie=H.text(),ue=!H.attr("data-notex")&&typeof MathJax!="undefined"&&ie.match(f),ge=e.select(H.node().parentNode);if(ge.empty())return;var ee=H.attr("class")?H.attr("class").split(" ")[0]:"text";ee+="-math",ge.selectAll("svg."+ee).remove(),ge.selectAll("g."+ee+"-group").remove(),H.style("display",null).attr({"data-unformatted":ie,"data-math":"N"});function q(){ge.empty()||(ee=H.attr("class")+"-math",ge.select("svg."+ee).remove()),H.text("").style("white-space","pre");var ne=K(H.node(),ie);ne&&H.style("pointer-events","all"),k.positionText(H),re&&re.call(H)}return ue?(Z&&Z._promises||[]).push(new Promise(function(ne){H.style("display","none");var oe=parseInt(H.node().style.fontSize,10),Q={fontSize:oe};h(ue[2],Q,function(c,w,B){ge.selectAll("svg."+ee).remove(),ge.selectAll("g."+ee+"-group").remove();var E=c&&c.select("svg");if(!E||!E.node()){q(),ne();return}var b=ge.append("g").classed(ee+"-group",!0).attr({"pointer-events":"none","data-unformatted":ie,"data-math":"Y"});b.node().appendChild(E.node()),w&&w.node()&&E.node().insertBefore(w.node().cloneNode(!0),E.node().firstChild);var O=B.width,N=B.height;E.attr({class:ee,height:N,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var R=H.node().style.fill||"black",j=E.select("g");j.attr({fill:R,stroke:R});var se=j.node().getBoundingClientRect(),fe=se.width,ce=se.height;(fe>O||ce>N)&&(E.style("overflow","hidden"),se=E.node().getBoundingClientRect(),fe=se.width,ce=se.height);var ye=+H.attr("x"),xe=+H.attr("y"),De=oe||H.node().getBoundingClientRect().height,ke=-De/4;if(ee[0]==="y")b.attr({transform:"rotate("+[-90,ye,xe]+")"+i(-fe/2,ke-ce/2)});else if(ee[0]==="l")xe=ke-ce/2;else if(ee[0]==="a"&&ee.indexOf("atitle")!==0)ye=0,xe=ke;else{var Ne=H.attr("text-anchor");ye=ye-fe*(Ne==="middle"?.5:Ne==="end"?1:0),xe=xe+ke-ce/2}E.attr({x:ye,y:xe}),re&&re.call(H,b),ne(b)})})):q(),H};var u=/(<|&lt;|&#60;)/g,s=/(>|&gt;|&#62;)/g;function o(H){return H.replace(u,"\\lt ").replace(s,"\\gt ")}function h(H,Z,re){var ie,ue,ge,ee;MathJax.Hub.Queue(function(){return ue=a.extendDeepAll({},MathJax.Hub.config),ge=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})},function(){if(ie=MathJax.Hub.config.menuSettings.renderer,ie!=="SVG")return MathJax.Hub.setRenderer("SVG")},function(){var q="math-output-"+a.randstr({},64);return ee=e.select("body").append("div").attr({id:q}).style({visibility:"hidden",position:"absolute"}).style({"font-size":Z.fontSize+"px"}).text(o(H)),MathJax.Hub.Typeset(ee.node())},function(){var q=e.select("body").select("#MathJax_SVG_glyphs");if(ee.select(".MathJax_SVG").empty()||!ee.select("svg").node())a.log("There was an error in the tex syntax.",H),re();else{var ne=ee.select("svg").node().getBoundingClientRect();re(ee.select(".MathJax_SVG"),q,ne)}if(ee.remove(),ie!=="SVG")return MathJax.Hub.setRenderer(ie)},function(){return ge!==void 0&&(MathJax.Hub.processSectionDelay=ge),MathJax.Hub.Config(ue)})}var p={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},y={sub:"-0.21em",sup:"0.42em"},g="\u200B",D=["http:","https:","mailto:","",void 0,":"],C=k.NEWLINES=/(\r\n?|\n)/g,L=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,M=/<br(\s+.*)?>/i;k.BR_TAG_ALL=/<br(\s+.*)?>/gi;var v=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,m=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,A=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,V=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function T(H,Z){if(!H)return null;var re=H.match(Z),ie=re&&(re[3]||re[4]);return ie&&U(ie)}var Y=/(^|;)\s*color:/;k.plainText=function(H,Z){Z=Z||{};for(var re=Z.len!==void 0&&Z.len!==-1?Z.len:1/0,ie=Z.allowedTags!==void 0?Z.allowedTags:["br"],ue="...",ge=ue.length,ee=H.split(L),q=[],ne="",oe=0,Q=0;Q<ee.length;Q++){var c=ee[Q],w=c.match(x),B=w&&w[2].toLowerCase();if(B)ie.indexOf(B)!==-1&&(q.push(c),ne=B);else{var E=c.length;if(oe+E<re)q.push(c),oe+=E;else if(oe<re){var b=re-oe;ne&&(ne!=="br"||b<=ge||E<=ge)&&q.pop(),re>ge?q.push(c.substr(0,b-ge)+ue):q.push(c.substr(0,b));break}ne=""}}return q.join("")};var G={mu:"\u03BC",amp:"&",lt:"<",gt:">",nbsp:"\xA0",times:"\xD7",plusmn:"\xB1",deg:"\xB0"},S=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function U(H){return H.replace(S,function(Z,re){var ie;return re.charAt(0)==="#"?ie=W(re.charAt(1)==="x"?parseInt(re.substr(2),16):parseInt(re.substr(1),10)):ie=G[re],ie||Z})}k.convertEntities=U;function W(H){if(!(H>1114111)){var Z=String.fromCodePoint;if(Z)return Z(H);var re=String.fromCharCode;return H<=65535?re(H):re((H>>10)+55232,H%1024+56320)}}function K(H,Z){Z=Z.replace(C," ");var re=!1,ie=[],ue,ge=-1;function ee(){ge++;var ce=document.createElementNS(n.svg,"tspan");e.select(ce).attr({class:"line",dy:ge*r+"em"}),H.appendChild(ce),ue=ce;var ye=ie;if(ie=[{node:ce}],ye.length>1)for(var xe=1;xe<ye.length;xe++)q(ye[xe])}function q(ce){var ye=ce.type,xe={},De;if(ye==="a"){De="a";var ke=ce.target,Ne=ce.href,Ue=ce.popup;Ne&&(xe={"xlink:xlink:show":ke==="_blank"||ke.charAt(0)!=="_"?"new":"replace",target:ke,"xlink:xlink:href":Ne},Ue&&(xe.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ue+'");return false;'))}else De="tspan";ce.style&&(xe.style=ce.style);var Ce=document.createElementNS(n.svg,De);if(ye==="sup"||ye==="sub"){ne(ue,g),ue.appendChild(Ce);var _e=document.createElementNS(n.svg,"tspan");ne(_e,g),e.select(_e).attr("dy",y[ye]),xe.dy=d[ye],ue.appendChild(Ce),ue.appendChild(_e)}else ue.appendChild(Ce);e.select(Ce).attr(xe),ue=ce.node=Ce,ie.push(ce)}function ne(ce,ye){ce.appendChild(document.createTextNode(ye))}function oe(ce){if(ie.length===1){a.log("Ignoring unexpected end tag </"+ce+">.",Z);return}var ye=ie.pop();ce!==ye.type&&a.log("Start tag <"+ye.type+"> doesnt match end tag <"+ce+">. Pretending it did match.",Z),ue=ie[ie.length-1].node}var Q=M.test(Z);Q?ee():(ue=H,ie=[{node:H}]);for(var c=Z.split(L),w=0;w<c.length;w++){var B=c[w],E=B.match(x),b=E&&E[2].toLowerCase(),O=p[b];if(b==="br")ee();else if(O===void 0)ne(ue,U(B));else if(E[1])oe(b);else{var N=E[4],R={type:b},j=T(N,v);if(j?(j=j.replace(Y,"$1 fill:"),O&&(j+=";"+O)):O&&(j=O),j&&(R.style=j),b==="a"){re=!0;var se=T(N,m);if(se){var fe=J(se);fe&&(R.href=fe,R.target=T(N,A)||"_blank",R.popup=T(N,V))}}q(R)}}return re}function J(H){var Z=encodeURI(decodeURI(H)),re=document.createElement("a"),ie=document.createElement("a");re.href=H,ie.href=Z;var ue=re.protocol,ge=ie.protocol;return D.indexOf(ue)!==-1&&D.indexOf(ge)!==-1?Z:""}k.sanitizeHTML=function(Z){Z=Z.replace(C," ");for(var re=document.createElement("p"),ie=re,ue=[],ge=Z.split(L),ee=0;ee<ge.length;ee++){var q=ge[ee],ne=q.match(x),oe=ne&&ne[2].toLowerCase();if(oe in p)if(ne[1])ue.length&&(ie=ue.pop());else{var Q=ne[4],c=T(Q,v),w=c?{style:c}:{};if(oe==="a"){var B=T(Q,m);if(B){var E=J(B);if(E){w.href=E;var b=T(Q,A);b&&(w.target=b)}}}var O=document.createElement(oe);ie.appendChild(O),e.select(O).attr(w),ie=O,ue.push(O)}else ie.appendChild(document.createTextNode(U(q)))}var N="innerHTML";return re[N]},k.lineCount=function(Z){return Z.selectAll("tspan.line").size()||1},k.positionText=function(Z,re,ie){return Z.each(function(){var ue=e.select(this);function ge(ne,oe){return oe===void 0?(oe=ue.attr(ne),oe===null&&(ue.attr(ne,0),oe=0)):ue.attr(ne,oe),oe}var ee=ge("x",re),q=ge("y",ie);this.nodeName==="text"&&ue.selectAll("tspan.line").attr({x:ee,y:q})})};function ae(H,Z,re){var ie=re.horizontalAlign,ue=re.verticalAlign||"top",ge=H.node().getBoundingClientRect(),ee=Z.node().getBoundingClientRect(),q,ne,oe;return ue==="bottom"?ne=function(){return ge.bottom-q.height}:ue==="middle"?ne=function(){return ge.top+(ge.height-q.height)/2}:ne=function(){return ge.top},ie==="right"?oe=function(){return ge.right-q.width}:ie==="center"?oe=function(){return ge.left+(ge.width-q.width)/2}:oe=function(){return ge.left},function(){q=this.node().getBoundingClientRect();var Q=oe()-ee.left,c=ne()-ee.top,w=re.gd||{};if(re.gd){w._fullLayout._calcInverseTransform(w);var B=a.apply3DTransform(w._fullLayout._invTransform)(Q,c);Q=B[0],c=B[1]}return this.style({top:c+"px",left:Q+"px","z-index":1e3}),this}}var z="1px ";k.makeTextShadow=function(H){var Z=z,re=z,ie=z;return Z+re+ie+H+", -"+Z+"-"+re+ie+H+", "+Z+"-"+re+ie+H+", -"+Z+re+ie+H},k.makeEditable=function(H,Z){var re=Z.gd,ie=Z.delegate,ue=e.dispatch("edit","input","cancel"),ge=ie||H;if(H.style({"pointer-events":ie?"none":"all"}),H.size()!==1)throw new Error("boo");function ee(){ne(),H.style({opacity:0});var oe=ge.attr("class"),Q;oe?Q="."+oe.split(" ")[0]+"-math-group":Q="[class*=-math-group]",Q&&e.select(H.node().parentNode).select(Q).style({opacity:0})}function q(oe){var Q=oe.node(),c=document.createRange();c.selectNodeContents(Q);var w=window.getSelection();w.removeAllRanges(),w.addRange(c),Q.focus()}function ne(){var oe=e.select(re),Q=oe.select(".svg-container"),c=Q.append("div"),w=H.node().style,B=parseFloat(w.fontSize||12),E=Z.text;E===void 0&&(E=H.attr("data-unformatted")),c.classed("plugin-editable editable",!0).style({position:"absolute","font-family":w.fontFamily||"Arial","font-size":B,color:Z.fill||w.fill||"black",opacity:1,"background-color":Z.background||"transparent",outline:"#ffffff33 1px solid",margin:[-B/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(E).call(ae(H,Q,Z)).on("blur",function(){re._editing=!1,H.text(this.textContent).style({opacity:1});var b=e.select(this).attr("class"),O;b?O="."+b.split(" ")[0]+"-math-group":O="[class*=-math-group]",O&&e.select(H.node().parentNode).select(O).style({opacity:0});var N=this.textContent;e.select(this).transition().duration(0).remove(),e.select(document).on("mouseup",null),ue.edit.call(H,N)}).on("focus",function(){var b=this;re._editing=!0,e.select(document).on("mouseup",function(){if(e.event.target===b)return!1;document.activeElement===c.node()&&c.node().blur()})}).on("keyup",function(){e.event.which===27?(re._editing=!1,H.style({opacity:1}),e.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),ue.cancel.call(H,this.textContent)):(ue.input.call(H,this.textContent),e.select(this).call(ae(H,Q,Z)))}).on("keydown",function(){e.event.which===13&&this.blur()}).call(q)}return Z.immediate?ee():ge.on("click",ee),e.rebind(H,ue,"on")}},{"../constants/alignment":207,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],256:[function(t,P,k){var e={};k.throttle=function(n,r,f){var u=e[n],s=Date.now();if(!u){for(var o in e)e[o].ts<s-6e4&&delete e[o];u=e[n]={ts:0,timer:null}}a(u);function h(){f(),u.ts=Date.now(),u.onDone&&(u.onDone(),u.onDone=null)}if(s>u.ts+r){h();return}u.timer=setTimeout(function(){h(),u.timer=null},r)},k.done=function(i){var n=e[i];return!n||!n.timer?Promise.resolve():new Promise(function(r){var f=n.onDone;n.onDone=function(){f&&f(),r(),n.onDone=null}})},k.clear=function(i){if(i)a(e[i]),delete e[i];else for(var n in e)k.clear(n)};function a(i){i&&i.timer!==null&&(clearTimeout(i.timer),i.timer=null)}},{}],257:[function(t,P,k){var e=t("fast-isnumeric");P.exports=function(i,n){if(i>0)return Math.log(i)/Math.LN10;var r=Math.log(Math.min(n[0],n[1]))/Math.LN10;return e(r)||(r=Math.log(Math.max(n[0],n[1]))/Math.LN10-6),r}},{"fast-isnumeric":17}],258:[function(t,P,k){P.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},{}],259:[function(t,P,k){P.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},{}],260:[function(t,P,k){var e=t("../registry");P.exports=function(i){for(var n=e.layoutArrayContainers,r=e.layoutArrayRegexes,f=i.split("[")[0],u,s,o=0;o<r.length;o++)if(s=i.match(r[o]),s&&s.index===0){u=s[0];break}if(u||(u=n[n.indexOf(f)]),!u)return!1;var h=i.substr(u.length);return h?(s=h.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),s?{array:u,index:Number(s[1]),property:s[3]||""}:!1):{array:u,index:"",property:""}}},{"../registry":318}],261:[function(t,P,k){var e=t("../lib"),a=e.extendFlat,i=e.isPlainObject,n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},r={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},f=n.flags.slice().concat(["fullReplot"]),u=r.flags.slice().concat("layoutReplot");P.exports={traces:n,layout:r,traceFlags:function(){return s(f)},layoutFlags:function(){return s(u)},update:function(p,d){var y=d.editType;if(y&&y!=="none")for(var g=y.split("+"),D=0;D<g.length;D++)p[g[D]]=!0},overrideAll:o};function s(p){for(var d={},y=0;y<p.length;y++)d[p[y]]=!1;return d}function o(p,d,y){var g=a({},p);for(var D in g){var C=g[D];i(C)&&(g[D]=h(C,d,y,D))}return y==="from-root"&&(g.editType=d),g}function h(p,d,y,g){if(p.valType){var D=a({},p);if(D.editType=d,Array.isArray(p.items)){D.items=new Array(p.items.length);for(var C=0;C<p.items.length;C++)D.items[C]=h(p.items[C],d)}return D}else return o(p,d,g.charAt(0)==="_"?"nested":"from-root")}},{"../lib":232}],262:[function(t,P,k){var e=t("fast-isnumeric"),a=t("gl-mat4/fromQuat"),i=t("../registry"),n=t("../lib"),r=t("../plots/plots"),f=t("../plots/cartesian/axis_ids"),u=t("../components/color"),s=f.cleanId,o=f.getFromTrace,h=i.traceIs;k.clearPromiseQueue=function(v){Array.isArray(v._promises)&&v._promises.length>0&&n.log("Clearing previous rejected promises from queue."),v._promises=[]},k.cleanLayout=function(v){var m,A;v||(v={}),v.xaxis1&&(v.xaxis||(v.xaxis=v.xaxis1),delete v.xaxis1),v.yaxis1&&(v.yaxis||(v.yaxis=v.yaxis1),delete v.yaxis1),v.scene1&&(v.scene||(v.scene=v.scene1),delete v.scene1);var V=(r.subplotsRegistry.cartesian||{}).attrRegex,T=(r.subplotsRegistry.polar||{}).attrRegex,Y=(r.subplotsRegistry.ternary||{}).attrRegex,G=(r.subplotsRegistry.gl3d||{}).attrRegex,S=Object.keys(v);for(m=0;m<S.length;m++){var U=S[m];if(V&&V.test(U)){var W=v[U];W.anchor&&W.anchor!=="free"&&(W.anchor=s(W.anchor)),W.overlaying&&(W.overlaying=s(W.overlaying)),W.type||(W.isdate?W.type="date":W.islog?W.type="log":W.isdate===!1&&W.islog===!1&&(W.type="linear")),(W.autorange==="withzero"||W.autorange==="tozero")&&(W.autorange=!0,W.rangemode="tozero"),delete W.islog,delete W.isdate,delete W.categories,C(W,"domain")&&delete W.domain,W.autotick!==void 0&&(W.tickmode===void 0&&(W.tickmode=W.autotick?"auto":"linear"),delete W.autotick),d(W)}else if(T&&T.test(U)){var K=v[U];d(K.radialaxis)}else if(Y&&Y.test(U)){var J=v[U];d(J.aaxis),d(J.baxis),d(J.caxis)}else if(G&&G.test(U)){var ae=v[U],z=ae.cameraposition;if(Array.isArray(z)&&z[0].length===4){var H=z[0],Z=z[1],re=z[2],ie=a([],H),ue=[];for(A=0;A<3;++A)ue[A]=Z[A]+re*ie[2+4*A];ae.camera={eye:{x:ue[0],y:ue[1],z:ue[2]},center:{x:Z[0],y:Z[1],z:Z[2]},up:{x:0,y:0,z:1}},delete ae.cameraposition}d(ae.xaxis),d(ae.yaxis),d(ae.zaxis)}}var ge=Array.isArray(v.annotations)?v.annotations.length:0;for(m=0;m<ge;m++){var ee=v.annotations[m];!n.isPlainObject(ee)||(ee.ref&&(ee.ref==="paper"?(ee.xref="paper",ee.yref="paper"):ee.ref==="data"&&(ee.xref="x",ee.yref="y"),delete ee.ref),p(ee,"xref"),p(ee,"yref"))}var q=Array.isArray(v.shapes)?v.shapes.length:0;for(m=0;m<q;m++){var ne=v.shapes[m];!n.isPlainObject(ne)||(p(ne,"xref"),p(ne,"yref"))}var oe=Array.isArray(v.images)?v.images.length:0;for(m=0;m<oe;m++){var Q=v.images[m];!n.isPlainObject(Q)||(p(Q,"xref"),p(Q,"yref"))}var c=v.legend;return c&&(c.x>3?(c.x=1.02,c.xanchor="left"):c.x<-2&&(c.x=-.02,c.xanchor="right"),c.y>3?(c.y=1.02,c.yanchor="bottom"):c.y<-2&&(c.y=-.02,c.yanchor="top")),d(v),v.dragmode==="rotate"&&(v.dragmode="orbit"),u.clean(v),v.template&&v.template.layout&&k.cleanLayout(v.template.layout),v};function p(v,m){var A=v[m],V=m.charAt(0);A&&A!=="paper"&&(v[m]=s(A,V,!0))}function d(v){v&&((typeof v.title=="string"||typeof v.title=="number")&&(v.title={text:v.title}),m("titlefont","font"),m("titleposition","position"),m("titleside","side"),m("titleoffset","offset"));function m(A,V){var T=v[A],Y=v.title&&v.title[V];T&&!Y&&(v.title||(v.title={}),v.title[V]=v[A],delete v[A])}}k.cleanData=function(v){for(var m=0;m<v.length;m++){var A=v[m],V;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var T=u.defaults,Y=A.error_y.color||(h(A,"bar")?u.defaultLine:T[m%T.length]);A.error_y.color=u.addOpacity(u.rgb(Y),u.opacity(Y)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(h(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",k.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&k.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=s(A.xaxis,"x")),A.yaxis&&(A.yaxis=s(A.yaxis,"y")),h(A,"gl3d")&&A.scene&&(A.scene=r.subplotsRegistry.gl3d.cleanId(A.scene)),!h(A,"pie-like")&&!h(A,"bar-like"))if(Array.isArray(A.textposition))for(V=0;V<A.textposition.length;V++)A.textposition[V]=D(A.textposition[V]);else A.textposition&&(A.textposition=D(A.textposition));var G=i.getModule(A);if(G&&G.colorbar){var S=G.colorbar.container,U=S?A[S]:A;U&&U.colorscale&&(U.colorscale==="YIGnBu"&&(U.colorscale="YlGnBu"),U.colorscale==="YIOrRd"&&(U.colorscale="YlOrRd"))}if(A.type==="surface"&&n.isPlainObject(A.contours)){var W=["x","y","z"];for(V=0;V<W.length;V++){var K=A.contours[W[V]];!n.isPlainObject(K)||(K.highlightColor&&(K.highlightcolor=K.highlightColor,delete K.highlightColor),K.highlightWidth&&(K.highlightwidth=K.highlightWidth,delete K.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var J=(A.increasing||{}).showlegend!==!1,ae=(A.decreasing||{}).showlegend!==!1,z=y(A.increasing),H=y(A.decreasing);if(z!==!1&&H!==!1){var Z=g(z,H,J,ae);Z&&(A.name=Z)}else(z||H)&&!A.name&&(A.name=z||H)}if(Array.isArray(A.transforms)){var re=A.transforms;for(V=0;V<re.length;V++){var ie=re[V];if(!!n.isPlainObject(ie))switch(ie.type){case"filter":ie.filtersrc&&(ie.target=ie.filtersrc,delete ie.filtersrc),ie.calendar&&(ie.valuecalendar||(ie.valuecalendar=ie.calendar),delete ie.calendar);break;case"groupby":if(ie.styles=ie.styles||ie.style,ie.styles&&!Array.isArray(ie.styles)){var ue=ie.styles,ge=Object.keys(ue);ie.styles=[];for(var ee=0;ee<ge.length;ee++)ie.styles.push({target:ge[ee],value:ue[ge[ee]]})}break}}}C(A,"line")&&delete A.line,"marker"in A&&(C(A.marker,"line")&&delete A.marker.line,C(A,"marker")&&delete A.marker),u.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),d(A),A.colorbar&&d(A.colorbar),A.marker&&A.marker.colorbar&&d(A.marker.colorbar),A.line&&A.line.colorbar&&d(A.line.colorbar),A.aaxis&&d(A.aaxis),A.baxis&&d(A.baxis)}};function y(v){if(!n.isPlainObject(v))return!1;var m=v.name;return delete v.name,delete v.showlegend,(typeof m=="string"||typeof m=="number")&&String(m)}function g(v,m,A,V){if(A&&!V)return v;if(V&&!A||!v.trim())return m;if(!m.trim())return v;var T=Math.min(v.length,m.length),Y;for(Y=0;Y<T&&v.charAt(Y)===m.charAt(Y);Y++);var G=v.substr(0,Y);return G.trim()}function D(v){var m="middle",A="center";return typeof v=="string"&&(v.indexOf("top")!==-1?m="top":v.indexOf("bottom")!==-1&&(m="bottom"),v.indexOf("left")!==-1?A="left":v.indexOf("right")!==-1&&(A="right")),m+" "+A}function C(v,m){return m in v&&typeof v[m]=="object"&&Object.keys(v[m]).length===0}k.swapXYData=function(v){var m;if(n.swapAttrs(v,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(v.z)&&Array.isArray(v.z[0])&&(v.transpose?delete v.transpose:v.transpose=!0),v.error_x&&v.error_y){var A=v.error_y,V="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);n.swapAttrs(v,["error_?.copy_ystyle"]),V&&n.swapAttrs(v,["error_?.color","error_?.thickness","error_?.width"])}if(typeof v.hoverinfo=="string"){var T=v.hoverinfo.split("+");for(m=0;m<T.length;m++)T[m]==="x"?T[m]="y":T[m]==="y"&&(T[m]="x");v.hoverinfo=T.join("+")}},k.coerceTraceIndices=function(v,m){if(e(m))return[m];if(!Array.isArray(m)||!m.length)return v.data.map(function(T,Y){return Y});if(Array.isArray(m)){for(var A=[],V=0;V<m.length;V++)n.isIndex(m[V],v.data.length)?A.push(m[V]):n.warn("trace index (",m[V],") is not a number or is out of bounds");return A}return m},k.manageArrayContainers=function(v,m,A){var V=v.obj,T=v.parts,Y=T.length,G=T[Y-1],S=e(G);if(S&&m===null){var U=T.slice(0,Y-1).join("."),W=n.nestedProperty(V,U).get();W.splice(G,1)}else S&&v.get()===void 0&&v.get()===void 0&&(A[v.astr]=null),v.set(m)};var L=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function x(v){var m=v.search(L);if(m>0)return v.substr(0,m)}k.hasParent=function(v,m){for(var A=x(m);A;){if(A in v)return!0;A=x(A)}return!1};var M=["x","y","z"];k.clearAxisTypes=function(v,m,A){for(var V=0;V<m.length;V++)for(var T=v._fullData[V],Y=0;Y<3;Y++){var G=o(v,T,M[Y]);if(G&&G.type!=="log"){var S=G._name,U=G._id.substr(1);if(U.substr(0,5)==="scene"){if(A[U]!==void 0)continue;S=U+"."+S}var W=S+".type";A[S]===void 0&&A[W]===void 0&&n.nestedProperty(v.layout,W).set(null)}}}},{"../components/color":102,"../lib":232,"../plots/cartesian/axis_ids":283,"../plots/plots":316,"../registry":318,"fast-isnumeric":17,"gl-mat4/fromQuat":23}],263:[function(t,P,k){var e=t("./plot_api");k._doPlot=e._doPlot,k.newPlot=e.newPlot,k.restyle=e.restyle,k.relayout=e.relayout,k.redraw=e.redraw,k.update=e.update,k._guiRestyle=e._guiRestyle,k._guiRelayout=e._guiRelayout,k._guiUpdate=e._guiUpdate,k._storeDirectGUIEdit=e._storeDirectGUIEdit,k.react=e.react,k.extendTraces=e.extendTraces,k.prependTraces=e.prependTraces,k.addTraces=e.addTraces,k.deleteTraces=e.deleteTraces,k.moveTraces=e.moveTraces,k.purge=e.purge,k.addFrames=e.addFrames,k.deleteFrames=e.deleteFrames,k.animate=e.animate,k.setPlotConfig=e.setPlotConfig,k.toImage=t("./to_image"),k.validate=t("./validate"),k.downloadImage=t("../snapshot/download");var a=t("./template_api");k.makeTemplate=a.makeTemplate,k.validateTemplate=a.validateTemplate},{"../snapshot/download":320,"./plot_api":265,"./template_api":270,"./to_image":271,"./validate":272}],264:[function(t,P,k){var e=t("../lib/is_plain_object"),a=t("../lib/noop"),i=t("../lib/loggers"),n=t("../lib/search").sorterAsc,r=t("../registry");k.containerArrayMatch=t("./container_array_match");var f=k.isAddVal=function(o){return o==="add"||e(o)},u=k.isRemoveVal=function(o){return o===null||o==="remove"};k.applyContainerArrayChanges=function(o,h,p,d,y){var g=h.astr,D=r.getComponentMethod(g,"supplyLayoutDefaults"),C=r.getComponentMethod(g,"draw"),L=r.getComponentMethod(g,"drawOne"),x=d.replot||d.recalc||D===a||C===a,M=o.layout,v=o._fullLayout;if(p[""]){Object.keys(p).length>1&&i.warn("Full array edits are incompatible with other edits",g);var m=p[""][""];if(u(m))h.set(null);else if(Array.isArray(m))h.set(m);else return i.warn("Unrecognized full array edit value",g,m),!0;return x?!1:(D(M,v),C(o),!0)}var A=Object.keys(p).map(Number).sort(n),V=h.get(),T=V||[],Y=y(v,g).get(),G=[],S=-1,U=T.length,W,K,J,ae,z,H,Z,re;for(W=0;W<A.length;W++){if(J=A[W],ae=p[J],z=Object.keys(ae),H=ae[""],Z=f(H),J<0||J>T.length-(Z?0:1)){i.warn("index out of range",g,J);continue}if(H!==void 0)z.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",g,J),u(H)?G.push(J):Z?(H==="add"&&(H={}),T.splice(J,0,H),Y&&Y.splice(J,0,{})):i.warn("Unrecognized full object edit value",g,J,H),S===-1&&(S=J);else for(K=0;K<z.length;K++)re=g+"["+J+"].",y(T[J],z[K],re).set(ae[z[K]])}for(W=G.length-1;W>=0;W--)T.splice(G[W],1),Y&&Y.splice(G[W],1);if(T.length?V||h.set(T):h.set(null),x)return!1;if(D(M,v),L!==a){var ie;if(S===-1)ie=A;else{for(U=Math.max(T.length,U),ie=[],W=0;W<A.length&&(J=A[W],!(J>=S));W++)ie.push(J);for(W=S;W<U;W++)ie.push(W)}for(W=0;W<ie.length;W++)L(o,ie[W])}else C(o);return!0}},{"../lib/is_plain_object":233,"../lib/loggers":236,"../lib/noop":241,"../lib/search":251,"../registry":318,"./container_array_match":260}],265:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=t("has-hover"),n=t("../lib"),r=n.nestedProperty,f=t("../lib/events"),u=t("../lib/queue"),s=t("../registry"),o=t("./plot_schema"),h=t("../plots/plots"),p=t("../plots/cartesian/axes"),d=t("../components/drawing"),y=t("../components/color"),g=t("../plots/cartesian/graph_interact").initInteractions,D=t("../constants/xmlns_namespaces"),C=t("../plots/cartesian/select").clearSelect,L=t("./plot_config").dfltConfig,x=t("./manage_arrays"),M=t("./helpers"),v=t("./subroutines"),m=t("./edit_types"),A=t("../plots/cartesian/constants").AX_NAME_PATTERN,V=0,T=5;function Y(pe,Ae,Se,Pe){var tt;if(pe=n.getGraphDiv(pe),f.init(pe),n.isPlainObject(Ae)){var Je=Ae;Ae=Je.data,Se=Je.layout,Pe=Je.config,tt=Je.frames}var ht=f.triggerHandler(pe,"plotly_beforeplot",[Ae,Se,Pe]);if(ht===!1)return Promise.reject();!Ae&&!Se&&!n.isPlotDiv(pe)&&n.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",pe);function vt(){if(tt)return k.addFrames(pe,tt)}K(pe,Pe),Se||(Se={}),e.select(pe).classed("js-plotly-plot",!0),d.makeTester(),Array.isArray(pe._promises)||(pe._promises=[]);var nt=(pe.data||[]).length===0&&Array.isArray(Ae);Array.isArray(Ae)&&(M.cleanData(Ae),nt?pe.data=Ae:pe.data.push.apply(pe.data,Ae),pe.empty=!1),(!pe.layout||nt)&&(pe.layout=M.cleanLayout(Se)),h.supplyDefaults(pe);var je=pe._fullLayout,_t=je._has("cartesian");je._replotting=!0,(nt||je._shouldCreateBgLayer)&&(at(pe),je._shouldCreateBgLayer&&delete je._shouldCreateBgLayer),d.initGradients(pe),d.initPatterns(pe),nt&&p.saveShowSpikeInitial(pe);var Et=!pe.calcdata||pe.calcdata.length!==(pe._fullData||[]).length;Et&&h.doCalcdata(pe);for(var Tt=0;Tt<pe.calcdata.length;Tt++)pe.calcdata[Tt][0].trace=pe._fullData[Tt];pe._context.responsive?pe._responsiveChartHandler||(pe._responsiveChartHandler=function(){n.isHidden(pe)||h.resize(pe)},window.addEventListener("resize",pe._responsiveChartHandler)):n.clearResponsive(pe);var Zt=n.extendFlat({},je._size),$t=0;function Qt(){for(var we=je._basePlotModules,Le=0;Le<we.length;Le++)we[Le].drawFramework&&we[Le].drawFramework(pe);!je._glcanvas&&je._has("gl")&&(je._glcanvas=je._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Ye){return Ye.key}),je._glcanvas.enter().append("canvas").attr("class",function(Ye){return"gl-canvas gl-canvas-"+Ye.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Re=pe._context.plotGlPixelRatio;if(je._glcanvas){je._glcanvas.attr("width",je.width*Re).attr("height",je.height*Re).style("width",je.width+"px").style("height",je.height+"px");var Ge=je._glcanvas.data()[0].regl;if(Ge&&(Math.floor(je.width*Re)!==Ge._gl.drawingBufferWidth||Math.floor(je.height*Re)!==Ge._gl.drawingBufferHeight)){var Fe="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if($t)n.error(Fe);else return n.log(Fe+" Clearing graph and plotting again."),h.cleanPlot([],{},pe._fullData,je),h.supplyDefaults(pe),je=pe._fullLayout,h.doCalcdata(pe),$t++,Qt()}}return je.modebar.orientation==="h"?je._modebardiv.style("height",null).style("width","100%"):je._modebardiv.style("width",null).style("height",je.height+"px"),h.previousPromises(pe)}function zt(){if(h.clearAutoMarginIds(pe),v.drawMarginPushers(pe),p.allowAutoMargin(pe),je._has("pie"))for(var we=pe._fullData,Le=0;Le<we.length;Le++){var Re=we[Le];Re.type==="pie"&&Re.automargin&&h.allowAutoMargin(pe,"pie."+Re.uid+".automargin")}return h.doAutoMargin(pe),h.previousPromises(pe)}function Yt(){if(!!h.didMarginChange(Zt,je._size))return n.syncOrAsync([zt,v.layoutStyles],pe)}function Ft(){if(!Et){ct();return}return n.syncOrAsync([s.getComponentMethod("shapes","calcAutorange"),s.getComponentMethod("annotations","calcAutorange"),ct],pe)}function ct(){pe._transitioning||(v.doAutoRangeAndConstraints(pe),nt&&p.saveRangeInitial(pe),s.getComponentMethod("rangeslider","calcAutorange")(pe))}function Vt(){return p.draw(pe,nt?"":"redraw")}var Ot=[h.previousPromises,vt,Qt,zt,Yt];_t&&Ot.push(Ft),Ot.push(v.layoutStyles),_t&&Ot.push(Vt,function(Le){Le._fullLayout._insideTickLabelsAutorange&&j(Le,Le._fullLayout._insideTickLabelsAutorange).then(function(){Le._fullLayout._insideTickLabelsAutorange=void 0})}),Ot.push(v.drawData,v.finalDraw,g,h.addLinks,h.rehover,h.redrag,h.doAutoMargin,he,h.previousPromises);function he(we){we._fullLayout._insideTickLabelsAutorange&&nt&&p.saveRangeInitial(we,!0)}var ve=n.syncOrAsync(Ot,pe);return(!ve||!ve.then)&&(ve=Promise.resolve()),ve.then(function(){return G(pe),pe})}function G(pe){var Ae=pe._fullLayout;Ae._redrawFromAutoMarginCount?Ae._redrawFromAutoMarginCount--:pe.emit("plotly_afterplot")}function S(pe){return n.extendFlat(L,pe)}function U(pe,Ae){try{pe._fullLayout._paper.style("background",Ae)}catch(Se){n.error(Se)}}function W(pe,Ae){var Se=y.combine(Ae,"white");U(pe,Se)}function K(pe,Ae){if(!pe._context){pe._context=n.extendDeep({},L);var Se=e.select("base");pe._context._baseUrl=Se.size()&&Se.attr("href")?window.location.href.split("#")[0]:""}var Pe=pe._context,tt,Je,ht;if(Ae){for(Je=Object.keys(Ae),tt=0;tt<Je.length;tt++)ht=Je[tt],!(ht==="editable"||ht==="edits")&&ht in Pe&&(ht==="setBackground"&&Ae[ht]==="opaque"?Pe[ht]=W:Pe[ht]=Ae[ht]);Ae.plot3dPixelRatio&&!Pe.plotGlPixelRatio&&(Pe.plotGlPixelRatio=Pe.plot3dPixelRatio);var vt=Ae.editable;if(vt!==void 0)for(Pe.editable=vt,Je=Object.keys(Pe.edits),tt=0;tt<Je.length;tt++)Pe.edits[Je[tt]]=vt;if(Ae.edits)for(Je=Object.keys(Ae.edits),tt=0;tt<Je.length;tt++)ht=Je[tt],ht in Pe.edits&&(Pe.edits[ht]=Ae.edits[ht]);Pe._exportedPlot=Ae._exportedPlot}Pe.staticPlot&&(Pe.editable=!1,Pe.edits={},Pe.autosizable=!1,Pe.scrollZoom=!1,Pe.doubleClick=!1,Pe.showTips=!1,Pe.showLink=!1,Pe.displayModeBar=!1),Pe.displayModeBar==="hover"&&!i&&(Pe.displayModeBar=!0),(Pe.setBackground==="transparent"||typeof Pe.setBackground!="function")&&(Pe.setBackground=U),Pe._hasZeroHeight=Pe._hasZeroHeight||pe.clientHeight===0,Pe._hasZeroWidth=Pe._hasZeroWidth||pe.clientWidth===0;var nt=Pe.scrollZoom,je=Pe._scrollZoom={};if(nt===!0)je.cartesian=1,je.gl3d=1,je.geo=1,je.mapbox=1;else if(typeof nt=="string"){var _t=nt.split("+");for(tt=0;tt<_t.length;tt++)je[_t[tt]]=1}else nt!==!1&&(je.gl3d=1,je.geo=1,je.mapbox=1)}function J(pe){if(pe=n.getGraphDiv(pe),!n.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe);return M.cleanData(pe.data),M.cleanLayout(pe.layout),pe.calcdata=void 0,k._doPlot(pe).then(function(){return pe.emit("plotly_redraw"),pe})}function ae(pe,Ae,Se,Pe){return pe=n.getGraphDiv(pe),h.cleanPlot([],{},pe._fullData||[],pe._fullLayout||{}),h.purge(pe),k._doPlot(pe,Ae,Se,Pe)}function z(pe,Ae){var Se=Ae+1,Pe=[],tt,Je;for(tt=0;tt<pe.length;tt++)Je=pe[tt],Je<0?Pe.push(Se+Je):Pe.push(Je);return Pe}function H(pe,Ae,Se){var Pe,tt;for(Pe=0;Pe<Ae.length;Pe++){if(tt=Ae[Pe],tt!==parseInt(tt,10))throw new Error("all values in "+Se+" must be integers");if(tt>=pe.data.length||tt<-pe.data.length)throw new Error(Se+" must be valid indices for gd.data.");if(Ae.indexOf(tt,Pe+1)>-1||tt>=0&&Ae.indexOf(-pe.data.length+tt)>-1||tt<0&&Ae.indexOf(pe.data.length+tt)>-1)throw new Error("each index in "+Se+" must be unique.")}}function Z(pe,Ae,Se){if(!Array.isArray(pe.data))throw new Error("gd.data must be an array.");if(typeof Ae=="undefined")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ae)||(Ae=[Ae]),H(pe,Ae,"currentIndices"),typeof Se!="undefined"&&!Array.isArray(Se)&&(Se=[Se]),typeof Se!="undefined"&&H(pe,Se,"newIndices"),typeof Se!="undefined"&&Ae.length!==Se.length)throw new Error("current and new indices must be of equal length.")}function re(pe,Ae,Se){var Pe,tt;if(!Array.isArray(pe.data))throw new Error("gd.data must be an array.");if(typeof Ae=="undefined")throw new Error("traces must be defined.");for(Array.isArray(Ae)||(Ae=[Ae]),Pe=0;Pe<Ae.length;Pe++)if(tt=Ae[Pe],typeof tt!="object"||Array.isArray(tt)||tt===null)throw new Error("all values in traces array must be non-array objects");if(typeof Se!="undefined"&&!Array.isArray(Se)&&(Se=[Se]),typeof Se!="undefined"&&Se.length!==Ae.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function ie(pe,Ae,Se,Pe){var tt=n.isPlainObject(Pe);if(!Array.isArray(pe.data))throw new Error("gd.data must be an array");if(!n.isPlainObject(Ae))throw new Error("update must be a key:value object");if(typeof Se=="undefined")throw new Error("indices must be an integer or array of integers");H(pe,Se,"indices");for(var Je in Ae){if(!Array.isArray(Ae[Je])||Ae[Je].length!==Se.length)throw new Error("attribute "+Je+" must be an array of length equal to indices array length");if(tt&&(!(Je in Pe)||!Array.isArray(Pe[Je])||Pe[Je].length!==Ae[Je].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ue(pe,Ae,Se,Pe){var tt=n.isPlainObject(Pe),Je=[],ht,vt,nt,je,_t;Array.isArray(Se)||(Se=[Se]),Se=z(Se,pe.data.length-1);for(var Et in Ae)for(var Tt=0;Tt<Se.length;Tt++){if(ht=pe.data[Se[Tt]],nt=r(ht,Et),vt=nt.get(),je=Ae[Et][Tt],!n.isArrayOrTypedArray(je))throw new Error("attribute: "+Et+" index: "+Tt+" must be an array");if(!n.isArrayOrTypedArray(vt))throw new Error("cannot extend missing or non-array attribute: "+Et);if(vt.constructor!==je.constructor)throw new Error("cannot extend array with an array of a different type: "+Et);_t=tt?Pe[Et][Tt]:Pe,a(_t)||(_t=-1),Je.push({prop:nt,target:vt,insert:je,maxp:Math.floor(_t)})}return Je}function ge(pe,Ae,Se,Pe,tt){ie(pe,Ae,Se,Pe);for(var Je=ue(pe,Ae,Se,Pe),ht={},vt={},nt=0;nt<Je.length;nt++){var je=Je[nt].prop,_t=Je[nt].maxp,Et=tt(Je[nt].target,Je[nt].insert,_t);je.set(Et[0]),Array.isArray(ht[je.astr])||(ht[je.astr]=[]),ht[je.astr].push(Et[1]),Array.isArray(vt[je.astr])||(vt[je.astr]=[]),vt[je.astr].push(Je[nt].target.length)}return{update:ht,maxPoints:vt}}function ee(pe,Ae){var Se=new pe.constructor(pe.length+Ae.length);return Se.set(pe),Se.set(Ae,pe.length),Se}function q(pe,Ae,Se,Pe){pe=n.getGraphDiv(pe);function tt(nt,je,_t){var Et,Tt;if(n.isTypedArray(nt))if(_t<0){var Zt=new nt.constructor(0),$t=ee(nt,je);_t<0?(Et=$t,Tt=Zt):(Et=Zt,Tt=$t)}else if(Et=new nt.constructor(_t),Tt=new nt.constructor(nt.length+je.length-_t),_t===je.length)Et.set(je),Tt.set(nt);else if(_t<je.length){var Qt=je.length-_t;Et.set(je.subarray(Qt)),Tt.set(nt),Tt.set(je.subarray(0,Qt),nt.length)}else{var zt=_t-je.length,Yt=nt.length-zt;Et.set(nt.subarray(Yt)),Et.set(je,zt),Tt.set(nt.subarray(0,Yt))}else Et=nt.concat(je),Tt=_t>=0&&_t<Et.length?Et.splice(0,Et.length-_t):[];return[Et,Tt]}var Je=ge(pe,Ae,Se,Pe,tt),ht=k.redraw(pe),vt=[pe,Je.update,Se,Je.maxPoints];return u.add(pe,k.prependTraces,vt,q,arguments),ht}function ne(pe,Ae,Se,Pe){pe=n.getGraphDiv(pe);function tt(nt,je,_t){var Et,Tt;if(n.isTypedArray(nt))if(_t<=0){var Zt=new nt.constructor(0),$t=ee(je,nt);_t<0?(Et=$t,Tt=Zt):(Et=Zt,Tt=$t)}else if(Et=new nt.constructor(_t),Tt=new nt.constructor(nt.length+je.length-_t),_t===je.length)Et.set(je),Tt.set(nt);else if(_t<je.length){var Qt=je.length-_t;Et.set(je.subarray(0,Qt)),Tt.set(je.subarray(Qt)),Tt.set(nt,Qt)}else{var zt=_t-je.length;Et.set(je),Et.set(nt.subarray(0,zt),je.length),Tt.set(nt.subarray(zt))}else Et=je.concat(nt),Tt=_t>=0&&_t<Et.length?Et.splice(_t,Et.length):[];return[Et,Tt]}var Je=ge(pe,Ae,Se,Pe,tt),ht=k.redraw(pe),vt=[pe,Je.update,Se,Je.maxPoints];return u.add(pe,k.extendTraces,vt,ne,arguments),ht}function oe(pe,Ae,Se){pe=n.getGraphDiv(pe);var Pe=[],tt=k.deleteTraces,Je=oe,ht=[pe,Pe],vt=[pe,Ae],nt,je;for(re(pe,Ae,Se),Array.isArray(Ae)||(Ae=[Ae]),Ae=Ae.map(function(_t){return n.extendFlat({},_t)}),M.cleanData(Ae),nt=0;nt<Ae.length;nt++)pe.data.push(Ae[nt]);for(nt=0;nt<Ae.length;nt++)Pe.push(-Ae.length+nt);if(typeof Se=="undefined")return je=k.redraw(pe),u.add(pe,tt,ht,Je,vt),je;Array.isArray(Se)||(Se=[Se]);try{Z(pe,Pe,Se)}catch(_t){throw pe.data.splice(pe.data.length-Ae.length,Ae.length),_t}return u.startSequence(pe),u.add(pe,tt,ht,Je,vt),je=k.moveTraces(pe,Pe,Se),u.stopSequence(pe),je}function Q(pe,Ae){pe=n.getGraphDiv(pe);var Se=[],Pe=k.addTraces,tt=Q,Je=[pe,Se,Ae],ht=[pe,Ae],vt,nt;if(typeof Ae=="undefined")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ae)||(Ae=[Ae]),H(pe,Ae,"indices"),Ae=z(Ae,pe.data.length-1),Ae.sort(n.sorterDes),vt=0;vt<Ae.length;vt+=1)nt=pe.data.splice(Ae[vt],1)[0],Se.push(nt);var je=k.redraw(pe);return u.add(pe,Pe,Je,tt,ht),je}function c(pe,Ae,Se){pe=n.getGraphDiv(pe);var Pe=[],tt=[],Je=c,ht=c,vt=[pe,Se,Ae],nt=[pe,Ae,Se],je;if(Z(pe,Ae,Se),Ae=Array.isArray(Ae)?Ae:[Ae],typeof Se=="undefined")for(Se=[],je=0;je<Ae.length;je++)Se.push(-Ae.length+je);for(Se=Array.isArray(Se)?Se:[Se],Ae=z(Ae,pe.data.length-1),Se=z(Se,pe.data.length-1),je=0;je<pe.data.length;je++)Ae.indexOf(je)===-1&&Pe.push(pe.data[je]);for(je=0;je<Ae.length;je++)tt.push({newIndex:Se[je],trace:pe.data[Ae[je]]});for(tt.sort(function(Et,Tt){return Et.newIndex-Tt.newIndex}),je=0;je<tt.length;je+=1)Pe.splice(tt[je].newIndex,0,tt[je].trace);pe.data=Pe;var _t=k.redraw(pe);return u.add(pe,Je,vt,ht,nt),_t}function w(pe,Ae,Se,Pe){pe=n.getGraphDiv(pe),M.clearPromiseQueue(pe);var tt={};if(typeof Ae=="string")tt[Ae]=Se;else if(n.isPlainObject(Ae))tt=n.extendFlat({},Ae),Pe===void 0&&(Pe=Se);else return n.warn("Restyle fail.",Ae,Se,Pe),Promise.reject();Object.keys(tt).length&&(pe.changed=!0);var Je=M.coerceTraceIndices(pe,Pe),ht=N(pe,tt,Je),vt=ht.flags;vt.calc&&(pe.calcdata=void 0),vt.clearAxisTypes&&M.clearAxisTypes(pe,Je,{});var nt=[];vt.fullReplot?nt.push(k._doPlot):(nt.push(h.previousPromises),h.supplyDefaults(pe),vt.markerSize&&(h.doCalcdata(pe),fe(nt)),vt.style&&nt.push(v.doTraceStyle),vt.colorbars&&nt.push(v.doColorBars),nt.push(G)),nt.push(h.rehover,h.redrag),u.add(pe,w,[pe,ht.undoit,ht.traces],w,[pe,ht.redoit,ht.traces]);var je=n.syncOrAsync(nt,pe);return(!je||!je.then)&&(je=Promise.resolve()),je.then(function(){return pe.emit("plotly_restyle",ht.eventData),pe})}function B(pe){return pe===void 0?null:pe}function E(pe,Ae){return Ae?function(Se,Pe,tt){var Je=r(Se,Pe),ht=Je.set;return Je.set=function(vt){var nt=(tt||"")+Pe;b(nt,Je.get(),vt,pe),ht(vt)},Je}:r}function b(pe,Ae,Se,Pe){if(Array.isArray(Ae)||Array.isArray(Se))for(var tt=Array.isArray(Ae)?Ae:[],Je=Array.isArray(Se)?Se:[],ht=Math.max(tt.length,Je.length),vt=0;vt<ht;vt++)b(pe+"["+vt+"]",tt[vt],Je[vt],Pe);else if(n.isPlainObject(Ae)||n.isPlainObject(Se)){var nt=n.isPlainObject(Ae)?Ae:{},je=n.isPlainObject(Se)?Se:{},_t=n.extendFlat({},nt,je);for(var Et in _t)b(pe+"."+Et,nt[Et],je[Et],Pe)}else Pe[pe]===void 0&&(Pe[pe]=B(Ae))}function O(pe,Ae,Se){for(var Pe in Se){var tt=r(pe,Pe);b(Pe,tt.get(),Se[Pe],Ae)}}function N(pe,Ae,Se){var Pe=pe._fullLayout,tt=pe._fullData,Je=pe.data,ht=Pe._guiEditing,vt=E(Pe._preGUI,ht),nt=n.extendDeepAll({},Ae),je;R(Ae);var _t=m.traceFlags(),Et={},Tt={},Zt;function $t(){return Se.map(function(){})}function Qt(jt){var Bt=p.id2name(jt);Zt.indexOf(Bt)===-1&&Zt.push(Bt)}function zt(jt){return"LAYOUT"+jt+".autorange"}function Yt(jt){return"LAYOUT"+jt+".range"}function Ft(jt){for(var Bt=jt;Bt<tt.length;Bt++)if(tt[Bt]._input===Je[jt])return tt[Bt]}function ct(jt,Bt,nr){if(Array.isArray(jt)){jt.forEach(function(fr){ct(fr,Bt,nr)});return}if(!(jt in Ae||M.hasParent(Ae,jt))){var ir;if(jt.substr(0,6)==="LAYOUT")ir=vt(pe.layout,jt.replace("LAYOUT",""));else{var rr=Se[nr],lr=Pe._tracePreGUI[Ft(rr)._fullInput.uid];ir=E(lr,ht)(Je[rr],jt)}jt in Tt||(Tt[jt]=$t()),Tt[jt][nr]===void 0&&(Tt[jt][nr]=B(ir.get())),Bt!==void 0&&ir.set(Bt)}}function Vt(jt){return function(Bt){return tt[Bt][jt]}}function Ot(jt){return function(Bt,nr){return Bt===!1?tt[Se[nr]][jt]:null}}for(var he in Ae){if(M.hasParent(Ae,he))throw new Error("cannot set "+he+" and a parent attribute simultaneously");var ve=Ae[he],we,Le,Re,Ge,Fe,Ye;if((he==="autobinx"||he==="autobiny")&&(he=he.charAt(he.length-1)+"bins",Array.isArray(ve)?ve=ve.map(Ot(he)):ve===!1?ve=Se.map(Vt(he)):ve=null),Et[he]=ve,he.substr(0,6)==="LAYOUT"){Re=vt(pe.layout,he.replace("LAYOUT","")),Tt[he]=[B(Re.get())],Re.set(Array.isArray(ve)?ve[0]:ve),_t.calc=!0;continue}for(Tt[he]=$t(),je=0;je<Se.length;je++){we=Je[Se[je]],Le=Ft(Se[je]);var $e=Pe._tracePreGUI[Le._fullInput.uid];if(Re=E($e,ht)(we,he),Ge=Re.get(),Fe=Array.isArray(ve)?ve[je%ve.length]:ve,Fe!==void 0){var yt=Re.parts[Re.parts.length-1],Mt=he.substr(0,he.length-yt.length-1),St=Mt?Mt+".":"",wt=Mt?r(Le,Mt).get():Le;if(Ye=o.getTraceValObject(Le,Re.parts),Ye&&Ye.impliedEdits&&Fe!==null)for(var Ht in Ye.impliedEdits)ct(n.relativeAttr(he,Ht),Ye.impliedEdits[Ht],je);else if((yt==="thicknessmode"||yt==="lenmode")&&Ge!==Fe&&(Fe==="fraction"||Fe==="pixels")&&wt){var Nt=Pe._size,qt=wt.orient,kt=qt==="top"||qt==="bottom";if(yt==="thicknessmode"){var xt=kt?Nt.h:Nt.w;ct(St+"thickness",wt.thickness*(Fe==="fraction"?1/xt:xt),je)}else{var It=kt?Nt.w:Nt.h;ct(St+"len",wt.len*(Fe==="fraction"?1/It:It),je)}}else if(he==="type"&&(Fe==="pie"!=(Ge==="pie")||Fe==="funnelarea"!=(Ge==="funnelarea"))){var Ut="x",it="y";(Fe==="bar"||Ge==="bar")&&we.orientation==="h"&&(Ut="y",it="x"),n.swapAttrs(we,["?","?src"],"labels",Ut),n.swapAttrs(we,["d?","?0"],"label",Ut),n.swapAttrs(we,["?","?src"],"values",it),Ge==="pie"||Ge==="funnelarea"?(r(we,"marker.color").set(r(we,"marker.colors").get()),Pe._pielayer.selectAll("g.trace").remove()):s.traceIs(we,"cartesian")&&r(we,"marker.colors").set(r(we,"marker.color").get())}Tt[he][je]=B(Ge);var At=["swapxy","swapxyaxes","orientation","orientationaxes"];if(At.indexOf(he)!==-1){if(he==="orientation"){Re.set(Fe);var Rt=we.x&&!we.y?"h":"v";if((Re.get()||Rt)===Le.orientation)continue}else he==="orientationaxes"&&(we.orientation={v:"h",h:"v"}[Le.orientation]);M.swapXYData(we),_t.calc=_t.clearAxisTypes=!0}else h.dataArrayContainers.indexOf(Re.parts[0])!==-1?(M.manageArrayContainers(Re,Fe,Tt),_t.calc=!0):(Ye?Ye.arrayOk&&!s.traceIs(Le,"regl")&&(n.isArrayOrTypedArray(Fe)||n.isArrayOrTypedArray(Ge))?_t.calc=!0:m.update(_t,Ye):_t.calc=!0,Re.set(Fe))}}if(["swapxyaxes","orientationaxes"].indexOf(he)!==-1&&p.swap(pe,Se),he==="orientationaxes"){var bt=r(pe.layout,"hovermode"),Dt=bt.get();Dt==="x"?bt.set("y"):Dt==="y"?bt.set("x"):Dt==="x unified"?bt.set("y unified"):Dt==="y unified"&&bt.set("x unified")}if(["orientation","type"].indexOf(he)!==-1){for(Zt=[],je=0;je<Se.length;je++){var Jt=Je[Se[je]];s.traceIs(Jt,"cartesian")&&(Qt(Jt.xaxis||"x"),Qt(Jt.yaxis||"y"))}ct(Zt.map(zt),!0,0),ct(Zt.map(Yt),[0,1],0)}}return(_t.calc||_t.plot)&&(_t.fullReplot=!0),{flags:_t,undoit:Tt,redoit:Et,traces:Se,eventData:n.extendDeepNoArrays([],[nt,Se])}}function R(pe){var Ae=n.counterRegex("axis",".title",!1,!1),Se=/colorbar\.title$/,Pe=Object.keys(pe),tt,Je,ht;for(tt=0;tt<Pe.length;tt++)Je=Pe[tt],ht=pe[Je],(Je==="title"||Ae.test(Je)||Se.test(Je))&&(typeof ht=="string"||typeof ht=="number")?vt(Je,Je.replace("title","title.text")):Je.indexOf("titlefont")>-1&&Je.indexOf("grouptitlefont")===-1?vt(Je,Je.replace("titlefont","title.font")):Je.indexOf("titleposition")>-1?vt(Je,Je.replace("titleposition","title.position")):Je.indexOf("titleside")>-1?vt(Je,Je.replace("titleside","title.side")):Je.indexOf("titleoffset")>-1&&vt(Je,Je.replace("titleoffset","title.offset"));function vt(nt,je){pe[je]=pe[nt],delete pe[nt]}}function j(pe,Ae,Se){pe=n.getGraphDiv(pe),M.clearPromiseQueue(pe);var Pe={};if(typeof Ae=="string")Pe[Ae]=Se;else if(n.isPlainObject(Ae))Pe=n.extendFlat({},Ae);else return n.warn("Relayout fail.",Ae,Se),Promise.reject();Object.keys(Pe).length&&(pe.changed=!0);var tt=De(pe,Pe),Je=tt.flags;Je.calc&&(pe.calcdata=void 0);var ht=[h.previousPromises];Je.layoutReplot?ht.push(v.layoutReplot):Object.keys(Pe).length&&(se(pe,Je,tt)||h.supplyDefaults(pe),Je.legend&&ht.push(v.doLegend),Je.layoutstyle&&ht.push(v.layoutStyles),Je.axrange&&fe(ht,tt.rangesAltered),Je.ticks&&ht.push(v.doTicksRelayout),Je.modebar&&ht.push(v.doModeBar),Je.camera&&ht.push(v.doCamera),Je.colorbars&&ht.push(v.doColorBars),ht.push(G)),ht.push(h.rehover,h.redrag),u.add(pe,j,[pe,tt.undoit],j,[pe,tt.redoit]);var vt=n.syncOrAsync(ht,pe);return(!vt||!vt.then)&&(vt=Promise.resolve(pe)),vt.then(function(){return pe.emit("plotly_relayout",tt.eventData),pe})}function se(pe,Ae,Se){var Pe=pe._fullLayout;if(!Ae.axrange)return!1;for(var tt in Ae)if(tt!=="axrange"&&Ae[tt])return!1;for(var Je in Se.rangesAltered){var ht=p.id2name(Je),vt=pe.layout[ht],nt=Pe[ht];if(nt.autorange=vt.autorange,vt.range&&(nt.range=vt.range.slice()),nt.cleanRange(),nt._matchGroup){for(var je in nt._matchGroup)if(je!==Je){var _t=Pe[p.id2name(je)];_t.autorange=nt.autorange,_t.range=nt.range.slice(),_t._input.range=nt.range.slice()}}}return!0}function fe(pe,Ae){var Se=Ae?function(Pe){var tt=[],Je=!0;for(var ht in Ae){var vt=p.getFromId(Pe,ht);if(tt.push(ht),(vt.ticklabelposition||"").indexOf("inside")!==-1&&vt._anchorAxis&&tt.push(vt._anchorAxis._id),vt._matchGroup)for(var nt in vt._matchGroup)Ae[nt]||tt.push(nt);vt.automargin&&(Je=!1)}return p.draw(Pe,tt,{skipTitle:Je})}:function(Pe){return p.draw(Pe,"redraw")};pe.push(C,v.doAutoRangeAndConstraints,Se,v.drawData,v.finalDraw)}var ce=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ye=/^[xyz]axis[0-9]*\.autorange$/,xe=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function De(pe,Ae){var Se=pe.layout,Pe=pe._fullLayout,tt=Pe._guiEditing,Je=E(Pe._preGUI,tt),ht=Object.keys(Ae),vt=p.list(pe),nt=n.extendDeepAll({},Ae),je={},_t,Et,Tt;for(R(Ae),ht=Object.keys(Ae),Et=0;Et<ht.length;Et++)if(ht[Et].indexOf("allaxes")===0){for(Tt=0;Tt<vt.length;Tt++){var Zt=vt[Tt]._id.substr(1),$t=Zt.indexOf("scene")!==-1?Zt+".":"",Qt=ht[Et].replace("allaxes",$t+vt[Tt]._name);Ae[Qt]||(Ae[Qt]=Ae[ht[Et]])}delete Ae[ht[Et]]}var zt=m.layoutFlags(),Yt={},Ft={};function ct(rr,lr){if(Array.isArray(rr)){rr.forEach(function(vr){ct(vr,lr)});return}if(!(rr in Ae||M.hasParent(Ae,rr))){var fr=Je(Se,rr);rr in Ft||(Ft[rr]=B(fr.get())),lr!==void 0&&fr.set(lr)}}var Vt={},Ot;function he(rr){var lr=p.name2id(rr.split(".")[0]);return Vt[lr]=1,lr}for(var ve in Ae){if(M.hasParent(Ae,ve))throw new Error("cannot set "+ve+" and a parent attribute simultaneously");for(var we=Je(Se,ve),Le=Ae[ve],Re=we.parts.length,Ge=Re-1;Ge>0&&typeof we.parts[Ge]!="string";)Ge--;var Fe=we.parts[Ge],Ye=we.parts[Ge-1]+"."+Fe,$e=we.parts.slice(0,Ge).join("."),yt=r(pe.layout,$e).get(),Mt=r(Pe,$e).get(),St=we.get();if(Le!==void 0){Yt[ve]=Le,Ft[ve]=Fe==="reverse"?Le:B(St);var wt=o.getLayoutValObject(Pe,we.parts);if(wt&&wt.impliedEdits&&Le!==null)for(var Ht in wt.impliedEdits)ct(n.relativeAttr(ve,Ht),wt.impliedEdits[Ht]);if(["width","height"].indexOf(ve)!==-1)if(Le){ct("autosize",null);var Nt=ve==="height"?"width":"height";ct(Nt,Pe[Nt])}else Pe[ve]=pe._initialAutoSize[ve];else if(ve==="autosize")ct("width",Le?null:Pe.width),ct("height",Le?null:Pe.height);else if(Ye.match(ce))he(Ye),r(Pe,$e+"._inputRange").set(null);else if(Ye.match(ye)){he(Ye),r(Pe,$e+"._inputRange").set(null);var qt=r(Pe,$e).get();qt._inputDomain&&(qt._input.domain=qt._inputDomain.slice())}else Ye.match(xe)&&r(Pe,$e+"._inputDomain").set(null);if(Fe==="type"){Ot=yt;var kt=Mt.type==="linear"&&Le==="log",xt=Mt.type==="log"&&Le==="linear";if(kt||xt){if(!Ot||!Ot.range)ct($e+".autorange",!0);else if(Mt.autorange)kt&&(Ot.range=Ot.range[1]>Ot.range[0]?[1,2]:[2,1]);else{var It=Ot.range[0],Ut=Ot.range[1];kt?(It<=0&&Ut<=0&&ct($e+".autorange",!0),It<=0?It=Ut/1e6:Ut<=0&&(Ut=It/1e6),ct($e+".range[0]",Math.log(It)/Math.LN10),ct($e+".range[1]",Math.log(Ut)/Math.LN10)):(ct($e+".range[0]",Math.pow(10,It)),ct($e+".range[1]",Math.pow(10,Ut)))}Array.isArray(Pe._subplots.polar)&&Pe._subplots.polar.length&&Pe[we.parts[0]]&&we.parts[1]==="radialaxis"&&delete Pe[we.parts[0]]._subplot.viewInitial["radialaxis.range"],s.getComponentMethod("annotations","convertCoords")(pe,Mt,Le,ct),s.getComponentMethod("images","convertCoords")(pe,Mt,Le,ct)}else ct($e+".autorange",!0),ct($e+".range",null);r(Pe,$e+"._inputRange").set(null)}else if(Fe.match(A)){var it=r(Pe,ve).get(),At=(Le||{}).type;(!At||At==="-")&&(At="linear"),s.getComponentMethod("annotations","convertCoords")(pe,it,At,ct),s.getComponentMethod("images","convertCoords")(pe,it,At,ct)}var Rt=x.containerArrayMatch(ve);if(Rt){_t=Rt.array,Et=Rt.index;var bt=Rt.property,Dt=wt||{editType:"calc"};Et!==""&&bt===""&&(x.isAddVal(Le)?Ft[ve]=null:x.isRemoveVal(Le)?Ft[ve]=(r(Se,_t).get()||[])[Et]:n.warn("unrecognized full object value",Ae)),m.update(zt,Dt),je[_t]||(je[_t]={});var Jt=je[_t][Et];Jt||(Jt=je[_t][Et]={}),Jt[bt]=Le,delete Ae[ve]}else Fe==="reverse"?(yt.range?yt.range.reverse():(ct($e+".autorange",!0),yt.range=[1,0]),Mt.autorange?zt.calc=!0:zt.plot=!0):(Pe._has("scatter-like")&&Pe._has("regl")&&ve==="dragmode"&&(Le==="lasso"||Le==="select")&&!(St==="lasso"||St==="select")||Pe._has("gl2d")?zt.plot=!0:wt?m.update(zt,wt):zt.calc=!0,we.set(Le))}}for(_t in je){var jt=x.applyContainerArrayChanges(pe,Je(Se,_t),je[_t],zt,Je);jt||(zt.plot=!0)}for(var Bt in Vt){Ot=p.getFromId(pe,Bt);var nr=Ot&&Ot._constraintGroup;if(nr){zt.calc=!0;for(var ir in nr)Vt[ir]||(p.getFromId(pe,ir)._constraintShrinkable=!0)}}return(ke(pe)||Ae.height||Ae.width)&&(zt.plot=!0),(zt.plot||zt.calc)&&(zt.layoutReplot=!0),{flags:zt,rangesAltered:Vt,undoit:Ft,redoit:Yt,eventData:nt}}function ke(pe){var Ae=pe._fullLayout,Se=Ae.width,Pe=Ae.height;return pe.layout.autosize&&h.plotAutoSize(pe,pe.layout,Ae),Ae.width!==Se||Ae.height!==Pe}function Ne(pe,Ae,Se,Pe){pe=n.getGraphDiv(pe),M.clearPromiseQueue(pe),n.isPlainObject(Ae)||(Ae={}),n.isPlainObject(Se)||(Se={}),Object.keys(Ae).length&&(pe.changed=!0),Object.keys(Se).length&&(pe.changed=!0);var tt=M.coerceTraceIndices(pe,Pe),Je=N(pe,n.extendFlat({},Ae),tt),ht=Je.flags,vt=De(pe,n.extendFlat({},Se)),nt=vt.flags;(ht.calc||nt.calc)&&(pe.calcdata=void 0),ht.clearAxisTypes&&M.clearAxisTypes(pe,tt,Se);var je=[];nt.layoutReplot?je.push(v.layoutReplot):ht.fullReplot?je.push(k._doPlot):(je.push(h.previousPromises),se(pe,nt,vt)||h.supplyDefaults(pe),ht.style&&je.push(v.doTraceStyle),(ht.colorbars||nt.colorbars)&&je.push(v.doColorBars),nt.legend&&je.push(v.doLegend),nt.layoutstyle&&je.push(v.layoutStyles),nt.axrange&&fe(je,vt.rangesAltered),nt.ticks&&je.push(v.doTicksRelayout),nt.modebar&&je.push(v.doModeBar),nt.camera&&je.push(v.doCamera),je.push(G)),je.push(h.rehover,h.redrag),u.add(pe,Ne,[pe,Je.undoit,vt.undoit,Je.traces],Ne,[pe,Je.redoit,vt.redoit,Je.traces]);var _t=n.syncOrAsync(je,pe);return(!_t||!_t.then)&&(_t=Promise.resolve(pe)),_t.then(function(){return pe.emit("plotly_update",{data:Je.eventData,layout:vt.eventData}),pe})}function Ue(pe){return function(Se){Se._fullLayout._guiEditing=!0;var Pe=pe.apply(null,arguments);return Se._fullLayout._guiEditing=!1,Pe}}var Ce=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],_e=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ie(pe,Ae){for(var Se=0;Se<Ae.length;Se++){var Pe=Ae[Se],tt=pe.match(Pe.pattern);if(tt){var Je=tt[1]||"";return{head:Je,tail:pe.substr(Je.length+1),attr:Pe.attr}}}}function Ze(pe,Ae){var Se=r(Ae,pe).get();if(Se!==void 0)return Se;var Pe=pe.split(".");for(Pe.pop();Pe.length>1;)if(Pe.pop(),Se=r(Ae,Pe.join(".")+".uirevision").get(),Se!==void 0)return Se;return Ae.uirevision}function gt(pe,Ae){for(var Se=0;Se<Ae.length;Se++)if(Ae[Se]._fullInput.uid===pe)return Se;return-1}function Ve(pe,Ae,Se){for(var Pe=0;Pe<Ae.length;Pe++)if(Ae[Pe].uid===pe)return Pe;return!Ae[Se]||Ae[Se].uid?-1:Se}function We(pe,Ae){var Se=n.isPlainObject(pe),Pe=Array.isArray(pe);return Se||Pe?(Se&&n.isPlainObject(Ae)||Pe&&Array.isArray(Ae))&&JSON.stringify(pe)===JSON.stringify(Ae):pe===Ae}function Ke(pe,Ae,Se,Pe){var tt=Pe._preGUI,Je,ht,vt,nt,je,_t,Et,Tt,Zt,$t,Qt=[],zt={},Yt={};for(Je in tt){if(je=Ie(Je,Ce),je){if(Zt=je.head,$t=je.tail,ht=je.attr||Zt+".uirevision",vt=r(Pe,ht).get(),nt=vt&&Ze(ht,Ae),nt&&nt===vt){if(_t=tt[Je],_t===null&&(_t=void 0),Et=r(Ae,Je),Tt=Et.get(),We(Tt,_t)){Tt===void 0&&$t==="autorange"&&Qt.push(Zt),Et.set(B(r(Pe,Je).get()));continue}else if($t==="autorange"||$t.substr(0,6)==="range["){var Ft=tt[Zt+".range[0]"],ct=tt[Zt+".range[1]"],Vt=tt[Zt+".autorange"];if(Vt||Vt===null&&Ft===null&&ct===null){if(!(Zt in zt)){var Ot=r(Ae,Zt).get();zt[Zt]=Ot&&(Ot.autorange||Ot.autorange!==!1&&(!Ot.range||Ot.range.length!==2))}if(zt[Zt]){Et.set(B(r(Pe,Je).get()));continue}}}}}else n.warn("unrecognized GUI edit: "+Je);delete tt[Je],je&&je.tail.substr(0,6)==="range["&&(Yt[je.head]=1)}for(var he=0;he<Qt.length;he++){var ve=Qt[he];if(Yt[ve]){var we=r(Ae,ve).get();we&&delete we.autorange}}var Le=Pe._tracePreGUI;for(var Re in Le){var Ge=Le[Re],Fe=null,Ye;for(Je in Ge){if(!Fe){var $e=gt(Re,Se);if($e<0){delete Le[Re];break}var yt=Se[$e];Ye=yt._fullInput;var Mt=Ve(Re,pe,Ye.index);if(Mt<0){delete Le[Re];break}Fe=pe[Mt]}if(je=Ie(Je,_e),je){if(je.attr?(vt=r(Pe,je.attr).get(),nt=vt&&Ze(je.attr,Ae)):(vt=Ye.uirevision,nt=Fe.uirevision,nt===void 0&&(nt=Ae.uirevision)),nt&&nt===vt&&(_t=Ge[Je],_t===null&&(_t=void 0),Et=r(Fe,Je),Tt=Et.get(),We(Tt,_t))){Et.set(B(r(Ye,Je).get()));continue}}else n.warn("unrecognized GUI edit: "+Je+" in trace uid "+Re);delete Ge[Je]}}}function ut(pe,Ae,Se,Pe){var tt,Je;function ht(){return k.addFrames(pe,tt)}pe=n.getGraphDiv(pe),M.clearPromiseQueue(pe);var vt=pe._fullData,nt=pe._fullLayout;if(!n.isPlotDiv(pe)||!vt||!nt)Je=k.newPlot(pe,Ae,Se,Pe);else{if(n.isPlainObject(Ae)){var je=Ae;Ae=je.data,Se=je.layout,Pe=je.config,tt=je.frames}var _t=!1;if(Pe){var Et=n.extendDeep({},pe._context);pe._context=void 0,K(pe,Pe),_t=dt(Et,pe._context)}pe.data=Ae||[],M.cleanData(pe.data),pe.layout=Se||{},M.cleanLayout(pe.layout),Ke(pe.data,pe.layout,vt,nt),h.supplyDefaults(pe,{skipUpdateCalc:!0});var Tt=pe._fullData,Zt=pe._fullLayout,$t=Zt.datarevision===void 0,Qt=Zt.transition,zt=Lt(pe,nt,Zt,$t,Qt),Yt=zt.newDataRevision,Ft=mt(pe,vt,Tt,$t,Qt,Yt);if(ke(pe)&&(zt.layoutReplot=!0),Ft.calc||zt.calc){pe.calcdata=void 0;for(var ct=Object.getOwnPropertyNames(Zt),Vt=0;Vt<ct.length;Vt++){var Ot=ct[Vt],he=Ot.substring(0,5);if(he==="xaxis"||he==="yaxis"){var ve=Zt[Ot]._emptyCategories;ve&&ve()}}}else h.supplyDefaultsUpdateCalc(pe.calcdata,Tt);var we=[];if(tt&&(pe._transitionData={},h.createTransitionData(pe),we.push(ht)),Zt.transition&&!_t&&(Ft.anim||zt.anim))zt.ticks&&we.push(v.doTicksRelayout),h.doCalcdata(pe),v.doAutoRangeAndConstraints(pe),we.push(function(){return h.transitionFromReact(pe,Ft,zt,nt)});else if(Ft.fullReplot||zt.layoutReplot||_t)pe._fullLayout._skipDefaults=!0,we.push(k._doPlot);else{for(var Le in zt.arrays){var Re=zt.arrays[Le];if(Re.length){var Ge=s.getComponentMethod(Le,"drawOne");if(Ge!==n.noop)for(var Fe=0;Fe<Re.length;Fe++)Ge(pe,Re[Fe]);else{var Ye=s.getComponentMethod(Le,"draw");if(Ye===n.noop)throw new Error("cannot draw components: "+Le);Ye(pe)}}}we.push(h.previousPromises),Ft.style&&we.push(v.doTraceStyle),(Ft.colorbars||zt.colorbars)&&we.push(v.doColorBars),zt.legend&&we.push(v.doLegend),zt.layoutstyle&&we.push(v.layoutStyles),zt.axrange&&fe(we),zt.ticks&&we.push(v.doTicksRelayout),zt.modebar&&we.push(v.doModeBar),zt.camera&&we.push(v.doCamera),we.push(G)}we.push(h.rehover,h.redrag),Je=n.syncOrAsync(we,pe),(!Je||!Je.then)&&(Je=Promise.resolve(pe))}return Je.then(function(){return pe.emit("plotly_react",{data:Ae,layout:Se}),pe})}function mt(pe,Ae,Se,Pe,tt,Je){var ht=Ae.length===Se.length;if(!tt&&!ht)return{fullReplot:!0,calc:!0};var vt=m.traceFlags();vt.arrays={},vt.nChanges=0,vt.nChangesAnim=0;var nt,je;function _t(Zt){var $t=o.getTraceValObject(je,Zt);return!je._module.animatable&&$t.anim&&($t.anim=!1),$t}var Et={getValObject:_t,flags:vt,immutable:Pe,transition:tt,newDataRevision:Je,gd:pe},Tt={};for(nt=0;nt<Ae.length;nt++)if(Se[nt]){if(je=Se[nt]._fullInput,h.hasMakesDataTransform(je)&&(je=Se[nt]),Tt[je.uid])continue;Tt[je.uid]=1,rt(Ae[nt]._fullInput,je,[],Et)}return(vt.calc||vt.plot)&&(vt.fullReplot=!0),tt&&vt.nChanges&&vt.nChangesAnim&&(vt.anim=vt.nChanges===vt.nChangesAnim&&ht?"all":"some"),vt}function Lt(pe,Ae,Se,Pe,tt){var Je=m.layoutFlags();Je.arrays={},Je.rangesAltered={},Je.nChanges=0,Je.nChangesAnim=0;function ht(nt){return o.getLayoutValObject(Se,nt)}var vt={getValObject:ht,flags:Je,immutable:Pe,transition:tt,gd:pe};return rt(Ae,Se,[],vt),(Je.plot||Je.calc)&&(Je.layoutReplot=!0),tt&&Je.nChanges&&Je.nChangesAnim&&(Je.anim=Je.nChanges===Je.nChangesAnim?"all":"some"),Je}function rt(pe,Ae,Se,Pe){var tt,Je,ht,vt=Pe.getValObject,nt=Pe.flags,je=Pe.immutable,_t=Pe.inArray,Et=Pe.arrayIndex;function Tt(){var $e=tt.editType;if(_t&&$e.indexOf("arraydraw")!==-1){n.pushUnique(nt.arrays[_t],Et);return}m.update(nt,tt),$e!=="none"&&nt.nChanges++,Pe.transition&&tt.anim&&nt.nChangesAnim++,(ce.test(ht)||ye.test(ht))&&(nt.rangesAltered[Se[0]]=1),xe.test(ht)&&r(Ae,"_inputDomain").set(null),Je==="datarevision"&&(nt.newDataRevision=1)}function Zt($e){return $e.valType==="data_array"||$e.arrayOk}for(Je in pe){if(nt.calc&&!Pe.transition)return;var $t=pe[Je],Qt=Ae[Je],zt=Se.concat(Je);if(ht=zt.join("."),!(Je.charAt(0)==="_"||typeof $t=="function"||$t===Qt)){if((Je==="tick0"||Je==="dtick")&&Se[0]!=="geo"){var Yt=Ae.tickmode;if(Yt==="auto"||Yt==="array"||!Yt)continue}if(!(Je==="range"&&Ae.autorange)&&!((Je==="zmin"||Je==="zmax")&&Ae.type==="contourcarpet")&&(tt=vt(zt),!!tt&&!(tt._compareAsJSON&&JSON.stringify($t)===JSON.stringify(Qt)))){var Ft=tt.valType,ct,Vt=Zt(tt),Ot=Array.isArray($t),he=Array.isArray(Qt);if(Ot&&he){var ve="_input_"+Je,we=pe[ve],Le=Ae[ve];if(Array.isArray(we)&&we===Le)continue}if(Qt===void 0)Vt&&Ot?nt.calc=!0:Tt();else if(tt._isLinkedToArray){var Re=[],Ge=!1;_t||(nt.arrays[Je]=Re);var Fe=Math.min($t.length,Qt.length),Ye=Math.max($t.length,Qt.length);if(Fe!==Ye)if(tt.editType==="arraydraw")Ge=!0;else{Tt();continue}for(ct=0;ct<Fe;ct++)rt($t[ct],Qt[ct],zt.concat(ct),n.extendFlat({inArray:Je,arrayIndex:ct},Pe));if(Ge)for(ct=Fe;ct<Ye;ct++)Re.push(ct)}else!Ft&&n.isPlainObject($t)?rt($t,Qt,zt,Pe):Vt?Ot&&he?(je&&(nt.calc=!0),(je||Pe.newDataRevision)&&Tt()):Ot!==he?nt.calc=!0:Tt():Ot&&he?($t.length!==Qt.length||String($t)!==String(Qt))&&Tt():Tt()}}}for(Je in Ae)if(!(Je in pe||Je.charAt(0)==="_"||typeof Ae[Je]=="function"))if(tt=vt(Se.concat(Je)),Zt(tt)&&Array.isArray(Ae[Je])){nt.calc=!0;return}else Tt()}function dt(pe,Ae){var Se;for(Se in pe)if(Se.charAt(0)!=="_"){var Pe=pe[Se],tt=Ae[Se];if(Pe!==tt)if(n.isPlainObject(Pe)&&n.isPlainObject(tt)){if(dt(Pe,tt))return!0}else if(Array.isArray(Pe)&&Array.isArray(tt)){if(Pe.length!==tt.length)return!0;for(var Je=0;Je<Pe.length;Je++)if(Pe[Je]!==tt[Je])if(n.isPlainObject(Pe[Je])&&n.isPlainObject(tt[Je])){if(dt(Pe[Je],tt[Je]))return!0}else return!0}else return!0}}function ot(pe,Ae,Se){if(pe=n.getGraphDiv(pe),!n.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Pe=pe._transitionData;Pe._frameQueue||(Pe._frameQueue=[]),Se=h.supplyAnimationDefaults(Se);var tt=Se.transition,Je=Se.frame;Pe._frameWaitingCnt===void 0&&(Pe._frameWaitingCnt=0);function ht(je){return Array.isArray(tt)?je>=tt.length?tt[0]:tt[je]:tt}function vt(je){return Array.isArray(Je)?je>=Je.length?Je[0]:Je[je]:Je}function nt(je,_t){var Et=0;return function(){if(je&&++Et===_t)return je()}}return new Promise(function(je,_t){function Et(){if(Pe._frameQueue.length!==0){for(;Pe._frameQueue.length;){var Fe=Pe._frameQueue.pop();Fe.onInterrupt&&Fe.onInterrupt()}pe.emit("plotly_animationinterrupted",[])}}function Tt(Fe){if(Fe.length!==0){for(var Ye=0;Ye<Fe.length;Ye++){var $e;Fe[Ye].type==="byname"?$e=h.computeFrame(pe,Fe[Ye].name):$e=Fe[Ye].data;var yt=vt(Ye),Mt=ht(Ye);Mt.duration=Math.min(Mt.duration,yt.duration);var St={frame:$e,name:Fe[Ye].name,frameOpts:yt,transitionOpts:Mt};Ye===Fe.length-1&&(St.onComplete=nt(je,2),St.onInterrupt=_t),Pe._frameQueue.push(St)}Se.mode==="immediate"&&(Pe._lastFrameAt=-1/0),Pe._animationRaf||Qt()}}function Zt(){pe.emit("plotly_animated"),window.cancelAnimationFrame(Pe._animationRaf),Pe._animationRaf=null}function $t(){Pe._currentFrame&&Pe._currentFrame.onComplete&&Pe._currentFrame.onComplete();var Fe=Pe._currentFrame=Pe._frameQueue.shift();if(Fe){var Ye=Fe.name?Fe.name.toString():null;pe._fullLayout._currentFrame=Ye,Pe._lastFrameAt=Date.now(),Pe._timeToNext=Fe.frameOpts.duration,h.transition(pe,Fe.frame.data,Fe.frame.layout,M.coerceTraceIndices(pe,Fe.frame.traces),Fe.frameOpts,Fe.transitionOpts).then(function(){Fe.onComplete&&Fe.onComplete()}),pe.emit("plotly_animatingframe",{name:Ye,frame:Fe.frame,animation:{frame:Fe.frameOpts,transition:Fe.transitionOpts}})}else Zt()}function Qt(){pe.emit("plotly_animating"),Pe._lastFrameAt=-1/0,Pe._timeToNext=0,Pe._runningTransitions=0,Pe._currentFrame=null;var Fe=function(){Pe._animationRaf=window.requestAnimationFrame(Fe),Date.now()-Pe._lastFrameAt>Pe._timeToNext&&$t()};Fe()}var zt=0;function Yt(Fe){return Array.isArray(tt)?zt>=tt.length?Fe.transitionOpts=tt[zt]:Fe.transitionOpts=tt[0]:Fe.transitionOpts=tt,zt++,Fe}var Ft,ct,Vt=[],Ot=Ae==null,he=Array.isArray(Ae),ve=!Ot&&!he&&n.isPlainObject(Ae);if(ve)Vt.push({type:"object",data:Yt(n.extendFlat({},Ae))});else if(Ot||["string","number"].indexOf(typeof Ae)!==-1)for(Ft=0;Ft<Pe._frames.length;Ft++)ct=Pe._frames[Ft],!!ct&&(Ot||String(ct.group)===String(Ae))&&Vt.push({type:"byname",name:String(ct.name),data:Yt({name:ct.name})});else if(he)for(Ft=0;Ft<Ae.length;Ft++){var we=Ae[Ft];["number","string"].indexOf(typeof we)!==-1?(we=String(we),Vt.push({type:"byname",name:we,data:Yt({name:we})})):n.isPlainObject(we)&&Vt.push({type:"object",data:Yt(n.extendFlat({},we))})}for(Ft=0;Ft<Vt.length;Ft++)if(ct=Vt[Ft],ct.type==="byname"&&!Pe._frameHash[ct.data.name]){n.warn('animate failure: frame not found: "'+ct.data.name+'"'),_t();return}["next","immediate"].indexOf(Se.mode)!==-1&&Et(),Se.direction==="reverse"&&Vt.reverse();var Le=pe._fullLayout._currentFrame;if(Le&&Se.fromcurrent){var Re=-1;for(Ft=0;Ft<Vt.length;Ft++)if(ct=Vt[Ft],ct.type==="byname"&&ct.name===Le){Re=Ft;break}if(Re>0&&Re<Vt.length-1){var Ge=[];for(Ft=0;Ft<Vt.length;Ft++)ct=Vt[Ft],(Vt[Ft].type!=="byname"||Ft>Re)&&Ge.push(ct);Vt=Ge}}Vt.length>0?Tt(Vt):(pe.emit("plotly_animated"),je())})}function pt(pe,Ae,Se){if(pe=n.getGraphDiv(pe),Ae==null)return Promise.resolve();if(!n.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Pe,tt,Je,ht,vt=pe._transitionData._frames,nt=pe._transitionData._frameHash;if(!Array.isArray(Ae))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ae);var je=vt.length+Ae.length*2,_t=[],Et={};for(Pe=Ae.length-1;Pe>=0;Pe--)if(!!n.isPlainObject(Ae[Pe])){var Tt=Ae[Pe].name,Zt=(nt[Tt]||Et[Tt]||{}).name,$t=Ae[Pe].name,Qt=nt[Zt]||Et[Zt];Zt&&$t&&typeof $t=="number"&&Qt&&V<T&&(V++,n.warn('addFrames: overwriting frame "'+(nt[Zt]||Et[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),V===T&&n.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Et[Tt]={name:Tt},_t.push({frame:h.supplyFrameDefaults(Ae[Pe]),index:Se&&Se[Pe]!==void 0&&Se[Pe]!==null?Se[Pe]:je+Pe})}_t.sort(function(ve,we){return ve.index>we.index?-1:ve.index<we.index?1:0});var zt=[],Yt=[],Ft=vt.length;for(Pe=_t.length-1;Pe>=0;Pe--){if(tt=_t[Pe].frame,typeof tt.name=="number"&&n.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!tt.name)for(;nt[tt.name="frame "+pe._transitionData._counter++];);if(nt[tt.name]){for(Je=0;Je<vt.length&&(vt[Je]||{}).name!==tt.name;Je++);zt.push({type:"replace",index:Je,value:tt}),Yt.unshift({type:"replace",index:Je,value:vt[Je]})}else ht=Math.max(0,Math.min(_t[Pe].index,Ft)),zt.push({type:"insert",index:ht,value:tt}),Yt.unshift({type:"delete",index:ht}),Ft++}var ct=h.modifyFrames,Vt=h.modifyFrames,Ot=[pe,Yt],he=[pe,zt];return u&&u.add(pe,ct,Ot,Vt,he),h.modifyFrames(pe,zt)}function Ct(pe,Ae){if(pe=n.getGraphDiv(pe),!n.isPlotDiv(pe))throw new Error("This element is not a Plotly plot: "+pe);var Se,Pe,tt=pe._transitionData._frames,Je=[],ht=[];if(!Ae)for(Ae=[],Se=0;Se<tt.length;Se++)Ae.push(Se);for(Ae=Ae.slice(),Ae.sort(),Se=Ae.length-1;Se>=0;Se--)Pe=Ae[Se],Je.push({type:"delete",index:Pe}),ht.unshift({type:"insert",index:Pe,value:tt[Pe]});var vt=h.modifyFrames,nt=h.modifyFrames,je=[pe,ht],_t=[pe,Je];return u&&u.add(pe,vt,je,nt,_t),h.modifyFrames(pe,Je)}function Ee(pe){pe=n.getGraphDiv(pe);var Ae=pe._fullLayout||{},Se=pe._fullData||[];return h.cleanPlot([],{},Se,Ae),h.purge(pe),f.purge(pe),Ae._container&&Ae._container.remove(),delete pe._context,pe}function Oe(pe){var Ae=pe._fullLayout,Se=pe.getBoundingClientRect();if(!n.equalDomRects(Se,Ae._lastBBox)){var Pe=Ae._invTransform=n.inverseTransformMatrix(n.getFullTransformMatrix(pe));Ae._invScaleX=Math.sqrt(Pe[0][0]*Pe[0][0]+Pe[0][1]*Pe[0][1]+Pe[0][2]*Pe[0][2]),Ae._invScaleY=Math.sqrt(Pe[1][0]*Pe[1][0]+Pe[1][1]*Pe[1][1]+Pe[1][2]*Pe[1][2]),Ae._lastBBox=Se}}function at(pe){var Ae=e.select(pe),Se=pe._fullLayout;if(Se._calcInverseTransform=Oe,Se._calcInverseTransform(pe),Se._container=Ae.selectAll(".plot-container").data([0]),Se._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Se._paperdiv=Se._container.selectAll(".svg-container").data([0]),Se._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Se._glcontainer=Se._paperdiv.selectAll(".gl-container").data([{}]),Se._glcontainer.enter().append("div").classed("gl-container",!0),Se._paperdiv.selectAll(".main-svg").remove(),Se._paperdiv.select(".modebar-container").remove(),Se._paper=Se._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Se._toppaper=Se._paperdiv.append("svg").classed("main-svg",!0),Se._modebardiv=Se._paperdiv.append("div"),delete Se._modeBar,Se._hoverpaper=Se._paperdiv.append("svg").classed("main-svg",!0),!Se._uid){var Pe={};e.selectAll("defs").each(function(){this.id&&(Pe[this.id.split("-")[1]]=1)}),Se._uid=n.randstr(Pe)}Se._paperdiv.selectAll(".main-svg").attr(D.svgAttrs),Se._defs=Se._paper.append("defs").attr("id","defs-"+Se._uid),Se._clips=Se._defs.append("g").classed("clips",!0),Se._topdefs=Se._toppaper.append("defs").attr("id","topdefs-"+Se._uid),Se._topclips=Se._topdefs.append("g").classed("clips",!0),Se._bgLayer=Se._paper.append("g").classed("bglayer",!0),Se._draggers=Se._paper.append("g").classed("draglayer",!0);var tt=Se._paper.append("g").classed("layer-below",!0);Se._imageLowerLayer=tt.append("g").classed("imagelayer",!0),Se._shapeLowerLayer=tt.append("g").classed("shapelayer",!0),Se._cartesianlayer=Se._paper.append("g").classed("cartesianlayer",!0),Se._polarlayer=Se._paper.append("g").classed("polarlayer",!0),Se._smithlayer=Se._paper.append("g").classed("smithlayer",!0),Se._ternarylayer=Se._paper.append("g").classed("ternarylayer",!0),Se._geolayer=Se._paper.append("g").classed("geolayer",!0),Se._funnelarealayer=Se._paper.append("g").classed("funnelarealayer",!0),Se._pielayer=Se._paper.append("g").classed("pielayer",!0),Se._iciclelayer=Se._paper.append("g").classed("iciclelayer",!0),Se._treemaplayer=Se._paper.append("g").classed("treemaplayer",!0),Se._sunburstlayer=Se._paper.append("g").classed("sunburstlayer",!0),Se._indicatorlayer=Se._toppaper.append("g").classed("indicatorlayer",!0),Se._glimages=Se._paper.append("g").classed("glimages",!0);var Je=Se._toppaper.append("g").classed("layer-above",!0);Se._imageUpperLayer=Je.append("g").classed("imagelayer",!0),Se._shapeUpperLayer=Je.append("g").classed("shapelayer",!0),Se._infolayer=Se._toppaper.append("g").classed("infolayer",!0),Se._menulayer=Se._toppaper.append("g").classed("menulayer",!0),Se._zoomlayer=Se._toppaper.append("g").classed("zoomlayer",!0),Se._hoverlayer=Se._hoverpaper.append("g").classed("hoverlayer",!0),Se._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),pe.emit("plotly_framework")}k.animate=ot,k.addFrames=pt,k.deleteFrames=Ct,k.addTraces=oe,k.deleteTraces=Q,k.extendTraces=q,k.moveTraces=c,k.prependTraces=ne,k.newPlot=ae,k._doPlot=Y,k.purge=Ee,k.react=ut,k.redraw=J,k.relayout=j,k.restyle=w,k.setPlotConfig=S,k.update=Ne,k._guiRelayout=Ue(j),k._guiRestyle=Ue(w),k._guiUpdate=Ue(Ne),k._storeDirectGUIEdit=O},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"../lib/events":225,"../lib/queue":247,"../plots/cartesian/axes":279,"../plots/cartesian/constants":286,"../plots/cartesian/graph_interact":289,"../plots/cartesian/select":300,"../plots/plots":316,"../registry":318,"./edit_types":261,"./helpers":262,"./manage_arrays":264,"./plot_config":266,"./plot_schema":267,"./subroutines":269,"@plotly/d3":11,"fast-isnumeric":17,"has-hover":48}],266:[function(t,P,k){var e={staticPlot:{valType:"boolean",dflt:!1},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},a={};function i(n,r){for(var f in n){var u=n[f];u.valType?r[f]=u.dflt:(r[f]||(r[f]={}),i(u,r[f]))}}i(e,a),P.exports={configAttributes:e,dfltConfig:a}},{}],267:[function(t,P,k){var e=t("../registry"),a=t("../lib"),i=t("../plots/attributes"),n=t("../plots/layout_attributes"),r=t("../plots/frame_attributes"),f=t("../plots/animation_attributes"),u=t("./plot_config").configAttributes,s=t("./edit_types"),o=a.extendDeepAll,h=a.isPlainObject,p=a.isArrayOrTypedArray,d=a.nestedProperty,y=a.valObjectMeta,g="_isSubplotObj",D="_isLinkedToArray",C="_arrayAttrRegexps",L="_deprecated",x=[g,D,C,L];k.IS_SUBPLOT_OBJ=g,k.IS_LINKED_TO_ARRAY=D,k.DEPRECATED=L,k.UNDERSCORE_ATTRS=x,k.get=function(){var ae={};e.allTypes.forEach(function(H){ae[H]=A(H)});var z={};return Object.keys(e.transformsRegistry).forEach(function(H){z[H]=T(H)}),{defs:{valObjects:y,metaKeys:x.concat(["description","role","editType","impliedEdits"]),editType:{traces:s.traces,layout:s.layout},impliedEdits:{}},traces:ae,layout:V(),transforms:z,frames:Y(),animation:G(f),config:G(u)}},k.crawl=function(ae,z,H,Z){var re=H||0;Z=Z||"",Object.keys(ae).forEach(function(ie){var ue=ae[ie];if(x.indexOf(ie)===-1){var ge=(Z?Z+".":"")+ie;z(ue,ie,ae,re,ge),!k.isValObject(ue)&&h(ue)&&ie!=="impliedEdits"&&k.crawl(ue,z,re+1,ge)}})},k.isValObject=function(ae){return ae&&ae.valType!==void 0},k.findArrayAttributes=function(ae){var z=[],H=[],Z=[],re,ie;function ue(Q,c,w,B){H=H.slice(0,B).concat([c]),Z=Z.slice(0,B).concat([Q&&Q._isLinkedToArray]);var E=Q&&(Q.valType==="data_array"||Q.arrayOk===!0)&&!(H[B-1]==="colorbar"&&(c==="ticktext"||c==="tickvals"));!E||ge(re,0,"")}function ge(Q,c,w){var B=Q[H[c]],E=w+H[c];if(c===H.length-1)p(B)&&z.push(ie+E);else if(Z[c]){if(Array.isArray(B))for(var b=0;b<B.length;b++)h(B[b])&&ge(B[b],c+1,E+"["+b+"].")}else h(B)&&ge(B,c+1,E+".")}re=ae,ie="",k.crawl(i,ue),ae._module&&ae._module.attributes&&k.crawl(ae._module.attributes,ue);var ee=ae.transforms;if(ee)for(var q=0;q<ee.length;q++){var ne=ee[q],oe=ne._module;oe&&(ie="transforms["+q+"].",re=ne,k.crawl(oe.attributes,ue))}return z},k.getTraceValObject=function(ae,z){var H=z[0],Z=1,re,ie;if(H==="transforms"){if(z.length===1)return i.transforms;var ue=ae.transforms;if(!Array.isArray(ue)||!ue.length)return!1;var ge=z[1];if(!m(ge)||ge>=ue.length)return!1;re=(e.transformsRegistry[ue[ge].type]||{}).attributes,ie=re&&re[z[2]],Z=3}else{var ee=ae._module;if(ee||(ee=(e.modules[ae.type||i.type.dflt]||{})._module),!ee)return!1;if(re=ee.attributes,ie=re&&re[H],!ie){var q=ee.basePlotModule;q&&q.attributes&&(ie=q.attributes[H])}ie||(ie=i[H])}return v(ie,z,Z)},k.getLayoutValObject=function(ae,z){var H=M(ae,z[0]);return v(H,z,1)};function M(ae,z){var H,Z,re,ie,ue=ae._basePlotModules;if(ue){var ge;for(H=0;H<ue.length;H++){if(re=ue[H],re.attrRegex&&re.attrRegex.test(z)){if(re.layoutAttrOverrides)return re.layoutAttrOverrides;!ge&&re.layoutAttributes&&(ge=re.layoutAttributes)}var ee=re.baseLayoutAttrOverrides;if(ee&&z in ee)return ee[z]}if(ge)return ge}var q=ae._modules;if(q){for(H=0;H<q.length;H++)if(ie=q[H].layoutAttributes,ie&&z in ie)return ie[z]}for(Z in e.componentsRegistry){if(re=e.componentsRegistry[Z],re.name==="colorscale"&&z.indexOf("coloraxis")===0)return re.layoutAttributes[z];if(!re.schema&&z===re.name)return re.layoutAttributes}return z in n?n[z]:!1}function v(ae,z,H){if(!ae)return!1;if(ae._isLinkedToArray){if(m(z[H]))H++;else if(H<z.length)return!1}for(;H<z.length;H++){var Z=ae[z[H]];if(h(Z))ae=Z;else break;if(H===z.length-1)break;if(ae._isLinkedToArray){if(H++,!m(z[H]))return!1}else if(ae.valType==="info_array"){H++;var re=z[H];if(!m(re))return!1;var ie=ae.items;if(Array.isArray(ie)){if(re>=ie.length)return!1;if(ae.dimensions===2){if(H++,z.length===H)return ae;var ue=z[H];if(!m(ue))return!1;ae=ie[re][ue]}else ae=ie[re]}else ae=ie}}return ae}function m(ae){return ae===Math.round(ae)&&ae>=0}function A(ae){var z,H;z=e.modules[ae]._module,H=z.basePlotModule;var Z={};Z.type=null;var re=o({},i),ie=o({},z.attributes);k.crawl(ie,function(ee,q,ne,oe,Q){d(re,Q).set(void 0),ee===void 0&&d(ie,Q).set(void 0)}),o(Z,re),e.traceIs(ae,"noOpacity")&&delete Z.opacity,e.traceIs(ae,"showLegend")||(delete Z.showlegend,delete Z.legendgroup),e.traceIs(ae,"noHover")&&(delete Z.hoverinfo,delete Z.hoverlabel),z.selectPoints||delete Z.selectedpoints,o(Z,ie),H.attributes&&o(Z,H.attributes),Z.type=ae;var ue={meta:z.meta||{},categories:z.categories||{},animatable:Boolean(z.animatable),type:ae,attributes:G(Z)};if(z.layoutAttributes){var ge={};o(ge,z.layoutAttributes),ue.layoutAttributes=G(ge)}return z.animatable||k.crawl(ue,function(ee){k.isValObject(ee)&&"anim"in ee&&delete ee.anim}),ue}function V(){var ae={},z,H;o(ae,n);for(z in e.subplotsRegistry)if(H=e.subplotsRegistry[z],!!H.layoutAttributes)if(Array.isArray(H.attr))for(var Z=0;Z<H.attr.length;Z++)K(ae,H,H.attr[Z]);else{var re=H.attr==="subplot"?H.name:H.attr;K(ae,H,re)}for(z in e.componentsRegistry){H=e.componentsRegistry[z];var ie=H.schema;if(ie&&(ie.subplots||ie.layout)){var ue=ie.subplots;if(ue&&ue.xaxis&&!ue.yaxis)for(var ge in ue.xaxis)delete ae.yaxis[ge]}else H.name==="colorscale"?o(ae,H.layoutAttributes):H.layoutAttributes&&J(ae,H.layoutAttributes,H.name)}return{layoutAttributes:G(ae)}}function T(ae){var z=e.transformsRegistry[ae],H=o({},z.attributes);return Object.keys(e.componentsRegistry).forEach(function(Z){var re=e.componentsRegistry[Z];re.schema&&re.schema.transforms&&re.schema.transforms[ae]&&Object.keys(re.schema.transforms[ae]).forEach(function(ie){J(H,re.schema.transforms[ae][ie],ie)})}),{attributes:G(H)}}function Y(){var ae={frames:o({},r)};return G(ae),ae.frames}function G(ae){return S(ae),U(ae),W(ae),ae}function S(ae){function z(Z){return{valType:"string",editType:"none"}}function H(Z,re,ie){k.isValObject(Z)?(Z.arrayOk===!0||Z.valType==="data_array")&&(ie[re+"src"]=z()):h(Z)&&(Z.role="object")}k.crawl(ae,H)}function U(ae){function z(H,Z,re){if(!!H){var ie=H[D];!ie||(delete H[D],re[Z]={items:{}},re[Z].items[ie]=H,re[Z].role="object")}}k.crawl(ae,z)}function W(ae){function z(H){for(var Z in H)if(h(H[Z]))z(H[Z]);else if(Array.isArray(H[Z]))for(var re=0;re<H[Z].length;re++)z(H[Z][re]);else H[Z]instanceof RegExp&&(H[Z]=H[Z].toString())}z(ae)}function K(ae,z,H){var Z=d(ae,H),re=o({},z.layoutAttributes);re[g]=!0,Z.set(re)}function J(ae,z,H){var Z=d(ae,H);Z.set(o(Z.get()||{},z))}},{"../lib":232,"../plots/animation_attributes":273,"../plots/attributes":275,"../plots/frame_attributes":311,"../plots/layout_attributes":314,"../registry":318,"./edit_types":261,"./plot_config":266}],268:[function(t,P,k){var e=t("../lib"),a=t("../plots/attributes"),i="templateitemname",n={name:{valType:"string",editType:"none"}};n[i]={valType:"string",editType:"calc"},k.templatedArray=function(u,s){return s._isLinkedToArray=u,s.name=n.name,s[i]=n[i],s},k.traceTemplater=function(u){var s={},o,h;for(o in u)h=u[o],Array.isArray(h)&&h.length&&(s[o]=0);function p(d){o=e.coerce(d,{},a,"type");var y={type:o,_template:null};if(o in s){h=u[o];var g=s[o]%h.length;s[o]++,y._template=h[g]}return y}return{newTrace:p}},k.newContainer=function(u,s,o){var h=u._template,p=h&&(h[s]||o&&h[o]);e.isPlainObject(p)||(p=null);var d=u[s]={_template:p};return d},k.arrayTemplater=function(u,s,o){var h=u._template,p=h&&h[f(s)],d=h&&h[s];(!Array.isArray(d)||!d.length)&&(d=[]);var y={};function g(C){var L={name:C.name,_input:C},x=L[i]=C[i];if(!r(x))return L._template=p,L;for(var M=0;M<d.length;M++){var v=d[M];if(v.name===x)return y[x]=1,L._template=v,L}return L[o]=C[o]||!1,L._template=!1,L}function D(){for(var C=[],L=0;L<d.length;L++){var x=d[L],M=x.name;if(r(M)&&!y[M]){var v={_template:x,name:M,_input:{_templateitemname:M}};v[i]=x[i],C.push(v),y[M]=1}}return C}return{newItem:g,defaultItems:D}};function r(u){return u&&typeof u=="string"}function f(u){var s=u.length-1;return u.charAt(s)!=="s"&&e.warn("bad argument to arrayDefaultKey: "+u),u.substr(0,u.length-1)+"defaults"}k.arrayDefaultKey=f,k.arrayEditor=function(u,s,o){var h=(e.nestedProperty(u,s).get()||[]).length,p=o._index,d=p>=h&&(o._input||{})._templateitemname;d&&(p=h);var y=s+"["+p+"]",g;function D(){g={},d&&(g[y]={},g[y][i]=d)}D();function C(v,m){g[v]=m}function L(v,m){d?e.nestedProperty(g[y],v).set(m):g[y+"."+v]=m}function x(){var v=g;return D(),v}function M(v,m){v&&L(v,m);var A=x();for(var V in A)e.nestedProperty(u,V).set(A[V])}return{modifyBase:C,modifyItem:L,getUpdateObj:x,applyUpdate:M}}},{"../lib":232,"../plots/attributes":275}],269:[function(t,P,k){var e=t("@plotly/d3"),a=t("../registry"),i=t("../plots/plots"),n=t("../lib"),r=t("../lib/clear_gl_canvases"),f=t("../components/color"),u=t("../components/drawing"),s=t("../components/titles"),o=t("../components/modebar"),h=t("../plots/cartesian/axes"),p=t("../constants/alignment"),d=t("../plots/cartesian/constraints"),y=d.enforce,g=d.clean,D=t("../plots/cartesian/autorange").doAutoRange,C="start",L="middle",x="end";k.layoutStyles=function(U){return n.syncOrAsync([i.doAutoMargin,v],U)};function M(U,W,K){for(var J=0;J<K.length;J++){var ae=K[J][0],z=K[J][1];if(!(ae[0]>=U[1]||ae[1]<=U[0])&&z[0]<W[1]&&z[1]>W[0])return!0}return!1}function v(U){var W=U._fullLayout,K=W._size,J=K.p,ae=h.list(U,"",!0),z,H,Z,re,ie,ue;if(W._paperdiv.style({width:U._context.responsive&&W.autosize&&!U._context._hasZeroWidth&&!U.layout.width?"100%":W.width+"px",height:U._context.responsive&&W.autosize&&!U._context._hasZeroHeight&&!U.layout.height?"100%":W.height+"px"}).selectAll(".main-svg").call(u.setSize,W.width,W.height),U._context.setBackground(U,W.paper_bgcolor),k.drawMainTitle(U),o.manage(U),!W._has("cartesian"))return i.previousPromises(U);function ge(dt,ot,pt){var Ct=dt._lw/2;if(dt._id.charAt(0)==="x"){if(ot){if(pt==="top")return ot._offset-J-Ct}else return K.t+K.h*(1-(dt.position||0))+Ct%1;return ot._offset+ot._length+J+Ct}if(ot){if(pt==="right")return ot._offset+ot._length+J+Ct}else return K.l+K.w*(dt.position||0)+Ct%1;return ot._offset-J-Ct}for(z=0;z<ae.length;z++){re=ae[z];var ee=re._anchorAxis;re._linepositions={},re._lw=u.crispRound(U,re.linewidth,1),re._mainLinePosition=ge(re,ee,re.side),re._mainMirrorPosition=re.mirror&&ee?ge(re,ee,p.OPPOSITE_SIDE[re.side]):null}var q=[],ne=[],oe=[],Q=f.opacity(W.paper_bgcolor)===1&&f.opacity(W.plot_bgcolor)===1&&W.paper_bgcolor===W.plot_bgcolor;for(H in W._plots)if(Z=W._plots[H],Z.mainplot)Z.bg&&Z.bg.remove(),Z.bg=void 0;else{var c=Z.xaxis.domain,w=Z.yaxis.domain,B=Z.plotgroup;if(M(c,w,oe)){var E=B.node(),b=Z.bg=n.ensureSingle(B,"rect","bg");E.insertBefore(b.node(),E.childNodes[0]),ne.push(H)}else B.select("rect.bg").remove(),oe.push([c,w]),Q||(q.push(H),ne.push(H))}var O=W._bgLayer.selectAll(".bg").data(q);for(O.enter().append("rect").classed("bg",!0),O.exit().remove(),O.each(function(dt){W._plots[dt].bg=e.select(this)}),z=0;z<ne.length;z++)Z=W._plots[ne[z]],ie=Z.xaxis,ue=Z.yaxis,Z.bg&&ie._offset!==void 0&&ue._offset!==void 0&&Z.bg.call(u.setRect,ie._offset-J,ue._offset-J,ie._length+2*J,ue._length+2*J).call(f.fill,W.plot_bgcolor).style("stroke-width",0);if(!W._hasOnlyLargeSploms)for(H in W._plots){Z=W._plots[H],ie=Z.xaxis,ue=Z.yaxis;var N=Z.clipId="clip"+W._uid+H+"plot",R=n.ensureSingleById(W._clips,"clipPath",N,function(dt){dt.classed("plotclip",!0).append("rect")});Z.clipRect=R.select("rect").attr({width:ie._length,height:ue._length}),u.setTranslate(Z.plot,ie._offset,ue._offset);var j,se;Z._hasClipOnAxisFalse?(j=null,se=N):(j=N,se=null),u.setClipUrl(Z.plot,j,U),Z.layerClipId=se}var fe,ce,ye,xe,De,ke,Ne,Ue,Ce,_e,Ie,Ze,gt;function Ve(dt){return"M"+fe+","+dt+"H"+ce}function We(dt){return"M"+ie._offset+","+dt+"h"+ie._length}function Ke(dt){return"M"+dt+","+Ue+"V"+Ne}function ut(dt){return"M"+dt+","+ue._offset+"v"+ue._length}function mt(dt,ot,pt){if(!dt.showline||H!==dt._mainSubplot)return"";if(!dt._anchorAxis)return pt(dt._mainLinePosition);var Ct=ot(dt._mainLinePosition);return dt.mirror&&(Ct+=ot(dt._mainMirrorPosition)),Ct}for(H in W._plots){Z=W._plots[H],ie=Z.xaxis,ue=Z.yaxis;var Lt="M0,0";m(ie,H)&&(De=V(ie,"left",ue,ae),fe=ie._offset-(De?J+De:0),ke=V(ie,"right",ue,ae),ce=ie._offset+ie._length+(ke?J+ke:0),ye=ge(ie,ue,"bottom"),xe=ge(ie,ue,"top"),gt=!ie._anchorAxis||H!==ie._mainSubplot,gt&&(ie.mirror==="allticks"||ie.mirror==="all")&&(ie._linepositions[H]=[ye,xe]),Lt=mt(ie,Ve,We),gt&&ie.showline&&(ie.mirror==="all"||ie.mirror==="allticks")&&(Lt+=Ve(ye)+Ve(xe)),Z.xlines.style("stroke-width",ie._lw+"px").call(f.stroke,ie.showline?ie.linecolor:"rgba(0,0,0,0)")),Z.xlines.attr("d",Lt);var rt="M0,0";m(ue,H)&&(Ie=V(ue,"bottom",ie,ae),Ne=ue._offset+ue._length+(Ie?J:0),Ze=V(ue,"top",ie,ae),Ue=ue._offset-(Ze?J:0),Ce=ge(ue,ie,"left"),_e=ge(ue,ie,"right"),gt=!ue._anchorAxis||H!==ue._mainSubplot,gt&&(ue.mirror==="allticks"||ue.mirror==="all")&&(ue._linepositions[H]=[Ce,_e]),rt=mt(ue,Ke,ut),gt&&ue.showline&&(ue.mirror==="all"||ue.mirror==="allticks")&&(rt+=Ke(Ce)+Ke(_e)),Z.ylines.style("stroke-width",ue._lw+"px").call(f.stroke,ue.showline?ue.linecolor:"rgba(0,0,0,0)")),Z.ylines.attr("d",rt)}return h.makeClipPaths(U),i.previousPromises(U)}function m(U,W){return(U.ticks||U.showline)&&(W===U._mainSubplot||U.mirror==="all"||U.mirror==="allticks")}function A(U,W,K){if(!K.showline||!K._lw)return!1;if(K.mirror==="all"||K.mirror==="allticks")return!0;var J=K._anchorAxis;if(!J)return!1;var ae=p.FROM_BL[W];return K.side===W?J.domain[ae]===U.domain[ae]:K.mirror&&J.domain[1-ae]===U.domain[1-ae]}function V(U,W,K,J){if(A(U,W,K))return K._lw;for(var ae=0;ae<J.length;ae++){var z=J[ae];if(z._mainAxis===K._mainAxis&&A(U,W,z))return z._lw}return 0}k.drawMainTitle=function(U){var W=U._fullLayout,K=G(W),J=S(W);s.draw(U,"gtitle",{propContainer:W,propName:"title.text",placeholder:W._dfltTitle.plot,attributes:{x:T(W,K),y:Y(W,J),"text-anchor":K,dy:J}})};function T(U,W){var K=U.title,J=U._size,ae=0;switch(W===C?ae=K.pad.l:W===x&&(ae=-K.pad.r),K.xref){case"paper":return J.l+J.w*K.x+ae;case"container":default:return U.width*K.x+ae}}function Y(U,W){var K=U.title,J=U._size,ae=0;if(W==="0em"||!W?ae=-K.pad.b:W===p.CAP_SHIFT+"em"&&(ae=K.pad.t),K.y==="auto")return J.t/2;switch(K.yref){case"paper":return J.t+J.h-J.h*K.y+ae;case"container":default:return U.height-U.height*K.y+ae}}function G(U){var W=U.title,K=L;return n.isRightAnchor(W)?K=x:n.isLeftAnchor(W)&&(K=C),K}function S(U){var W=U.title,K="0em";return n.isTopAnchor(W)?K=p.CAP_SHIFT+"em":n.isMiddleAnchor(W)&&(K=p.MID_SHIFT+"em"),K}k.doTraceStyle=function(U){var W=U.calcdata,K=[],J;for(J=0;J<W.length;J++){var ae=W[J],z=ae[0]||{},H=z.trace||{},Z=H._module||{},re=Z.arraysToCalcdata;re&&re(ae,H);var ie=Z.editStyle;ie&&K.push({fn:ie,cd0:z})}if(K.length){for(J=0;J<K.length;J++){var ue=K[J];ue.fn(U,ue.cd0)}r(U),k.redrawReglTraces(U)}return i.style(U),a.getComponentMethod("legend","draw")(U),i.previousPromises(U)},k.doColorBars=function(U){return a.getComponentMethod("colorbar","draw")(U),i.previousPromises(U)},k.layoutReplot=function(U){var W=U.layout;return U.layout=void 0,a.call("_doPlot",U,"",W)},k.doLegend=function(U){return a.getComponentMethod("legend","draw")(U),i.previousPromises(U)},k.doTicksRelayout=function(U){return h.draw(U,"redraw"),U._fullLayout._hasOnlyLargeSploms&&(a.subplotsRegistry.splom.updateGrid(U),r(U),k.redrawReglTraces(U)),k.drawMainTitle(U),i.previousPromises(U)},k.doModeBar=function(U){var W=U._fullLayout;o.manage(U);for(var K=0;K<W._basePlotModules.length;K++){var J=W._basePlotModules[K].updateFx;J&&J(U)}return i.previousPromises(U)},k.doCamera=function(U){for(var W=U._fullLayout,K=W._subplots.gl3d,J=0;J<K.length;J++){var ae=W[K[J]],z=ae._scene;z.setViewport(ae)}},k.drawData=function(U){var W=U._fullLayout;r(U);for(var K=W._basePlotModules,J=0;J<K.length;J++)K[J].plot(U);return k.redrawReglTraces(U),i.style(U),a.getComponentMethod("shapes","draw")(U),a.getComponentMethod("annotations","draw")(U),a.getComponentMethod("images","draw")(U),W._replotting=!1,i.previousPromises(U)},k.redrawReglTraces=function(U){var W=U._fullLayout;if(W._has("regl")){var K=U._fullData,J=[],ae=[],z,H;for(W._hasOnlyLargeSploms&&W._splomGrid.draw(),z=0;z<K.length;z++){var Z=K[z];Z.visible===!0&&Z._length!==0&&(Z.type==="splom"?W._splomScenes[Z.uid].draw():Z.type==="scattergl"?n.pushUnique(J,Z.xaxis+Z.yaxis):Z.type==="scatterpolargl"&&n.pushUnique(ae,Z.subplot))}for(z=0;z<J.length;z++)H=W._plots[J[z]],H._scene&&H._scene.draw();for(z=0;z<ae.length;z++)H=W[ae[z]]._subplot,H._scene&&H._scene.draw()}},k.doAutoRangeAndConstraints=function(U){for(var W=h.list(U,"",!0),K,J={},ae=0;ae<W.length;ae++)if(K=W[ae],!J[K._id]){J[K._id]=1,g(U,K),D(U,K);var z=K._matchGroup;if(z)for(var H in z){var Z=h.getFromId(U,H);D(U,Z,K.range),J[H]=1}}y(U)},k.finalDraw=function(U){a.getComponentMethod("rangeslider","draw")(U),a.getComponentMethod("rangeselector","draw")(U)},k.drawMarginPushers=function(U){a.getComponentMethod("legend","draw")(U),a.getComponentMethod("rangeselector","draw")(U),a.getComponentMethod("sliders","draw")(U),a.getComponentMethod("updatemenus","draw")(U),a.getComponentMethod("colorbar","draw")(U)}},{"../components/color":102,"../components/drawing":124,"../components/modebar":165,"../components/titles":200,"../constants/alignment":207,"../lib":232,"../lib/clear_gl_canvases":220,"../plots/cartesian/autorange":278,"../plots/cartesian/axes":279,"../plots/cartesian/constraints":287,"../plots/plots":316,"../registry":318,"@plotly/d3":11}],270:[function(t,P,k){var e=t("../lib"),a=e.isPlainObject,i=t("./plot_schema"),n=t("../plots/plots"),r=t("../plots/attributes"),f=t("./plot_template"),u=t("./plot_config").dfltConfig;k.makeTemplate=function(C){C=e.isPlainObject(C)?C:e.getGraphDiv(C),C=e.extendDeep({_context:u},{data:C.data,layout:C.layout}),n.supplyDefaults(C);var L=C.data||[],x=C.layout||{};x._basePlotModules=C._fullLayout._basePlotModules,x._modules=C._fullLayout._modules;var M={data:{},layout:{}};L.forEach(function(W){var K={};h(W,K,d.bind(null,W));var J=e.coerce(W,{},r,"type"),ae=M.data[J];ae||(ae=M.data[J]=[]),ae.push(K)}),h(x,M.layout,p.bind(null,x)),delete M.layout.template;var v=x.template;if(a(v)){var m=v.layout,A,V,T,Y,G,S;a(m)&&s(m,M.layout);var U=v.data;if(a(U)){for(V in M.data)if(T=U[V],Array.isArray(T)){for(G=M.data[V],S=G.length,Y=T.length,A=0;A<S;A++)s(T[A%Y],G[A]);for(A=S;A<Y;A++)G.push(e.extendDeep({},T[A]))}for(V in U)V in M.data||(M.data[V]=e.extendDeep([],U[V]))}}return M};function s(C,L){C=e.extendDeep({},C);var x=Object.keys(C).sort(),M,v;function m(G,S,U){if(a(S)&&a(G))s(G,S);else if(Array.isArray(S)&&Array.isArray(G)){var W=f.arrayTemplater({_template:C},U);for(v=0;v<S.length;v++){var K=S[v],J=W.newItem(K)._template;J&&s(J,K)}var ae=W.defaultItems();for(v=0;v<ae.length;v++)S.push(ae[v]._template);for(v=0;v<S.length;v++)delete S[v].templateitemname}}for(M=0;M<x.length;M++){var A=x[M],V=C[A];if(A in L?m(V,L[A],A):L[A]=V,o(A)===A)for(var T in L){var Y=o(T);T!==Y&&Y===A&&!(T in C)&&m(V,L[T],A)}}}function o(C){return C.replace(/[0-9]+$/,"")}function h(C,L,x,M,v){var m=v&&x(v);for(var A in C){var V=C[A],T=y(C,A,M),Y=y(C,A,v),G=x(Y);if(!G){var S=o(A);S!==A&&(Y=y(C,S,v),G=x(Y))}if(!(m&&m===G)&&!(!G||G._noTemplating||G.valType==="data_array"||G.arrayOk&&Array.isArray(V)))if(!G.valType&&a(V))h(V,L,x,T,Y);else if(G._isLinkedToArray&&Array.isArray(V))for(var U=!1,W=0,K={},J=0;J<V.length;J++){var ae=V[J];if(a(ae)){var z=ae.name;if(z)K[z]||(h(ae,L,x,y(V,W,T),y(V,W,Y)),W++,K[z]=1);else if(!U){var H=f.arrayDefaultKey(A),Z=y(C,H,M),re=y(V,W,T);h(ae,L,x,re,y(V,W,Y));var ie=e.nestedProperty(L,re),ue=e.nestedProperty(L,Z);ue.set(ie.get()),ie.set(null),U=!0}}}else{var ge=e.nestedProperty(L,T);ge.set(V)}}}function p(C,L){return i.getLayoutValObject(C,e.nestedProperty({},L).parts)}function d(C,L){return i.getTraceValObject(C,e.nestedProperty({},L).parts)}function y(C,L,x){var M;return x?Array.isArray(C)?M=x+"["+L+"]":M=x+"."+L:M=L,M}k.validateTemplate=function(C,L){var x=e.extendDeep({},{_context:u,data:C.data,layout:C.layout}),M=x.layout||{};a(L)||(L=M.template||{});var v=L.layout,m=L.data,A=[];x.layout=M,x.layout.template=L,n.supplyDefaults(x);var V=x._fullLayout,T=x._fullData,Y={};function G(Z,re){for(var ie in Z)if(ie.charAt(0)!=="_"&&a(Z[ie])){var ue=o(ie),ge=[],ee;for(ee=0;ee<re.length;ee++)ge.push(y(Z,ie,re[ee])),ue!==ie&&ge.push(y(Z,ue,re[ee]));for(ee=0;ee<ge.length;ee++)Y[ge[ee]]=1;G(Z[ie],ge)}}function S(Z,re){for(var ie in Z)if(ie.indexOf("defaults")===-1&&a(Z[ie])){var ue=y(Z,ie,re);Y[ue]?S(Z[ie],ue):A.push({code:"unused",path:ue})}}if(a(v)?(G(V,["layout"]),S(v,"layout")):A.push({code:"layout"}),!a(m))A.push({code:"data"});else{for(var U={},W,K=0;K<T.length;K++){var J=T[K];W=J.type,U[W]=(U[W]||0)+1,J._fullInput._template||A.push({code:"missing",index:J._fullInput.index,traceType:W})}for(W in m){var ae=m[W].length,z=U[W]||0;ae>z?A.push({code:"unused",traceType:W,templateCount:ae,dataCount:z}):z>ae&&A.push({code:"reused",traceType:W,templateCount:ae,dataCount:z})}}function H(Z,re){for(var ie in Z)if(ie.charAt(0)!=="_"){var ue=Z[ie],ge=y(Z,ie,re);a(ue)?(Array.isArray(Z)&&ue._template===!1&&ue.templateitemname&&A.push({code:"missing",path:ge,templateitemname:ue.templateitemname}),H(ue,ge)):Array.isArray(ue)&&g(ue)&&H(ue,ge)}}if(H({data:T,layout:V},""),A.length)return A.map(D)};function g(C){for(var L=0;L<C.length;L++)if(a(C[L]))return!0}function D(C){var L;switch(C.code){case"data":L="The template has no key data.";break;case"layout":L="The template has no key layout.";break;case"missing":C.path?L="There are no templates for item "+C.path+" with name "+C.templateitemname:L="There are no templates for trace "+C.index+", of type "+C.traceType+".";break;case"unused":C.path?L="The template item at "+C.path+" was not used in constructing the plot.":C.dataCount?L="Some of the templates of type "+C.traceType+" were not used. The template has "+C.templateCount+" traces, the data only has "+C.dataCount+" of this type.":L="The template has "+C.templateCount+" traces of type "+C.traceType+" but there are none in the data.";break;case"reused":L="Some of the templates of type "+C.traceType+" were used more than once. The template has "+C.templateCount+" traces, the data has "+C.dataCount+" of this type.";break}return C.msg=L,C}},{"../lib":232,"../plots/attributes":275,"../plots/plots":316,"./plot_config":266,"./plot_schema":267,"./plot_template":268}],271:[function(t,P,k){var e=t("fast-isnumeric"),a=t("./plot_api"),i=t("../plots/plots"),n=t("../lib"),r=t("../snapshot/helpers"),f=t("../snapshot/tosvg"),u=t("../snapshot/svgtoimg"),s=t("../version").version,o={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function h(p,d){d=d||{};var y,g,D,C;n.isPlainObject(p)?(y=p.data||[],g=p.layout||{},D=p.config||{},C={}):(p=n.getGraphDiv(p),y=n.extendDeep([],p.data),g=n.extendDeep({},p.layout),D=p._context,C=p._fullLayout||{});function L(z){return!(z in d)||n.validate(d[z],o[z])}if(!L("width")&&d.width!==null||!L("height")&&d.height!==null)throw new Error("Height and width should be pixel values.");if(!L("format"))throw new Error("Export format is not "+n.join2(o.format.values,", "," or ")+".");var x={};function M(z,H){return n.coerce(d,x,o,z,H)}var v=M("format"),m=M("width"),A=M("height"),V=M("scale"),T=M("setBackground"),Y=M("imageDataOnly"),G=document.createElement("div");G.style.position="absolute",G.style.left="-5000px",document.body.appendChild(G);var S=n.extendFlat({},g);m?S.width=m:d.width===null&&e(C.width)&&(S.width=C.width),A?S.height=A:d.height===null&&e(C.height)&&(S.height=C.height);var U=n.extendFlat({},D,{_exportedPlot:!0,staticPlot:!0,setBackground:T}),W=r.getRedrawFunc(G);function K(){return new Promise(function(z){setTimeout(z,r.getDelay(G._fullLayout))})}function J(){return new Promise(function(z,H){var Z=f(G,v,V),re=G._fullLayout.width,ie=G._fullLayout.height;function ue(){a.purge(G),document.body.removeChild(G)}if(v==="full-json"){var ge=i.graphJson(G,!1,"keepdata","object",!0,!0);return ge.version=s,ge=JSON.stringify(ge),ue(),z(Y?ge:r.encodeJSON(ge))}if(ue(),v==="svg")return z(Y?Z:r.encodeSVG(Z));var ee=document.createElement("canvas");ee.id=n.randstr(),u({format:v,width:re,height:ie,scale:V,canvas:ee,svg:Z,promise:!0}).then(z).catch(H)})}function ae(z){return Y?z.replace(r.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,H){a.newPlot(G,y,S,U).then(W).then(K).then(J).then(function(Z){z(ae(Z))}).catch(function(Z){H(Z)})})}P.exports=h},{"../lib":232,"../plots/plots":316,"../snapshot/helpers":322,"../snapshot/svgtoimg":324,"../snapshot/tosvg":326,"../version":391,"./plot_api":265,"fast-isnumeric":17}],272:[function(t,P,k){var e=t("../lib"),a=t("../plots/plots"),i=t("./plot_schema"),n=t("./plot_config").dfltConfig,r=e.isPlainObject,f=Array.isArray,u=e.isArrayOrTypedArray;P.exports=function(M,v){M===void 0&&(M=[]),v===void 0&&(v={});var m=i.get(),A=[],V={_context:e.extendFlat({},n)},T,Y;f(M)?(V.data=e.extendDeep([],M),T=M):(V.data=[],T=[],A.push(d("array","data"))),r(v)?(V.layout=e.extendDeep({},v),Y=v):(V.layout={},Y={},arguments.length>1&&A.push(d("object","layout"))),a.supplyDefaults(V);for(var G=V._fullData,S=T.length,U=0;U<S;U++){var W=T[U],K=["data",U];if(!r(W)){A.push(d("object",K));continue}var J=G[U],ae=J.type,z=m.traces[ae].attributes;z.type={valType:"enumerated",values:[ae]},J.visible===!1&&W.visible!==!1&&A.push(d("invisible",K)),s(W,J,z,A,K);var H=W.transforms,Z=J.transforms;if(H){f(H)||A.push(d("array",K,["transforms"])),K.push("transforms");for(var re=0;re<H.length;re++){var ie=["transforms",re],ue=H[re].type;if(!r(H[re])){A.push(d("object",K,ie));continue}var ge=m.transforms[ue]?m.transforms[ue].attributes:{};ge.type={valType:"enumerated",values:Object.keys(m.transforms)},s(H[re],Z[re],ge,A,K,ie)}}}var ee=V._fullLayout,q=o(m,G);return s(Y,ee,q,A,"layout"),A.length===0?void 0:A};function s(x,M,v,m,A,V){V=V||[];for(var T=Object.keys(x),Y=0;Y<T.length;Y++){var G=T[Y];if(G!=="transforms"){var S=V.slice();S.push(G);var U=x[G],W=M[G],K=g(v,G),J=(K||{}).valType,ae=J==="info_array",z=J==="colorscale",H=(K||{}).items;if(!y(v,G))m.push(d("schema",A,S));else if(r(U)&&r(W)&&J!=="any")s(U,W,K,m,A,S);else if(ae&&f(U)){U.length>W.length&&m.push(d("unused",A,S.concat(W.length)));var Z=W.length,re=Array.isArray(H);re&&(Z=Math.min(Z,H.length));var ie,ue,ge,ee,q;if(K.dimensions===2)for(ue=0;ue<Z;ue++)if(f(U[ue])){U[ue].length>W[ue].length&&m.push(d("unused",A,S.concat(ue,W[ue].length)));var ne=W[ue].length;for(ie=0;ie<(re?Math.min(ne,H[ue].length):ne);ie++)ge=re?H[ue][ie]:H,ee=U[ue][ie],q=W[ue][ie],e.validate(ee,ge)?q!==ee&&q!==+ee&&m.push(d("dynamic",A,S.concat(ue,ie),ee,q)):m.push(d("value",A,S.concat(ue,ie),ee))}else m.push(d("array",A,S.concat(ue),U[ue]));else for(ue=0;ue<Z;ue++)ge=re?H[ue]:H,ee=U[ue],q=W[ue],e.validate(ee,ge)?q!==ee&&q!==+ee&&m.push(d("dynamic",A,S.concat(ue),ee,q)):m.push(d("value",A,S.concat(ue),ee))}else if(K.items&&!ae&&f(U)){var oe=H[Object.keys(H)[0]],Q=[],c,w;for(c=0;c<W.length;c++){var B=W[c]._index||c;if(w=S.slice(),w.push(B),r(U[B])&&r(W[c])){Q.push(B);var E=U[B],b=W[c];r(E)&&E.visible!==!1&&b.visible===!1?m.push(d("invisible",A,w)):s(E,b,oe,m,A,w)}}for(c=0;c<U.length;c++)w=S.slice(),w.push(c),r(U[c])?Q.indexOf(c)===-1&&m.push(d("unused",A,w)):m.push(d("object",A,w,U[c]))}else!r(U)&&r(W)?m.push(d("object",A,S,U)):!u(U)&&u(W)&&!ae&&!z?m.push(d("array",A,S,U)):G in M?e.validate(U,K)?K.valType==="enumerated"&&(K.coerceNumber&&U!==+W||U!==W)&&m.push(d("dynamic",A,S,U,W)):m.push(d("value",A,S,U)):m.push(d("unused",A,S,U))}}return m}function o(x,M){for(var v=x.layout.layoutAttributes,m=0;m<M.length;m++){var A=M[m],V=x.traces[A.type],T=V.layoutAttributes;T&&(A.subplot?e.extendFlat(v[V.attributes.subplot.dflt],T):e.extendFlat(v,T))}return v}var h={object:function(x,M){var v;return x==="layout"&&M===""?v="The layout argument":x[0]==="data"&&M===""?v="Trace "+x[1]+" in the data argument":v=p(x)+"key "+M,v+" must be linked to an object container"},array:function(x,M){var v;return x==="data"?v="The data argument":v=p(x)+"key "+M,v+" must be linked to an array container"},schema:function(x,M){return p(x)+"key "+M+" is not part of the schema"},unused:function(x,M,v){var m=r(v)?"container":"key";return p(x)+m+" "+M+" did not get coerced"},dynamic:function(x,M,v,m){return[p(x)+"key",M,"(set to '"+v+"')","got reset to","'"+m+"'","during defaults."].join(" ")},invisible:function(x,M){return(M?p(x)+"item "+M:"Trace "+x[1])+" got defaulted to be not visible"},value:function(x,M,v){return[p(x)+"key "+M,"is set to an invalid value ("+v+")"].join(" ")}};function p(x){return f(x)?"In data trace "+x[1]+", ":"In "+x+", "}function d(x,M,v,m,A){v=v||"";var V,T;f(M)?(V=M[0],T=M[1]):(V=M,T=null);var Y=L(v),G=h[x](M,Y,m,A);return e.log(G),{code:x,container:V,trace:T,path:v,astr:Y,msg:G}}function y(x,M){var v=C(M),m=v.keyMinusId,A=v.id;return m in x&&x[m]._isSubplotObj&&A?!0:M in x}function g(x,M){if(M in x)return x[M];var v=C(M);return x[v.keyMinusId]}var D=e.counterRegex("([a-z]+)");function C(x){var M=x.match(D);return{keyMinusId:M&&M[1],id:M&&M[2]}}function L(x){if(!f(x))return String(x);for(var M="",v=0;v<x.length;v++){var m=x[v];typeof m=="number"?M=M.substr(0,M.length-1)+"["+m+"]":M+=m,v<x.length-1&&(M+=".")}return M}},{"../lib":232,"../plots/plots":316,"./plot_config":266,"./plot_schema":267}],273:[function(t,P,k){P.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},{}],274:[function(t,P,k){var e=t("../lib"),a=t("../plot_api/plot_template");P.exports=function(n,r,f){var u=f.name,s=f.inclusionAttr||"visible",o=r[u],h=e.isArrayOrTypedArray(n[u])?n[u]:[],p=r[u]=[],d=a.arrayTemplater(r,u,s),y,g;for(y=0;y<h.length;y++){var D=h[y];e.isPlainObject(D)?g=d.newItem(D):(g=d.newItem({}),g[s]=!1),g._index=y,g[s]!==!1&&f.handleItemDefaults(D,g,r,f),p.push(g)}var C=d.defaultItems();for(y=0;y<C.length;y++)g=C[y],g._index=p.length,f.handleItemDefaults({},g,r,f,{}),p.push(g);if(e.isArrayOrTypedArray(o)){var L=Math.min(o.length,p.length);for(y=0;y<L;y++)e.relinkPrivateKeys(p[y],o[y])}return p}},{"../lib":232,"../plot_api/plot_template":268}],275:[function(t,P,k){var e=t("./font_attributes"),a=t("../components/fx/attributes");P.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:e({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:a.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},{"../components/fx/attributes":133,"./font_attributes":310}],276:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib"),i=a.dateTime2ms,n=a.incrementMonth,r=t("../../constants/numerical"),f=r.ONEAVGMONTH;P.exports=function(s,o,h,p){if(o.type!=="date")return{vals:p};var d=s[h+"periodalignment"];if(!d)return{vals:p};var y=s[h+"period"],g;if(e(y)){if(y=+y,y<=0)return{vals:p}}else if(typeof y=="string"&&y.charAt(0)==="M"){var D=+y.substring(1);if(D>0&&Math.round(D)===D)g=D;else return{vals:p}}for(var C=o.calendar,L=d==="start",x=d==="end",M=s[h+"period0"],v=i(M,C)||0,m=[],A=[],V=[],T=p.length,Y=0;Y<T;Y++){var G=p[Y],S,U,W;if(g){for(S=Math.round((G-v)/(g*f)),W=n(v,g*S,C);W>G;)W=n(W,-g,C);for(;W<=G;)W=n(W,g,C);U=n(W,-g,C)}else{for(S=Math.round((G-v)/y),W=v+S*y;W>G;)W-=y;for(;W<=G;)W+=y;U=W-y}m[Y]=L?U:x?W:(U+W)/2,A[Y]=U,V[Y]=W}return{vals:m,starts:A,ends:V}}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],277:[function(t,P,k){P.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],278:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=t("../../lib"),n=t("../../constants/numerical").FP_SAFE,r=t("../../registry"),f=t("../../components/drawing"),u=t("./axis_ids"),s=u.getFromId,o=u.isLinked;P.exports={getAutoRange:h,makePadFn:d,doAutoRange:C,findExtremes:L,concatExtremes:D};function h(T,Y){var G,S,U=[],W=T._fullLayout,K=d(W,Y,0),J=d(W,Y,1),ae=D(T,Y),z=ae.min,H=ae.max;if(z.length===0||H.length===0)return i.simpleMap(Y.range,Y.r2l);var Z=z[0].val,re=H[0].val;for(G=1;G<z.length&&Z===re;G++)Z=Math.min(Z,z[G].val);for(G=1;G<H.length&&Z===re;G++)re=Math.max(re,H[G].val);var ie=!1;if(Y.range){var ue=i.simpleMap(Y.range,Y.r2l);ie=ue[1]<ue[0]}Y.autorange==="reversed"&&(ie=!0,Y.autorange=!0);var ge=Y.rangemode,ee=ge==="tozero",q=ge==="nonnegative",ne=Y._length,oe=ne/10,Q=0,c,w,B,E,b,O;for(G=0;G<z.length;G++)for(c=z[G],S=0;S<H.length;S++)w=H[S],O=w.val-c.val-p(Y,c.val,w.val),O>0&&(b=ne-K(c)-J(w),b>oe?O/b>Q&&(B=c,E=w,Q=O/b):O/ne>Q&&(B={val:c.val,nopad:1},E={val:w.val,nopad:1},Q=O/ne));function N(ce,ye){return Math.max(ce,J(ye))}if(Z===re){var R=Z-1,j=Z+1;if(ee)if(Z===0)U=[0,1];else{var se=(Z>0?H:z).reduce(N,0),fe=Z/(1-Math.min(.5,se/ne));U=Z>0?[0,fe]:[fe,0]}else q?U=[Math.max(0,R),Math.max(1,j)]:U=[R,j]}else ee?(B.val>=0&&(B={val:0,nopad:1}),E.val<=0&&(E={val:0,nopad:1})):q&&(B.val-Q*K(B)<0&&(B={val:0,nopad:1}),E.val<=0&&(E={val:1,nopad:1})),Q=(E.val-B.val-p(Y,c.val,w.val))/(ne-K(B)-J(E)),U=[B.val-Q*K(B),E.val+Q*J(E)];return ie&&U.reverse(),i.simpleMap(U,Y.l2r||Number)}function p(T,Y,G){var S=0;if(T.rangebreaks)for(var U=T.locateBreaks(Y,G),W=0;W<U.length;W++){var K=U[W];S+=K.max-K.min}return S}function d(T,Y,G){var S=.05*Y._length,U=Y._anchorAxis||{};if((Y.ticklabelposition||"").indexOf("inside")!==-1||(U.ticklabelposition||"").indexOf("inside")!==-1){var W=Y.autorange==="reversed";if(!W){var K=i.simpleMap(Y.range,Y.r2l);W=K[1]<K[0]}W&&(G=!G)}var J=0;return o(T,Y._id)||(J=g(T,Y,G)),S=Math.max(J,S),Y.constrain==="domain"&&Y._inputDomain&&(S*=(Y._inputDomain[1]-Y._inputDomain[0])/(Y.domain[1]-Y.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?S:J)}}var y=3;function g(T,Y,G){var S=0,U=Y._id.charAt(0)==="x";for(var W in T._plots){var K=T._plots[W];if(!(Y._id!==K.xaxis._id&&Y._id!==K.yaxis._id)){var J=(U?K.yaxis:K.xaxis)||{};if((J.ticklabelposition||"").indexOf("inside")!==-1&&(!G&&(J.side==="left"||J.side==="bottom")||G&&(J.side==="top"||J.side==="right"))){if(J._vals){var ae=i.deg2rad(J._tickAngles[J._id+"tick"]||0),z=Math.abs(Math.cos(ae)),H=Math.abs(Math.sin(ae));if(!J._vals[0].bb){var Z=J._id+"tick",re=J._selections[Z];re.each(function(ne){var oe=e.select(this),Q=oe.select(".text-math-group");Q.empty()&&(ne.bb=f.bBox(oe.node()))})}for(var ie=0;ie<J._vals.length;ie++){var ue=J._vals[ie],ge=ue.bb;if(ge){var ee=2*y+ge.width,q=2*y+ge.height;S=Math.max(S,U?Math.max(ee*z,q*H):Math.max(q*z,ee*H))}}}J.ticks==="inside"&&J.ticklabelposition==="inside"&&(S+=J.ticklen||0)}}}return S}function D(T,Y,G){var S=Y._id,U=T._fullData,W=T._fullLayout,K=[],J=[],ae,z,H;function Z(ee,q){for(ae=0;ae<q.length;ae++){var ne=ee[q[ae]],oe=(ne._extremes||{})[S];if(ne.visible===!0&&oe){for(z=0;z<oe.min.length;z++)H=oe.min[z],x(K,H.val,H.pad,{extrapad:H.extrapad});for(z=0;z<oe.max.length;z++)H=oe.max[z],M(J,H.val,H.pad,{extrapad:H.extrapad})}}}if(Z(U,Y._traceIndices),Z(W.annotations||[],Y._annIndices||[]),Z(W.shapes||[],Y._shapeIndices||[]),Y._matchGroup&&!G){for(var re in Y._matchGroup)if(re!==Y._id){var ie=s(T,re),ue=D(T,ie,!0),ge=Y._length/ie._length;for(z=0;z<ue.min.length;z++)H=ue.min[z],x(K,H.val,H.pad*ge,{extrapad:H.extrapad});for(z=0;z<ue.max.length;z++)H=ue.max[z],M(J,H.val,H.pad*ge,{extrapad:H.extrapad})}}return{min:K,max:J}}function C(T,Y,G){if(Y.setScale(),Y.autorange){Y.range=G?G.slice():h(T,Y),Y._r=Y.range.slice(),Y._rl=i.simpleMap(Y._r,Y.r2l);var S=Y._input,U={};U[Y._attr+".range"]=Y.range,U[Y._attr+".autorange"]=Y.autorange,r.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,U),S.range=Y.range.slice(),S.autorange=Y.autorange}var W=Y._anchorAxis;if(W&&W.rangeslider){var K=W.rangeslider[Y._name];K&&K.rangemode==="auto"&&(K.range=h(T,Y)),W._input.rangeslider[Y._name]=i.extendFlat({},K)}}function L(T,Y,G){G||(G={}),T._m||T.setScale();var S=[],U=[],W=Y.length,K=G.padded||!1,J=G.tozero&&(T.type==="linear"||T.type==="-"),ae=T.type==="log",z=!1,H=G.vpadLinearized||!1,Z,re,ie,ue,ge,ee,q,ne,oe;function Q(R){if(Array.isArray(R))return z=!0,function(se){return Math.max(Number(R[se]||0),0)};var j=Math.max(Number(R||0),0);return function(){return j}}var c=Q((T._m>0?G.ppadplus:G.ppadminus)||G.ppad||0),w=Q((T._m>0?G.ppadminus:G.ppadplus)||G.ppad||0),B=Q(G.vpadplus||G.vpad),E=Q(G.vpadminus||G.vpad);if(!z){if(ne=1/0,oe=-1/0,ae)for(Z=0;Z<W;Z++)re=Y[Z],re<ne&&re>0&&(ne=re),re>oe&&re<n&&(oe=re);else for(Z=0;Z<W;Z++)re=Y[Z],re<ne&&re>-n&&(ne=re),re>oe&&re<n&&(oe=re);Y=[ne,oe],W=2}var b={tozero:J,extrapad:K};function O(R){ie=Y[R],!!a(ie)&&(ee=c(R),q=w(R),H?(ue=T.c2l(ie)-E(R),ge=T.c2l(ie)+B(R)):(ne=ie-E(R),oe=ie+B(R),ae&&ne<oe/10&&(ne=oe/10),ue=T.c2l(ne),ge=T.c2l(oe)),J&&(ue=Math.min(0,ue),ge=Math.max(0,ge)),m(ue)&&x(S,ue,q,b),m(ge)&&M(U,ge,ee,b))}var N=Math.min(6,W);for(Z=0;Z<N;Z++)O(Z);for(Z=W-1;Z>=N;Z--)O(Z);return{min:S,max:U,opts:G}}function x(T,Y,G,S){v(T,Y,G,S,A)}function M(T,Y,G,S){v(T,Y,G,S,V)}function v(T,Y,G,S,U){for(var W=S.tozero,K=S.extrapad,J=!0,ae=0;ae<T.length&&J;ae++){var z=T[ae];if(U(z.val,Y)&&z.pad>=G&&(z.extrapad||!K)){J=!1;break}else U(Y,z.val)&&z.pad<=G&&(K||!z.extrapad)&&(T.splice(ae,1),ae--)}if(J){var H=W&&Y===0;T.push({val:Y,pad:H?0:G,extrapad:H?!1:K})}}function m(T){return a(T)&&Math.abs(T)<n}function A(T,Y){return T<=Y}function V(T,Y){return T>=Y}},{"../../components/drawing":124,"../../constants/numerical":212,"../../lib":232,"../../registry":318,"./axis_ids":283,"@plotly/d3":11,"fast-isnumeric":17}],279:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=t("../../plots/plots"),n=t("../../registry"),r=t("../../lib"),f=r.strTranslate,u=t("../../lib/svg_text_utils"),s=t("../../components/titles"),o=t("../../components/color"),h=t("../../components/drawing"),p=t("./layout_attributes"),d=t("./clean_ticks"),y=t("../../constants/numerical"),g=y.ONEMAXYEAR,D=y.ONEAVGYEAR,C=y.ONEMINYEAR,L=y.ONEMAXQUARTER,x=y.ONEAVGQUARTER,M=y.ONEMINQUARTER,v=y.ONEMAXMONTH,m=y.ONEAVGMONTH,A=y.ONEMINMONTH,V=y.ONEWEEK,T=y.ONEDAY,Y=T/2,G=y.ONEHOUR,S=y.ONEMIN,U=y.ONESEC,W=y.MINUS_SIGN,K=y.BADNUM,J={K:"zeroline"},ae={K:"gridline",L:"path"},z={K:"tick",L:"path"},H={K:"tick",L:"text"},Z=t("../../constants/alignment"),re=Z.MID_SHIFT,ie=Z.CAP_SHIFT,ue=Z.LINE_SPACING,ge=Z.OPPOSITE_SIDE,ee=3,q=P.exports={};q.setConvert=t("./set_convert");var ne=t("./axis_autotype"),oe=t("./axis_ids"),Q=oe.idSort,c=oe.isLinked;q.id2name=oe.id2name,q.name2id=oe.name2id,q.cleanId=oe.cleanId,q.list=oe.list,q.listIds=oe.listIds,q.getFromId=oe.getFromId,q.getFromTrace=oe.getFromTrace;var w=t("./autorange");q.getAutoRange=w.getAutoRange,q.findExtremes=w.findExtremes;var B=1e-4;function E(he){var ve=(he[1]-he[0])*B;return[he[0]-ve,he[1]+ve]}q.coerceRef=function(he,ve,we,Le,Re,Ge){var Fe=Le.charAt(Le.length-1),Ye=we._fullLayout._subplots[Fe+"axis"],$e=Le+"ref",yt={};return Re||(Re=Ye[0]||(typeof Ge=="string"?Ge:Ge[0])),Ge||(Ge=Re),Ye=Ye.concat(Ye.map(function(Mt){return Mt+" domain"})),yt[$e]={valType:"enumerated",values:Ye.concat(Ge?typeof Ge=="string"?[Ge]:Ge:[]),dflt:Re},r.coerce(he,ve,yt,$e)},q.getRefType=function(he){return he===void 0?he:he==="paper"?"paper":he==="pixel"?"pixel":/( domain)$/.test(he)?"domain":"range"},q.coercePosition=function(he,ve,we,Le,Re,Ge){var Fe,Ye,$e=q.getRefType(Le);if($e!=="range")Fe=r.ensureNumber,Ye=we(Re,Ge);else{var yt=q.getFromId(ve,Le);Ge=yt.fraction2r(Ge),Ye=we(Re,Ge),Fe=yt.cleanPos}he[Re]=Fe(Ye)},q.cleanPosition=function(he,ve,we){var Le=we==="paper"||we==="pixel"?r.ensureNumber:q.getFromId(ve,we).cleanPos;return Le(he)},q.redrawComponents=function(he,ve){ve=ve||q.listIds(he);var we=he._fullLayout;function Le(Re,Ge,Fe,Ye){for(var $e=n.getComponentMethod(Re,Ge),yt={},Mt=0;Mt<ve.length;Mt++)for(var St=we[q.id2name(ve[Mt])],wt=St[Fe],Ht=0;Ht<wt.length;Ht++){var Nt=wt[Ht];if(!yt[Nt]&&($e(he,Nt),yt[Nt]=1,Ye))return}}Le("annotations","drawOne","_annIndices"),Le("shapes","drawOne","_shapeIndices"),Le("images","draw","_imgIndices",!0)};var b=q.getDataConversions=function(he,ve,we,Le){var Re,Ge=we==="x"||we==="y"||we==="z"?we:Le;if(Array.isArray(Ge)){if(Re={type:ne(Le,void 0,{autotypenumbers:he._fullLayout.autotypenumbers}),_categories:[]},q.setConvert(Re),Re.type==="category")for(var Fe=0;Fe<Le.length;Fe++)Re.d2c(Le[Fe])}else Re=q.getFromTrace(he,ve,Ge);return Re?{d2c:Re.d2c,c2d:Re.c2d}:Ge==="ids"?{d2c:N,c2d:N}:{d2c:O,c2d:O}};function O(he){return+he}function N(he){return String(he)}q.getDataToCoordFunc=function(he,ve,we,Le){return b(he,ve,we,Le).d2c},q.counterLetter=function(he){var ve=he.charAt(0);if(ve==="x")return"y";if(ve==="y")return"x"},q.minDtick=function(he,ve,we,Le){["log","category","multicategory"].indexOf(he.type)!==-1||!Le?he._minDtick=0:he._minDtick===void 0?(he._minDtick=ve,he._forceTick0=we):he._minDtick&&((he._minDtick/ve+1e-6)%1<2e-6&&((we-he._forceTick0)/ve%1+1.000001)%1<2e-6?(he._minDtick=ve,he._forceTick0=we):((ve/he._minDtick+1e-6)%1>2e-6||((we-he._forceTick0)/he._minDtick%1+1.000001)%1>2e-6)&&(he._minDtick=0))},q.saveRangeInitial=function(he,ve){for(var we=q.list(he,"",!0),Le=!1,Re=0;Re<we.length;Re++){var Ge=we[Re],Fe=Ge._rangeInitial===void 0,Ye=Fe||!(Ge.range[0]===Ge._rangeInitial[0]&&Ge.range[1]===Ge._rangeInitial[1]);(Fe&&Ge.autorange===!1||ve&&Ye)&&(Ge._rangeInitial=Ge.range.slice(),Le=!0)}return Le},q.saveShowSpikeInitial=function(he,ve){for(var we=q.list(he,"",!0),Le=!1,Re="on",Ge=0;Ge<we.length;Ge++){var Fe=we[Ge],Ye=Fe._showSpikeInitial===void 0,$e=Ye||Fe.showspikes!==Fe._showspikes;(Ye||ve&&$e)&&(Fe._showSpikeInitial=Fe.showspikes,Le=!0),Re==="on"&&!Fe.showspikes&&(Re="off")}return he._fullLayout._cartesianSpikesEnabled=Re,Le},q.autoBin=function(he,ve,we,Le,Re,Ge){var Fe=r.aggNums(Math.min,null,he),Ye=r.aggNums(Math.max,null,he);if(ve.type==="category"||ve.type==="multicategory")return{start:Fe-.5,end:Ye+.5,size:Math.max(1,Math.round(Ge)||1),_dataSpan:Ye-Fe};Re||(Re=ve.calendar);var $e;if(ve.type==="log"?$e={type:"linear",range:[Fe,Ye]}:$e={type:ve.type,range:r.simpleMap([Fe,Ye],ve.c2r,0,Re),calendar:Re},q.setConvert($e),Ge=Ge&&d.dtick(Ge,$e.type),Ge)$e.dtick=Ge,$e.tick0=d.tick0(void 0,$e.type,Re);else{var yt;if(we)yt=(Ye-Fe)/we;else{var Mt=r.distinctVals(he),St=Math.pow(10,Math.floor(Math.log(Mt.minDiff)/Math.LN10)),wt=St*r.roundUp(Mt.minDiff/St,[.9,1.9,4.9,9.9],!0);yt=Math.max(wt,2*r.stdev(he)/Math.pow(he.length,Le?.25:.4)),a(yt)||(yt=1)}q.autoTicks($e,yt)}var Ht=$e.dtick,Nt=q.tickIncrement(q.tickFirst($e),Ht,"reverse",Re),qt,kt;if(typeof Ht=="number")Nt=R(Nt,he,$e,Fe,Ye),kt=1+Math.floor((Ye-Nt)/Ht),qt=Nt+kt*Ht;else for($e.dtick.charAt(0)==="M"&&(Nt=j(Nt,he,Ht,Fe,Re)),qt=Nt,kt=0;qt<=Ye;)qt=q.tickIncrement(qt,Ht,!1,Re),kt++;return{start:ve.c2r(Nt,0,Re),end:ve.c2r(qt,0,Re),size:Ht,_dataSpan:Ye-Fe}};function R(he,ve,we,Le,Re){var Ge=0,Fe=0,Ye=0,$e=0;function yt(Ht){return(1+(Ht-he)*100/we.dtick)%100<2}for(var Mt=0;Mt<ve.length;Mt++)ve[Mt]%1==0?Ye++:a(ve[Mt])||$e++,yt(ve[Mt])&&Ge++,yt(ve[Mt]+we.dtick/2)&&Fe++;var St=ve.length-$e;if(Ye===St&&we.type!=="date")we.dtick<1?he=Le-.5*we.dtick:(he-=.5,he+we.dtick<Le&&(he+=we.dtick));else if(Fe<St*.1&&(Ge>St*.3||yt(Le)||yt(Re))){var wt=we.dtick/2;he+=he+wt<Le?wt:-wt}return he}function j(he,ve,we,Le,Re){var Ge=r.findExactDates(ve,Re),Fe=.8;if(Ge.exactDays>Fe){var Ye=Number(we.substr(1));Ge.exactYears>Fe&&Ye%12==0?he=q.tickIncrement(he,"M6","reverse")+T*1.5:Ge.exactMonths>Fe?he=q.tickIncrement(he,"M1","reverse")+T*15.5:he-=Y;var $e=q.tickIncrement(he,we);if($e<=Le)return $e}return he}q.prepTicks=function(he,ve){var we=r.simpleMap(he.range,he.r2l,void 0,void 0,ve);if(he._dtickInit=he.dtick,he._tick0Init=he.tick0,he.tickmode==="auto"||!he.dtick){var Le=he.nticks,Re;Le||(he.type==="category"||he.type==="multicategory"?(Re=he.tickfont?r.bigFont(he.tickfont.size||12):15,Le=he._length/Re):(Re=he._id.charAt(0)==="y"?40:80,Le=r.constrain(he._length/Re,4,9)+1),he._name==="radialaxis"&&(Le*=2)),he.tickmode==="array"&&(Le*=100),he._roughDTick=Math.abs(we[1]-we[0])/Le,q.autoTicks(he,he._roughDTick),he._minDtick>0&&he.dtick<he._minDtick*2&&(he.dtick=he._minDtick,he.tick0=he.l2r(he._forceTick0))}he.ticklabelmode==="period"&&fe(he),he.tick0||(he.tick0=he.type==="date"?"2000-01-01":0),he.type==="date"&&he.dtick<.1&&(he.dtick=.1),Ze(he)};function se(he){return+he.substring(1)}function fe(he){var ve;function we(){return!(a(he.dtick)||he.dtick.charAt(0)!=="M")}var Le=we(),Re=q.getTickFormat(he);if(Re){var Ge=he._dtickInit!==he.dtick;/%[fLQsSMX]/.test(Re)||(/%[HI]/.test(Re)?(ve=G,Ge&&!Le&&he.dtick<G&&(he.dtick=G)):/%p/.test(Re)?(ve=Y,Ge&&!Le&&he.dtick<Y&&(he.dtick=Y)):/%[Aadejuwx]/.test(Re)?(ve=T,Ge&&!Le&&he.dtick<T&&(he.dtick=T)):/%[UVW]/.test(Re)?(ve=V,Ge&&!Le&&he.dtick<V&&(he.dtick=V)):/%[Bbm]/.test(Re)?(ve=m,Ge&&(Le?se(he.dtick)<1:he.dtick<A)&&(he.dtick="M1")):/%[q]/.test(Re)?(ve=x,Ge&&(Le?se(he.dtick)<3:he.dtick<M)&&(he.dtick="M3")):/%[Yy]/.test(Re)&&(ve=D,Ge&&(Le?se(he.dtick)<12:he.dtick<C)&&(he.dtick="M12")))}Le=we(),Le&&he.tick0===he._dowTick0&&(he.tick0=he._rawTick0),he._definedDelta=ve}function ce(he,ve,we){for(var Le=0;Le<he.length;Le++){var Re=he[Le].value,Ge=Le,Fe=Le+1;Le<he.length-1?(Ge=Le,Fe=Le+1):Le>0?(Ge=Le-1,Fe=Le):(Ge=Le,Fe=Le);var Ye=he[Ge].value,$e=he[Fe].value,yt=Math.abs($e-Ye),Mt=we||yt,St=0;Mt>=C?yt>=C&&yt<=g?St=yt:St=D:we===x&&Mt>=M?yt>=M&&yt<=L?St=yt:St=x:Mt>=A?yt>=A&&yt<=v?St=yt:St=m:we===V&&Mt>=V?St=V:Mt>=T?St=T:we===Y&&Mt>=Y?St=Y:we===G&&Mt>=G&&(St=G);var wt;St>=yt&&(St=yt,wt=!0);var Ht=Re+St;if(ve.rangebreaks&&St>0){for(var Nt=84,qt=0,kt=0;kt<Nt;kt++){var xt=(kt+.5)/Nt;ve.maskBreaks(Re*(1-xt)+xt*Ht)!==K&&qt++}St*=qt/Nt,St||(he[Le].drop=!0),wt&&yt>V&&(St=yt)}(St>0||Le===0)&&(he[Le].periodX=Re+St/2)}}q.calcTicks=function(ve,we){q.prepTicks(ve,we);var Le=r.simpleMap(ve.range,ve.r2l,void 0,void 0,we);if(ve.tickmode==="array")return ye(ve);var Re=E(Le),Ge=Re[0],Fe=Re[1],Ye=Le[1]<Le[0],$e=Math.min(Le[0],Le[1]),yt=Math.max(Le[0],Le[1]),Mt=ve.type==="log"&&!(a(ve.dtick)||ve.dtick.charAt(0)==="L"),St=ve.ticklabelmode==="period";if(ve._tmin=q.tickFirst(ve,we),ve._tmin<Ge!==Ye)return[];(ve.type==="category"||ve.type==="multicategory")&&(Fe=Ye?Math.max(-.5,Fe):Math.min(ve._categories.length-.5,Fe));var wt=ve._tmin;ve.rangebreaks&&ve._tick0Init!==ve.tick0&&(wt=ct(wt,ve),Ye||(wt=q.tickIncrement(wt,ve.dtick,!Ye,ve.calendar))),St&&(wt=q.tickIncrement(wt,ve.dtick,!Ye,ve.calendar));for(var Ht=Math.max(1e3,ve._length||0),Nt=[],qt=null;Ye?wt>=Fe:wt<=Fe;wt=q.tickIncrement(wt,ve.dtick,Ye,ve.calendar)){if(ve.rangebreaks&&!Ye){if(wt<Ge)continue;if(ve.maskBreaks(wt)===K&&ct(wt,ve)>=yt)break}if(Nt.length>Ht||wt===qt)break;qt=wt;var kt=!1;Mt&&wt!==(wt|0)&&(kt=!0),Nt.push({minor:kt,value:wt})}St&&ce(Nt,ve,ve._definedDelta);var xt;if(ve.rangebreaks){var It=ve._id.charAt(0)==="y",Ut=1;ve.tickmode==="auto"&&(Ut=ve.tickfont?ve.tickfont.size:12);var it=NaN;for(xt=Nt.length-1;xt>-1;xt--){if(Nt[xt].drop){Nt.splice(xt,1);continue}Nt[xt].value=ct(Nt[xt].value,ve);var At=ve.c2p(Nt[xt].value);(It?it>At-Ut:it<At+Ut)?Nt.splice(Ye?xt+1:xt,1):it=At}}Ft(ve)&&Math.abs(Le[1]-Le[0])===360&&Nt.pop(),ve._tmax=(Nt[Nt.length-1]||{}).value,ve._prevDateHead="",ve._inCalcTicks=!0;var Rt=[],bt,Dt;for(xt=0;xt<Nt.length;xt++){var Jt=Nt[xt].minor,jt=Nt[xt].value;bt=q.tickText(ve,jt,!1,Jt),Dt=Nt[xt].periodX,Dt!==void 0&&(bt.periodX=Dt,(Dt>yt||Dt<$e)&&(Dt>yt&&(bt.periodX=yt),Dt<$e&&(bt.periodX=$e),bt.text=" ",ve._prevDateHead="")),Rt.push(bt)}return ve._inCalcTicks=!1,Rt};function ye(he){var ve=he.tickvals,we=he.ticktext,Le=new Array(ve.length),Re=r.simpleMap(he.range,he.r2l),Ge=E(Re),Fe=Math.min(Ge[0],Ge[1]),Ye=Math.max(Ge[0],Ge[1]),$e=0;Array.isArray(we)||(we=[]);var yt=he.type==="category"?he.d2l_noadd:he.d2l;he.type==="log"&&String(he.dtick).charAt(0)!=="L"&&(he.dtick="L"+Math.pow(10,Math.floor(Math.min(he.range[0],he.range[1]))-1));for(var Mt=0;Mt<ve.length;Mt++){var St=yt(ve[Mt]);St>Fe&&St<Ye&&(we[Mt]===void 0?Le[$e]=q.tickText(he,St):Le[$e]=gt(he,St,String(we[Mt])),$e++)}return $e<ve.length&&Le.splice($e,ve.length-$e),he.rangebreaks&&(Le=Le.filter(function(wt){return he.maskBreaks(wt.x)!==K})),Le}var xe=[2,5,10],De=[1,2,3,6,12],ke=[1,2,5,10,15,30],Ne=[1,2,3,7,14],Ue=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ce=[-.301,0,.301,.699,1],_e=[15,30,45,90,180];function Ie(he,ve,we){return ve*r.roundUp(he/ve,we)}q.autoTicks=function(he,ve){var we;function Le(Mt){return Math.pow(Mt,Math.floor(Math.log(ve)/Math.LN10))}if(he.type==="date"){he.tick0=r.dateTick0(he.calendar,0);var Re=2*ve;if(Re>D)ve/=D,we=Le(10),he.dtick="M"+12*Ie(ve,we,xe);else if(Re>m)ve/=m,he.dtick="M"+Ie(ve,1,De);else if(Re>T){he.dtick=Ie(ve,T,he._hasDayOfWeekBreaks?[1,2,7,14]:Ne);var Ge=q.getTickFormat(he),Fe=he.ticklabelmode==="period";Fe&&(he._rawTick0=he.tick0),/%[uVW]/.test(Ge)?he.tick0=r.dateTick0(he.calendar,2):he.tick0=r.dateTick0(he.calendar,1),Fe&&(he._dowTick0=he.tick0)}else Re>G?he.dtick=Ie(ve,G,De):Re>S?he.dtick=Ie(ve,S,ke):Re>U?he.dtick=Ie(ve,U,ke):(we=Le(10),he.dtick=Ie(ve,we,xe))}else if(he.type==="log"){he.tick0=0;var Ye=r.simpleMap(he.range,he.r2l);if(ve>.7)he.dtick=Math.ceil(ve);else if(Math.abs(Ye[1]-Ye[0])<1){var $e=1.5*Math.abs((Ye[1]-Ye[0])/ve);ve=Math.abs(Math.pow(10,Ye[1])-Math.pow(10,Ye[0]))/$e,we=Le(10),he.dtick="L"+Ie(ve,we,xe)}else he.dtick=ve>.3?"D2":"D1"}else he.type==="category"||he.type==="multicategory"?(he.tick0=0,he.dtick=Math.ceil(Math.max(ve,1))):Ft(he)?(he.tick0=0,we=1,he.dtick=Ie(ve,we,_e)):(he.tick0=0,we=Le(10),he.dtick=Ie(ve,we,xe));if(he.dtick===0&&(he.dtick=1),!a(he.dtick)&&typeof he.dtick!="string"){var yt=he.dtick;throw he.dtick=1,"ax.dtick error: "+String(yt)}};function Ze(he){var ve=he.dtick;if(he._tickexponent=0,!a(ve)&&typeof ve!="string"&&(ve=1),(he.type==="category"||he.type==="multicategory")&&(he._tickround=null),he.type==="date"){var we=he.r2l(he.tick0),Le=he.l2r(we).replace(/(^-|i)/g,""),Re=Le.length;if(String(ve).charAt(0)==="M")Re>10||Le.substr(5)!=="01-01"?he._tickround="d":he._tickround=+ve.substr(1)%12==0?"y":"m";else if(ve>=T&&Re<=10||ve>=T*15)he._tickround="d";else if(ve>=S&&Re<=16||ve>=G)he._tickround="M";else if(ve>=U&&Re<=19||ve>=S)he._tickround="S";else{var Ge=he.l2r(we+ve).replace(/^-/,"").length;he._tickround=Math.max(Re,Ge)-20,he._tickround<0&&(he._tickround=4)}}else if(a(ve)||ve.charAt(0)==="L"){var Fe=he.range.map(he.r2d||Number);a(ve)||(ve=Number(ve.substr(1))),he._tickround=2-Math.floor(Math.log(ve)/Math.LN10+.01);var Ye=Math.max(Math.abs(Fe[0]),Math.abs(Fe[1])),$e=Math.floor(Math.log(Ye)/Math.LN10+.01),yt=he.minexponent===void 0?3:he.minexponent;Math.abs($e)>yt&&(ot(he.exponentformat)&&!pt($e)?he._tickexponent=3*Math.round(($e-1)/3):he._tickexponent=$e)}else he._tickround=null}q.tickIncrement=function(he,ve,we,Le){var Re=we?-1:1;if(a(ve))return r.increment(he,Re*ve);var Ge=ve.charAt(0),Fe=Re*Number(ve.substr(1));if(Ge==="M")return r.incrementMonth(he,Fe,Le);if(Ge==="L")return Math.log(Math.pow(10,he)+Fe)/Math.LN10;if(Ge==="D"){var Ye=ve==="D2"?Ce:Ue,$e=he+Re*.01,yt=r.roundUp(r.mod($e,1),Ye,we);return Math.floor($e)+Math.log(e.round(Math.pow(10,yt),1))/Math.LN10}throw"unrecognized dtick "+String(ve)},q.tickFirst=function(he,ve){var we=he.r2l||Number,Le=r.simpleMap(he.range,we,void 0,void 0,ve),Re=Le[1]<Le[0],Ge=Re?Math.floor:Math.ceil,Fe=E(Le)[0],Ye=he.dtick,$e=we(he.tick0);if(a(Ye)){var yt=Ge((Fe-$e)/Ye)*Ye+$e;return(he.type==="category"||he.type==="multicategory")&&(yt=r.constrain(yt,0,he._categories.length-1)),yt}var Mt=Ye.charAt(0),St=Number(Ye.substr(1));if(Mt==="M"){for(var wt=0,Ht=$e,Nt,qt,kt;wt<10;){if(Nt=q.tickIncrement(Ht,Ye,Re,he.calendar),(Nt-Fe)*(Ht-Fe)<=0)return Re?Math.min(Ht,Nt):Math.max(Ht,Nt);qt=(Fe-(Ht+Nt)/2)/(Nt-Ht),kt=Mt+(Math.abs(Math.round(qt))||1)*St,Ht=q.tickIncrement(Ht,kt,qt<0?!Re:Re,he.calendar),wt++}return r.error("tickFirst did not converge",he),Ht}else{if(Mt==="L")return Math.log(Ge((Math.pow(10,Fe)-$e)/St)*St+$e)/Math.LN10;if(Mt==="D"){var xt=Ye==="D2"?Ce:Ue,It=r.roundUp(r.mod(Fe,1),xt,Re);return Math.floor(Fe)+Math.log(e.round(Math.pow(10,It),1))/Math.LN10}else throw"unrecognized dtick "+String(Ye)}},q.tickText=function(he,ve,we,Le){var Re=gt(he,ve),Ge=he.tickmode==="array",Fe=we||Ge,Ye=he.type,$e=Ye==="category"?he.d2l_noadd:he.d2l,yt;if(Ge&&Array.isArray(he.ticktext)){var Mt=r.simpleMap(he.range,he.r2l),St=(Math.abs(Mt[1]-Mt[0])-(he._lBreaks||0))/1e4;for(yt=0;yt<he.ticktext.length&&!(Math.abs(ve-$e(he.tickvals[yt]))<St);yt++);if(yt<he.ticktext.length)return Re.text=String(he.ticktext[yt]),Re}function wt(qt){if(qt===void 0)return!0;if(we)return qt==="none";var kt={first:he._tmin,last:he._tmax}[qt];return qt!=="all"&&ve!==kt}var Ht=we?"never":he.exponentformat!=="none"&&wt(he.showexponent)?"hide":"";if(Ye==="date"?Ve(he,Re,we,Fe):Ye==="log"?We(he,Re,we,Fe,Ht):Ye==="category"?Ke(he,Re):Ye==="multicategory"?ut(he,Re,we):Ft(he)?Lt(he,Re,we,Fe,Ht):mt(he,Re,we,Fe,Ht),Le||(he.tickprefix&&!wt(he.showtickprefix)&&(Re.text=he.tickprefix+Re.text),he.ticksuffix&&!wt(he.showticksuffix)&&(Re.text+=he.ticksuffix)),he.tickson==="boundaries"||he.showdividers){var Nt=function(qt){var kt=he.l2p(qt);return kt>=0&&kt<=he._length?qt:null};Re.xbnd=[Nt(Re.x-.5),Nt(Re.x+he.dtick-.5)]}return Re},q.hoverLabelText=function(he,ve,we){we&&(he=r.extendFlat({},he,{hoverformat:we}));var Le=Array.isArray(ve)?ve[0]:ve,Re=Array.isArray(ve)?ve[1]:void 0;if(Re!==void 0&&Re!==Le)return q.hoverLabelText(he,Le,we)+" - "+q.hoverLabelText(he,Re,we);var Ge=he.type==="log"&&Le<=0,Fe=q.tickText(he,he.c2l(Ge?-Le:Le),"hover").text;return Ge?Le===0?"0":W+Fe:Fe};function gt(he,ve,we){var Le=he.tickfont||{};return{x:ve,dx:0,dy:0,text:we||"",fontSize:Le.size,font:Le.family,fontColor:Le.color}}function Ve(he,ve,we,Le){var Re=he._tickround,Ge=we&&he.hoverformat||q.getTickFormat(he);Le&&(a(Re)?Re=4:Re={y:"m",m:"d",d:"M",M:"S",S:4}[Re]);var Fe=r.formatDate(ve.x,Ge,Re,he._dateFormat,he.calendar,he._extraFormat),Ye,$e=Fe.indexOf(`
`);if($e!==-1&&(Ye=Fe.substr($e+1),Fe=Fe.substr(0,$e)),Le&&(Fe==="00:00:00"||Fe==="00:00"?(Fe=Ye,Ye=""):Fe.length===8&&(Fe=Fe.replace(/:00$/,""))),Ye)if(we)Re==="d"?Fe+=", "+Ye:Fe=Ye+(Fe?", "+Fe:"");else if(!he._inCalcTicks||he._prevDateHead!==Ye)he._prevDateHead=Ye,Fe+="<br>"+Ye;else{var yt=Vt(he),Mt=he._trueSide||he.side;(!yt&&Mt==="top"||yt&&Mt==="bottom")&&(Fe+="<br> ")}ve.text=Fe}function We(he,ve,we,Le,Re){var Ge=he.dtick,Fe=ve.x,Ye=he.tickformat,$e=typeof Ge=="string"&&Ge.charAt(0);if(Re==="never"&&(Re=""),Le&&$e!=="L"&&(Ge="L3",$e="L"),Ye||$e==="L")ve.text=Ct(Math.pow(10,Fe),he,Re,Le);else if(a(Ge)||$e==="D"&&r.mod(Fe+.01,1)<.1){var yt=Math.round(Fe),Mt=Math.abs(yt),St=he.exponentformat;St==="power"||ot(St)&&pt(yt)?(yt===0?ve.text=1:yt===1?ve.text="10":ve.text="10<sup>"+(yt>1?"":W)+Mt+"</sup>",ve.fontSize*=1.25):(St==="e"||St==="E")&&Mt>2?ve.text="1"+St+(yt>0?"+":W)+Mt:(ve.text=Ct(Math.pow(10,Fe),he,"","fakehover"),Ge==="D1"&&he._id.charAt(0)==="y"&&(ve.dy-=ve.fontSize/6))}else if($e==="D")ve.text=String(Math.round(Math.pow(10,r.mod(Fe,1)))),ve.fontSize*=.75;else throw"unrecognized dtick "+String(Ge);if(he.dtick==="D1"){var wt=String(ve.text).charAt(0);(wt==="0"||wt==="1")&&(he._id.charAt(0)==="y"?ve.dx-=ve.fontSize/4:(ve.dy+=ve.fontSize/2,ve.dx+=(he.range[1]>he.range[0]?1:-1)*ve.fontSize*(Fe<0?.5:.25)))}}function Ke(he,ve){var we=he._categories[Math.round(ve.x)];we===void 0&&(we=""),ve.text=String(we)}function ut(he,ve,we){var Le=Math.round(ve.x),Re=he._categories[Le]||[],Ge=Re[1]===void 0?"":String(Re[1]),Fe=Re[0]===void 0?"":String(Re[0]);we?ve.text=Fe+" - "+Ge:(ve.text=Ge,ve.text2=Fe)}function mt(he,ve,we,Le,Re){Re==="never"?Re="":he.showexponent==="all"&&Math.abs(ve.x/he.dtick)<1e-6&&(Re="hide"),ve.text=Ct(ve.x,he,Re,Le)}function Lt(he,ve,we,Le,Re){if(he.thetaunit==="radians"&&!we){var Ge=ve.x/180;if(Ge===0)ve.text="0";else{var Fe=rt(Ge);if(Fe[1]>=100)ve.text=Ct(r.deg2rad(ve.x),he,Re,Le);else{var Ye=ve.x<0;Fe[1]===1?Fe[0]===1?ve.text="\u03C0":ve.text=Fe[0]+"\u03C0":ve.text=["<sup>",Fe[0],"</sup>","\u2044","<sub>",Fe[1],"</sub>","\u03C0"].join(""),Ye&&(ve.text=W+ve.text)}}}else ve.text=Ct(ve.x,he,Re,Le)}function rt(he){function ve(Ye,$e){return Math.abs(Ye-$e)<=1e-6}function we(Ye,$e){return ve($e,0)?Ye:we($e,Ye%$e)}function Le(Ye){for(var $e=1;!ve(Math.round(Ye*$e)/$e,Ye);)$e*=10;return $e}var Re=Le(he),Ge=he*Re,Fe=Math.abs(we(Ge,Re));return[Math.round(Ge/Fe),Math.round(Re/Fe)]}var dt=["f","p","n","\u03BC","m","","k","M","G","T"];function ot(he){return he==="SI"||he==="B"}function pt(he){return he>14||he<-15}function Ct(he,ve,we,Le){var Re=he<0,Ge=ve._tickround,Fe=we||ve.exponentformat||"B",Ye=ve._tickexponent,$e=q.getTickFormat(ve),yt=ve.separatethousands;if(Le){var Mt={exponentformat:Fe,minexponent:ve.minexponent,dtick:ve.showexponent==="none"?ve.dtick:a(he)&&Math.abs(he)||1,range:ve.showexponent==="none"?ve.range.map(ve.r2d):[0,he||1]};Ze(Mt),Ge=(Number(Mt._tickround)||0)+4,Ye=Mt._tickexponent,ve.hoverformat&&($e=ve.hoverformat)}if($e)return ve._numFormat($e)(he).replace(/-/g,W);var St=Math.pow(10,-Ge)/2;if(Fe==="none"&&(Ye=0),he=Math.abs(he),he<St)he="0",Re=!1;else{if(he+=St,Ye&&(he*=Math.pow(10,-Ye),Ge+=Ye),Ge===0)he=String(Math.floor(he));else if(Ge<0){he=String(Math.round(he)),he=he.substr(0,he.length+Ge);for(var wt=Ge;wt<0;wt++)he+="0"}else{he=String(he);var Ht=he.indexOf(".")+1;Ht&&(he=he.substr(0,Ht+Ge).replace(/\.?0+$/,""))}he=r.numSeparate(he,ve._separators,yt)}if(Ye&&Fe!=="hide"){ot(Fe)&&pt(Ye)&&(Fe="power");var Nt;Ye<0?Nt=W+-Ye:Fe!=="power"?Nt="+"+Ye:Nt=String(Ye),Fe==="e"||Fe==="E"?he+=Fe+Nt:Fe==="power"?he+="\xD710<sup>"+Nt+"</sup>":Fe==="B"&&Ye===9?he+="B":ot(Fe)&&(he+=dt[Ye/3+5])}return Re?W+he:he}q.getTickFormat=function(he){var ve;function we($e){return typeof $e!="string"?$e:Number($e.replace("M",""))*m}function Le($e,yt){var Mt=["L","D"];if(typeof $e==typeof yt){if(typeof $e=="number")return $e-yt;var St=Mt.indexOf($e.charAt(0)),wt=Mt.indexOf(yt.charAt(0));return St===wt?Number($e.replace(/(L|D)/g,""))-Number(yt.replace(/(L|D)/g,"")):St-wt}else return typeof $e=="number"?1:-1}function Re($e,yt,Mt){var St=Mt||function(Nt){return Nt},wt=yt[0],Ht=yt[1];return(!wt&&typeof wt!="number"||St(wt)<=St($e))&&(!Ht&&typeof Ht!="number"||St(Ht)>=St($e))}function Ge($e,yt){var Mt=yt[0]===null,St=yt[1]===null,wt=Le($e,yt[0])>=0,Ht=Le($e,yt[1])<=0;return(Mt||wt)&&(St||Ht)}var Fe,Ye;if(he.tickformatstops&&he.tickformatstops.length>0)switch(he.type){case"date":case"linear":{for(ve=0;ve<he.tickformatstops.length;ve++)if(Ye=he.tickformatstops[ve],Ye.enabled&&Re(he.dtick,Ye.dtickrange,we)){Fe=Ye;break}break}case"log":{for(ve=0;ve<he.tickformatstops.length;ve++)if(Ye=he.tickformatstops[ve],Ye.enabled&&Ge(he.dtick,Ye.dtickrange)){Fe=Ye;break}break}}return Fe?Fe.value:he.tickformat},q.getSubplots=function(he,ve){var we=he._fullLayout._subplots,Le=we.cartesian.concat(we.gl2d||[]),Re=ve?q.findSubplotsWithAxis(Le,ve):Le;return Re.sort(function(Ge,Fe){var Ye=Ge.substr(1).split("y"),$e=Fe.substr(1).split("y");return Ye[0]===$e[0]?+Ye[1]-+$e[1]:+Ye[0]-+$e[0]}),Re},q.findSubplotsWithAxis=function(he,ve){for(var we=new RegExp(ve._id.charAt(0)==="x"?"^"+ve._id+"y":ve._id+"$"),Le=[],Re=0;Re<he.length;Re++){var Ge=he[Re];we.test(Ge)&&Le.push(Ge)}return Le},q.makeClipPaths=function(he){var ve=he._fullLayout;if(!ve._hasOnlyLargeSploms){var we={_offset:0,_length:ve.width,_id:""},Le={_offset:0,_length:ve.height,_id:""},Re=q.list(he,"x",!0),Ge=q.list(he,"y",!0),Fe=[],Ye,$e;for(Ye=0;Ye<Re.length;Ye++)for(Fe.push({x:Re[Ye],y:Le}),$e=0;$e<Ge.length;$e++)Ye===0&&Fe.push({x:we,y:Ge[$e]}),Fe.push({x:Re[Ye],y:Ge[$e]});var yt=ve._clips.selectAll(".axesclip").data(Fe,function(Mt){return Mt.x._id+Mt.y._id});yt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Mt){return"clip"+ve._uid+Mt.x._id+Mt.y._id}).append("rect"),yt.exit().remove(),yt.each(function(Mt){e.select(this).select("rect").attr({x:Mt.x._offset||0,y:Mt.y._offset||0,width:Mt.x._length||1,height:Mt.y._length||1})})}},q.draw=function(he,ve,we){var Le=he._fullLayout;ve==="redraw"&&Le._paper.selectAll("g.subplot").each(function(Ge){var Fe=Ge[0],Ye=Le._plots[Fe];if(Ye){var $e=Ye.xaxis,yt=Ye.yaxis;Ye.xaxislayer.selectAll("."+$e._id+"tick").remove(),Ye.yaxislayer.selectAll("."+yt._id+"tick").remove(),Ye.xaxislayer.selectAll("."+$e._id+"tick2").remove(),Ye.yaxislayer.selectAll("."+yt._id+"tick2").remove(),Ye.xaxislayer.selectAll("."+$e._id+"divider").remove(),Ye.yaxislayer.selectAll("."+yt._id+"divider").remove(),Ye.gridlayer&&Ye.gridlayer.selectAll("path").remove(),Ye.zerolinelayer&&Ye.zerolinelayer.selectAll("path").remove(),Le._infolayer.select(".g-"+$e._id+"title").remove(),Le._infolayer.select(".g-"+yt._id+"title").remove()}});var Re=!ve||ve==="redraw"?q.listIds(he):ve;return r.syncOrAsync(Re.map(function(Ge){return function(){if(!!Ge){var Fe=q.getFromId(he,Ge),Ye=q.drawOne(he,Fe,we);return Fe._r=Fe.range.slice(),Fe._rl=r.simpleMap(Fe._r,Fe.r2l),Ye}}}))},q.drawOne=function(he,ve,we){we=we||{};var Le,Re,Ge;ve.setScale();var Fe=he._fullLayout,Ye=ve._id,$e=Ye.charAt(0),yt=q.counterLetter(Ye),Mt=Fe._plots[ve._mainSubplot];if(!Mt)return;var St=Mt[$e+"axislayer"],wt=ve._mainLinePosition,Ht=ve._mainMirrorPosition,Nt=ve._vals=q.calcTicks(ve),qt=[ve.mirror,wt,Ht].join("_");for(Le=0;Le<Nt.length;Le++)Nt[Le].axInfo=qt;ve._selections={},ve._tickAngles&&(ve._prevTickAngles=ve._tickAngles),ve._tickAngles={},ve._depth=null;var kt={};function xt(Pr){var Qr=Ye+(Pr||"tick");return kt[Qr]||(kt[Qr]=pe(ve,Qr)),kt[Qr]}if(!!ve.visible){var It=q.makeTransTickFn(ve),Ut=q.makeTransTickLabelFn(ve),it,At,Rt=ve.ticks==="inside",bt=ve.ticks==="outside";if(ve.tickson==="boundaries"){var Dt=Ee(ve,Nt);At=q.clipEnds(ve,Dt),it=Rt?At:Dt}else At=q.clipEnds(ve,Nt),it=Rt&&ve.ticklabelmode!=="period"?At:Nt;var Jt=ve._gridVals=At,jt=at(ve,Nt);if(!Fe._hasOnlyLargeSploms){var Bt=ve._subplotsWith,nr={};for(Le=0;Le<Bt.length;Le++){Re=Bt[Le],Ge=Fe._plots[Re];var ir=Ge[yt+"axis"],rr=ir._mainAxis._id;if(!nr[rr]){nr[rr]=1;var lr=$e==="x"?"M0,"+ir._offset+"v"+ir._length:"M"+ir._offset+",0h"+ir._length;q.drawGrid(he,ve,{vals:Jt,counterAxis:ir,layer:Ge.gridlayer.select("."+Ye),path:lr,transFn:It}),q.drawZeroLine(he,ve,{counterAxis:ir,layer:Ge.zerolinelayer,path:lr,transFn:It})}}}var fr=q.getTickSigns(ve),vr=[];if(ve.ticks){var xr=q.makeTickPath(ve,wt,fr[2]),Ar,Mr;ve._anchorAxis&&ve.mirror&&ve.mirror!==!0?(Ar=q.makeTickPath(ve,Ht,fr[3]),Mr=xr+Ar):(Ar="",Mr=xr);var _r;if(ve.showdividers&&bt&&ve.tickson==="boundaries"){var Sr={};for(Le=0;Le<jt.length;Le++)Sr[jt[Le].x]=1;_r=function(Pr){return Sr[Pr.x]?Ar:Mr}}else _r=Mr;q.drawTicks(he,ve,{vals:it,layer:St,path:_r,transFn:It}),ve.mirror==="allticks"&&(vr=Object.keys(ve._linepositions||{}))}for(Le=0;Le<vr.length;Le++){Re=vr[Le],Ge=Fe._plots[Re];var Lr=ve._linepositions[Re]||[],_a=q.makeTickPath(ve,Lr[0],fr[0])+q.makeTickPath(ve,Lr[1],fr[1]);q.drawTicks(he,ve,{vals:it,layer:Ge[$e+"axislayer"],path:_a,transFn:It})}var pa=[];if(pa.push(function(){return q.drawLabels(he,ve,{vals:Nt,layer:St,plotinfo:Ge,transFn:Ut,labelFns:q.makeLabelFns(ve,wt)})}),ve.type==="multicategory"){var Za={x:2,y:10}[$e];pa.push(function(){var Pr={x:"height",y:"width"}[$e],Qr=xt()[Pr]+Za+(ve._tickAngles[Ye+"tick"]?ve.tickfont.size*ue:0);return q.drawLabels(he,ve,{vals:Oe(ve,Nt),layer:St,cls:Ye+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:It,labelFns:q.makeLabelFns(ve,wt+Qr*fr[4])})}),pa.push(function(){return ve._depth=fr[4]*(xt("tick2")[ve.side]-wt),tt(he,ve,{vals:jt,layer:St,path:q.makeTickPath(ve,wt,fr[4],ve._depth),transFn:It})})}else ve.title.hasOwnProperty("standoff")&&pa.push(function(){ve._depth=fr[4]*(xt()[ve.side]-wt)});var Ea=n.getComponentMethod("rangeslider","isVisible")(ve);return pa.push(function(){var Pr=ve.side.charAt(0),Qr=ge[ve.side].charAt(0),ra=q.getPxPosition(he,ve),jr=bt?ve.ticklen:0,kr,Rr,la,wa;if((ve.automargin||Ea)&&(ve.type==="multicategory"?kr=xt("tick2"):(kr=xt(),$e==="x"&&Pr==="b"&&(ve._depth=Math.max(kr.width>0?kr.bottom-ra:0,jr)))),ve.automargin){Rr={x:0,y:0,r:0,l:0,t:0,b:0};var Ta=[0,1];if($e==="x"){if(Pr==="b"?Rr[Pr]=ve._depth:(Rr[Pr]=ve._depth=Math.max(kr.width>0?ra-kr.top:0,jr),Ta.reverse()),kr.width>0){var Sn=kr.right-(ve._offset+ve._length);Sn>0&&(Rr.xr=1,Rr.r=Sn);var fn=ve._offset-kr.left;fn>0&&(Rr.xl=0,Rr.l=fn)}}else if(Pr==="l"?Rr[Pr]=ve._depth=Math.max(kr.height>0?ra-kr.left:0,jr):(Rr[Pr]=ve._depth=Math.max(kr.height>0?kr.right-ra:0,jr),Ta.reverse()),kr.height>0){var Xa=kr.bottom-(ve._offset+ve._length);Xa>0&&(Rr.yb=0,Rr.b=Xa);var Ln=ve._offset-kr.top;Ln>0&&(Rr.yt=1,Rr.t=Ln)}Rr[yt]=ve.anchor==="free"?ve.position:ve._anchorAxis.domain[Ta[0]],ve.title.text!==Fe._dfltTitle[$e]&&(Rr[Pr]+=Je(ve)+(ve.title.standoff||0)),ve.mirror&&ve.anchor!=="free"&&(la={x:0,y:0,r:0,l:0,t:0,b:0},la[Qr]=ve.linewidth,ve.mirror&&ve.mirror!==!0&&(la[Qr]+=jr),ve.mirror===!0||ve.mirror==="ticks"?la[yt]=ve._anchorAxis.domain[Ta[1]]:(ve.mirror==="all"||ve.mirror==="allticks")&&(la[yt]=[ve._counterDomainMin,ve._counterDomainMax][Ta[1]]))}Ea&&(wa=n.getComponentMethod("rangeslider","autoMarginOpts")(he,ve)),i.autoMargin(he,Et(ve),Rr),i.autoMargin(he,Tt(ve),la),i.autoMargin(he,Zt(ve),wa)}),!we.skipTitle&&!(Ea&&ve.side==="bottom")&&pa.push(function(){return ht(he,ve)}),r.syncOrAsync(pa)}};function Ee(he,ve){var we=[],Le,Re=function(Ge,Fe){var Ye=Ge.xbnd[Fe];Ye!==null&&we.push(r.extendFlat({},Ge,{x:Ye}))};if(ve.length){for(Le=0;Le<ve.length;Le++)Re(ve[Le],0);Re(ve[Le-1],1)}return we}function Oe(he,ve){for(var we=[],Le={},Re=0;Re<ve.length;Re++){var Ge=ve[Re];Le[Ge.text2]?Le[Ge.text2].push(Ge.x):Le[Ge.text2]=[Ge.x]}for(var Fe in Le)we.push(gt(he,r.interp(Le[Fe],.5),Fe));return we}function at(he,ve){var we=[],Le,Re,Ge=ve.length&&ve[ve.length-1].x<ve[0].x,Fe=function($e,yt){var Mt=$e.xbnd[yt];Mt!==null&&we.push(r.extendFlat({},$e,{x:Mt}))};if(he.showdividers&&ve.length){for(Le=0;Le<ve.length;Le++){var Ye=ve[Le];Ye.text2!==Re&&Fe(Ye,Ge?1:0),Re=Ye.text2}Fe(ve[Le-1],Ge?0:1)}return we}function pe(he,ve){var we,Le,Re,Ge;return he._selections[ve].size()?(we=1/0,Le=-1/0,Re=1/0,Ge=-1/0,he._selections[ve].each(function(){var Fe=_t(this),Ye=h.bBox(Fe.node().parentNode);we=Math.min(we,Ye.top),Le=Math.max(Le,Ye.bottom),Re=Math.min(Re,Ye.left),Ge=Math.max(Ge,Ye.right)})):(we=0,Le=0,Re=0,Ge=0),{top:we,bottom:Le,left:Re,right:Ge,height:Le-we,width:Ge-Re}}q.getTickSigns=function(he){var ve=he._id.charAt(0),we={x:"top",y:"right"}[ve],Le=he.side===we?1:-1,Re=[-1,1,Le,-Le];return he.ticks!=="inside"==(ve==="x")&&(Re=Re.map(function(Ge){return-Ge})),he.side&&Re.push({l:-1,t:-1,r:1,b:1}[he.side.charAt(0)]),Re},q.makeTransTickFn=function(he){return he._id.charAt(0)==="x"?function(ve){return f(he._offset+he.l2p(ve.x),0)}:function(ve){return f(0,he._offset+he.l2p(ve.x))}},q.makeTransTickLabelFn=function(he){var ve=Se(he),we=ve[0],Le=ve[1];return he._id.charAt(0)==="x"?function(Re){return f(we+he._offset+he.l2p(Ae(Re)),Le)}:function(Re){return f(Le,we+he._offset+he.l2p(Ae(Re)))}};function Ae(he){return he.periodX!==void 0?he.periodX:he.x}function Se(he){var ve=he.ticklabelposition||"",we=function(Ht){return ve.indexOf(Ht)!==-1},Le=we("top"),Re=we("left"),Ge=we("right"),Fe=we("bottom"),Ye=we("inside"),$e=Fe||Re||Le||Ge;if(!$e&&!Ye)return[0,0];var yt=he.side,Mt=$e?(he.tickwidth||0)/2:0,St=ee,wt=he.tickfont?he.tickfont.size:12;return(Fe||Le)&&(Mt+=wt*ie,St+=(he.linewidth||0)/2),(Re||Ge)&&(Mt+=(he.linewidth||0)/2,St+=ee),Ye&&yt==="top"&&(St-=wt*(1-ie)),(Re||Le)&&(Mt=-Mt),(yt==="bottom"||yt==="right")&&(St=-St),[$e?Mt:0,Ye?St:0]}q.makeTickPath=function(he,ve,we,Le){Le=Le!==void 0?Le:he.ticklen;var Re=he._id.charAt(0),Ge=(he.linewidth||1)/2;return Re==="x"?"M0,"+(ve+Ge*we)+"v"+Le*we:"M"+(ve+Ge*we)+",0h"+Le*we},q.makeLabelFns=function(he,ve,we){var Le=he.ticklabelposition||"",Re=function(nr){return Le.indexOf(nr)!==-1},Ge=Re("top"),Fe=Re("left"),Ye=Re("right"),$e=Re("bottom"),yt=$e||Fe||Ge||Ye,Mt=Re("inside"),St=Le==="inside"&&he.ticks==="inside"||!Mt&&he.ticks==="outside"&&he.tickson!=="boundaries",wt=0,Ht=0,Nt=St?he.ticklen:0;if(Mt?Nt*=-1:yt&&(Nt=0),St&&(wt+=Nt,we)){var qt=r.deg2rad(we);wt=Nt*Math.cos(qt)+1,Ht=Nt*Math.sin(qt)}he.showticklabels&&(St||he.showline)&&(wt+=.2*he.tickfont.size),wt+=(he.linewidth||1)/2*(Mt?-1:1);var kt={labelStandoff:wt,labelShift:Ht},xt,It,Ut,it,At=0,Rt=he.side,bt=he._id.charAt(0),Dt=he.tickangle,Jt;if(bt==="x")Jt=!Mt&&Rt==="bottom"||Mt&&Rt==="top",it=Jt?1:-1,Mt&&(it*=-1),xt=Ht*it,It=ve+wt*it,Ut=Jt?1:-.2,Math.abs(Dt)===90&&(Mt?Ut+=re:Dt===-90&&Rt==="bottom"?Ut=ie:Dt===90&&Rt==="top"?Ut=re:Ut=.5,At=re/2*(Dt/90)),kt.xFn=function(nr){return nr.dx+xt+At*nr.fontSize},kt.yFn=function(nr){return nr.dy+It+nr.fontSize*Ut},kt.anchorFn=function(nr,ir){if(yt){if(Fe)return"end";if(Ye)return"start"}return!a(ir)||ir===0||ir===180?"middle":ir*it<0!==Mt?"end":"start"},kt.heightFn=function(nr,ir,rr){return ir<-60||ir>60?-.5*rr:he.side==="top"!==Mt?-rr:0};else if(bt==="y"){if(Jt=!Mt&&Rt==="left"||Mt&&Rt==="right",it=Jt?1:-1,Mt&&(it*=-1),xt=wt,It=Ht*it,Ut=0,!Mt&&Math.abs(Dt)===90&&(Dt===-90&&Rt==="left"||Dt===90&&Rt==="right"?Ut=ie:Ut=.5),Mt){var jt=a(Dt)?+Dt:0;if(jt!==0){var Bt=r.deg2rad(jt);At=Math.abs(Math.sin(Bt))*ie*it,Ut=0}}kt.xFn=function(nr){return nr.dx+ve-(xt+nr.fontSize*Ut)*it+At*nr.fontSize},kt.yFn=function(nr){return nr.dy+It+nr.fontSize*re},kt.anchorFn=function(nr,ir){return a(ir)&&Math.abs(ir)===90?"middle":Jt?"end":"start"},kt.heightFn=function(nr,ir,rr){return he.side==="right"&&(ir*=-1),ir<-30?-rr:ir<30?-.5*rr:0}}return kt};function Pe(he){return[he.text,he.x,he.axInfo,he.font,he.fontSize,he.fontColor].join("_")}q.drawTicks=function(he,ve,we){we=we||{};var Le=ve._id+"tick",Re=we.vals;ve.ticklabelmode==="period"&&(Re=Re.slice(),Re.shift());var Ge=we.layer.selectAll("path."+Le).data(ve.ticks?Re:[],Pe);Ge.exit().remove(),Ge.enter().append("path").classed(Le,1).classed("ticks",1).classed("crisp",we.crisp!==!1).call(o.stroke,ve.tickcolor).style("stroke-width",h.crispRound(he,ve.tickwidth,1)+"px").attr("d",we.path).style("display",null),Ot(ve,[z]),Ge.attr("transform",we.transFn)},q.drawGrid=function(he,ve,we){we=we||{};var Le=ve._id+"grid",Re=we.vals,Ge=we.counterAxis;if(ve.showgrid===!1)Re=[];else if(Ge&&q.shouldShowZeroLine(he,ve,Ge))for(var Fe=ve.tickmode==="array",Ye=0;Ye<Re.length;Ye++){var $e=Re[Ye].x;if(Fe?!$e:Math.abs($e)<ve.dtick/100)if(Re=Re.slice(0,Ye).concat(Re.slice(Ye+1)),Fe)Ye--;else break}var yt=we.layer.selectAll("path."+Le).data(Re,Pe);yt.exit().remove(),yt.enter().append("path").classed(Le,1).classed("crisp",we.crisp!==!1),ve._gw=h.crispRound(he,ve.gridwidth,1),yt.attr("transform",we.transFn).attr("d",we.path).call(o.stroke,ve.gridcolor||"#ddd").style("stroke-width",ve._gw+"px").style("display",null),Ot(ve,[ae]),typeof we.path=="function"&&yt.attr("d",we.path)},q.drawZeroLine=function(he,ve,we){we=we||we;var Le=ve._id+"zl",Re=q.shouldShowZeroLine(he,ve,we.counterAxis),Ge=we.layer.selectAll("path."+Le).data(Re?[{x:0,id:ve._id}]:[]);Ge.exit().remove(),Ge.enter().append("path").classed(Le,1).classed("zl",1).classed("crisp",we.crisp!==!1).each(function(){we.layer.selectAll("path").sort(function(Fe,Ye){return Q(Fe.id,Ye.id)})}),Ge.attr("transform",we.transFn).attr("d",we.path).call(o.stroke,ve.zerolinecolor||o.defaultLine).style("stroke-width",h.crispRound(he,ve.zerolinewidth,ve._gw||1)+"px").style("display",null),Ot(ve,[J])},q.drawLabels=function(he,ve,we){we=we||{};var Le=he._fullLayout,Re=ve._id,Ge=Re.charAt(0),Fe=we.cls||Re+"tick",Ye=we.vals,$e=we.labelFns,yt=we.secondary?0:ve.tickangle,Mt=(ve._prevTickAngles||{})[Fe],St=we.layer.selectAll("g."+Fe).data(ve.showticklabels?Ye:[],Pe),wt=[];St.enter().append("g").classed(Fe,1).append("text").attr("text-anchor","middle").each(function(it){var At=e.select(this),Rt=he._promises.length;At.call(u.positionText,$e.xFn(it),$e.yFn(it)).call(h.font,it.font,it.fontSize,it.fontColor).text(it.text).call(u.convertToTspans,he),he._promises[Rt]?wt.push(he._promises.pop().then(function(){Ht(At,yt)})):Ht(At,yt)}),Ot(ve,[H]),St.exit().remove(),we.repositionOnUpdate&&St.each(function(it){e.select(this).select("text").call(u.positionText,$e.xFn(it),$e.yFn(it))});function Ht(it,At){it.each(function(Rt){var bt=e.select(this),Dt=bt.select(".text-math-group"),Jt=$e.anchorFn(Rt,At),jt=we.transFn.call(bt.node(),Rt)+(a(At)&&+At!=0?" rotate("+At+","+$e.xFn(Rt)+","+($e.yFn(Rt)-Rt.fontSize/2)+")":""),Bt=u.lineCount(bt),nr=ue*Rt.fontSize,ir=$e.heightFn(Rt,a(At)?+At:0,(Bt-1)*nr);if(ir&&(jt+=f(0,ir)),Dt.empty()){var rr=bt.select("text");rr.attr({transform:jt,"text-anchor":Jt}),rr.style("opacity",1),ve._adjustTickLabelsOverflow&&ve._adjustTickLabelsOverflow()}else{var lr=h.bBox(Dt.node()).width,fr=lr*{end:-.5,start:.5}[Jt];Dt.attr("transform",jt+f(fr,0))}})}ve._adjustTickLabelsOverflow=function(){var it=ve.ticklabeloverflow;if(!(!it||it==="allow")){var At=it.indexOf("hide")!==-1,Rt=ve._id.charAt(0)==="x",bt=0,Dt=Rt?he._fullLayout.width:he._fullLayout.height;if(it.indexOf("domain")!==-1){var Jt=r.simpleMap(ve.range,ve.r2l);bt=ve.l2p(Jt[0])+ve._offset,Dt=ve.l2p(Jt[1])+ve._offset}var jt=Math.min(bt,Dt),Bt=Math.max(bt,Dt),nr=ve.side,ir=1/0,rr=-1/0;St.each(function(xr){var Ar=e.select(this),Mr=Ar.select(".text-math-group");if(Mr.empty()){var _r=h.bBox(Ar.node()),Sr=0;Rt?(_r.right>Bt||_r.left<jt)&&(Sr=1):(_r.bottom>Bt||_r.top+(ve.tickangle?0:xr.fontSize/4)<jt)&&(Sr=1);var Lr=Ar.select("text");Sr?At&&Lr.style("opacity",0):(Lr.style("opacity",1),nr==="bottom"||nr==="right"?ir=Math.min(ir,Rt?_r.top:_r.left):ir=-1/0,nr==="top"||nr==="left"?rr=Math.max(rr,Rt?_r.bottom:_r.right):rr=1/0)}});for(var lr in Le._plots){var fr=Le._plots[lr];if(!(ve._id!==fr.xaxis._id&&ve._id!==fr.yaxis._id)){var vr=Rt?fr.yaxis:fr.xaxis;vr&&(vr["_visibleLabelMin_"+ve._id]=ir,vr["_visibleLabelMax_"+ve._id]=rr)}}}},ve._hideCounterAxisInsideTickLabels=function(it){var At=ve._id.charAt(0)==="x",Rt=[];for(var bt in Le._plots){var Dt=Le._plots[bt];ve._id!==Dt.xaxis._id&&ve._id!==Dt.yaxis._id||Rt.push(At?Dt.yaxis:Dt.xaxis)}Rt.forEach(function(Jt,jt){Jt&&Vt(Jt)&&(it||[J,ae,z,H]).forEach(function(Bt){var nr=Bt.K==="tick"&&Bt.L==="text"&&ve.ticklabelmode==="period",ir=Le._plots[ve._mainSubplot],rr;Bt.K===J.K?rr=ir.zerolinelayer.selectAll("."+ve._id+"zl"):Bt.K===ae.K?rr=ir.gridlayer.selectAll("."+ve._id):rr=ir[ve._id.charAt(0)+"axislayer"],rr.each(function(){var lr=e.select(this);Bt.L&&(lr=lr.selectAll(Bt.L)),lr.each(function(fr){var vr=ve.l2p(nr?Ae(fr):fr.x)+ve._offset,xr=e.select(this);vr<ve["_visibleLabelMax_"+Jt._id]&&vr>ve["_visibleLabelMin_"+Jt._id]?xr.style("display","none"):Bt.K==="tick"&&!jt&&xr.style("display",null)})})})})},Ht(St,Mt+1?Mt:yt);function Nt(){return wt.length&&Promise.all(wt)}var qt=null;function kt(){if(Ht(St,yt),Ye.length&&Ge==="x"&&!a(yt)&&(ve.type!=="log"||String(ve.dtick).charAt(0)!=="D")){qt=0;var it=0,At=[],Rt;if(St.each(function(_r){it=Math.max(it,_r.fontSize);var Sr=ve.l2p(_r.x),Lr=_t(this),_a=h.bBox(Lr.node());At.push({top:0,bottom:10,height:10,left:Sr-_a.width/2,right:Sr+_a.width/2+2,width:_a.width+2})}),(ve.tickson==="boundaries"||ve.showdividers)&&!we.secondary){var bt=2;for(ve.ticks&&(bt+=ve.tickwidth/2),Rt=0;Rt<At.length;Rt++){var Dt=Ye[Rt].xbnd,Jt=At[Rt];if(Dt[0]!==null&&Jt.left-ve.l2p(Dt[0])<bt||Dt[1]!==null&&ve.l2p(Dt[1])-Jt.right<bt){qt=90;break}}}else{var jt=Ye.length,Bt=Math.abs((Ye[jt-1].x-Ye[0].x)*ve._m)/(jt-1),nr=ve.ticklabelposition||"",ir=function(_r){return nr.indexOf(_r)!==-1},rr=ir("top"),lr=ir("left"),fr=ir("right"),vr=ir("bottom"),xr=vr||lr||rr||fr,Ar=xr?(ve.tickwidth||0)+2*ee:0,Mr=Bt<it*2.5||ve.type==="multicategory"||ve._name==="realaxis";for(Rt=0;Rt<At.length-1;Rt++)if(r.bBoxIntersect(At[Rt],At[Rt+1],Ar)){qt=Mr?90:30;break}}qt&&Ht(St,qt)}}ve._selections&&(ve._selections[Fe]=St);var xt=[Nt];ve.automargin&&Le._redrawFromAutoMarginCount&&Mt===90?(qt=90,xt.push(function(){Ht(St,Mt)})):xt.push(kt),ve._tickAngles&&xt.push(function(){ve._tickAngles[Fe]=qt===null?a(yt)?yt:0:qt});var It=ve._anchorAxis;It&&It.autorange&&Vt(ve)&&!c(Le,ve._id)&&(Le._insideTickLabelsAutorange||(Le._insideTickLabelsAutorange={}),Le._insideTickLabelsAutorange[It._name+".autorange"]=It.autorange,xt.push(function(){St.each(function(At,Rt){var bt=_t(this),Dt=bt.select(".text-math-group");Dt.empty()&&(ve._vals[Rt].bb=h.bBox(bt.node()))})}));var Ut=r.syncOrAsync(xt);return Ut&&Ut.then&&he._promises.push(Ut),Ut};function tt(he,ve,we){var Le=ve._id+"divider",Re=we.vals,Ge=we.layer.selectAll("path."+Le).data(Re,Pe);Ge.exit().remove(),Ge.enter().insert("path",":first-child").classed(Le,1).classed("crisp",1).call(o.stroke,ve.dividercolor).style("stroke-width",h.crispRound(he,ve.dividerwidth,1)+"px"),Ge.attr("transform",we.transFn).attr("d",we.path)}q.getPxPosition=function(he,ve){var we=he._fullLayout._size,Le=ve._id.charAt(0),Re=ve.side,Ge;if(ve.anchor!=="free"?Ge=ve._anchorAxis:Le==="x"?Ge={_offset:we.t+(1-(ve.position||0))*we.h,_length:0}:Le==="y"&&(Ge={_offset:we.l+(ve.position||0)*we.w,_length:0}),Re==="top"||Re==="left")return Ge._offset;if(Re==="bottom"||Re==="right")return Ge._offset+Ge._length};function Je(he){var ve=he.title.font.size,we=(he.title.text.match(u.BR_TAG_ALL)||[]).length;return he.title.hasOwnProperty("standoff")?we?ve*(ie+we*ue):ve*ie:we?ve*(we+1)*ue:ve}function ht(he,ve){var we=he._fullLayout,Le=ve._id,Re=Le.charAt(0),Ge=ve.title.font.size,Fe;if(ve.title.hasOwnProperty("standoff"))Fe=ve._depth+ve.title.standoff+Je(ve);else{var Ye=Vt(ve);if(ve.type==="multicategory")Fe=ve._depth;else{var $e=1.5*Ge;Ye&&($e=.5*Ge,ve.ticks==="outside"&&($e+=ve.ticklen)),Fe=10+$e+(ve.linewidth?ve.linewidth-1:0)}Ye||(Re==="x"?Fe+=ve.side==="top"?Ge*(ve.showticklabels?1:0):Ge*(ve.showticklabels?1.5:.5):Fe+=ve.side==="right"?Ge*(ve.showticklabels?1:.5):Ge*(ve.showticklabels?.5:0))}var yt=q.getPxPosition(he,ve),Mt,St,wt;Re==="x"?(St=ve._offset+ve._length/2,wt=ve.side==="top"?yt-Fe:yt+Fe):(wt=ve._offset+ve._length/2,St=ve.side==="right"?yt+Fe:yt-Fe,Mt={rotate:"-90",offset:0});var Ht;if(ve.type!=="multicategory"){var Nt=ve._selections[ve._id+"tick"];if(Ht={selection:Nt,side:ve.side},Nt&&Nt.node()&&Nt.node().parentNode){var qt=h.getTranslate(Nt.node().parentNode);Ht.offsetLeft=qt.x,Ht.offsetTop=qt.y}ve.title.hasOwnProperty("standoff")&&(Ht.pad=0)}return s.draw(he,Le+"title",{propContainer:ve,propName:ve._name+".title.text",placeholder:we._dfltTitle[Re],avoid:Ht,transform:Mt,attributes:{x:St,y:wt,"text-anchor":"middle"}})}q.shouldShowZeroLine=function(he,ve,we){var Le=r.simpleMap(ve.range,ve.r2l);return Le[0]*Le[1]<=0&&ve.zeroline&&(ve.type==="linear"||ve.type==="-")&&!(ve.rangebreaks&&ve.maskBreaks(0)===K)&&(vt(ve,0)||!nt(he,ve,we,Le)||je(he,ve))},q.clipEnds=function(he,ve){return ve.filter(function(we){return vt(he,we.x)})};function vt(he,ve){var we=he.l2p(ve);return we>1&&we<he._length-1}function nt(he,ve,we,Le){var Re=we._mainAxis;if(!Re)return;var Ge=he._fullLayout,Fe=ve._id.charAt(0),Ye=q.counterLetter(ve._id),$e=ve._offset+(Math.abs(Le[0])<Math.abs(Le[1])==(Fe==="x")?0:ve._length);function yt(Nt){if(!Nt.showline||!Nt.linewidth)return!1;var qt=Math.max((Nt.linewidth+ve.zerolinewidth)/2,1);function kt(Ut){return typeof Ut=="number"&&Math.abs(Ut-$e)<qt}if(kt(Nt._mainLinePosition)||kt(Nt._mainMirrorPosition))return!0;var xt=Nt._linepositions||{};for(var It in xt)if(kt(xt[It][0])||kt(xt[It][1]))return!0}var Mt=Ge._plots[we._mainSubplot];if(!(Mt.mainplotinfo||Mt).overlays.length)return yt(we);for(var St=q.list(he,Ye),wt=0;wt<St.length;wt++){var Ht=St[wt];if(Ht._mainAxis===Re&&yt(Ht))return!0}}function je(he,ve){for(var we=he._fullData,Le=ve._mainSubplot,Re=ve._id.charAt(0),Ge=0;Ge<we.length;Ge++){var Fe=we[Ge];if(Fe.visible===!0&&Fe.xaxis+Fe.yaxis===Le&&(n.traceIs(Fe,"bar-like")&&Fe.orientation==={x:"h",y:"v"}[Re]||Fe.fill&&Fe.fill.charAt(Fe.fill.length-1)===Re))return!0}return!1}function _t(he){var ve=e.select(he),we=ve.select(".text-math-group");return we.empty()?ve.select("text"):we}q.allowAutoMargin=function(he){for(var ve=q.list(he,"",!0),we=0;we<ve.length;we++){var Le=ve[we];Le.automargin&&(i.allowAutoMargin(he,Et(Le)),Le.mirror&&i.allowAutoMargin(he,Tt(Le))),n.getComponentMethod("rangeslider","isVisible")(Le)&&i.allowAutoMargin(he,Zt(Le))}};function Et(he){return he._id+".automargin"}function Tt(he){return Et(he)+".mirror"}function Zt(he){return he._id+".rangeslider"}q.swap=function(he,ve){for(var we=$t(he,ve),Le=0;Le<we.length;Le++)zt(he,we[Le].x,we[Le].y)};function $t(he,ve){var we=[],Le,Re;for(Le=0;Le<ve.length;Le++){var Ge=[],Fe=he._fullData[ve[Le]].xaxis,Ye=he._fullData[ve[Le]].yaxis;if(!(!Fe||!Ye)){for(Re=0;Re<we.length;Re++)(we[Re].x.indexOf(Fe)!==-1||we[Re].y.indexOf(Ye)!==-1)&&Ge.push(Re);if(!Ge.length){we.push({x:[Fe],y:[Ye]});continue}var $e=we[Ge[0]],yt;if(Ge.length>1)for(Re=1;Re<Ge.length;Re++)yt=we[Ge[Re]],Qt($e.x,yt.x),Qt($e.y,yt.y);Qt($e.x,[Fe]),Qt($e.y,[Ye])}}return we}function Qt(he,ve){for(var we=0;we<ve.length;we++)he.indexOf(ve[we])===-1&&he.push(ve[we])}function zt(he,ve,we){var Le=[],Re=[],Ge=he.layout,Fe,Ye;for(Fe=0;Fe<ve.length;Fe++)Le.push(q.getFromId(he,ve[Fe]));for(Fe=0;Fe<we.length;Fe++)Re.push(q.getFromId(he,we[Fe]));var $e=Object.keys(p),yt=["anchor","domain","overlaying","position","side","tickangle","editType"],Mt=["linear","log"];for(Fe=0;Fe<$e.length;Fe++){var St=$e[Fe],wt=Le[0][St],Ht=Re[0][St],Nt=!0,qt=!1,kt=!1;if(!(St.charAt(0)==="_"||typeof wt=="function"||yt.indexOf(St)!==-1)){for(Ye=1;Ye<Le.length&&Nt;Ye++){var xt=Le[Ye][St];St==="type"&&Mt.indexOf(wt)!==-1&&Mt.indexOf(xt)!==-1&&wt!==xt?qt=!0:xt!==wt&&(Nt=!1)}for(Ye=1;Ye<Re.length&&Nt;Ye++){var It=Re[Ye][St];St==="type"&&Mt.indexOf(Ht)!==-1&&Mt.indexOf(It)!==-1&&Ht!==It?kt=!0:Re[Ye][St]!==Ht&&(Nt=!1)}Nt&&(qt&&(Ge[Le[0]._name].type="linear"),kt&&(Ge[Re[0]._name].type="linear"),Yt(Ge,St,Le,Re,he._fullLayout._dfltTitle))}}for(Fe=0;Fe<he._fullLayout.annotations.length;Fe++){var Ut=he._fullLayout.annotations[Fe];ve.indexOf(Ut.xref)!==-1&&we.indexOf(Ut.yref)!==-1&&r.swapAttrs(Ge.annotations[Fe],["?"])}}function Yt(he,ve,we,Le,Re){var Ge=r.nestedProperty,Fe=Ge(he[we[0]._name],ve).get(),Ye=Ge(he[Le[0]._name],ve).get(),$e;for(ve==="title"&&(Fe&&Fe.text===Re.x&&(Fe.text=Re.y),Ye&&Ye.text===Re.y&&(Ye.text=Re.x)),$e=0;$e<we.length;$e++)Ge(he,we[$e]._name+"."+ve).set(Ye);for($e=0;$e<Le.length;$e++)Ge(he,Le[$e]._name+"."+ve).set(Fe)}function Ft(he){return he._id==="angularaxis"}function ct(he,ve){for(var we=ve._rangebreaks.length,Le=0;Le<we;Le++){var Re=ve._rangebreaks[Le];if(he>=Re.min&&he<Re.max)return Re.max}return he}function Vt(he){return(he.ticklabelposition||"").indexOf("inside")!==-1}function Ot(he,ve){Vt(he._anchorAxis||{})&&he._hideCounterAxisInsideTickLabels&&he._hideCounterAxisInsideTickLabels(ve)}},{"../../components/color":102,"../../components/drawing":124,"../../components/titles":200,"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../../registry":318,"./autorange":278,"./axis_autotype":280,"./axis_ids":283,"./clean_ticks":285,"./layout_attributes":294,"./set_convert":301,"@plotly/d3":11,"fast-isnumeric":17}],280:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib"),i=t("../../constants/numerical").BADNUM,n=a.isArrayOrTypedArray,r=a.isDateTime,f=a.cleanNumber,u=Math.round;P.exports=function(D,C,L){var x=D,M=L.noMultiCategory;if(n(x)&&!x.length)return"-";if(!M&&y(x))return"multicategory";if(M&&Array.isArray(x[0])){for(var v=[],m=0;m<x.length;m++)if(n(x[m]))for(var A=0;A<x[m].length;A++)v.push(x[m][A]);x=v}if(h(x,C))return"date";var V=L.autotypenumbers!=="strict";return d(x,V)?"category":o(x,V)?"linear":"-"};function s(g,D){return D?e(g):typeof g=="number"}function o(g,D){for(var C=g.length,L=0;L<C;L++)if(s(g[L],D))return!0;return!1}function h(g,D){for(var C=g.length,L=p(C),x=0,M=0,v={},m=0;m<C;m+=L){var A=u(m),V=g[A],T=String(V);v[T]||(v[T]=1,r(V,D)&&x++,e(V)&&M++)}return x>M*2}function p(g){return Math.max(1,(g-1)/1e3)}function d(g,D){for(var C=g.length,L=p(C),x=0,M=0,v={},m=0;m<C;m+=L){var A=u(m),V=g[A],T=String(V);if(!v[T]){v[T]=1;var Y=typeof V;Y==="boolean"?M++:(D?f(V)!==i:Y==="number")?x++:Y==="string"&&M++}}return M>x*2}function y(g){return n(g[0])&&n(g[1])}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],281:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../registry"),i=t("../../lib"),n=t("../array_container_defaults"),r=t("./layout_attributes"),f=t("./tick_value_defaults"),u=t("./tick_mark_defaults"),s=t("./tick_label_defaults"),o=t("./prefix_suffix_defaults"),h=t("./category_order_defaults"),p=t("./line_grid_defaults"),d=t("./set_convert"),y=t("./constants").WEEKDAY_PATTERN,g=t("./constants").HOUR_PATTERN;P.exports=function(M,v,m,A,V){var T=A.letter,Y=A.font||{},G=A.splomStash||{},S=m("visible",!A.visibleDflt),U=v._template||{},W=v.type||U.type||"-",K;if(W==="date"){var J=a.getComponentMethod("calendars","handleDefaults");J(M,v,"calendar",A.calendar),A.noTicklabelmode||(K=m("ticklabelmode"))}var ae="";(!A.noTicklabelposition||W==="multicategory")&&(ae=i.coerce(M,v,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:K==="period"?["outside","inside"]:T==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),A.noTicklabeloverflow||m("ticklabeloverflow",ae.indexOf("inside")!==-1?"hide past domain":W==="category"||W==="multicategory"?"allow":"hide past div"),d(v,V);var z=!v.isValidRange(M.range);z&&A.reverseDflt&&(z="reversed");var H=m("autorange",z);H&&(W==="linear"||W==="-")&&m("rangemode"),m("range"),v.cleanRange(),h(M,v,m,A),W!=="category"&&!A.noHover&&m("hoverformat");var Z=m("color"),re=Z!==r.color.dflt?Z:Y.color,ie=G.label||V._dfltTitle[T];if(o(M,v,m,W,A),!S)return v;m("title.text",ie),i.coerceFont(m,"title.font",{family:Y.family,size:i.bigFont(Y.size),color:re}),f(M,v,m,W),s(M,v,m,W,A),u(M,v,m,A),p(M,v,m,{dfltColor:Z,bgColor:A.bgColor,showGrid:A.showGrid,attributes:r}),(v.showline||v.ticks)&&m("mirror"),A.automargin&&m("automargin");var ue=W==="multicategory";if(!A.noTickson&&(W==="category"||ue)&&(v.ticks||v.showgrid)){var ge;ue&&(ge="boundaries");var ee=m("tickson",ge);ee==="boundaries"&&delete v.ticklabelposition}if(ue){var q=m("showdividers");q&&(m("dividercolor"),m("dividerwidth"))}if(W==="date")if(n(M,v,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:D}),!v.rangebreaks.length)delete v.rangebreaks;else{for(var ne=0;ne<v.rangebreaks.length;ne++)if(v.rangebreaks[ne].pattern===y){v._hasDayOfWeekBreaks=!0;break}if(d(v,V),V._has("scattergl")||V._has("splom"))for(var oe=0;oe<A.data.length;oe++){var Q=A.data[oe];(Q.type==="scattergl"||Q.type==="splom")&&(Q.visible=!1,i.warn(Q.type+" traces do not work on axes with rangebreaks. Setting trace "+Q.index+" to `visible: false`."))}}return v};function D(x,M,v){function m(K,J){return i.coerce(x,M,r.rangebreaks,K,J)}var A=m("enabled");if(A){var V=m("bounds");if(V&&V.length>=2){var T="",Y,G;if(V.length===2){for(Y=0;Y<2;Y++)if(G=L(V[Y]),G){T=y;break}}var S=m("pattern",T);if(S===y)for(Y=0;Y<2;Y++)G=L(V[Y]),G&&(M.bounds[Y]=V[Y]=G-1);if(S)for(Y=0;Y<2;Y++)switch(G=V[Y],S){case y:if(!e(G)){M.enabled=!1;return}if(G=+G,G!==Math.floor(G)||G<0||G>=7){M.enabled=!1;return}M.bounds[Y]=V[Y]=G;break;case g:if(!e(G)){M.enabled=!1;return}if(G=+G,G<0||G>24){M.enabled=!1;return}M.bounds[Y]=V[Y]=G;break}if(v.autorange===!1){var U=v.range;if(U[0]<U[1]){if(V[0]<U[0]&&V[1]>U[1]){M.enabled=!1;return}}else if(V[0]>U[0]&&V[1]<U[1]){M.enabled=!1;return}}}else{var W=m("values");if(W&&W.length)m("dvalue");else{M.enabled=!1;return}}}}var C={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function L(x){if(typeof x=="string")return C[x.substr(0,3).toLowerCase()]}},{"../../lib":232,"../../registry":318,"../array_container_defaults":274,"./category_order_defaults":284,"./constants":286,"./layout_attributes":294,"./line_grid_defaults":296,"./prefix_suffix_defaults":298,"./set_convert":301,"./tick_label_defaults":303,"./tick_mark_defaults":304,"./tick_value_defaults":305,"fast-isnumeric":17}],282:[function(t,P,k){var e=t("../../constants/docs"),a=e.FORMAT_LINK,i=e.DATE_FORMAT_LINK;function n(u,s){return{valType:"string",dflt:"",editType:"none",description:(s?r:f)("hover text",u)+["By default the values are formatted using "+(s?"generic number format":"`"+u+"axis.hoverformat`")+"."].join(" ")}}function r(u,s){return["Sets the "+u+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+a+"."].join(" ")}function f(u,s){return r(u,s)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}P.exports={axisHoverFormat:n,descriptionOnlyNumbers:r,descriptionWithDates:f}},{"../../constants/docs":209}],283:[function(t,P,k){var e=t("../../registry"),a=t("./constants");k.id2name=function(r){if(!(typeof r!="string"||!r.match(a.AX_ID_PATTERN))){var f=r.split(" ")[0].substr(1);return f==="1"&&(f=""),r.charAt(0)+"axis"+f}},k.name2id=function(r){if(!!r.match(a.AX_NAME_PATTERN)){var f=r.substr(5);return f==="1"&&(f=""),r.charAt(0)+f}},k.cleanId=function(r,f,u){var s=/( domain)$/.test(r);if(!(typeof r!="string"||!r.match(a.AX_ID_PATTERN))&&!(f&&r.charAt(0)!==f)&&!(s&&!u)){var o=r.split(" ")[0].substr(1).replace(/^0+/,"");return o==="1"&&(o=""),r.charAt(0)+o+(s&&u?" domain":"")}},k.list=function(n,r,f){var u=n._fullLayout;if(!u)return[];var s=k.listIds(n,r),o=new Array(s.length),h;for(h=0;h<s.length;h++){var p=s[h];o[h]=u[p.charAt(0)+"axis"+p.substr(1)]}if(!f){var d=u._subplots.gl3d||[];for(h=0;h<d.length;h++){var y=u[d[h]];r?o.push(y[r+"axis"]):o.push(y.xaxis,y.yaxis,y.zaxis)}}return o},k.listIds=function(n,r){var f=n._fullLayout;if(!f)return[];var u=f._subplots;return r?u[r+"axis"]:u.xaxis.concat(u.yaxis)},k.getFromId=function(n,r,f){var u=n._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),f==="x"?r=r.replace(/y[0-9]*/,""):f==="y"&&(r=r.replace(/x[0-9]*/,"")),u[k.id2name(r)]},k.getFromTrace=function(n,r,f){var u=n._fullLayout,s=null;if(e.traceIs(r,"gl3d")){var o=r.scene;o.substr(0,5)==="scene"&&(s=u[o][f+"axis"])}else s=k.getFromId(n,r[f+"axis"]||f);return s},k.idSort=function(n,r){var f=n.charAt(0),u=r.charAt(0);return f!==u?f>u?1:-1:+(n.substr(1)||1)-+(r.substr(1)||1)},k.ref2id=function(n){return/^[xyz]/.test(n)?n.split(" ")[0]:!1};function i(n,r){if(r&&r.length){for(var f=0;f<r.length;f++)if(r[f][n])return!0}return!1}k.isLinked=function(n,r){return i(r,n._axisMatchGroups)||i(r,n._axisConstraintGroups)}},{"../../registry":318,"./constants":286}],284:[function(t,P,k){function e(a,i){var n=i.dataAttr||a._id.charAt(0),r={},f,u,s;if(i.axData)f=i.axData;else for(f=[],u=0;u<i.data.length;u++){var o=i.data[u];o[n+"axis"]===a._id&&f.push(o)}for(u=0;u<f.length;u++){var h=f[u][n];for(s=0;s<h.length;s++){var p=h[s];p!=null&&(r[p]=1)}}return Object.keys(r)}P.exports=function(i,n,r,f){if(n.type==="category"){var u=i.categoryarray,s=Array.isArray(u)&&u.length>0,o;s&&(o="array");var h=r("categoryorder",o),p;h==="array"&&(p=r("categoryarray")),!s&&h==="array"&&(h=n.categoryorder="trace"),h==="trace"?n._initialCategories=[]:h==="array"?n._initialCategories=p.slice():(p=e(n,f).sort(),h==="category ascending"?n._initialCategories=p:h==="category descending"&&(n._initialCategories=p.reverse()))}}},{}],285:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib"),i=t("../../constants/numerical"),n=i.ONEDAY,r=i.ONEWEEK;k.dtick=function(f,u){var s=u==="log",o=u==="date",h=u==="category",p=o?n:1;if(!f)return p;if(e(f))return f=Number(f),f<=0?p:h?Math.max(1,Math.round(f)):o?Math.max(.1,f):f;if(typeof f!="string"||!(o||s))return p;var d=f.charAt(0),y=f.substr(1);return y=e(y)?Number(y):0,y<=0||!(o&&d==="M"&&y===Math.round(y)||s&&d==="L"||s&&d==="D"&&(y===1||y===2))?p:f},k.tick0=function(f,u,s,o){if(u==="date")return a.cleanDate(f,a.dateTick0(s,o%r==0?1:0));if(!(o==="D1"||o==="D2"))return e(f)?Number(f):0}},{"../../constants/numerical":212,"../../lib":232,"fast-isnumeric":17}],286:[function(t,P,k){var e=t("../../lib/regex").counter;P.exports={idRegex:{x:e("x","( domain)?"),y:e("y","( domain)?")},attrRegex:e("[xy]axis"),xAxisMatch:e("xaxis"),yAxisMatch:e("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib/regex":248}],287:[function(t,P,k){var e=t("../../lib"),a=t("./autorange"),i=t("./axis_ids").id2name,n=t("./layout_attributes"),r=t("./scale_zoom"),f=t("./set_convert"),u=t("../../constants/numerical").ALMOST_EQUAL,s=t("../../constants/alignment").FROM_BL;k.handleDefaults=function(C,L,x){var M=x.axIds,v=x.axHasImage,m=L._axisConstraintGroups=[],A=L._axisMatchGroups=[],V,T,Y,G,S,U,W,K;for(V=0;V<M.length;V++)G=i(M[V]),S=C[G],U=L[G],o(S,U,{axIds:M,layoutOut:L,hasImage:v[G]});function J(ee,q){for(V=0;V<ee.length;V++){T=ee[V];for(Y in T)L[i(Y)][q]=T}}for(J(A,"_matchGroup"),V=0;V<m.length;V++){T=m[V];for(Y in T)if(U=L[i(Y)],U.fixedrange){for(var ae in T){var z=i(ae);(C[z]||{}).fixedrange===!1&&e.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),L[z].fixedrange=!0}break}}for(V=0;V<m.length;){T=m[V];for(Y in T){U=L[i(Y)],U._matchGroup&&Object.keys(U._matchGroup).length===Object.keys(T).length&&(m.splice(V,1),V--);break}V++}J(m,"_constraintGroup");var H=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Z=!1,re=!1;function ie(){K=U[W],W==="rangebreaks"&&(re=U._hasDayOfWeekBreaks)}for(V=0;V<A.length;V++){T=A[V];for(var ue=0;ue<H.length;ue++){W=H[ue],K=null;var ge;for(Y in T)if(G=i(Y),S=C[G],U=L[G],W in U){if(!U.matches&&(ge=U,W in S)){ie();break}K===null&&W in S&&ie()}if(W==="range"&&K&&(Z=!0),W==="autorange"&&K===null&&Z&&(K=!1),K===null&&W in ge&&(K=ge[W]),K!==null)for(Y in T)U=L[i(Y)],U[W]=W==="range"?K.slice():K,W==="rangebreaks"&&(U._hasDayOfWeekBreaks=re,f(U,L))}}};function o(C,L,x){var M=x.axIds,v=x.layoutOut,m=x.hasImage,A=v._axisConstraintGroups,V=v._axisMatchGroups,T=L._id,Y=T.charAt(0),G=((v._splomAxes||{})[Y]||{})[T]||{},S=L._id,U=S.charAt(0)==="x";L._matchGroup=null,L._constraintGroup=null;function W(Q,c){return e.coerce(C,L,n,Q,c)}W("constrain",m?"domain":"range"),e.coerce(C,L,{constraintoward:{valType:"enumerated",values:U?["left","center","right"]:["bottom","middle","top"],dflt:U?"center":"middle"}},"constraintoward");var K=L.type,J,ae,z=[];for(J=0;J<M.length;J++)if(ae=M[J],ae!==S){var H=v[i(ae)];H.type===K&&z.push(ae)}var Z=p(A,S);if(Z){var re=[];for(J=0;J<z.length;J++)ae=z[J],Z[ae]||re.push(ae);z=re}var ie=z.length,ue,ge;ie&&(C.matches||G.matches)&&(ue=e.coerce(C,L,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(G.matches)!==-1?G.matches:void 0}},"matches"));var ee=m&&!U?L.anchor:void 0;if(ie&&!ue&&(C.scaleanchor||ee)&&(ge=e.coerce(C,L,{scaleanchor:{valType:"enumerated",values:z}},"scaleanchor",ee)),ue){L._matchGroup=d(V,S,ue,1);var q=v[i(ue)],ne=h(v,L)/h(v,q);U!==(ue.charAt(0)==="x")&&(ne=(U?"x":"y")+ne),d(A,S,ue,ne)}else C.matches&&M.indexOf(C.matches)!==-1&&e.warn("ignored "+L._name+'.matches: "'+C.matches+'" to avoid an infinite loop');if(ge){var oe=W("scaleratio");oe||(oe=L.scaleratio=1),d(A,S,ge,oe)}else C.scaleanchor&&M.indexOf(C.scaleanchor)!==-1&&e.warn("ignored "+L._name+'.scaleanchor: "'+C.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function h(C,L){var x=L.domain;return x||(x=C[i(L.overlaying)].domain),x[1]-x[0]}function p(C,L){for(var x=0;x<C.length;x++)if(C[x][L])return C[x];return null}function d(C,L,x,M){var v,m,A,V,T,Y=p(C,L);Y===null?(Y={},Y[L]=1,T=C.length,C.push(Y)):T=C.indexOf(Y);var G=Object.keys(Y);for(v=0;v<C.length;v++)if(A=C[v],v!==T&&A[x]){var S=A[x];for(m=0;m<G.length;m++)V=G[m],A[V]=y(S,y(M,Y[V]));C.splice(T,1);return}if(M!==1)for(m=0;m<G.length;m++){var U=G[m];Y[U]=y(M,Y[U])}Y[x]=1}function y(C,L){var x="",M="",v,m;typeof C=="string"&&(x=C.match(/^[xy]*/)[0],v=x.length,C=+C.substr(v)),typeof L=="string"&&(M=L.match(/^[xy]*/)[0],m=M.length,L=+L.substr(m));var A=C*L;return!v&&!m?A:!v||!m||x.charAt(0)===M.charAt(0)?x+M+C*L:v===m?A:(v>m?x.substr(m):M.substr(v))+A}function g(C,L){for(var x=L._size,M=x.h/x.w,v={},m=Object.keys(C),A=0;A<m.length;A++){var V=m[A],T=C[V];if(typeof T=="string"){var Y=T.match(/^[xy]*/)[0],G=Y.length;T=+T.substr(G);for(var S=Y.charAt(0)==="y"?M:1/M,U=0;U<G;U++)T*=S}v[V]=T}return v}k.enforce=function(L){var x=L._fullLayout,M=x._axisConstraintGroups||[],v,m,A,V,T,Y,G,S;for(v=0;v<M.length;v++){A=g(M[v],x);var U=Object.keys(A),W=1/0,K=0,J=1/0,ae={},z={},H=!1;for(m=0;m<U.length;m++)V=U[m],z[V]=T=x[i(V)],T._inputDomain?T.domain=T._inputDomain.slice():T._inputDomain=T.domain.slice(),T._inputRange||(T._inputRange=T.range.slice()),T.setScale(),ae[V]=Y=Math.abs(T._m)/A[V],W=Math.min(W,Y),(T.constrain==="domain"||!T._constraintShrinkable)&&(J=Math.min(J,Y)),delete T._constraintShrinkable,K=Math.max(K,Y),T.constrain==="domain"&&(H=!0);if(!(W>u*K&&!H)){for(m=0;m<U.length;m++)if(V=U[m],Y=ae[V],T=z[V],G=T.constrain,Y!==J||G==="domain")if(S=Y/J,G==="range")r(T,S);else{var Z=T._inputDomain,re=(T.domain[1]-T.domain[0])/(Z[1]-Z[0]),ie=(T.r2l(T.range[1])-T.r2l(T.range[0]))/(T.r2l(T._inputRange[1])-T.r2l(T._inputRange[0]));if(S/=re,S*ie<1){T.domain=T._input.domain=Z.slice(),r(T,S);continue}if(ie<1&&(T.range=T._input.range=T._inputRange.slice(),S*=ie),T.autorange){var ue=T.r2l(T.range[0]),ge=T.r2l(T.range[1]),ee=(ue+ge)/2,q=ee,ne=ee,oe=Math.abs(ge-ee),Q=ee-oe*S*1.0001,c=ee+oe*S*1.0001,w=a.makePadFn(x,T,0),B=a.makePadFn(x,T,1);D(T,S);var E=Math.abs(T._m),b=a.concatExtremes(L,T),O=b.min,N=b.max,R,j;for(j=0;j<O.length;j++)R=O[j].val-w(O[j])/E,R>Q&&R<q&&(q=R);for(j=0;j<N.length;j++)R=N[j].val+B(N[j])/E,R<c&&R>ne&&(ne=R);var se=(ne-q)/(2*oe);S/=se,q=T.l2r(q),ne=T.l2r(ne),T.range=T._input.range=ue<ge?[q,ne]:[ne,q]}D(T,S)}}}},k.getAxisGroup=function(L,x){for(var M=L._axisMatchGroups,v=0;v<M.length;v++){var m=M[v];if(m[x])return"g"+v}return x},k.clean=function(L,x){if(x._inputDomain){for(var M=!1,v=x._id,m=L._fullLayout._axisConstraintGroups,A=0;A<m.length;A++)if(m[A][v]){M=!0;break}(!M||x.constrain!=="domain")&&(x._input.domain=x.domain=x._inputDomain,delete x._inputDomain)}};function D(C,L){var x=C._inputDomain,M=s[C.constraintoward],v=x[0]+(x[1]-x[0])*M;C.domain=C._input.domain=[v+(x[0]-v)/L,v+(x[1]-v)/L],C.setScale()}},{"../../constants/alignment":207,"../../constants/numerical":212,"../../lib":232,"./autorange":278,"./axis_ids":283,"./layout_attributes":294,"./scale_zoom":299,"./set_convert":301}],288:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../lib"),i=a.numberFormat,n=t("tinycolor2"),r=t("has-passive-events"),f=t("../../registry"),u=a.strTranslate,s=t("../../lib/svg_text_utils"),o=t("../../components/color"),h=t("../../components/drawing"),p=t("../../components/fx"),d=t("./axes"),y=t("../../lib/setcursor"),g=t("../../components/dragelement"),D=t("../../components/dragelement/helpers"),C=D.selectingOrDrawing,L=D.freeMode,x=t("../../constants/alignment").FROM_TL,M=t("../../lib/clear_gl_canvases"),v=t("../../plot_api/subroutines").redrawReglTraces,m=t("../plots"),A=t("./axis_ids").getFromId,V=t("./select").prepSelect,T=t("./select").clearSelect,Y=t("./select").selectOnClick,G=t("./scale_zoom"),S=t("./constants"),U=S.MINDRAG,W=S.MINZOOM,K=!0;function J(R,j,se,fe,ce,ye,xe,De){var ke=R._fullLayout._zoomlayer,Ne=xe+De==="nsew",Ue=(xe+De).length===1,Ce,_e,Ie,Ze,gt,Ve,We,Ke,ut,mt,Lt,rt,dt,ot,pt,Ct,Ee,Oe,at,pe,Ae,Se,Pe;function tt(){if(Ce=j.xaxis,_e=j.yaxis,ut=Ce._length,mt=_e._length,We=Ce._offset,Ke=_e._offset,Ie={},Ie[Ce._id]=Ce,Ze={},Ze[_e._id]=_e,xe&&De)for(var kt=j.overlays,xt=0;xt<kt.length;xt++){var It=kt[xt].xaxis;Ie[It._id]=It;var Ut=kt[xt].yaxis;Ze[Ut._id]=Ut}gt=N(Ie),Ve=N(Ze),dt=H(gt,De),ot=H(Ve,xe),pt=!ot&&!dt,rt=b(R,R._fullLayout._axisMatchGroups,Ie,Ze),Lt=b(R,R._fullLayout._axisConstraintGroups,Ie,Ze,rt);var it=Lt.isSubplotConstrained||rt.isSubplotConstrained;Ct=De||it,Ee=xe||it;var At=R._fullLayout;Oe=At._has("scattergl"),at=At._has("splom"),pe=At._has("svg")}tt();var Je=ge(ot+dt,R._fullLayout.dragmode,Ne),ht=z(j,xe+De+"drag",Je,se,fe,ce,ye);if(pt&&!Ne)return ht.onmousedown=null,ht.style.pointerEvents="none",ht;var vt={element:ht,gd:R,plotinfo:j};vt.prepFn=function(kt,xt,It){var Ut=vt.dragmode,it=R._fullLayout.dragmode;it!==Ut&&(vt.dragmode=it),tt(),Se=R._fullLayout._invScaleX,Pe=R._fullLayout._invScaleY,pt||(Ne?kt.shiftKey?it==="pan"?it="zoom":C(it)||(it="pan"):kt.ctrlKey&&(it="pan"):it="pan"),L(it)?vt.minDrag=1:vt.minDrag=void 0,C(it)?(vt.xaxes=gt,vt.yaxes=Ve,V(kt,xt,It,vt,it)):(vt.clickFn=je,C(Ut)&&nt(),pt||(it==="zoom"?(vt.moveFn=Ot,vt.doneFn=ve,vt.minDrag=1,Vt(kt,xt,It)):it==="pan"&&(vt.moveFn=Ye,vt.doneFn=St))),R._fullLayout._redrag=function(){var At=R._dragdata;if(At&&At.element===ht){var Rt=R._fullLayout.dragmode;C(Rt)||(tt(),wt([0,0,ut,mt]),vt.moveFn(At.dx,At.dy))}}};function nt(){vt.plotinfo.selection=!1,T(R)}function je(kt,xt){var It=vt.gd;if(It._fullLayout._activeShapeIndex>=0){It._fullLayout._deactivateShape(It);return}var Ut=It._fullLayout.clickmode;if(Q(It),kt===2&&!Ue&&Mt(),Ne)Ut.indexOf("select")>-1&&Y(xt,It,gt,Ve,j.id,vt),Ut.indexOf("event")>-1&&p.click(It,xt,j.id);else if(kt===1&&Ue){var it=xe?_e:Ce,At=xe==="s"||De==="w"?0:1,Rt=it._name+".range["+At+"]",bt=Z(it,At),Dt="left",Jt="middle";if(it.fixedrange)return;xe?(Jt=xe==="n"?"top":"bottom",it.side==="right"&&(Dt="right")):De==="e"&&(Dt="right"),It._context.showAxisRangeEntryBoxes&&e.select(ht).call(s.makeEditable,{gd:It,immediate:!0,background:It._fullLayout.paper_bgcolor,text:String(bt),fill:it.tickfont?it.tickfont.color:"#444",horizontalAlign:Dt,verticalAlign:Jt}).on("edit",function(jt){var Bt=it.d2r(jt);Bt!==void 0&&f.call("_guiRelayout",It,Rt,Bt)})}}g.init(vt);var _t,Et,Tt,Zt,$t,Qt,zt,Yt,Ft,ct;function Vt(kt,xt,It){var Ut=ht.getBoundingClientRect();_t=xt-Ut.left,Et=It-Ut.top,R._fullLayout._calcInverseTransform(R);var it=a.apply3DTransform(R._fullLayout._invTransform)(_t,Et);_t=it[0],Et=it[1],Tt={l:_t,r:_t,w:0,t:Et,b:Et,h:0},Zt=R._hmpixcount?R._hmlumcount/R._hmpixcount:n(R._fullLayout.plot_bgcolor).getLuminance(),$t="M0,0H"+ut+"V"+mt+"H0V0",Qt=!1,zt="xy",ct=!1,Yt=ee(ke,Zt,We,Ke,$t),Ft=q(ke,We,Ke)}function Ot(kt,xt){if(R._transitioningWithDuration)return!1;var It=Math.max(0,Math.min(ut,Se*kt+_t)),Ut=Math.max(0,Math.min(mt,Pe*xt+Et)),it=Math.abs(It-_t),At=Math.abs(Ut-Et);Tt.l=Math.min(_t,It),Tt.r=Math.max(_t,It),Tt.t=Math.min(Et,Ut),Tt.b=Math.max(Et,Ut);function Rt(){zt="",Tt.r=Tt.l,Tt.t=Tt.b,Ft.attr("d","M0,0Z")}if(Lt.isSubplotConstrained)it>W||At>W?(zt="xy",it/ut>At/mt?(At=it*mt/ut,Et>Ut?Tt.t=Et-At:Tt.b=Et+At):(it=At*ut/mt,_t>It?Tt.l=_t-it:Tt.r=_t+it),Ft.attr("d",E(Tt))):Rt();else if(rt.isSubplotConstrained)if(it>W||At>W){zt="xy";var bt=Math.min(Tt.l/ut,(mt-Tt.b)/mt),Dt=Math.max(Tt.r/ut,(mt-Tt.t)/mt);Tt.l=bt*ut,Tt.r=Dt*ut,Tt.b=(1-bt)*mt,Tt.t=(1-Dt)*mt,Ft.attr("d",E(Tt))}else Rt();else!ot||At<Math.min(Math.max(it*.6,U),W)?it<U||!dt?Rt():(Tt.t=0,Tt.b=mt,zt="x",Ft.attr("d",w(Tt,Et))):!dt||it<Math.min(At*.6,W)?(Tt.l=0,Tt.r=ut,zt="y",Ft.attr("d",B(Tt,_t))):(zt="xy",Ft.attr("d",E(Tt)));Tt.w=Tt.r-Tt.l,Tt.h=Tt.b-Tt.t,zt&&(ct=!0),R._dragged=ct,ne(Yt,Ft,Tt,$t,Qt,Zt),he(),R.emit("plotly_relayouting",Ae),Qt=!0}function he(){Ae={},(zt==="xy"||zt==="x")&&(re(gt,Tt.l/ut,Tt.r/ut,Ae,Lt.xaxes),$e("x",Ae)),(zt==="xy"||zt==="y")&&(re(Ve,(mt-Tt.b)/mt,(mt-Tt.t)/mt,Ae,Lt.yaxes),$e("y",Ae))}function ve(){he(),Q(R),St(),c(R)}var we=[0,0,ut,mt],Le=null,Re=S.REDRAWDELAY,Ge=j.mainplot?R._fullLayout._plots[j.mainplot]:j;function Fe(kt){if(!R._context._scrollZoom.cartesian&&!R._fullLayout._enablescrollzoom)return;if(nt(),R._transitioningWithDuration){kt.preventDefault(),kt.stopPropagation();return}tt(),clearTimeout(Le);var xt=-kt.deltaY;if(isFinite(xt)||(xt=kt.wheelDelta/10),!isFinite(xt)){a.log("Did not find wheel motion attributes: ",kt);return}var It=Math.exp(-Math.min(Math.max(xt,-20),20)/200),Ut=Ge.draglayer.select(".nsewdrag").node().getBoundingClientRect(),it=(kt.clientX-Ut.left)/Ut.width,At=(Ut.bottom-kt.clientY)/Ut.height,Rt;function bt(Dt,Jt,jt){if(Dt.fixedrange)return;var Bt=a.simpleMap(Dt.range,Dt.r2l),nr=Bt[0]+(Bt[1]-Bt[0])*Jt;function ir(rr){return Dt.l2r(nr+(rr-nr)*jt)}Dt.range=Bt.map(ir)}if(Ct){for(De||(it=.5),Rt=0;Rt<gt.length;Rt++)bt(gt[Rt],it,It);$e("x"),we[2]*=It,we[0]+=we[2]*it*(1/It-1)}if(Ee){for(xe||(At=.5),Rt=0;Rt<Ve.length;Rt++)bt(Ve[Rt],At,It);$e("y"),we[3]*=It,we[1]+=we[3]*(1-At)*(1/It-1)}wt(we),yt(),R.emit("plotly_relayouting",Ae),Le=setTimeout(function(){!R._fullLayout||(we=[0,0,ut,mt],St())},Re),kt.preventDefault()}xe.length*De.length!=1&&O(ht,Fe);function Ye(kt,xt){if(kt=kt*Se,xt=xt*Pe,R._transitioningWithDuration)return;if(R._fullLayout._replotting=!0,dt==="ew"||ot==="ns"){var It=dt?-kt:0,Ut=ot?-xt:0;if(rt.isSubplotConstrained){if(dt&&ot){var it=(kt/ut-xt/mt)/2;kt=it*ut,xt=-it*mt,It=-kt,Ut=-xt}ot?It=-Ut*ut/mt:Ut=-It*mt/ut}dt&&(ie(gt,kt),$e("x")),ot&&(ie(Ve,xt),$e("y")),wt([It,Ut,ut,mt]),yt(),R.emit("plotly_relayouting",Ae);return}function At(ir,rr,lr){for(var fr=1-rr,vr,xr,Ar=0;Ar<ir.length;Ar++){var Mr=ir[Ar];if(!Mr.fixedrange){vr=Mr,xr=Mr._rl[fr]+(Mr._rl[rr]-Mr._rl[fr])/ue(lr/Mr._length);var _r=Mr.l2r(xr);_r!==!1&&_r!==void 0&&(Mr.range[rr]=_r)}}return vr._length*(vr._rl[rr]-xr)/(vr._rl[rr]-vr._rl[fr])}var Rt=dt==="w"==(ot==="n")?1:-1;if(dt&&ot&&(Lt.isSubplotConstrained||rt.isSubplotConstrained)){var bt=(kt/ut+Rt*xt/mt)/2;kt=bt*ut,xt=Rt*bt*mt}var Dt,Jt;if(dt==="w"?kt=At(gt,0,kt):dt==="e"?kt=At(gt,1,-kt):dt||(kt=0),ot==="n"?xt=At(Ve,1,xt):ot==="s"?xt=At(Ve,0,-xt):ot||(xt=0),Dt=dt==="w"?kt:0,Jt=ot==="n"?xt:0,Lt.isSubplotConstrained&&!rt.isSubplotConstrained||rt.isSubplotConstrained&&dt&&ot&&Rt>0){var jt;if(rt.isSubplotConstrained||!dt&&ot.length===1){for(jt=0;jt<gt.length;jt++)gt[jt].range=gt[jt]._r.slice(),G(gt[jt],1-xt/mt);kt=xt*ut/mt,Dt=kt/2}if(rt.isSubplotConstrained||!ot&&dt.length===1){for(jt=0;jt<Ve.length;jt++)Ve[jt].range=Ve[jt]._r.slice(),G(Ve[jt],1-kt/ut);xt=kt*mt/ut,Jt=xt/2}}(!rt.isSubplotConstrained||!ot)&&$e("x"),(!rt.isSubplotConstrained||!dt)&&$e("y");var Bt=ut-kt,nr=mt-xt;rt.isSubplotConstrained&&!(dt&&ot)&&(dt?(Jt=Dt?0:kt*mt/ut,nr=Bt*mt/ut):(Dt=Jt?0:xt*ut/mt,Bt=nr*ut/mt)),wt([Dt,Jt,Bt,nr]),yt(),R.emit("plotly_relayouting",Ae)}function $e(kt,xt){for(var It=rt.isSubplotConstrained?{x:Ve,y:gt}[kt]:rt[kt+"axes"],Ut=rt.isSubplotConstrained?{x:gt,y:Ve}[kt]:[],it=0;it<It.length;it++){var At=It[it],Rt=At._id,bt=rt.xLinks[Rt]||rt.yLinks[Rt],Dt=Ut[0]||Ie[bt]||Ze[bt];Dt&&(xt?(xt[At._name+".range[0]"]=xt[Dt._name+".range[0]"],xt[At._name+".range[1]"]=xt[Dt._name+".range[1]"]):At.range=Dt.range.slice())}}function yt(){var kt=[],xt;function It(At){for(xt=0;xt<At.length;xt++)At[xt].fixedrange||kt.push(At[xt]._id)}for(Ct&&(It(gt),It(Lt.xaxes),It(rt.xaxes)),Ee&&(It(Ve),It(Lt.yaxes),It(rt.yaxes)),Ae={},xt=0;xt<kt.length;xt++){var Ut=kt[xt],it=A(R,Ut);d.drawOne(R,it,{skipTitle:!0}),Ae[it._name+".range[0]"]=it.range[0],Ae[it._name+".range[1]"]=it.range[1]}d.redrawComponents(R,kt)}function Mt(){if(!R._transitioningWithDuration){var kt=R._context.doubleClick,xt=[];dt&&(xt=xt.concat(gt)),ot&&(xt=xt.concat(Ve)),rt.xaxes&&(xt=xt.concat(rt.xaxes)),rt.yaxes&&(xt=xt.concat(rt.yaxes));var It={},Ut,it,At;if(kt==="reset+autosize"){for(kt="autosize",it=0;it<xt.length;it++)if(Ut=xt[it],Ut._rangeInitial&&(Ut.range[0]!==Ut._rangeInitial[0]||Ut.range[1]!==Ut._rangeInitial[1])||!Ut._rangeInitial&&!Ut.autorange){kt="reset";break}}if(kt==="autosize")for(it=0;it<xt.length;it++)Ut=xt[it],Ut.fixedrange||(It[Ut._name+".autorange"]=!0);else if(kt==="reset")for((dt||Lt.isSubplotConstrained)&&(xt=xt.concat(Lt.xaxes)),ot&&!Lt.isSubplotConstrained&&(xt=xt.concat(Lt.yaxes)),Lt.isSubplotConstrained&&(dt?ot||(xt=xt.concat(Ve)):xt=xt.concat(gt)),it=0;it<xt.length;it++)Ut=xt[it],Ut.fixedrange||(Ut._rangeInitial?(At=Ut._rangeInitial,It[Ut._name+".range[0]"]=At[0],It[Ut._name+".range[1]"]=At[1]):It[Ut._name+".autorange"]=!0);R.emit("plotly_doubleclick",null),f.call("_guiRelayout",R,It)}}function St(){wt([0,0,ut,mt]),a.syncOrAsync([m.previousPromises,function(){R._fullLayout._replotting=!1,f.call("_guiRelayout",R,Ae)}],R)}function wt(kt){var xt=R._fullLayout,It=xt._plots,Ut=xt._subplots.cartesian,it,At,Rt,bt;if(at&&f.subplotsRegistry.splom.drag(R),Oe){for(it=0;it<Ut.length;it++)if(At=It[Ut[it]],Rt=At.xaxis,bt=At.yaxis,At._scene){var Dt=a.simpleMap(Rt.range,Rt.r2l),Jt=a.simpleMap(bt.range,bt.r2l);At._scene.update({range:[Dt[0],Jt[0],Dt[1],Jt[1]]})}}if((at||Oe)&&(M(R),v(R)),pe){var jt=kt[2]/Ce._length,Bt=kt[3]/_e._length;for(it=0;it<Ut.length;it++){At=It[Ut[it]],Rt=At.xaxis,bt=At.yaxis;var nr=(Ct||rt.isSubplotConstrained)&&!Rt.fixedrange&&Ie[Rt._id],ir=(Ee||rt.isSubplotConstrained)&&!bt.fixedrange&&Ze[bt._id],rr,lr,fr,vr;if(nr?(rr=jt,fr=De||rt.isSubplotConstrained?kt[0]:qt(Rt,rr)):rt.xaHash[Rt._id]?(rr=jt,fr=kt[0]*Rt._length/Ce._length):rt.yaHash[Rt._id]?(rr=Bt,fr=ot==="ns"?-kt[1]*Rt._length/_e._length:qt(Rt,rr,{n:"top",s:"bottom"}[ot])):(rr=Ht(Rt,jt,Bt),fr=Nt(Rt,rr)),ir?(lr=Bt,vr=xe||rt.isSubplotConstrained?kt[1]:qt(bt,lr)):rt.yaHash[bt._id]?(lr=Bt,vr=kt[1]*bt._length/_e._length):rt.xaHash[bt._id]?(lr=jt,vr=dt==="ew"?-kt[0]*bt._length/Ce._length:qt(bt,lr,{e:"right",w:"left"}[dt])):(lr=Ht(bt,jt,Bt),vr=Nt(bt,lr)),!(!rr&&!lr)){rr||(rr=1),lr||(lr=1);var xr=Rt._offset-fr/rr,Ar=bt._offset-vr/lr;At.clipRect.call(h.setTranslate,fr,vr).call(h.setScale,rr,lr),At.plot.call(h.setTranslate,xr,Ar).call(h.setScale,1/rr,1/lr),(rr!==At.xScaleFactor||lr!==At.yScaleFactor)&&(h.setPointGroupScale(At.zoomScalePts,rr,lr),h.setTextPointsScale(At.zoomScaleTxt,rr,lr)),h.hideOutsideRangePoints(At.clipOnAxisFalseTraces,At),At.xScaleFactor=rr,At.yScaleFactor=lr}}}}function Ht(kt,xt,It){return kt.fixedrange?0:Ct&&Lt.xaHash[kt._id]?xt:Ee&&(Lt.isSubplotConstrained?Lt.xaHash:Lt.yaHash)[kt._id]?It:0}function Nt(kt,xt){return xt?(kt.range=kt._r.slice(),G(kt,xt),qt(kt,xt)):0}function qt(kt,xt,It){return kt._length*(1-xt)*x[It||kt.constraintoward||"middle"]}return ht}function ae(R,j,se,fe){var ce=a.ensureSingle(R.draglayer,j,se,function(ye){ye.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",R.id)});return ce.call(y,fe),ce.node()}function z(R,j,se,fe,ce,ye,xe){var De=ae(R,"rect",j,se);return e.select(De).call(h.setRect,fe,ce,ye,xe),De}function H(R,j){for(var se=0;se<R.length;se++)if(!R[se].fixedrange)return j;return""}function Z(R,j){var se=R.range[j],fe=Math.abs(se-R.range[1-j]),ce;return R.type==="date"?se:R.type==="log"?(ce=Math.ceil(Math.max(0,-Math.log(fe)/Math.LN10))+3,i("."+ce+"g")(Math.pow(10,se))):(ce=Math.floor(Math.log(Math.abs(se))/Math.LN10)-Math.floor(Math.log(fe)/Math.LN10)+4,i("."+String(ce)+"g")(se))}function re(R,j,se,fe,ce){for(var ye=0;ye<R.length;ye++){var xe=R[ye];if(!xe.fixedrange)if(xe.rangebreaks){var De=xe._id.charAt(0)==="y",ke=De?1-j:j,Ne=De?1-se:se;fe[xe._name+".range[0]"]=xe.l2r(xe.p2l(ke*xe._length)),fe[xe._name+".range[1]"]=xe.l2r(xe.p2l(Ne*xe._length))}else{var Ue=xe._rl[0],Ce=xe._rl[1]-Ue;fe[xe._name+".range[0]"]=xe.l2r(Ue+Ce*j),fe[xe._name+".range[1]"]=xe.l2r(Ue+Ce*se)}}if(ce&&ce.length){var _e=(j+(1-se))/2;re(ce,_e,1-_e,fe,[])}}function ie(R,j){for(var se=0;se<R.length;se++){var fe=R[se];if(!fe.fixedrange)if(fe.rangebreaks){var ce=0,ye=fe._length,xe=fe.p2l(ce+j)-fe.p2l(ce),De=fe.p2l(ye+j)-fe.p2l(ye),ke=(xe+De)/2;fe.range=[fe.l2r(fe._rl[0]-ke),fe.l2r(fe._rl[1]-ke)]}else fe.range=[fe.l2r(fe._rl[0]-j/fe._m),fe.l2r(fe._rl[1]-j/fe._m)]}}function ue(R){return 1-(R>=0?Math.min(R,.9):1/(1/Math.max(R,-.3)+3.222))}function ge(R,j,se){return R?R==="nsew"?se?"":j==="pan"?"move":"crosshair":R.toLowerCase()+"-resize":"pointer"}function ee(R,j,se,fe,ce){return R.append("path").attr("class","zoombox").style({fill:j>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",u(se,fe)).attr("d",ce+"Z")}function q(R,j,se){return R.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,opacity:0}).attr("transform",u(j,se)).attr("d","M0,0Z")}function ne(R,j,se,fe,ce,ye){R.attr("d",fe+"M"+se.l+","+se.t+"v"+se.h+"h"+se.w+"v-"+se.h+"h-"+se.w+"Z"),oe(R,j,ce,ye)}function oe(R,j,se,fe){se||(R.transition().style("fill",fe>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),j.transition().style("opacity",1).duration(200))}function Q(R){e.select(R).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function c(R){K&&R.data&&R._context.showTips&&(a.notifier(a._(R,"Double-click to zoom back out"),"long"),K=!1)}function w(R,j){return"M"+(R.l-.5)+","+(j-W-.5)+"h-3v"+(2*W+1)+"h3ZM"+(R.r+.5)+","+(j-W-.5)+"h3v"+(2*W+1)+"h-3Z"}function B(R,j){return"M"+(j-W-.5)+","+(R.t-.5)+"v-3h"+(2*W+1)+"v3ZM"+(j-W-.5)+","+(R.b+.5)+"v3h"+(2*W+1)+"v-3Z"}function E(R){var j=Math.floor(Math.min(R.b-R.t,R.r-R.l,W)/2);return"M"+(R.l-3.5)+","+(R.t-.5+j)+"h3v"+-j+"h"+j+"v-3h-"+(j+3)+"ZM"+(R.r+3.5)+","+(R.t-.5+j)+"h-3v"+-j+"h"+-j+"v-3h"+(j+3)+"ZM"+(R.r+3.5)+","+(R.b+.5-j)+"h-3v"+j+"h"+-j+"v3h"+(j+3)+"ZM"+(R.l-3.5)+","+(R.b+.5-j)+"h3v"+j+"h"+j+"v3h-"+(j+3)+"Z"}function b(R,j,se,fe,ce){for(var ye=!1,xe={},De={},ke,Ne,Ue,Ce,_e=(ce||{}).xaHash,Ie=(ce||{}).yaHash,Ze=0;Ze<j.length;Ze++){var gt=j[Ze];for(ke in se)if(gt[ke]){for(Ue in gt)!(ce&&(_e[Ue]||Ie[Ue]))&&!(Ue.charAt(0)==="x"?se:fe)[Ue]&&(xe[Ue]=ke);for(Ne in fe)!(ce&&(_e[Ne]||Ie[Ne]))&&gt[Ne]&&(ye=!0)}for(Ne in fe)if(gt[Ne])for(Ce in gt)!(ce&&(_e[Ce]||Ie[Ce]))&&!(Ce.charAt(0)==="x"?se:fe)[Ce]&&(De[Ce]=Ne)}ye&&(a.extendFlat(xe,De),De={});var Ve={},We=[];for(Ue in xe){var Ke=A(R,Ue);We.push(Ke),Ve[Ke._id]=Ke}var ut={},mt=[];for(Ce in De){var Lt=A(R,Ce);mt.push(Lt),ut[Lt._id]=Lt}return{xaHash:Ve,yaHash:ut,xaxes:We,yaxes:mt,xLinks:xe,yLinks:De,isSubplotConstrained:ye}}function O(R,j){if(!r)R.onwheel!==void 0?R.onwheel=j:R.onmousewheel!==void 0?R.onmousewheel=j:R.isAddedWheelEvent||(R.isAddedWheelEvent=!0,R.addEventListener("wheel",j,{passive:!1}));else{var se=R.onwheel!==void 0?"wheel":"mousewheel";R._onwheel&&R.removeEventListener(se,R._onwheel),R._onwheel=j,R.addEventListener(se,j,{passive:!1})}}function N(R){var j=[];for(var se in R)j.push(R[se]);return j}P.exports={makeDragBox:J,makeDragger:ae,makeRectDragger:z,makeZoombox:ee,makeCorners:q,updateZoombox:ne,xyCorners:E,transitionZoombox:oe,removeZoombox:Q,showDoubleClickNotifier:c,attachWheelEventHandler:O}},{"../../components/color":102,"../../components/dragelement":121,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../constants/alignment":207,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/setcursor":252,"../../lib/svg_text_utils":255,"../../plot_api/subroutines":269,"../../registry":318,"../plots":316,"./axes":279,"./axis_ids":283,"./constants":286,"./scale_zoom":299,"./select":300,"@plotly/d3":11,"has-passive-events":49,tinycolor2:67}],289:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../components/fx"),i=t("../../components/dragelement"),n=t("../../lib/setcursor"),r=t("./dragbox").makeDragBox,f=t("./constants").DRAGGERSIZE;k.initInteractions=function(s){var o=s._fullLayout;if(s._context.staticPlot){e.select(s).selectAll(".drag").remove();return}if(!(!o._has("cartesian")&&!o._has("splom"))){var h=Object.keys(o._plots||{}).sort(function(d,y){if((o._plots[d].mainplot&&!0)===(o._plots[y].mainplot&&!0)){var g=d.split("y"),D=y.split("y");return g[0]===D[0]?Number(g[1]||1)-Number(D[1]||1):Number(g[0]||1)-Number(D[0]||1)}return o._plots[d].mainplot?1:-1});h.forEach(function(d){var y=o._plots[d],g=y.xaxis,D=y.yaxis;if(!y.mainplot){var C=r(s,y,g._offset,D._offset,g._length,D._length,"ns","ew");C.onmousemove=function(M){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===d&&s._fullLayout._plots[d]&&a.hover(s,M,d)},a.hover(s,M,d),s._fullLayout._lasthover=C,s._fullLayout._hoversubplot=d},C.onmouseout=function(M){s._dragging||(s._fullLayout._hoversubplot=null,i.unhover(s,M))},s._context.showAxisDragHandles&&(r(s,y,g._offset-f,D._offset-f,f,f,"n","w"),r(s,y,g._offset+g._length,D._offset-f,f,f,"n","e"),r(s,y,g._offset-f,D._offset+D._length,f,f,"s","w"),r(s,y,g._offset+g._length,D._offset+D._length,f,f,"s","e"))}if(s._context.showAxisDragHandles){if(d===g._mainSubplot){var L=g._mainLinePosition;g.side==="top"&&(L-=f),r(s,y,g._offset+g._length*.1,L,g._length*.8,f,"","ew"),r(s,y,g._offset,L,g._length*.1,f,"","w"),r(s,y,g._offset+g._length*.9,L,g._length*.1,f,"","e")}if(d===D._mainSubplot){var x=D._mainLinePosition;D.side!=="right"&&(x-=f),r(s,y,x,D._offset+D._length*.1,f,D._length*.8,"ns",""),r(s,y,x,D._offset+D._length*.9,f,D._length*.1,"s",""),r(s,y,x,D._offset,f,D._length*.1,"n","")}}});var p=o._hoverlayer.node();p.onmousemove=function(d){d.target=s._fullLayout._lasthover,a.hover(s,d,o._hoversubplot)},p.onclick=function(d){d.target=s._fullLayout._lasthover,a.click(s,d)},p.onmousedown=function(d){s._fullLayout._lasthover.onmousedown(d)},k.updateFx(s)}},k.updateFx=function(u){var s=u._fullLayout,o=s.dragmode==="pan"?"move":"crosshair";n(s._draggers,o)}},{"../../components/dragelement":121,"../../components/fx":142,"../../lib/setcursor":252,"./constants":286,"./dragbox":288,"@plotly/d3":11}],290:[function(t,P,k){function e(i){var n=i._fullLayout._zoomlayer;n&&n.selectAll(".outline-controllers").remove()}function a(i){var n=i._fullLayout._zoomlayer;n&&n.selectAll(".select-outline").remove(),i._fullLayout._drawing=!1}P.exports={clearOutlineControllers:e,clearSelect:a}},{}],291:[function(t,P,k){var e=t("../../lib").strTranslate;function a(f,u){switch(f.type){case"log":return f.p2d(u);case"date":return f.p2r(u,0,f.calendar);default:return f.p2r(u)}}function i(f,u){switch(f.type){case"log":return f.d2p(u);case"date":return f.r2p(u,0,f.calendar);default:return f.r2p(u)}}function n(f){var u=f._id.charAt(0)==="y"?1:0;return function(s){return a(f,s[u])}}function r(f){return e(f.xaxis._offset,f.yaxis._offset)}P.exports={p2r:a,r2p:i,axValue:n,getTransform:r}},{"../../lib":232}],292:[function(t,P,k){var e=t("../../registry"),a=t("../../lib"),i=t("./axis_ids");P.exports=function(r){return function(u,s){var o=u[r];if(!!Array.isArray(o))for(var h=e.subplotsRegistry.cartesian,p=h.idRegex,d=s._subplots,y=d.xaxis,g=d.yaxis,D=d.cartesian,C=s._has("cartesian")||s._has("gl2d"),L=0;L<o.length;L++){var x=o[L];if(!!a.isPlainObject(x)){var M=i.cleanId(x.xref,"x",!1),v=i.cleanId(x.yref,"y",!1),m=p.x.test(M),A=p.y.test(v);if(m||A){C||a.pushUnique(s._basePlotModules,h);var V=!1;m&&y.indexOf(M)===-1&&(y.push(M),V=!0),A&&g.indexOf(v)===-1&&(g.push(v),V=!0),V&&m&&A&&D.push(M+v)}}}}}},{"../../lib":232,"../../registry":318,"./axis_ids":283}],293:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../registry"),i=t("../../lib"),n=t("../plots"),r=t("../../components/drawing"),f=t("../get_data").getModuleCalcData,u=t("./axis_ids"),s=t("./constants"),o=t("../../constants/xmlns_namespaces"),h=i.ensureSingle;function p(L,x,M){return i.ensureSingle(L,x,M,function(v){v.datum(M)})}k.name="cartesian",k.attr=["xaxis","yaxis"],k.idRoot=["x","y"],k.idRegex=s.idRegex,k.attrRegex=s.attrRegex,k.attributes=t("./attributes"),k.layoutAttributes=t("./layout_attributes"),k.supplyLayoutDefaults=t("./layout_defaults"),k.transitionAxes=t("./transition_axes"),k.finalizeSubplots=function(L,x){var M=x._subplots,v=M.xaxis,m=M.yaxis,A=M.cartesian,V=A.concat(M.gl2d||[]),T={},Y={},G,S,U;for(G=0;G<V.length;G++){var W=V[G].split("y");T[W[0]]=1,Y["y"+W[1]]=1}for(G=0;G<v.length;G++)S=v[G],T[S]||(U=(L[u.id2name(S)]||{}).anchor,s.idRegex.y.test(U)||(U="y"),A.push(S+U),V.push(S+U),Y[U]||(Y[U]=1,i.pushUnique(m,U)));for(G=0;G<m.length;G++)U=m[G],Y[U]||(S=(L[u.id2name(U)]||{}).anchor,s.idRegex.x.test(S)||(S="x"),A.push(S+U),V.push(S+U),T[S]||(T[S]=1,i.pushUnique(v,S)));if(!V.length){S="",U="";for(var K in L)if(s.attrRegex.test(K)){var J=K.charAt(0);J==="x"?(!S||+K.substr(5)<+S.substr(5))&&(S=K):(!U||+K.substr(5)<+U.substr(5))&&(U=K)}S=S?u.name2id(S):"x",U=U?u.name2id(U):"y",v.push(S),m.push(U),A.push(S+U)}},k.plot=function(L,x,M,v){var m=L._fullLayout,A=m._subplots.cartesian,V=L.calcdata,T;if(!Array.isArray(x))for(x=[],T=0;T<V.length;T++)x.push(T);for(T=0;T<A.length;T++){for(var Y=A[T],G=m._plots[Y],S=[],U,W=0;W<V.length;W++){var K=V[W],J=K[0].trace;J.xaxis+J.yaxis===Y&&((x.indexOf(J.index)!==-1||J.carpet)&&(U&&U[0].trace.xaxis+U[0].trace.yaxis===Y&&["tonextx","tonexty","tonext"].indexOf(J.fill)!==-1&&S.indexOf(U)===-1&&S.push(U),S.push(K)),U=K)}d(L,G,S,M,v)}};function d(L,x,M,v,m){for(var A=s.traceLayerClasses,V=L._fullLayout,T=V._modules,Y,G,S,U=[],W=[],K=0;K<T.length;K++){Y=T[K];var J=Y.name,ae=a.modules[J].categories;if(ae.svg){var z=Y.layerName||J+"layer",H=Y.plot;G=f(M,H),S=G[0],M=G[1],S.length&&U.push({i:A.indexOf(z),className:z,plotMethod:H,cdModule:S}),ae.zoomScale&&W.push("."+z)}}U.sort(function(ie,ue){return ie.i-ue.i});var Z=x.plot.selectAll("g.mlayer").data(U,function(ie){return ie.className});if(Z.enter().append("g").attr("class",function(ie){return ie.className}).classed("mlayer",!0).classed("rangeplot",x.isRangePlot),Z.exit().remove(),Z.order(),Z.each(function(ie){var ue=e.select(this),ge=ie.className;ie.plotMethod(L,x,ie.cdModule,ue,v,m),s.clipOnAxisFalseQuery.indexOf("."+ge)===-1&&r.setClipUrl(ue,x.layerClipId,L)}),V._has("scattergl")&&(Y=a.getModule("scattergl"),S=f(M,Y)[0],Y.plot(L,x,S)),!L._context.staticPlot&&(x._hasClipOnAxisFalse&&(x.clipOnAxisFalseTraces=x.plot.selectAll(s.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),W.length)){var re=x.plot.selectAll(W.join(",")).selectAll(".trace");x.zoomScalePts=re.selectAll("path.point"),x.zoomScaleTxt=re.selectAll(".textpoint")}}k.clean=function(L,x,M,v){var m=v._plots||{},A=x._plots||{},V=v._subplots||{},T,Y,G;if(v._hasOnlyLargeSploms&&!x._hasOnlyLargeSploms)for(G in m)T=m[G],T.plotgroup&&T.plotgroup.remove();var S=v._has&&v._has("gl"),U=x._has&&x._has("gl");if(S&&!U)for(G in m)T=m[G],T._scene&&T._scene.destroy();if(V.xaxis&&V.yaxis){var W=u.listIds({_fullLayout:v});for(Y=0;Y<W.length;Y++){var K=W[Y];x[u.id2name(K)]||v._infolayer.selectAll(".g-"+K+"title").remove()}}var J=v._has&&v._has("cartesian"),ae=x._has&&x._has("cartesian");if(J&&!ae)D(v._cartesianlayer.selectAll(".subplot"),v),v._defs.selectAll(".axesclip").remove(),delete v._axisConstraintGroups,delete v._axisMatchGroups;else if(V.cartesian)for(Y=0;Y<V.cartesian.length;Y++){var z=V.cartesian[Y];if(!A[z]){var H="."+z+",."+z+"-x,."+z+"-y";v._cartesianlayer.selectAll(H).remove(),C(z,v)}}},k.drawFramework=function(L){var x=L._fullLayout,M=y(L),v=x._cartesianlayer.selectAll(".subplot").data(M,String);v.enter().append("g").attr("class",function(m){return"subplot "+m[0]}),v.order(),v.exit().call(D,x),v.each(function(m){var A=m[0],V=x._plots[A];V.plotgroup=e.select(this),g(L,V),V.draglayer=h(x._draggers,"g",A)})},k.rangePlot=function(L,x,M){g(L,x),d(L,x,M),n.style(L)};function y(L){var x=L._fullLayout,M=x._subplots.cartesian,v=M.length,m,A,V,T,Y,G,S=[],U=[];for(m=0;m<v;m++){V=M[m],T=x._plots[V],Y=T.xaxis,G=T.yaxis;var W=Y._mainAxis,K=G._mainAxis,J=W._id+K._id,ae=x._plots[J];T.overlays=[],J!==V&&ae?(T.mainplot=J,T.mainplotinfo=ae,U.push(V)):(T.mainplot=void 0,T.mainplotinfo=void 0,S.push(V))}for(m=0;m<U.length;m++)V=U[m],T=x._plots[V],T.mainplotinfo.overlays.push(T);var z=S.concat(U),H=new Array(v);for(m=0;m<v;m++){V=z[m],T=x._plots[V],Y=T.xaxis,G=T.yaxis;var Z=[V,Y.layer,G.layer,Y.overlaying||"",G.overlaying||""];for(A=0;A<T.overlays.length;A++)Z.push(T.overlays[A].id);H[m]=Z}return H}function g(L,x){var M=x.plotgroup,v=x.id,m=s.layerValue2layerClass[x.xaxis.layer],A=s.layerValue2layerClass[x.yaxis.layer],V=L._fullLayout._hasOnlyLargeSploms;if(x.mainplot){var Y=x.mainplotinfo,G=Y.plotgroup,S=v+"-x",U=v+"-y";x.gridlayer=Y.gridlayer,x.zerolinelayer=Y.zerolinelayer,h(Y.overlinesBelow,"path",S),h(Y.overlinesBelow,"path",U),h(Y.overaxesBelow,"g",S),h(Y.overaxesBelow,"g",U),x.plot=h(Y.overplot,"g",v),h(Y.overlinesAbove,"path",S),h(Y.overlinesAbove,"path",U),h(Y.overaxesAbove,"g",S),h(Y.overaxesAbove,"g",U),x.xlines=G.select(".overlines-"+m).select("."+S),x.ylines=G.select(".overlines-"+A).select("."+U),x.xaxislayer=G.select(".overaxes-"+m).select("."+S),x.yaxislayer=G.select(".overaxes-"+A).select("."+U)}else if(V)x.xlines=h(M,"path","xlines-above"),x.ylines=h(M,"path","ylines-above"),x.xaxislayer=h(M,"g","xaxislayer-above"),x.yaxislayer=h(M,"g","yaxislayer-above");else{var T=h(M,"g","layer-subplot");x.shapelayer=h(T,"g","shapelayer"),x.imagelayer=h(T,"g","imagelayer"),x.gridlayer=h(M,"g","gridlayer"),x.zerolinelayer=h(M,"g","zerolinelayer"),h(M,"path","xlines-below"),h(M,"path","ylines-below"),x.overlinesBelow=h(M,"g","overlines-below"),h(M,"g","xaxislayer-below"),h(M,"g","yaxislayer-below"),x.overaxesBelow=h(M,"g","overaxes-below"),x.plot=h(M,"g","plot"),x.overplot=h(M,"g","overplot"),x.xlines=h(M,"path","xlines-above"),x.ylines=h(M,"path","ylines-above"),x.overlinesAbove=h(M,"g","overlines-above"),h(M,"g","xaxislayer-above"),h(M,"g","yaxislayer-above"),x.overaxesAbove=h(M,"g","overaxes-above"),x.xlines=M.select(".xlines-"+m),x.ylines=M.select(".ylines-"+A),x.xaxislayer=M.select(".xaxislayer-"+m),x.yaxislayer=M.select(".yaxislayer-"+A)}V||(p(x.gridlayer,"g",x.xaxis._id),p(x.gridlayer,"g",x.yaxis._id),x.gridlayer.selectAll("g").map(function(W){return W[0]}).sort(u.idSort)),x.xlines.style("fill","none").classed("crisp",!0),x.ylines.style("fill","none").classed("crisp",!0)}function D(L,x){if(!!L){var M={};L.each(function(Y){var G=Y[0],S=e.select(this);S.remove(),C(G,x),M[G]=!0});for(var v in x._plots)for(var m=x._plots[v],A=m.overlays||[],V=0;V<A.length;V++){var T=A[V];M[T.id]&&T.plot.selectAll(".trace").remove()}}}function C(L,x){x._draggers.selectAll("g."+L).remove(),x._defs.select("#clip"+x._uid+L+"plot").remove()}k.toSVG=function(L){var x=L._fullLayout._glimages,M=e.select(L).selectAll(".svg-container"),v=M.filter(function(A,V){return V===M.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function m(){var A=this,V=A.toDataURL("image/png"),T=x.append("svg:image");T.attr({xmlns:o.svg,"xlink:href":V,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})}v.each(m)},k.updateFx=t("./graph_interact").updateFx},{"../../components/drawing":124,"../../constants/xmlns_namespaces":213,"../../lib":232,"../../registry":318,"../get_data":312,"../plots":316,"./attributes":277,"./axis_ids":283,"./constants":286,"./graph_interact":289,"./layout_attributes":294,"./layout_defaults":295,"./transition_axes":306,"@plotly/d3":11}],294:[function(t,P,k){var e=t("../font_attributes"),a=t("../../components/color/attributes"),i=t("../../components/drawing/attributes").dash,n=t("../../lib/extend").extendFlat,r=t("../../plot_api/plot_template").templatedArray,f=t("../../plots/cartesian/axis_format_attributes").descriptionWithDates,u=t("../../constants/numerical").ONEDAY,s=t("./constants"),o=s.HOUR_PATTERN,h=s.WEEKDAY_PATTERN;P.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:a.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:e({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"calc"},rangebreaks:r("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[h,o,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:u},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},automargin:{valType:"boolean",dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:n({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:e({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:f("tick label")},tickformatstops:r("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:f("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:a.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:a.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"plot"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:e({editType:"ticks"})}}},{"../../components/color/attributes":101,"../../components/drawing/attributes":123,"../../constants/numerical":212,"../../lib/extend":226,"../../plot_api/plot_template":268,"../../plots/cartesian/axis_format_attributes":282,"../font_attributes":310,"./constants":286}],295:[function(t,P,k){var e=t("../../lib"),a=t("../../components/color"),i=t("../../components/fx/helpers").isUnifiedHover,n=t("../../components/fx/hovermode_defaults"),r=t("../../plot_api/plot_template"),f=t("../layout_attributes"),u=t("./layout_attributes"),s=t("./type_defaults"),o=t("./axis_defaults"),h=t("./constraints"),p=t("./position_defaults"),d=t("./axis_ids"),y=d.id2name,g=d.name2id,D=t("./constants").AX_ID_PATTERN,C=t("../../registry"),L=C.traceIs,x=C.getComponentMethod;function M(v,m,A){Array.isArray(v[m])?v[m].push(A):v[m]=[A]}P.exports=function(m,A,V){var T=A.autotypenumbers,Y={},G={},S={},U={},W={},K={},J={},ae={},z={},H={},Z,re;for(Z=0;Z<V.length;Z++){var ie=V[Z];if(!(!L(ie,"cartesian")&&!L(ie,"gl2d"))){var ue;if(ie.xaxis)ue=y(ie.xaxis),M(Y,ue,ie);else if(ie.xaxes)for(re=0;re<ie.xaxes.length;re++)M(Y,y(ie.xaxes[re]),ie);var ge;if(ie.yaxis)ge=y(ie.yaxis),M(Y,ge,ie);else if(ie.yaxes)for(re=0;re<ie.yaxes.length;re++)M(Y,y(ie.yaxes[re]),ie);if(ie.type==="funnel"?ie.orientation==="h"?(ue&&(G[ue]=!0),ge&&(J[ge]=!0)):ge&&(S[ge]=!0):ie.type==="image"?(ge&&(ae[ge]=!0),ue&&(ae[ue]=!0)):(ge&&(W[ge]=!0,K[ge]=!0),(!L(ie,"carpet")||ie.type==="carpet"&&!ie._cheater)&&ue&&(U[ue]=!0)),ie.type==="carpet"&&ie._cheater&&ue&&(G[ue]=!0),L(ie,"2dMap")&&(z[ue]=!0,z[ge]=!0),L(ie,"oriented")){var ee=ie.orientation==="h"?ge:ue;H[ee]=!0}}}var q=A._subplots,ne=q.xaxis,oe=q.yaxis,Q=e.simpleMap(ne,y),c=e.simpleMap(oe,y),w=Q.concat(c),B=a.background;ne.length&&oe.length&&(B=e.coerce(m,A,f,"plot_bgcolor"));var E=a.combine(B,A.paper_bgcolor),b,O,N,R,j;function se(){var at=Y[b]||[];j._traceIndices=at.map(function(pe){return pe._expandedIndex}),j._annIndices=[],j._shapeIndices=[],j._imgIndices=[],j._subplotsWith=[],j._counterAxes=[],j._name=j._attr=b,j._id=O}function fe(at,pe){return e.coerce(R,j,u,at,pe)}function ce(at,pe){return e.coerce2(R,j,u,at,pe)}function ye(at){return at==="x"?oe:ne}function xe(at,pe){for(var Ae=at==="x"?Q:c,Se=[],Pe=0;Pe<Ae.length;Pe++){var tt=Ae[Pe];tt!==pe&&!(m[tt]||{}).overlaying&&Se.push(g(tt))}return Se}var De={x:ye("x"),y:ye("y")},ke=De.x.concat(De.y),Ne={},Ue=[];function Ce(){var at=R.matches;D.test(at)&&ke.indexOf(at)===-1&&(Ne[at]=R.type,Ue=Object.keys(Ne))}var _e=n(m,A),Ie=i(_e);for(Z=0;Z<w.length;Z++){b=w[Z],O=g(b),N=b.charAt(0),e.isPlainObject(m[b])||(m[b]={}),R=m[b],j=r.newContainer(A,b,N+"axis"),se();var Ze=N==="x"&&!U[b]&&G[b]||N==="y"&&!W[b]&&S[b],gt=N==="y"&&(!K[b]&&J[b]||ae[b]),Ve={letter:N,font:A.font,outerTicks:z[b],showGrid:!H[b],data:Y[b]||[],bgColor:E,calendar:A.calendar,automargin:!0,visibleDflt:Ze,reverseDflt:gt,autotypenumbersDflt:T,splomStash:((A._splomAxes||{})[N]||{})[O]};fe("uirevision",A.uirevision),s(R,j,fe,Ve),o(R,j,fe,Ve,A);var We=Ie&&N===_e.charAt(0),Ke=ce("spikecolor",Ie?j.color:void 0),ut=ce("spikethickness",Ie?1.5:void 0),mt=ce("spikedash",Ie?"dot":void 0),Lt=ce("spikemode",Ie?"across":void 0),rt=ce("spikesnap"),dt=fe("showspikes",!!We||!!Ke||!!ut||!!mt||!!Lt||!!rt);dt||(delete j.spikecolor,delete j.spikethickness,delete j.spikedash,delete j.spikemode,delete j.spikesnap),p(R,j,fe,{letter:N,counterAxes:De[N],overlayableAxes:xe(N,b),grid:A.grid}),fe("title.standoff"),Ce(),j._input=R}for(Z=0;Z<Ue.length;){O=Ue[Z++],b=y(O),N=b.charAt(0),e.isPlainObject(m[b])||(m[b]={}),R=m[b],j=r.newContainer(A,b,N+"axis"),se();var ot={letter:N,font:A.font,outerTicks:z[b],showGrid:!H[b],data:[],bgColor:E,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:T,splomStash:((A._splomAxes||{})[N]||{})[O]};fe("uirevision",A.uirevision),j.type=Ne[O]||"linear",o(R,j,fe,ot,A),p(R,j,fe,{letter:N,counterAxes:De[N],overlayableAxes:xe(N,b),grid:A.grid}),fe("fixedrange"),Ce(),j._input=R}var pt=x("rangeslider","handleDefaults"),Ct=x("rangeselector","handleDefaults");for(Z=0;Z<Q.length;Z++)b=Q[Z],R=m[b],j=A[b],pt(m,A,b),j.type==="date"&&Ct(R,j,A,c,j.calendar),fe("fixedrange");for(Z=0;Z<c.length;Z++){b=c[Z],R=m[b],j=A[b];var Ee=A[y(j.anchor)],Oe=x("rangeslider","isVisible")(Ee);fe("fixedrange",Oe)}h.handleDefaults(m,A,{axIds:ke.concat(Ue).sort(d.idSort),axHasImage:ae})}},{"../../components/color":102,"../../components/fx/helpers":138,"../../components/fx/hovermode_defaults":141,"../../lib":232,"../../plot_api/plot_template":268,"../../registry":318,"../layout_attributes":314,"./axis_defaults":281,"./axis_ids":283,"./constants":286,"./constraints":287,"./layout_attributes":294,"./position_defaults":297,"./type_defaults":307}],296:[function(t,P,k){var e=t("tinycolor2").mix,a=t("../../components/color/attributes").lightFraction,i=t("../../lib");P.exports=function(r,f,u,s){s=s||{};var o=s.dfltColor;function h(m,A){return i.coerce2(r,f,s.attributes,m,A)}var p=h("linecolor",o),d=h("linewidth"),y=u("showline",s.showLine||!!p||!!d);y||(delete f.linecolor,delete f.linewidth);var g=e(o,s.bgColor,s.blend||a).toRgbString(),D=h("gridcolor",g),C=h("gridwidth"),L=u("showgrid",s.showGrid||!!D||!!C);if(L||(delete f.gridcolor,delete f.gridwidth),!s.noZeroLine){var x=h("zerolinecolor",o),M=h("zerolinewidth"),v=u("zeroline",s.showGrid||!!x||!!M);v||(delete f.zerolinecolor,delete f.zerolinewidth)}}},{"../../components/color/attributes":101,"../../lib":232,tinycolor2:67}],297:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib");P.exports=function(n,r,f,u){var s=u.counterAxes||[],o=u.overlayableAxes||[],h=u.letter,p=u.grid,d,y,g,D;p&&(y=p._domains[h][p._axisMap[r._id]],d=p._anchors[r._id],y&&(g=p[h+"side"].split(" ")[0],D=p.domain[h][g==="right"||g==="top"?1:0])),y=y||[0,1],d=d||(e(n.position)?"free":s[0]||"free"),g=g||(h==="x"?"bottom":"left"),D=D||0;var C=a.coerce(n,r,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:d}},"anchor");C==="free"&&f("position",D),a.coerce(n,r,{side:{valType:"enumerated",values:h==="x"?["bottom","top"]:["left","right"],dflt:g}},"side");var L=!1;if(o.length&&(L=a.coerce(n,r,{overlaying:{valType:"enumerated",values:[!1].concat(o),dflt:!1}},"overlaying")),!L){var x=f("domain",y);x[0]>x[1]-1/4096&&(r.domain=y),a.noneOrAll(n.domain,r.domain,y)}return f("layer"),r}},{"../../lib":232,"fast-isnumeric":17}],298:[function(t,P,k){var e=t("./show_dflt");P.exports=function(i,n,r,f,u){u||(u={});var s=u.tickSuffixDflt,o=e(i),h=r("tickprefix");h&&r("showtickprefix",o);var p=r("ticksuffix",s);p&&r("showticksuffix",o)}},{"./show_dflt":302}],299:[function(t,P,k){var e=t("../../constants/alignment").FROM_BL;P.exports=function(i,n,r){r===void 0&&(r=e[i.constraintoward||"center"]);var f=[i.r2l(i.range[0]),i.r2l(i.range[1])],u=f[0]+(f[1]-f[0])*r;i.range=i._input.range=[i.l2r(u+(f[0]-u)*n),i.l2r(u+(f[1]-u)*n)],i.setScale()}},{"../../constants/alignment":207}],300:[function(t,P,k){var e=t("polybooljs"),a=t("../../registry"),i=t("../../components/drawing").dashStyle,n=t("../../components/color"),r=t("../../components/fx"),f=t("../../components/fx/helpers").makeEventData,u=t("../../components/dragelement/helpers"),s=u.freeMode,o=u.rectMode,h=u.drawMode,p=u.openMode,d=u.selectMode,y=t("../../components/shapes/draw_newshape/display_outlines"),g=t("../../components/shapes/draw_newshape/helpers").handleEllipse,D=t("../../components/shapes/draw_newshape/newshapes"),C=t("../../lib"),L=t("../../lib/polygon"),x=t("../../lib/throttle"),M=t("./axis_ids").getFromId,v=t("../../lib/clear_gl_canvases"),m=t("../../plot_api/subroutines").redrawReglTraces,A=t("./constants"),V=A.MINSELECT,T=L.filter,Y=L.tester,G=t("./handle_outline").clearSelect,S=t("./helpers"),U=S.p2r,W=S.axValue,K=S.getTransform;function J(b,O,N,R,j){var se=s(j),fe=o(j),ce=p(j),ye=h(j),xe=d(j),De=j==="drawline",ke=j==="drawcircle",Ne=De||ke,Ue=R.gd,Ce=Ue._fullLayout,_e=Ce._zoomlayer,Ie=R.element.getBoundingClientRect(),Ze=R.plotinfo,gt=K(Ze),Ve=O-Ie.left,We=N-Ie.top;Ce._calcInverseTransform(Ue);var Ke=C.apply3DTransform(Ce._invTransform)(Ve,We);Ve=Ke[0],We=Ke[1];var ut=Ce._invScaleX,mt=Ce._invScaleY,Lt=Ve,rt=We,dt="M"+Ve+","+We,ot=R.xaxes[0]._length,pt=R.yaxes[0]._length,Ct=R.xaxes.concat(R.yaxes),Ee=b.altKey&&!(h(j)&&ce),Oe,at,pe,Ae,Se,Pe,tt;ie(b,Ue,R),se&&(Oe=T([[Ve,We]],A.BENDPX));var Je=_e.selectAll("path.select-outline-"+Ze.id).data(ye?[0]:[1,2]),ht=Ce.newshape;Je.enter().append("path").attr("class",function(Zt){return"select-outline select-outline-"+Zt+" select-outline-"+Ze.id}).style(ye?{opacity:ht.opacity/2,fill:ce?void 0:ht.fillcolor,stroke:ht.line.color,"stroke-dasharray":i(ht.line.dash,ht.line.width),"stroke-width":ht.line.width+"px"}:{}).attr("fill-rule",ht.fillrule).classed("cursor-move",!!ye).attr("transform",gt).attr("d",dt+"Z");var vt=_e.append("path").attr("class","zoombox-corners").style({fill:n.background,stroke:n.defaultLine,"stroke-width":1}).attr("transform",gt).attr("d","M0,0Z"),nt=Ce._uid+A.SELECTID,je=[],_t=ge(Ue,R.xaxes,R.yaxes,R.subplot);function Et(Zt,$t){return Zt-$t}var Tt;Ze.fillRangeItems?Tt=Ze.fillRangeItems:fe?Tt=function(Zt,$t){var Qt=Zt.range={};for(Se=0;Se<Ct.length;Se++){var zt=Ct[Se],Yt=zt._id.charAt(0);Qt[zt._id]=[U(zt,$t[Yt+"min"]),U(zt,$t[Yt+"max"])].sort(Et)}}:Tt=function(Zt,$t,Qt){var zt=Zt.lassoPoints={};for(Se=0;Se<Ct.length;Se++){var Yt=Ct[Se];zt[Yt._id]=Qt.filtered.map(W(Yt))}},R.moveFn=function(Zt,$t){Lt=Math.max(0,Math.min(ot,ut*Zt+Ve)),rt=Math.max(0,Math.min(pt,mt*$t+We));var Qt=Math.abs(Lt-Ve),zt=Math.abs(rt-We);if(fe){var Yt,Ft,ct;if(xe){var Vt=Ce.selectdirection;switch(Vt==="any"?zt<Math.min(Qt*.6,V)?Yt="h":Qt<Math.min(zt*.6,V)?Yt="v":Yt="d":Yt=Vt,Yt){case"h":Ft=ke?pt/2:0,ct=pt;break;case"v":Ft=ke?ot/2:0,ct=ot;break}}if(ye)switch(Ce.newshape.drawdirection){case"vertical":Yt="h",Ft=ke?pt/2:0,ct=pt;break;case"horizontal":Yt="v",Ft=ke?ot/2:0,ct=ot;break;case"ortho":Qt<zt?(Yt="h",Ft=We,ct=rt):(Yt="v",Ft=Ve,ct=Lt);break;default:Yt="d"}Yt==="h"?(Ae=Ne?g(ke,[Lt,Ft],[Lt,ct]):[[Ve,Ft],[Ve,ct],[Lt,ct],[Lt,Ft]],Ae.xmin=Ne?Lt:Math.min(Ve,Lt),Ae.xmax=Ne?Lt:Math.max(Ve,Lt),Ae.ymin=Math.min(Ft,ct),Ae.ymax=Math.max(Ft,ct),vt.attr("d","M"+Ae.xmin+","+(We-V)+"h-4v"+2*V+"h4ZM"+(Ae.xmax-1)+","+(We-V)+"h4v"+2*V+"h-4Z")):Yt==="v"?(Ae=Ne?g(ke,[Ft,rt],[ct,rt]):[[Ft,We],[Ft,rt],[ct,rt],[ct,We]],Ae.xmin=Math.min(Ft,ct),Ae.xmax=Math.max(Ft,ct),Ae.ymin=Ne?rt:Math.min(We,rt),Ae.ymax=Ne?rt:Math.max(We,rt),vt.attr("d","M"+(Ve-V)+","+Ae.ymin+"v-4h"+2*V+"v4ZM"+(Ve-V)+","+(Ae.ymax-1)+"v4h"+2*V+"v-4Z")):Yt==="d"&&(Ae=Ne?g(ke,[Ve,We],[Lt,rt]):[[Ve,We],[Ve,rt],[Lt,rt],[Lt,We]],Ae.xmin=Math.min(Ve,Lt),Ae.xmax=Math.max(Ve,Lt),Ae.ymin=Math.min(We,rt),Ae.ymax=Math.max(We,rt),vt.attr("d","M0,0Z"))}else se&&(Oe.addPt([Lt,rt]),Ae=Oe.filtered);R.selectionDefs&&R.selectionDefs.length?(pe=w(R.mergedPolygons,Ae,Ee),Ae.subtract=Ee,at=re(R.selectionDefs.concat([Ae]))):(pe=[Ae],at=Y(Ae)),y(E(pe,ce),Je,R),xe&&x.throttle(nt,A.SELECTDELAY,function(){je=[];var Ot,he;for(Se=0;Se<_t.length;Se++)if(Pe=_t[Se],he=Pe._module.selectPoints(Pe,at),Ot=B(he,Pe),je.length)for(var ve=0;ve<Ot.length;ve++)je.push(Ot[ve]);else je=Ot;tt={points:je},c(Ue,_t,tt),Tt(tt,Ae,Oe),R.gd.emit("plotly_selecting",tt)})},R.clickFn=function(Zt,$t){if(vt.remove(),Ue._fullLayout._activeShapeIndex>=0){Ue._fullLayout._deactivateShape(Ue);return}if(!ye){var Qt=Ce.clickmode;x.done(nt).then(function(){if(x.clear(nt),Zt===2){for(Je.remove(),Se=0;Se<_t.length;Se++)Pe=_t[Se],Pe._module.selectPoints(Pe,!1);c(Ue,_t),ue(R),Ue.emit("plotly_deselect",null)}else Qt.indexOf("select")>-1&&ae($t,Ue,R.xaxes,R.yaxes,R.subplot,R,Je),Qt==="event"&&Ue.emit("plotly_selected",void 0);r.click(Ue,$t)}).catch(C.error)}},R.doneFn=function(){vt.remove(),x.done(nt).then(function(){x.clear(nt),R.gd.emit("plotly_selected",tt),Ae&&R.selectionDefs&&(Ae.subtract=Ee,R.selectionDefs.push(Ae),R.mergedPolygons.length=0,[].push.apply(R.mergedPolygons,pe)),R.doneFnCompleted&&R.doneFnCompleted(je)}).catch(C.error),ye&&ue(R)}}function ae(b,O,N,R,j,se,fe){var ce=O._hoverdata,ye=O._fullLayout,xe=ye.clickmode,De=xe.indexOf("event")>-1,ke=[],Ne,Ue,Ce,_e,Ie,Ze,gt,Ve,We,Ke;if(ee(ce)){ie(b,O,se),Ne=ge(O,N,R,j);var ut=q(ce,Ne),mt=ut.pointNumbers.length>0;if(mt?oe(Ne,ut):Q(Ne)&&(gt=ne(ut))){for(fe&&fe.remove(),Ke=0;Ke<Ne.length;Ke++)Ue=Ne[Ke],Ue._module.selectPoints(Ue,!1);c(O,Ne),ue(se),De&&O.emit("plotly_deselect",null)}else{Ve=b.shiftKey&&(gt!==void 0?gt:ne(ut)),Ce=z(ut.pointNumber,ut.searchInfo,Ve);var Lt=se.selectionDefs.concat([Ce]);for(_e=re(Lt),Ke=0;Ke<Ne.length;Ke++)if(Ie=Ne[Ke]._module.selectPoints(Ne[Ke],_e),Ze=B(Ie,Ne[Ke]),ke.length)for(var rt=0;rt<Ze.length;rt++)ke.push(Ze[rt]);else ke=Ze;if(We={points:ke},c(O,Ne,We),Ce&&se&&se.selectionDefs.push(Ce),fe){var dt=se.mergedPolygons,ot=p(se.dragmode);y(E(dt,ot),fe,se)}De&&O.emit("plotly_selected",We)}}}function z(b,O,N){return{pointNumber:b,searchInfo:O,subtract:N}}function H(b){return"pointNumber"in b&&"searchInfo"in b}function Z(b){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(O,N,R,j){var se=b.searchInfo.cd[0].trace._expandedIndex,fe=j.cd[0].trace._expandedIndex;return fe===se&&R===b.pointNumber},isRect:!1,degenerate:!1,subtract:b.subtract}}function re(b){for(var O=[],N=H(b[0])?0:b[0][0][0],R=N,j=H(b[0])?0:b[0][0][1],se=j,fe=0;fe<b.length;fe++)if(H(b[fe]))O.push(Z(b[fe]));else{var ce=L.tester(b[fe]);ce.subtract=b[fe].subtract,O.push(ce),N=Math.min(N,ce.xmin),R=Math.max(R,ce.xmax),j=Math.min(j,ce.ymin),se=Math.max(se,ce.ymax)}function ye(xe,De,ke,Ne){for(var Ue=!1,Ce=0;Ce<O.length;Ce++)O[Ce].contains(xe,De,ke,Ne)&&(Ue=O[Ce].subtract===!1);return Ue}return{xmin:N,xmax:R,ymin:j,ymax:se,pts:[],contains:ye,isRect:!1,degenerate:!1}}function ie(b,O,N){O._fullLayout._drawing=!1;var R=O._fullLayout,j=N.plotinfo,se=N.dragmode,fe=R._lastSelectedSubplot&&R._lastSelectedSubplot===j.id,ce=(b.shiftKey||b.altKey)&&!(h(se)&&p(se));fe&&ce&&j.selection&&j.selection.selectionDefs&&!N.selectionDefs?(N.selectionDefs=j.selection.selectionDefs,N.mergedPolygons=j.selection.mergedPolygons):(!ce||!j.selection)&&ue(N),fe||(G(O),R._lastSelectedSubplot=j.id)}function ue(b){var O=b.dragmode,N=b.plotinfo,R=b.gd;if(R._fullLayout._activeShapeIndex>=0&&R._fullLayout._deactivateShape(R),h(O)){var j=R._fullLayout,se=j._zoomlayer,fe=se.selectAll(".select-outline-"+N.id);if(fe&&R._fullLayout._drawing){var ce=D(fe,b);ce&&a.call("_guiRelayout",R,{shapes:ce}),R._fullLayout._drawing=!1}}N.selection={},N.selection.selectionDefs=b.selectionDefs=[],N.selection.mergedPolygons=b.mergedPolygons=[]}function ge(b,O,N,R){var j=[],se=O.map(function(Ue){return Ue._id}),fe=N.map(function(Ue){return Ue._id}),ce,ye,xe;for(xe=0;xe<b.calcdata.length;xe++)if(ce=b.calcdata[xe],ye=ce[0].trace,!(ye.visible!==!0||!ye._module||!ye._module.selectPoints))if(R&&(ye.subplot===R||ye.geo===R))j.push(Ne(ye._module,ce,O[0],N[0]));else if(ye.type==="splom"&&ye._xaxes[se[0]]&&ye._yaxes[fe[0]]){var De=Ne(ye._module,ce,O[0],N[0]);De.scene=b._fullLayout._splomScenes[ye.uid],j.push(De)}else if(ye.type==="sankey"){var ke=Ne(ye._module,ce,O[0],N[0]);j.push(ke)}else{if(se.indexOf(ye.xaxis)===-1||fe.indexOf(ye.yaxis)===-1)continue;j.push(Ne(ye._module,ce,M(b,ye.xaxis),M(b,ye.yaxis)))}return j;function Ne(Ue,Ce,_e,Ie){return{_module:Ue,cd:Ce,xaxis:_e,yaxis:Ie}}}function ee(b){return b&&Array.isArray(b)&&b[0].hoverOnBox!==!0}function q(b,O){var N=b[0],R=-1,j=[],se,fe;for(fe=0;fe<O.length;fe++)if(se=O[fe],N.fullData._expandedIndex===se.cd[0].trace._expandedIndex){if(N.hoverOnBox===!0)break;N.pointNumber!==void 0?R=N.pointNumber:N.binNumber!==void 0&&(R=N.binNumber,j=N.pointNumbers);break}return{pointNumber:R,pointNumbers:j,searchInfo:se}}function ne(b){var O=b.searchInfo.cd[0].trace,N=b.pointNumber,R=b.pointNumbers,j=R.length>0,se=j?R[0]:N;return O.selectedpoints?O.selectedpoints.indexOf(se)>-1:!1}function oe(b,O){var N=[],R,j,se,fe;for(fe=0;fe<b.length;fe++)R=b[fe],R.cd[0].trace.selectedpoints&&R.cd[0].trace.selectedpoints.length>0&&N.push(R);if(N.length===1&&(se=N[0]===O.searchInfo,se&&(j=O.searchInfo.cd[0].trace,j.selectedpoints.length===O.pointNumbers.length))){for(fe=0;fe<O.pointNumbers.length;fe++)if(j.selectedpoints.indexOf(O.pointNumbers[fe])<0)return!1;return!0}return!1}function Q(b){var O=0,N,R,j;for(j=0;j<b.length;j++)if(N=b[j],R=N.cd[0].trace,R.selectedpoints&&(R.selectedpoints.length>1||(O+=R.selectedpoints.length,O>1)))return!1;return O===1}function c(b,O,N){var R,j,se,fe;for(R=0;R<O.length;R++){var ce=O[R].cd[0].trace._fullInput,ye=b._fullLayout._tracePreGUI[ce.uid]||{};ye.selectedpoints===void 0&&(ye.selectedpoints=ce._input.selectedpoints||null)}if(N){var xe=N.points||[];for(R=0;R<O.length;R++)fe=O[R].cd[0].trace,fe._input.selectedpoints=fe._fullInput.selectedpoints=[],fe._fullInput!==fe&&(fe.selectedpoints=[]);for(R=0;R<xe.length;R++){var De=xe[R],ke=De.data,Ne=De.fullData;De.pointIndices?([].push.apply(ke.selectedpoints,De.pointIndices),fe._fullInput!==fe&&[].push.apply(Ne.selectedpoints,De.pointIndices)):(ke.selectedpoints.push(De.pointIndex),fe._fullInput!==fe&&Ne.selectedpoints.push(De.pointIndex))}}else for(R=0;R<O.length;R++)fe=O[R].cd[0].trace,delete fe.selectedpoints,delete fe._input.selectedpoints,fe._fullInput!==fe&&delete fe._fullInput.selectedpoints;var Ue=!1;for(R=0;R<O.length;R++){j=O[R],se=j.cd,fe=se[0].trace,a.traceIs(fe,"regl")&&(Ue=!0);var Ce=j._module,_e=Ce.styleOnSelect||Ce.style;_e&&(_e(b,se,se[0].node3),se[0].nodeRangePlot3&&_e(b,se,se[0].nodeRangePlot3))}Ue&&(v(b),m(b))}function w(b,O,N){var R;return N?(R=e.difference({regions:b,inverted:!1},{regions:[O],inverted:!1}),R.regions):(R=e.union({regions:b,inverted:!1},{regions:[O],inverted:!1}),R.regions)}function B(b,O){if(Array.isArray(b))for(var N=O.cd,R=O.cd[0].trace,j=0;j<b.length;j++)b[j]=f(b[j],R,N);return b}function E(b,O){for(var N=[],R=0;R<b.length;R++){N[R]=[];for(var j=0;j<b[R].length;j++){N[R][j]=[],N[R][j][0]=j?"L":"M";for(var se=0;se<b[R][j].length;se++)N[R][j].push(b[R][j][se])}O||N[R].push(["Z",N[R][0][1],N[R][0][2]])}return N}P.exports={prepSelect:J,clearSelect:G,clearSelectionsCache:ue,selectOnClick:ae}},{"../../components/color":102,"../../components/dragelement/helpers":120,"../../components/drawing":124,"../../components/fx":142,"../../components/fx/helpers":138,"../../components/shapes/draw_newshape/display_outlines":190,"../../components/shapes/draw_newshape/helpers":191,"../../components/shapes/draw_newshape/newshapes":192,"../../lib":232,"../../lib/clear_gl_canvases":220,"../../lib/polygon":244,"../../lib/throttle":256,"../../plot_api/subroutines":269,"../../registry":318,"./axis_ids":283,"./constants":286,"./handle_outline":290,"./helpers":291,polybooljs:57}],301:[function(t,P,k){var e=t("@plotly/d3"),a=t("d3-time-format").utcFormat,i=t("../../lib"),n=i.numberFormat,r=t("fast-isnumeric"),f=i.cleanNumber,u=i.ms2DateTime,s=i.dateTime2ms,o=i.ensureNumber,h=i.isArrayOrTypedArray,p=t("../../constants/numerical"),d=p.FP_SAFE,y=p.BADNUM,g=p.LOG_CLIP,D=p.ONEWEEK,C=p.ONEDAY,L=p.ONEHOUR,x=p.ONEMIN,M=p.ONESEC,v=t("./axis_ids"),m=t("./constants"),A=m.HOUR_PATTERN,V=m.WEEKDAY_PATTERN;function T(G){return Math.pow(10,G)}function Y(G){return G!=null}P.exports=function(S,U){U=U||{};var W=S._id||"x",K=W.charAt(0);function J(w,B){if(w>0)return Math.log(w)/Math.LN10;if(w<=0&&B&&S.range&&S.range.length===2){var E=S.range[0],b=S.range[1];return .5*(E+b-2*g*Math.abs(E-b))}else return y}function ae(w,B,E,b){if((b||{}).msUTC&&r(w))return+w;var O=s(w,E||S.calendar);if(O===y)if(r(w)){w=+w;var N=Math.floor(i.mod(w+.05,1)*10),R=Math.round(w-N/10);O=s(new Date(R))+N/10}else return y;return O}function z(w,B,E){return u(w,B,E||S.calendar)}function H(w){return S._categories[Math.round(w)]}function Z(w){if(Y(w)){if(S._categoriesMap===void 0&&(S._categoriesMap={}),S._categoriesMap[w]!==void 0)return S._categoriesMap[w];S._categories.push(typeof w=="number"?String(w):w);var B=S._categories.length-1;return S._categoriesMap[w]=B,B}return y}function re(w,B){for(var E=new Array(B),b=0;b<B;b++){var O=(w[0]||[])[b],N=(w[1]||[])[b];E[b]=ie([O,N])}return E}function ie(w){if(S._categoriesMap)return S._categoriesMap[w]}function ue(w){var B=ie(w);if(B!==void 0)return B;if(r(w))return+w}function ge(w){return r(w)?+w:ie(w)}function ee(w,B,E){return e.round(E+B*w,2)}function q(w,B,E){return(w-E)/B}var ne=function(B){return r(B)?ee(B,S._m,S._b):y},oe=function(w){return q(w,S._m,S._b)};if(S.rangebreaks){var Q=K==="y";ne=function(w){if(!r(w))return y;var B=S._rangebreaks.length;if(!B)return ee(w,S._m,S._b);var E=Q;S.range[0]>S.range[1]&&(E=!E);for(var b=E?-1:1,O=b*w,N=0,R=0;R<B;R++){var j=b*S._rangebreaks[R].min,se=b*S._rangebreaks[R].max;if(O<j)break;if(O>se)N=R+1;else{N=O<(j+se)/2?R:R+1;break}}var fe=S._B[N]||0;return isFinite(fe)?ee(w,S._m2,fe):0},oe=function(w){var B=S._rangebreaks.length;if(!B)return q(w,S._m,S._b);for(var E=0,b=0;b<B&&!(w<S._rangebreaks[b].pmin);b++)w>S._rangebreaks[b].pmax&&(E=b+1);return q(w,S._m2,S._B[E])}}S.c2l=S.type==="log"?J:o,S.l2c=S.type==="log"?T:o,S.l2p=ne,S.p2l=oe,S.c2p=S.type==="log"?function(w,B){return ne(J(w,B))}:ne,S.p2c=S.type==="log"?function(w){return T(oe(w))}:oe,["linear","-"].indexOf(S.type)!==-1?(S.d2r=S.r2d=S.d2c=S.r2c=S.d2l=S.r2l=f,S.c2d=S.c2r=S.l2d=S.l2r=o,S.d2p=S.r2p=function(w){return S.l2p(f(w))},S.p2d=S.p2r=oe,S.cleanPos=o):S.type==="log"?(S.d2r=S.d2l=function(w,B){return J(f(w),B)},S.r2d=S.r2c=function(w){return T(f(w))},S.d2c=S.r2l=f,S.c2d=S.l2r=o,S.c2r=J,S.l2d=T,S.d2p=function(w,B){return S.l2p(S.d2r(w,B))},S.p2d=function(w){return T(oe(w))},S.r2p=function(w){return S.l2p(f(w))},S.p2r=oe,S.cleanPos=o):S.type==="date"?(S.d2r=S.r2d=i.identity,S.d2c=S.r2c=S.d2l=S.r2l=ae,S.c2d=S.c2r=S.l2d=S.l2r=z,S.d2p=S.r2p=function(w,B,E){return S.l2p(ae(w,0,E))},S.p2d=S.p2r=function(w,B,E){return z(oe(w),B,E)},S.cleanPos=function(w){return i.cleanDate(w,y,S.calendar)}):S.type==="category"?(S.d2c=S.d2l=Z,S.r2d=S.c2d=S.l2d=H,S.d2r=S.d2l_noadd=ue,S.r2c=function(w){var B=ge(w);return B!==void 0?B:S.fraction2r(.5)},S.l2r=S.c2r=o,S.r2l=ge,S.d2p=function(w){return S.l2p(S.r2c(w))},S.p2d=function(w){return H(oe(w))},S.r2p=S.d2p,S.p2r=oe,S.cleanPos=function(w){return typeof w=="string"&&w!==""?w:o(w)}):S.type==="multicategory"&&(S.r2d=S.c2d=S.l2d=H,S.d2r=S.d2l_noadd=ue,S.r2c=function(w){var B=ue(w);return B!==void 0?B:S.fraction2r(.5)},S.r2c_just_indices=ie,S.l2r=S.c2r=o,S.r2l=ue,S.d2p=function(w){return S.l2p(S.r2c(w))},S.p2d=function(w){return H(oe(w))},S.r2p=S.d2p,S.p2r=oe,S.cleanPos=function(w){return Array.isArray(w)||typeof w=="string"&&w!==""?w:o(w)},S.setupMultiCategory=function(w){var B=S._traceIndices,E,b,O=S._matchGroup;if(O&&S._categories.length===0){for(var N in O)if(N!==W){var R=U[v.id2name(N)];B=B.concat(R._traceIndices)}}var j=[[0,{}],[0,{}]],se=[];for(E=0;E<B.length;E++){var fe=w[B[E]];if(K in fe){var ce=fe[K],ye=fe._length||i.minRowLength(ce);if(h(ce[0])&&h(ce[1]))for(b=0;b<ye;b++){var xe=ce[0][b],De=ce[1][b];Y(xe)&&Y(De)&&(se.push([xe,De]),xe in j[0][1]||(j[0][1][xe]=j[0][0]++),De in j[1][1]||(j[1][1][De]=j[1][0]++))}}}for(se.sort(function(ke,Ne){var Ue=j[0][1],Ce=Ue[ke[0]]-Ue[Ne[0]];if(Ce)return Ce;var _e=j[1][1];return _e[ke[1]]-_e[Ne[1]]}),E=0;E<se.length;E++)Z(se[E])}),S.fraction2r=function(w){var B=S.r2l(S.range[0]),E=S.r2l(S.range[1]);return S.l2r(B+w*(E-B))},S.r2fraction=function(w){var B=S.r2l(S.range[0]),E=S.r2l(S.range[1]);return(S.r2l(w)-B)/(E-B)},S.cleanRange=function(w,B){B||(B={}),w||(w="range");var E=i.nestedProperty(S,w).get(),b,O;if(S.type==="date"?O=i.dfltRange(S.calendar):K==="y"?O=m.DFLTRANGEY:S._name==="realaxis"?O=[0,1]:O=B.dfltRange||m.DFLTRANGEX,O=O.slice(),(S.rangemode==="tozero"||S.rangemode==="nonnegative")&&(O[0]=0),!E||E.length!==2){i.nestedProperty(S,w).set(O);return}for(S.type==="date"&&!S.autorange&&(E[0]=i.cleanDate(E[0],y,S.calendar),E[1]=i.cleanDate(E[1],y,S.calendar)),b=0;b<2;b++)if(S.type==="date"){if(!i.isDateTime(E[b],S.calendar)){S[w]=O;break}if(S.r2l(E[0])===S.r2l(E[1])){var N=i.constrain(S.r2l(E[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);E[0]=S.l2r(N-1e3),E[1]=S.l2r(N+1e3);break}}else{if(!r(E[b]))if(r(E[1-b]))E[b]=E[1-b]*(b?10:.1);else{S[w]=O;break}if(E[b]<-d?E[b]=-d:E[b]>d&&(E[b]=d),E[0]===E[1]){var R=Math.max(1,Math.abs(E[0]*1e-6));E[0]-=R,E[1]+=R}}},S.setScale=function(w){var B=U._size;if(S.overlaying){var E=v.getFromId({_fullLayout:U},S.overlaying);S.domain=E.domain}var b=w&&S._r?"_r":"range",O=S.calendar;S.cleanRange(b);var N=S.r2l(S[b][0],O),R=S.r2l(S[b][1],O),j=K==="y";if(j?(S._offset=B.t+(1-S.domain[1])*B.h,S._length=B.h*(S.domain[1]-S.domain[0]),S._m=S._length/(N-R),S._b=-S._m*R):(S._offset=B.l+S.domain[0]*B.w,S._length=B.w*(S.domain[1]-S.domain[0]),S._m=S._length/(R-N),S._b=-S._m*N),S._rangebreaks=[],S._lBreaks=0,S._m2=0,S._B=[],S.rangebreaks){var se,fe;if(S._rangebreaks=S.locateBreaks(Math.min(N,R),Math.max(N,R)),S._rangebreaks.length){for(se=0;se<S._rangebreaks.length;se++)fe=S._rangebreaks[se],S._lBreaks+=Math.abs(fe.max-fe.min);var ce=j;N>R&&(ce=!ce),ce&&S._rangebreaks.reverse();var ye=ce?-1:1;for(S._m2=ye*S._length/(Math.abs(R-N)-S._lBreaks),S._B.push(-S._m2*(j?R:N)),se=0;se<S._rangebreaks.length;se++)fe=S._rangebreaks[se],S._B.push(S._B[S._B.length-1]-ye*S._m2*(fe.max-fe.min));for(se=0;se<S._rangebreaks.length;se++)fe=S._rangebreaks[se],fe.pmin=ne(fe.min),fe.pmax=ne(fe.max)}}if(!isFinite(S._m)||!isFinite(S._b)||S._length<0)throw U._replotting=!1,new Error("Something went wrong with axis scaling")},S.maskBreaks=function(w){var B=S.rangebreaks||[],E,b,O,N,R;B._cachedPatterns||(B._cachedPatterns=B.map(function(Ue){return Ue.enabled&&Ue.bounds?i.simpleMap(Ue.bounds,Ue.pattern?f:S.d2c):null})),B._cachedValues||(B._cachedValues=B.map(function(Ue){return Ue.enabled&&Ue.values?i.simpleMap(Ue.values,S.d2c).sort(i.sorterAsc):null}));for(var j=0;j<B.length;j++){var se=B[j];if(se.enabled){if(se.bounds){var fe=se.pattern;switch(E=B._cachedPatterns[j],b=E[0],O=E[1],fe){case V:R=new Date(w),N=R.getUTCDay(),b>O&&(O+=7,N<b&&(N+=7));break;case A:R=new Date(w);var ce=R.getUTCHours(),ye=R.getUTCMinutes(),xe=R.getUTCSeconds(),De=R.getUTCMilliseconds();N=ce+(ye/60+xe/3600+De/36e5),b>O&&(O+=24,N<b&&(N+=24));break;case"":N=w;break}if(N>=b&&N<O)return y}else for(var ke=B._cachedValues[j],Ne=0;Ne<ke.length;Ne++)if(b=ke[Ne],O=b+se.dvalue,w>=b&&w<O)return y}}return w},S.locateBreaks=function(w,B){var E,b,O,N,R=[];if(!S.rangebreaks)return R;var j=S.rangebreaks.slice().sort(function(_e,Ie){return _e.pattern===V&&Ie.pattern===A?-1:Ie.pattern===V&&_e.pattern===A?1:0}),se=function(_e,Ie){if(_e=i.constrain(_e,w,B),Ie=i.constrain(Ie,w,B),_e!==Ie){for(var Ze=!0,gt=0;gt<R.length;gt++){var Ve=R[gt];_e<Ve.max&&Ie>=Ve.min&&(_e<Ve.min&&(Ve.min=_e),Ie>Ve.max&&(Ve.max=Ie),Ze=!1)}Ze&&R.push({min:_e,max:Ie})}};for(E=0;E<j.length;E++){var fe=j[E];if(fe.enabled)if(fe.bounds){var ce=w,ye=B;fe.pattern&&(ce=Math.floor(ce)),b=i.simpleMap(fe.bounds,fe.pattern?f:S.r2l),O=b[0],N=b[1];var xe=new Date(ce),De,ke;switch(fe.pattern){case V:ke=D,De=((N<O?7:0)+(N-O))*C,ce+=O*C-(xe.getUTCDay()*C+xe.getUTCHours()*L+xe.getUTCMinutes()*x+xe.getUTCSeconds()*M+xe.getUTCMilliseconds());break;case A:ke=C,De=((N<O?24:0)+(N-O))*L,ce+=O*L-(xe.getUTCHours()*L+xe.getUTCMinutes()*x+xe.getUTCSeconds()*M+xe.getUTCMilliseconds());break;default:ce=Math.min(b[0],b[1]),ye=Math.max(b[0],b[1]),ke=ye-ce,De=ke}for(var Ne=ce;Ne<ye;Ne+=ke)se(Ne,Ne+De)}else for(var Ue=i.simpleMap(fe.values,S.d2c),Ce=0;Ce<Ue.length;Ce++)O=Ue[Ce],N=O+fe.dvalue,se(O,N)}return R.sort(function(_e,Ie){return _e.min-Ie.min}),R},S.makeCalcdata=function(w,B,E){var b,O,N,R,j=S.type,se=j==="date"&&w[B+"calendar"];if(B in w){if(b=w[B],R=w._length||i.minRowLength(b),i.isTypedArray(b)&&(j==="linear"||j==="log")){if(R===b.length)return b;if(b.subarray)return b.subarray(0,R)}if(j==="multicategory")return re(b,R);for(O=new Array(R),N=0;N<R;N++)O[N]=S.d2c(b[N],0,se,E)}else{var fe=B+"0"in w?S.d2c(w[B+"0"],0,se):0,ce=w["d"+B]?Number(w["d"+B]):1;for(b=w[{x:"y",y:"x"}[B]],R=w._length||b.length,O=new Array(R),N=0;N<R;N++)O[N]=fe+N*ce}if(S.rangebreaks)for(N=0;N<R;N++)O[N]=S.maskBreaks(O[N]);return O},S.isValidRange=function(w){return Array.isArray(w)&&w.length===2&&r(S.r2l(w[0]))&&r(S.r2l(w[1]))},S.isPtWithinRange=function(w,B){var E=S.c2l(w[K],null,B),b=S.r2l(S.range[0]),O=S.r2l(S.range[1]);return b<O?b<=E&&E<=O:O<=E&&E<=b},S._emptyCategories=function(){S._categories=[],S._categoriesMap={}},S.clearCalc=function(){var w=S._matchGroup;if(w){var B=null,E=null;for(var b in w){var O=U[v.id2name(b)];if(O._categories){B=O._categories,E=O._categoriesMap;break}}B&&E?(S._categories=B,S._categoriesMap=E):S._emptyCategories()}else S._emptyCategories();if(S._initialCategories)for(var N=0;N<S._initialCategories.length;N++)Z(S._initialCategories[N])},S.sortByInitialCategories=function(){var w=[];if(S._emptyCategories(),S._initialCategories)for(var B=0;B<S._initialCategories.length;B++)Z(S._initialCategories[B]);w=w.concat(S._traceIndices);var E=S._matchGroup;for(var b in E)if(W!==b){var O=U[v.id2name(b)];O._categories=S._categories,O._categoriesMap=S._categoriesMap,w=w.concat(O._traceIndices)}return w};var c=U._d3locale;S.type==="date"&&(S._dateFormat=c?c.timeFormat:a,S._extraFormat=U._extraFormat),S._separators=U.separators,S._numFormat=c?c.numberFormat:n,delete S._minDtick,delete S._forceTick0}},{"../../constants/numerical":212,"../../lib":232,"./axis_ids":283,"./constants":286,"@plotly/d3":11,"d3-time-format":14,"fast-isnumeric":17}],302:[function(t,P,k){P.exports=function(a){var i=["showexponent","showtickprefix","showticksuffix"],n=i.filter(function(f){return a[f]!==void 0}),r=function(f){return a[f]===a[n[0]]};if(n.every(r)||n.length===1)return a[n[0]]}},{}],303:[function(t,P,k){var e=t("../../lib"),a=t("../../components/color").contrast,i=t("./layout_attributes"),n=t("./show_dflt"),r=t("../array_container_defaults");P.exports=function(s,o,h,p,d){d||(d={});var y=n(s),g=h("showticklabels");if(g){var D=d.font||{},C=o.color,L=o.ticklabelposition||"",x=L.indexOf("inside")!==-1?a(d.bgColor):C&&C!==i.color.dflt?C:D.color;if(e.coerceFont(h,"tickfont",{family:D.family,size:D.size,color:x}),d.noAng||h("tickangle"),p!=="category"){var M=h("tickformat");r(s,o,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:f}),o.tickformatstops.length||delete o.tickformatstops,!d.noExp&&!M&&p!=="date"&&(h("showexponent",y),h("exponentformat"),h("minexponent"),h("separatethousands"))}}};function f(u,s){function o(p,d){return e.coerce(u,s,i.tickformatstops,p,d)}var h=o("enabled");h&&(o("dtickrange"),o("value"))}},{"../../components/color":102,"../../lib":232,"../array_container_defaults":274,"./layout_attributes":294,"./show_dflt":302}],304:[function(t,P,k){var e=t("../../lib"),a=t("./layout_attributes");P.exports=function(n,r,f,u){var s=e.coerce2(n,r,a,"ticklen"),o=e.coerce2(n,r,a,"tickwidth"),h=e.coerce2(n,r,a,"tickcolor",r.color),p=f("ticks",u.outerTicks||s||o||h?"outside":"");p||(delete r.ticklen,delete r.tickwidth,delete r.tickcolor)}},{"../../lib":232,"./layout_attributes":294}],305:[function(t,P,k){var e=t("./clean_ticks"),a=t("../../lib").isArrayOrTypedArray;P.exports=function(n,r,f,u){function s(C){var L=n[C];return L!==void 0?L:(r._template||{})[C]}var o=s("tick0"),h=s("dtick"),p=s("tickvals"),d=a(p)?"array":h?"linear":"auto",y=f("tickmode",d);if(y==="auto")f("nticks");else if(y==="linear"){var g=r.dtick=e.dtick(h,u);r.tick0=e.tick0(o,u,r.calendar,g)}else if(u!=="multicategory"){var D=f("tickvals");D===void 0?r.tickmode="auto":f("ticktext")}}},{"../../lib":232,"./clean_ticks":285}],306:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../registry"),i=t("../../lib"),n=t("../../components/drawing"),r=t("./axes");P.exports=function(u,s,o,h){var p=u._fullLayout;if(s.length===0){r.redrawComponents(u);return}function d(A){var V=A.xaxis,T=A.yaxis;p._defs.select("#"+A.clipId+"> rect").call(n.setTranslate,0,0).call(n.setScale,1,1),A.plot.call(n.setTranslate,V._offset,T._offset).call(n.setScale,1,1);var Y=A.plot.selectAll(".scatterlayer .trace");Y.selectAll(".point").call(n.setPointGroupScale,1,1),Y.selectAll(".textpoint").call(n.setTextPointsScale,1,1),Y.call(n.hideOutsideRangePoints,A)}function y(A,V){var T=A.plotinfo,Y=T.xaxis,G=T.yaxis,S=Y._length,U=G._length,W=!!A.xr1,K=!!A.yr1,J=[];if(W){var ae=i.simpleMap(A.xr0,Y.r2l),z=i.simpleMap(A.xr1,Y.r2l),H=ae[1]-ae[0],Z=z[1]-z[0];J[0]=(ae[0]*(1-V)+V*z[0]-ae[0])/(ae[1]-ae[0])*S,J[2]=S*(1-V+V*Z/H),Y.range[0]=Y.l2r(ae[0]*(1-V)+V*z[0]),Y.range[1]=Y.l2r(ae[1]*(1-V)+V*z[1])}else J[0]=0,J[2]=S;if(K){var re=i.simpleMap(A.yr0,G.r2l),ie=i.simpleMap(A.yr1,G.r2l),ue=re[1]-re[0],ge=ie[1]-ie[0];J[1]=(re[1]*(1-V)+V*ie[1]-re[1])/(re[0]-re[1])*U,J[3]=U*(1-V+V*ge/ue),G.range[0]=Y.l2r(re[0]*(1-V)+V*ie[0]),G.range[1]=G.l2r(re[1]*(1-V)+V*ie[1])}else J[1]=0,J[3]=U;r.drawOne(u,Y,{skipTitle:!0}),r.drawOne(u,G,{skipTitle:!0}),r.redrawComponents(u,[Y._id,G._id]);var ee=W?S/J[2]:1,q=K?U/J[3]:1,ne=W?J[0]:0,oe=K?J[1]:0,Q=W?J[0]/J[2]*S:0,c=K?J[1]/J[3]*U:0,w=Y._offset-Q,B=G._offset-c;T.clipRect.call(n.setTranslate,ne,oe).call(n.setScale,1/ee,1/q),T.plot.call(n.setTranslate,w,B).call(n.setScale,ee,q),n.setPointGroupScale(T.zoomScalePts,1/ee,1/q),n.setTextPointsScale(T.zoomScaleTxt,1/ee,1/q)}var g;h&&(g=h());function D(){for(var A={},V=0;V<s.length;V++){var T=s[V],Y=T.plotinfo.xaxis,G=T.plotinfo.yaxis;T.xr1&&(A[Y._name+".range"]=T.xr1.slice()),T.yr1&&(A[G._name+".range"]=T.yr1.slice())}return g&&g(),a.call("relayout",u,A).then(function(){for(var S=0;S<s.length;S++)d(s[S].plotinfo)})}function C(){for(var A={},V=0;V<s.length;V++){var T=s[V],Y=T.plotinfo.xaxis,G=T.plotinfo.yaxis;T.xr0&&(A[Y._name+".range"]=T.xr0.slice()),T.yr0&&(A[G._name+".range"]=T.yr0.slice())}return a.call("relayout",u,A).then(function(){for(var S=0;S<s.length;S++)d(s[S].plotinfo)})}var L,x,M,v=e.ease(o.easing);u._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(M),M=null,C()});function m(){x=Date.now();for(var A=Math.min(1,(x-L)/o.duration),V=v(A),T=0;T<s.length;T++)y(s[T],V);x-L>o.duration?(D(),M=window.cancelAnimationFrame(m)):M=window.requestAnimationFrame(m)}return L=Date.now(),M=window.requestAnimationFrame(m),Promise.resolve()}},{"../../components/drawing":124,"../../lib":232,"../../registry":318,"./axes":279,"@plotly/d3":11}],307:[function(t,P,k){var e=t("../../registry").traceIs,a=t("./axis_autotype");P.exports=function(s,o,h,p){h("autotypenumbers",p.autotypenumbersDflt);var d=h("type",(p.splomStash||{}).type);d==="-"&&(i(o,p.data),o.type==="-"?o.type="linear":s.type=o.type)};function i(u,s){if(u.type==="-"){var o=u._id,h=o.charAt(0),p;o.indexOf("scene")!==-1&&(o=h);var d=n(s,o,h);if(!!d){if(d.type==="histogram"&&h==={v:"y",h:"x"}[d.orientation||"v"]){u.type="linear";return}var y=h+"calendar",g=d[y],D={noMultiCategory:!e(d,"cartesian")||e(d,"noMultiCategory")};if(d.type==="box"&&d._hasPreCompStats&&h==={h:"x",v:"y"}[d.orientation||"v"]&&(D.noMultiCategory=!0),D.autotypenumbers=u.autotypenumbers,f(d,h)){var C=r(d),L=[];for(p=0;p<s.length;p++){var x=s[p];!e(x,"box-violin")||(x[h+"axis"]||h)!==o||(x[C]!==void 0?L.push(x[C][0]):x.name!==void 0?L.push(x.name):L.push("text"),x[y]!==g&&(g=void 0))}u.type=a(L,g,D)}else if(d.type==="splom"){var M=d.dimensions,v=M[d._axesDim[o]];v.visible&&(u.type=a(v.values,g,D))}else u.type=a(d[h]||[d[h+"0"]],g,D)}}}function n(u,s,o){for(var h=0;h<u.length;h++){var p=u[h];if(p.type==="splom"&&p._length>0&&(p["_"+o+"axes"]||{})[s])return p;if((p[o+"axis"]||o)===s){if(f(p,o))return p;if((p[o]||[]).length||p[o+"0"])return p}}}function r(u){return{v:"x",h:"y"}[u.orientation||"v"]}function f(u,s){var o=r(u),h=e(u,"box-violin"),p=e(u._fullInput||{},"candlestick");return h&&!p&&s===o&&u[o]===void 0&&u[o+"0"]===void 0}},{"../../registry":318,"./axis_autotype":280}],308:[function(t,P,k){var e=t("../registry"),a=t("../lib");k.manageCommandObserver=function(s,o,h,p){var d={},y=!0;o&&o._commandObserver&&(d=o._commandObserver),d.cache||(d.cache={}),d.lookupTable={};var g=k.hasSimpleAPICommandBindings(s,h,d.lookupTable);if(o&&o._commandObserver){if(g)return d;if(o._commandObserver.remove)return o._commandObserver.remove(),o._commandObserver=null,d}if(g){i(s,g,d.cache),d.check=function(){if(!!y){var x=i(s,g,d.cache);return x.changed&&p&&d.lookupTable[x.value]!==void 0&&(d.disable(),Promise.resolve(p({value:x.value,type:g.type,prop:g.prop,traces:g.traces,index:d.lookupTable[x.value]})).then(d.enable,d.enable)),x.changed}};for(var D=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],C=0;C<D.length;C++)s._internalOn(D[C],d.check);d.remove=function(){for(var L=0;L<D.length;L++)s._removeInternalListener(D[L],d.check)}}else a.log("Unable to automatically bind plot updates to API command"),d.lookupTable={},d.remove=function(){};return d.disable=function(){y=!1},d.enable=function(){y=!0},o&&(o._commandObserver=d),d},k.hasSimpleAPICommandBindings=function(s,o,h){var p,d=o.length,y;for(p=0;p<d;p++){var g,D=o[p],C=D.method,L=D.args;if(Array.isArray(L)||(L=[]),!C)return!1;var x=k.computeAPICommandBindings(s,C,L);if(x.length!==1)return!1;if(!y)y=x[0],Array.isArray(y.traces)&&y.traces.sort();else{if(g=x[0],g.type!==y.type||g.prop!==y.prop)return!1;if(Array.isArray(y.traces))if(Array.isArray(g.traces)){g.traces.sort();for(var M=0;M<y.traces.length;M++)if(y.traces[M]!==g.traces[M])return!1}else return!1;else if(g.prop!==y.prop)return!1}g=x[0];var v=g.value;if(Array.isArray(v))if(v.length===1)v=v[0];else return!1;h&&(h[v]=p)}return y};function i(s,o,h){var p,d,y,g=!1;if(o.type==="data")p=s._fullData[o.traces!==null?o.traces[0]:0];else if(o.type==="layout")p=s._fullLayout;else return!1;return d=a.nestedProperty(p,o.prop).get(),y=h[o.type]=h[o.type]||{},y.hasOwnProperty(o.prop)&&y[o.prop]!==d&&(g=!0),y[o.prop]=d,{changed:g,value:d}}k.executeAPICommand=function(s,o,h){if(o==="skip")return Promise.resolve();var p=e.apiMethodRegistry[o],d=[s];Array.isArray(h)||(h=[]);for(var y=0;y<h.length;y++)d.push(h[y]);return p.apply(null,d).catch(function(g){return a.warn("API call to Plotly."+o+" rejected.",g),Promise.reject(g)})},k.computeAPICommandBindings=function(s,o,h){var p;switch(Array.isArray(h)||(h=[]),o){case"restyle":p=f(s,h);break;case"relayout":p=r(s,h);break;case"update":p=f(s,[h[0],h[2]]).concat(r(s,[h[1]]));break;case"animate":p=n(s,h);break;default:p=[]}return p};function n(s,o){return Array.isArray(o[0])&&o[0].length===1&&["string","number"].indexOf(typeof o[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:o[0][0].toString()}]:[]}function r(s,o){var h=[],p=o[0],d={};if(typeof p=="string")d[p]=o[1];else if(a.isPlainObject(p))d=p;else return h;return u(d,function(y,g,D){h.push({type:"layout",prop:y,value:D})},"",0),h}function f(s,o){var h,p,d,y,g=[];if(p=o[0],d=o[1],h=o[2],y={},typeof p=="string")y[p]=d;else if(a.isPlainObject(p))y=p,h===void 0&&(h=d);else return g;return h===void 0&&(h=null),u(y,function(D,C,L){var x,M;if(Array.isArray(L)){M=L.slice();var v=Math.min(M.length,s.data.length);h&&(v=Math.min(v,h.length)),x=[];for(var m=0;m<v;m++)x[m]=h?h[m]:m}else M=L,x=h?h.slice():null;if(x===null)Array.isArray(M)&&(M=M[0]);else if(Array.isArray(x)){if(!Array.isArray(M)){var A=M;M=[];for(var V=0;V<x.length;V++)M[V]=A}M.length=Math.min(x.length,M.length)}g.push({type:"data",prop:D,traces:x,value:M})},"",0),g}function u(s,o,h,p){Object.keys(s).forEach(function(d){var y=s[d];if(d[0]!=="_"){var g=h+(p>0?".":"")+d;a.isPlainObject(y)?u(y,o,g,p+1):o(g,d,y)}})}},{"../lib":232,"../registry":318}],309:[function(t,P,k){var e=t("../lib/extend").extendFlat;k.attributes=function(a,i){a=a||{},i=i||{};var n={valType:"info_array",editType:a.editType,items:[{valType:"number",min:0,max:1,editType:a.editType},{valType:"number",min:0,max:1,editType:a.editType}],dflt:[0,1]};a.name&&a.name+"",a.trace,i.description&&""+i.description;var r={x:e({},n,{}),y:e({},n,{}),editType:a.editType};return a.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:a.editType},r.column={valType:"integer",min:0,dflt:0,editType:a.editType}),r},k.defaults=function(a,i,n,r){var f=r&&r.x||[0,1],u=r&&r.y||[0,1],s=i.grid;if(s){var o=n("domain.column");o!==void 0&&(o<s.columns?f=s._domains.x[o]:delete a.domain.column);var h=n("domain.row");h!==void 0&&(h<s.rows?u=s._domains.y[h]:delete a.domain.row)}var p=n("domain.x",f),d=n("domain.y",u);p[0]<p[1]||(a.domain.x=f.slice()),d[0]<d[1]||(a.domain.y=u.slice())}},{"../lib/extend":226}],310:[function(t,P,k){P.exports=function(e){var a=e.editType,i=e.colorEditType;i===void 0&&(i=a);var n={family:{valType:"string",noBlank:!0,strict:!0,editType:a},size:{valType:"number",min:1,editType:a},color:{valType:"color",editType:i},editType:a};return e.autoSize&&(n.size.dflt="auto"),e.autoColor&&(n.color.dflt="auto"),e.arrayOk&&(n.family.arrayOk=!0,n.size.arrayOk=!0,n.color.arrayOk=!0),n}},{}],311:[function(t,P,k){P.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],312:[function(t,P,k){var e=t("../registry"),a=t("./cartesian/constants").SUBPLOT_PATTERN;k.getSubplotCalcData=function(i,n,r){var f=e.subplotsRegistry[n];if(!f)return[];for(var u=f.attr,s=[],o=0;o<i.length;o++){var h=i[o],p=h[0].trace;p[u]===r&&s.push(h)}return s},k.getModuleCalcData=function(i,n){var r=[],f=[],u;if(typeof n=="string"?u=e.getModule(n).plot:typeof n=="function"?u=n:u=n.plot,!u)return[r,i];for(var s=0;s<i.length;s++){var o=i[s],h=o[0].trace;h.visible!==!0||h._length===0||(h._module.plot===u?r.push(o):f.push(o))}return[r,f]},k.getSubplotData=function(n,r,f){if(!e.subplotsRegistry[r])return[];var u=e.subplotsRegistry[r].attr,s=[],o,h,p;if(r==="gl2d"){var d=f.match(a);h="x"+d[1],p="y"+d[2]}for(var y=0;y<n.length;y++)o=n[y],r==="gl2d"&&e.traceIs(o,"gl2d")?o[u[0]]===h&&o[u[1]]===p&&s.push(o):o[u]===f&&s.push(o);return s}},{"../registry":318,"./cartesian/constants":286}],313:[function(t,P,k){function e(i,n){var r=[0,0,0,0],f,u;for(f=0;f<4;++f)for(u=0;u<4;++u)r[u]+=i[4*f+u]*n[f];return r}function a(i,n){var r=e(i.projection,e(i.view,e(i.model,[n[0],n[1],n[2],1])));return r}P.exports=a},{}],314:[function(t,P,k){var e=t("./font_attributes"),a=t("./animation_attributes"),i=t("../components/color/attributes"),n=t("../components/shapes/draw_newshape/attributes"),r=t("./pad_attributes"),f=t("../lib/extend").extendFlat,u=e({editType:"calc"});u.family.dflt='"Open Sans", verdana, arial, sans-serif',u.size.dflt=12,u.color.dflt=i.defaultLine,P.exports={font:u,title:{text:{valType:"string",editType:"layoutstyle"},font:e({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:f(r({editType:"layoutstyle"}),{}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:n.newshape,activeshape:n.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:f({},a.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:e({editType:"layoutstyle"})}}},{"../components/color/attributes":101,"../components/shapes/draw_newshape/attributes":187,"../lib/extend":226,"./animation_attributes":273,"./font_attributes":310,"./pad_attributes":315}],315:[function(t,P,k){P.exports=function(e){var a=e.editType;return{t:{valType:"number",dflt:0,editType:a},r:{valType:"number",dflt:0,editType:a},b:{valType:"number",dflt:0,editType:a},l:{valType:"number",dflt:0,editType:a},editType:a}}},{}],316:[function(t,P,k){var e=t("@plotly/d3"),a=t("d3-time-format").timeFormatLocale,i=t("d3-format").formatLocale,n=t("fast-isnumeric"),r=t("../registry"),f=t("../plot_api/plot_schema"),u=t("../plot_api/plot_template"),s=t("../lib"),o=t("../components/color"),h=t("../constants/numerical").BADNUM,p=t("./cartesian/axis_ids"),d=t("./cartesian/handle_outline").clearSelect,y=t("./animation_attributes"),g=t("./frame_attributes"),D=t("../plots/get_data").getModuleCalcData,C=s.relinkPrivateKeys,L=s._,x=P.exports={};s.extendFlat(x,r),x.attributes=t("./attributes"),x.attributes.type.values=x.allTypes,x.fontAttrs=t("./font_attributes"),x.layoutAttributes=t("./layout_attributes"),x.fontWeight="normal";var M=x.transformsRegistry,v=t("./command");x.executeAPICommand=v.executeAPICommand,x.computeAPICommandBindings=v.computeAPICommandBindings,x.manageCommandObserver=v.manageCommandObserver,x.hasSimpleAPICommandBindings=v.hasSimpleAPICommandBindings,x.redrawText=function(c){return c=s.getGraphDiv(c),new Promise(function(w){setTimeout(function(){!c._fullLayout||(r.getComponentMethod("annotations","draw")(c),r.getComponentMethod("legend","draw")(c),r.getComponentMethod("colorbar","draw")(c),w(x.previousPromises(c)))},300)})},x.resize=function(c){c=s.getGraphDiv(c);var w,B=new Promise(function(E,b){(!c||s.isHidden(c))&&b(new Error("Resize must be passed a displayed plot div element.")),c._redrawTimer&&clearTimeout(c._redrawTimer),c._resolveResize&&(w=c._resolveResize),c._resolveResize=E,c._redrawTimer=setTimeout(function(){if(!c.layout||c.layout.width&&c.layout.height||s.isHidden(c)){E(c);return}delete c.layout.width,delete c.layout.height;var O=c.changed;c.autoplay=!0,r.call("relayout",c,{autosize:!0}).then(function(){c.changed=O,c._resolveResize===E&&(delete c._resolveResize,E(c))})},100)});return w&&w(B),B},x.previousPromises=function(c){if((c._promises||[]).length)return Promise.all(c._promises).then(function(){c._promises=[]})},x.addLinks=function(c){if(!(!c._context.showLink&&!c._context.showSources)){var w=c._fullLayout,B=s.ensureSingle(w._paper,"text","js-plot-link-container",function(j){j.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:o.defaultLine,"pointer-events":"all"}).each(function(){var se=e.select(this);se.append("tspan").classed("js-link-to-tool",!0),se.append("tspan").classed("js-link-spacer",!0),se.append("tspan").classed("js-sourcelinks",!0)})}),E=B.node(),b={y:w._paper.attr("height")-9};document.body.contains(E)&&E.getComputedTextLength()>=w.width-20?(b["text-anchor"]="start",b.x=5):(b["text-anchor"]="end",b.x=w._paper.attr("width")-7),B.attr(b);var O=B.select(".js-link-to-tool"),N=B.select(".js-link-spacer"),R=B.select(".js-sourcelinks");c._context.showSources&&c._context.showSources(c),c._context.showLink&&m(c,O),N.text(O.text()&&R.text()?" - ":"")}};function m(c,w){w.text("");var B=w.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(c._context.linkText+" "+String.fromCharCode(187));if(c._context.sendData)B.on("click",function(){x.sendDataToCloud(c)});else{var E=window.location.pathname.split("/"),b=window.location.search;B.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+E[2].split(".")[0]+"/"+E[1]+b})}}x.sendDataToCloud=function(c){var w=(window.PLOTLYENV||{}).BASE_URL||c._context.plotlyServerURL;if(!!w){c.emit("plotly_beforeexport");var B=e.select(c).append("div").attr("id","hiddenform").style("display","none"),E=B.append("form").attr({action:w+"/external",method:"post",target:"_blank"}),b=E.append("input").attr({type:"text",name:"data"});return b.node().value=x.graphJson(c,!1,"keepdata"),E.node().submit(),B.remove(),c.emit("plotly_afterexport"),!1}};var A=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],V=["year","month","dayMonth","dayMonthYear"];x.supplyDefaults=function(c,w){var B=w&&w.skipUpdateCalc,E=c._fullLayout||{};if(E._skipDefaults){delete E._skipDefaults;return}var b=c._fullLayout={},O=c.layout||{},N=c._fullData||[],R=c._fullData=[],j=c.data||[],se=c.calcdata||[],fe=c._context||{},ce;c._transitionData||x.createTransitionData(c),b._dfltTitle={plot:L(c,"Click to enter Plot title"),x:L(c,"Click to enter X axis title"),y:L(c,"Click to enter Y axis title"),colorbar:L(c,"Click to enter Colorscale title"),annotation:L(c,"new text")},b._traceWord=L(c,"trace");var ye=G(c,A);if(b._mapboxAccessToken=fe.mapboxAccessToken,E._initialAutoSizeIsDone){var xe=E.width,De=E.height;x.supplyLayoutGlobalDefaults(O,b,ye),O.width||(b.width=xe),O.height||(b.height=De),x.sanitizeMargins(b)}else{x.supplyLayoutGlobalDefaults(O,b,ye);var ke=!O.width||!O.height,Ne=b.autosize,Ue=fe.autosizable,Ce=ke&&(Ne||Ue);Ce?x.plotAutoSize(c,O,b):ke&&x.sanitizeMargins(b),!Ne&&ke&&(O.width=b.width,O.height=b.height)}b._d3locale=S(ye,b.separators),b._extraFormat=G(c,V),b._initialAutoSizeIsDone=!0,b._dataLength=j.length,b._modules=[],b._visibleModules=[],b._basePlotModules=[];var _e=b._subplots=Y(),Ie=b._splomAxes={x:{},y:{}},Ze=b._splomSubplots={};b._splomGridDflt={},b._scatterStackOpts={},b._firstScatter={},b._alignmentOpts={},b._colorAxes={},b._requestRangeslider={},b._traceUids=T(N,j),b._globalTransforms=(c._context||{}).globalTransforms,x.supplyDataDefaults(j,R,O,b);var gt=Object.keys(Ie.x),Ve=Object.keys(Ie.y);if(gt.length>1&&Ve.length>1){for(r.getComponentMethod("grid","sizeDefaults")(O,b),ce=0;ce<gt.length;ce++)s.pushUnique(_e.xaxis,gt[ce]);for(ce=0;ce<Ve.length;ce++)s.pushUnique(_e.yaxis,Ve[ce]);for(var We in Ze)s.pushUnique(_e.cartesian,We)}if(b._has=x._hasPlotType.bind(b),N.length===R.length)for(ce=0;ce<R.length;ce++)C(R[ce],N[ce]);x.supplyLayoutModuleDefaults(O,b,R,c._transitionData);var Ke=b._visibleModules,ut=[];for(ce=0;ce<Ke.length;ce++){var mt=Ke[ce].crossTraceDefaults;mt&&s.pushUnique(ut,mt)}for(ce=0;ce<ut.length;ce++)ut[ce](R,b);b._hasOnlyLargeSploms=b._basePlotModules.length===1&&b._basePlotModules[0].name==="splom"&&gt.length>15&&Ve.length>15&&b.shapes.length===0&&b.images.length===0,x.linkSubplots(R,b,N,E),x.cleanPlot(R,b,N,E);var Lt=!!(E._has&&E._has("gl2d")),rt=!!(b._has&&b._has("gl2d")),dt=!!(E._has&&E._has("cartesian")),ot=!!(b._has&&b._has("cartesian")),pt=dt||Lt,Ct=ot||rt;pt&&!Ct?E._bgLayer.remove():Ct&&!pt&&(b._shouldCreateBgLayer=!0),E._zoomlayer&&!c._dragging&&d({_fullLayout:E}),U(R,b),C(b,E),r.getComponentMethod("colorscale","crossTraceDefaults")(R,b),b._preGUI||(b._preGUI={}),b._tracePreGUI||(b._tracePreGUI={});var Ee=b._tracePreGUI,Oe={},at;for(at in Ee)Oe[at]="old";for(ce=0;ce<R.length;ce++)at=R[ce]._fullInput.uid,Oe[at]||(Ee[at]={}),Oe[at]="new";for(at in Oe)Oe[at]==="old"&&delete Ee[at];z(b),r.getComponentMethod("rangeslider","makeData")(b),!B&&se.length===R.length&&x.supplyDefaultsUpdateCalc(se,R)},x.supplyDefaultsUpdateCalc=function(c,w){for(var B=0;B<w.length;B++){var E=w[B],b=(c[B]||[])[0];if(b&&b.trace){var O=b.trace;if(O._hasCalcTransform){var N=O._arrayAttrs,R,j,se;for(R=0;R<N.length;R++)j=N[R],se=s.nestedProperty(O,j).get().slice(),s.nestedProperty(E,j).set(se)}b.trace=E}}};function T(c,w){var B=w.length,E=[],b,O;for(b=0;b<c.length;b++){var N=c[b]._fullInput;N!==O&&E.push(N),O=N}var R=E.length,j=new Array(B),se={};function fe(xe,De){j[De]=xe,se[xe]=1}function ce(xe,De){if(xe&&typeof xe=="string"&&!se[xe])return fe(xe,De),!0}for(b=0;b<B;b++){var ye=w[b].uid;typeof ye=="number"&&(ye=String(ye)),!ce(ye,b)&&(b<R&&ce(E[b].uid,b)||fe(s.randstr(se),b))}return j}function Y(){var c=r.collectableSubplotTypes,w={},B,E;if(!c){c=[];var b=r.subplotsRegistry;for(var O in b){var N=b[O],R=N.attr;if(R&&(c.push(O),Array.isArray(R)))for(E=0;E<R.length;E++)s.pushUnique(c,R[E])}}for(B=0;B<c.length;B++)w[c[B]]=[];return w}function G(c,w){var B=c._context.locale;B||(B="en-US");var E=!1,b={};function O(ce){for(var ye=!0,xe=0;xe<w.length;xe++){var De=w[xe];b[De]||(ce[De]?b[De]=ce[De]:ye=!1)}ye&&(E=!0)}for(var N=0;N<2;N++){for(var R=c._context.locales,j=0;j<2;j++){var se=(R[B]||{}).format;if(se&&(O(se),E))break;R=r.localeRegistry}var fe=B.split("-")[0];if(E||fe===B)break;B=fe}return E||O(r.localeRegistry.en.format),b}function S(c,w){return c.decimal=w.charAt(0),c.thousands=w.charAt(1),{numberFormat:function(B){try{B=i(c).format(s.adjustFormat(B))}catch{return s.warnBadFormat(B),s.noFormat}return B},timeFormat:a(c).utcFormat}}function U(c,w){var B,E=[];w.meta&&(B=w._meta={meta:w.meta,layout:{meta:w.meta}});for(var b=0;b<c.length;b++){var O=c[b];O.meta?E[O.index]=O._meta={meta:O.meta}:w.meta&&(O._meta={meta:w.meta}),w.meta&&(O._meta.layout={meta:w.meta})}E.length&&(B||(B=w._meta={}),B.data=E)}x.createTransitionData=function(c){c._transitionData||(c._transitionData={}),c._transitionData._frames||(c._transitionData._frames=[]),c._transitionData._frameHash||(c._transitionData._frameHash={}),c._transitionData._counter||(c._transitionData._counter=0),c._transitionData._interruptCallbacks||(c._transitionData._interruptCallbacks=[])},x._hasPlotType=function(c){var w,B=this._basePlotModules||[];for(w=0;w<B.length;w++)if(B[w].name===c)return!0;var E=this._modules||[];for(w=0;w<E.length;w++){var b=E[w].name;if(b===c)return!0;var O=r.modules[b];if(O&&O.categories[c])return!0}return!1},x.cleanPlot=function(c,w,B,E){var b,O,N=E._basePlotModules||[];for(b=0;b<N.length;b++){var R=N[b];R.clean&&R.clean(c,w,B,E)}var j=E._has&&E._has("gl"),se=w._has&&w._has("gl");j&&!se&&E._glcontainer!==void 0&&(E._glcontainer.selectAll(".gl-canvas").remove(),E._glcontainer.selectAll(".no-webgl").remove(),E._glcanvas=null);var fe=!!E._infolayer;e:for(b=0;b<B.length;b++){var ce=B[b],ye=ce.uid;for(O=0;O<c.length;O++){var xe=c[O];if(ye===xe.uid)continue e}fe&&E._infolayer.select(".cb"+ye).remove()}},x.linkSubplots=function(c,w,B,E){var b,O,N=E._plots||{},R=w._plots={},j=w._subplots,se={_fullData:c,_fullLayout:w},fe=j.cartesian.concat(j.gl2d||[]);for(b=0;b<fe.length;b++){var ce=fe[b],ye=N[ce],xe=p.getFromId(se,ce,"x"),De=p.getFromId(se,ce,"y"),ke;for(ye?ke=R[ce]=ye:(ke=R[ce]={},ke.id=ce),xe._counterAxes.push(De._id),De._counterAxes.push(xe._id),xe._subplotsWith.push(ce),De._subplotsWith.push(ce),ke.xaxis=xe,ke.yaxis=De,ke._hasClipOnAxisFalse=!1,O=0;O<c.length;O++){var Ne=c[O];if(Ne.xaxis===ke.xaxis._id&&Ne.yaxis===ke.yaxis._id&&Ne.cliponaxis===!1){ke._hasClipOnAxisFalse=!0;break}}}var Ue=p.list(se,null,!0),Ce;for(b=0;b<Ue.length;b++){Ce=Ue[b];var _e=null;Ce.overlaying&&(_e=p.getFromId(se,Ce.overlaying),_e&&_e.overlaying&&(Ce.overlaying=!1,_e=null)),Ce._mainAxis=_e||Ce,_e&&(Ce.domain=_e.domain.slice()),Ce._anchorAxis=Ce.anchor==="free"?null:p.getFromId(se,Ce.anchor)}for(b=0;b<Ue.length;b++)if(Ce=Ue[b],Ce._counterAxes.sort(p.idSort),Ce._subplotsWith.sort(s.subplotSort),Ce._mainSubplot=W(Ce,w),Ce._counterAxes.length&&(Ce.spikemode&&Ce.spikemode.indexOf("across")!==-1||Ce.automargin&&Ce.mirror&&Ce.anchor!=="free"||r.getComponentMethod("rangeslider","isVisible")(Ce))){var Ie=1,Ze=0;for(O=0;O<Ce._counterAxes.length;O++){var gt=p.getFromId(se,Ce._counterAxes[O]);Ie=Math.min(Ie,gt.domain[0]),Ze=Math.max(Ze,gt.domain[1])}Ie<Ze&&(Ce._counterDomainMin=Ie,Ce._counterDomainMax=Ze)}};function W(c,w){var B={_fullLayout:w},E=c._id.charAt(0)==="x",b=c._mainAxis._anchorAxis,O="",N="",R="";if(b&&(R=b._mainAxis._id,O=E?c._id+R:R+c._id),!O||!w._plots[O]){O="";for(var j=c._counterAxes,se=0;se<j.length;se++){var fe=j[se],ce=E?c._id+fe:fe+c._id;N||(N=ce);var ye=p.getFromId(B,fe);if(R&&ye.overlaying===R){O=ce;break}}}return O||N}x.clearExpandedTraceDefaultColors=function(c){var w,B,E;function b(N,R,j,se){B[se]=R,B.length=se+1,N.valType==="color"&&N.dflt===void 0&&w.push(B.join("."))}for(B=[],w=c._module._colorAttrs,w||(c._module._colorAttrs=w=[],f.crawl(c._module.attributes,b)),E=0;E<w.length;E++){var O=s.nestedProperty(c,"_input."+w[E]);O.get()||s.nestedProperty(c,w[E]).set(null)}},x.supplyDataDefaults=function(c,w,B,E){var b=E._modules,O=E._visibleModules,N=E._basePlotModules,R=0,j=0,se,fe,ce;E._transformModules=[];function ye(Ve){w.push(Ve);var We=Ve._module;!We||(s.pushUnique(b,We),Ve.visible===!0&&s.pushUnique(O,We),s.pushUnique(N,Ve._module.basePlotModule),R++,Ve._input.visible!==!1&&j++)}var xe={},De=[],ke=(B.template||{}).data||{},Ne=u.traceTemplater(ke);for(se=0;se<c.length;se++){if(ce=c[se],fe=Ne.newTrace(ce),fe.uid=E._traceUids[se],x.supplyTraceDefaults(ce,fe,j,E,se),fe.index=se,fe._input=ce,fe._expandedIndex=R,fe.transforms&&fe.transforms.length)for(var Ue=ce.visible!==!1&&fe.visible===!1,Ce=J(fe,w,B,E),_e=0;_e<Ce.length;_e++){var Ie=Ce[_e],Ze={_template:fe._template,type:fe.type,uid:fe.uid+_e};Ue&&Ie.visible===!1&&delete Ie.visible,x.supplyTraceDefaults(Ie,Ze,R,E,se),C(Ze,Ie),Ze.index=se,Ze._input=ce,Ze._fullInput=fe,Ze._expandedIndex=R,Ze._expandedInput=Ie,ye(Ze)}else fe._fullInput=fe,fe._expandedInput=fe,ye(fe);r.traceIs(fe,"carpetAxis")&&(xe[fe.carpet]=fe),r.traceIs(fe,"carpetDependent")&&De.push(se)}for(se=0;se<De.length;se++)if(fe=w[De[se]],!!fe.visible){var gt=xe[fe.carpet];if(fe._carpet=gt,!gt||!gt.visible){fe.visible=!1;continue}fe.xaxis=gt.xaxis,fe.yaxis=gt.yaxis}},x.supplyAnimationDefaults=function(c){c=c||{};var w,B={};function E(b,O){return s.coerce(c||{},B,y,b,O)}if(E("mode"),E("direction"),E("fromcurrent"),Array.isArray(c.frame))for(B.frame=[],w=0;w<c.frame.length;w++)B.frame[w]=x.supplyAnimationFrameDefaults(c.frame[w]||{});else B.frame=x.supplyAnimationFrameDefaults(c.frame||{});if(Array.isArray(c.transition))for(B.transition=[],w=0;w<c.transition.length;w++)B.transition[w]=x.supplyAnimationTransitionDefaults(c.transition[w]||{});else B.transition=x.supplyAnimationTransitionDefaults(c.transition||{});return B},x.supplyAnimationFrameDefaults=function(c){var w={};function B(E,b){return s.coerce(c||{},w,y.frame,E,b)}return B("duration"),B("redraw"),w},x.supplyAnimationTransitionDefaults=function(c){var w={};function B(E,b){return s.coerce(c||{},w,y.transition,E,b)}return B("duration"),B("easing"),w},x.supplyFrameDefaults=function(c){var w={};function B(E,b){return s.coerce(c,w,g,E,b)}return B("group"),B("name"),B("traces"),B("baseframe"),B("data"),B("layout"),w},x.supplyTraceDefaults=function(c,w,B,E,b){var O=E.colorway||o.defaults,N=O[B%O.length],R;function j(Ce,_e){return s.coerce(c,w,x.attributes,Ce,_e)}var se=j("visible");j("type"),j("name",E._traceWord+" "+b),j("uirevision",E.uirevision);var fe=x.getModule(w);if(w._module=fe,fe){var ce=fe.basePlotModule,ye=ce.attr,xe=ce.attributes;if(ye&&xe){var De=E._subplots,ke="";if(se||ce.name!=="gl2d"){if(Array.isArray(ye))for(R=0;R<ye.length;R++){var Ne=ye[R],Ue=s.coerce(c,w,xe,Ne);De[Ne]&&s.pushUnique(De[Ne],Ue),ke+=Ue}else ke=s.coerce(c,w,xe,ye);De[ce.name]&&s.pushUnique(De[ce.name],ke)}}}return se&&(j("customdata"),j("ids"),j("meta"),r.traceIs(w,"showLegend")?(s.coerce(c,w,fe.attributes.showlegend?fe.attributes:x.attributes,"showlegend"),j("legendgroup"),j("legendgrouptitle.text"),j("legendrank"),w._dfltShowLegend=!0):w._dfltShowLegend=!1,fe&&fe.supplyDefaults(c,w,N,E),r.traceIs(w,"noOpacity")||j("opacity"),r.traceIs(w,"notLegendIsolatable")&&(w.visible=!!w.visible),r.traceIs(w,"noHover")||(w.hovertemplate||s.coerceHoverinfo(c,w,E),w.type!=="parcats"&&r.getComponentMethod("fx","supplyDefaults")(c,w,N,E)),fe&&fe.selectPoints&&j("selectedpoints"),x.supplyTransformDefaults(c,w,E)),w};function K(c){var w=c.transforms;if(Array.isArray(w)&&w.length)for(var B=0;B<w.length;B++){var E=w[B],b=E._module||M[E.type];if(b&&b.makesData)return!0}return!1}x.hasMakesDataTransform=K,x.supplyTransformDefaults=function(c,w,B){if(!!(w._length||K(c))){var E=B._globalTransforms||[],b=B._transformModules||[];if(!(!Array.isArray(c.transforms)&&E.length===0))for(var O=c.transforms||[],N=E.concat(O),R=w.transforms=[],j=0;j<N.length;j++){var se=N[j],fe=se.type,ce=M[fe],ye,xe=!(se._module&&se._module===ce),De=ce&&typeof ce.transform=="function";ce||s.warn("Unrecognized transform type "+fe+"."),ce&&ce.supplyDefaults&&(xe||De)?(ye=ce.supplyDefaults(se,w,B,c),ye.type=fe,ye._module=ce,s.pushUnique(b,ce)):ye=s.extendFlat({},se),R.push(ye)}}};function J(c,w,B,E){for(var b=c.transforms,O=[c],N=0;N<b.length;N++){var R=b[N],j=M[R.type];j&&j.transform&&(O=j.transform(O,{transform:R,fullTrace:c,fullData:w,layout:B,fullLayout:E,transformIndex:N}))}return O}x.supplyLayoutGlobalDefaults=function(c,w,B){function E(se,fe){return s.coerce(c,w,x.layoutAttributes,se,fe)}var b=c.template;s.isPlainObject(b)&&(w.template=b,w._template=b.layout,w._dataTemplate=b.data),E("autotypenumbers");var O=s.coerceFont(E,"font"),N=O.size;s.coerceFont(E,"title.font",s.extendFlat({},O,{size:Math.round(N*1.4)})),E("title.text",w._dfltTitle.plot),E("title.xref"),E("title.yref"),E("title.x"),E("title.y"),E("title.xanchor"),E("title.yanchor"),E("title.pad.t"),E("title.pad.r"),E("title.pad.b"),E("title.pad.l");var R=E("uniformtext.mode");R&&E("uniformtext.minsize"),E("autosize",!(c.width&&c.height)),E("width"),E("height"),E("margin.l"),E("margin.r"),E("margin.t"),E("margin.b"),E("margin.pad"),E("margin.autoexpand"),c.width&&c.height&&x.sanitizeMargins(w),r.getComponentMethod("grid","sizeDefaults")(c,w),E("paper_bgcolor"),E("separators",B.decimal+B.thousands),E("hidesources"),E("colorway"),E("datarevision");var j=E("uirevision");E("editrevision",j),E("selectionrevision",j),r.getComponentMethod("modebar","supplyLayoutDefaults")(c,w),r.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(c,w,E),E("meta"),s.isPlainObject(c.transition)&&(E("transition.duration"),E("transition.easing"),E("transition.ordering")),r.getComponentMethod("calendars","handleDefaults")(c,w,"calendar"),r.getComponentMethod("fx","supplyLayoutGlobalDefaults")(c,w,E)};function ae(c){return typeof c=="string"&&c.substr(c.length-2)==="px"&&parseFloat(c)}x.plotAutoSize=function(w,B,E){var b=w._context||{},O=b.frameMargins,N,R,j=s.isPlotDiv(w);if(j&&w.emit("plotly_autosize"),b.fillFrame)N=window.innerWidth,R=window.innerHeight,document.body.style.overflow="hidden";else{var se=j?window.getComputedStyle(w):{};if(N=ae(se.width)||ae(se.maxWidth)||E.width,R=ae(se.height)||ae(se.maxHeight)||E.height,n(O)&&O>0){var fe=1-2*O;N=Math.round(fe*N),R=Math.round(fe*R)}}var ce=x.layoutAttributes.width.min,ye=x.layoutAttributes.height.min;N<ce&&(N=ce),R<ye&&(R=ye);var xe=!B.width&&Math.abs(E.width-N)>1,De=!B.height&&Math.abs(E.height-R)>1;(De||xe)&&(xe&&(E.width=N),De&&(E.height=R)),w._initialAutoSize||(w._initialAutoSize={width:N,height:R}),x.sanitizeMargins(E)},x.supplyLayoutModuleDefaults=function(c,w,B,E){var b=r.componentsRegistry,O=w._basePlotModules,N,R,j,se=r.subplotsRegistry.cartesian;for(N in b)j=b[N],j.includeBasePlot&&j.includeBasePlot(c,w);O.length||O.push(se),w._has("cartesian")&&(r.getComponentMethod("grid","contentDefaults")(c,w),se.finalizeSubplots(c,w));for(var fe in w._subplots)w._subplots[fe].sort(s.subplotSort);for(R=0;R<O.length;R++)j=O[R],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(c,w,B);var ce=w._modules;for(R=0;R<ce.length;R++)j=ce[R],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(c,w,B);var ye=w._transformModules;for(R=0;R<ye.length;R++)j=ye[R],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(c,w,B,E);for(N in b)j=b[N],j.supplyLayoutDefaults&&j.supplyLayoutDefaults(c,w,B)},x.purge=function(c){var w=c._fullLayout||{};w._glcontainer!==void 0&&(w._glcontainer.selectAll(".gl-canvas").remove(),w._glcontainer.remove(),w._glcanvas=null),w._modeBar&&w._modeBar.destroy(),c._transitionData&&(c._transitionData._interruptCallbacks&&(c._transitionData._interruptCallbacks.length=0),c._transitionData._animationRaf&&window.cancelAnimationFrame(c._transitionData._animationRaf)),s.clearThrottle(),s.clearResponsive(c),delete c.data,delete c.layout,delete c._fullData,delete c._fullLayout,delete c.calcdata,delete c.empty,delete c.fid,delete c.undoqueue,delete c.undonum,delete c.autoplay,delete c.changed,delete c._promises,delete c._redrawTimer,delete c._hmlumcount,delete c._hmpixcount,delete c._transitionData,delete c._transitioning,delete c._initialAutoSize,delete c._transitioningWithDuration,delete c._dragging,delete c._dragged,delete c._dragdata,delete c._hoverdata,delete c._snapshotInProgress,delete c._editing,delete c._mouseDownTime,delete c._legendMouseDownTime,c.removeAllListeners&&c.removeAllListeners()},x.style=function(c){var w=c._fullLayout._visibleModules,B=[],E;for(E=0;E<w.length;E++){var b=w[E];b.style&&s.pushUnique(B,b.style)}for(E=0;E<B.length;E++)B[E](c)},x.sanitizeMargins=function(c){if(!(!c||!c.margin)){var w=c.width,B=c.height,E=c.margin,b=w-(E.l+E.r),O=B-(E.t+E.b),N;b<0&&(N=(w-1)/(E.l+E.r),E.l=Math.floor(N*E.l),E.r=Math.floor(N*E.r)),O<0&&(N=(B-1)/(E.t+E.b),E.t=Math.floor(N*E.t),E.b=Math.floor(N*E.b))}},x.clearAutoMarginIds=function(c){c._fullLayout._pushmarginIds={}},x.allowAutoMargin=function(c,w){c._fullLayout._pushmarginIds[w]=1};function z(c){var w=c.margin;if(!c._size){var B=c._size={l:Math.round(w.l),r:Math.round(w.r),t:Math.round(w.t),b:Math.round(w.b),p:Math.round(w.pad)};B.w=Math.round(c.width)-B.l-B.r,B.h=Math.round(c.height)-B.t-B.b}c._pushmargin||(c._pushmargin={}),c._pushmarginIds||(c._pushmarginIds={})}var H=2,Z=2,re=64,ie=64;x.autoMargin=function(c,w,B){var E=c._fullLayout,b=E.width,O=E.height,N=E.margin,R=s.constrain(b-N.l-N.r,H,re),j=s.constrain(O-N.t-N.b,Z,ie),se=Math.max(0,b-R),fe=Math.max(0,O-j),ce=E._pushmargin,ye=E._pushmarginIds;if(N.autoexpand!==!1){if(!B)delete ce[w],delete ye[w];else{var xe=B.pad;if(xe===void 0&&(xe=Math.min(12,N.l,N.r,N.t,N.b)),se){var De=(B.l+B.r)/se;De>1&&(B.l/=De,B.r/=De)}if(fe){var ke=(B.t+B.b)/fe;ke>1&&(B.t/=ke,B.b/=ke)}var Ne=B.xl!==void 0?B.xl:B.x,Ue=B.xr!==void 0?B.xr:B.x,Ce=B.yt!==void 0?B.yt:B.y,_e=B.yb!==void 0?B.yb:B.y;ce[w]={l:{val:Ne,size:B.l+xe},r:{val:Ue,size:B.r+xe},b:{val:_e,size:B.b+xe},t:{val:Ce,size:B.t+xe}},ye[w]=1}if(!E._replotting)return x.doAutoMargin(c)}},x.doAutoMargin=function(c){var w=c._fullLayout,B=w.width,E=w.height;w._size||(w._size={}),z(w);var b=w._size,O=w.margin,N=s.extendFlat({},b),R=O.l,j=O.r,se=O.t,fe=O.b,ce=w._pushmargin,ye=w._pushmarginIds;if(w.margin.autoexpand!==!1){for(var xe in ce)ye[xe]||delete ce[xe];ce.base={l:{val:0,size:R},r:{val:1,size:j},t:{val:1,size:se},b:{val:0,size:fe}};for(var De in ce){var ke=ce[De].l||{},Ne=ce[De].b||{},Ue=ke.val,Ce=ke.size,_e=Ne.val,Ie=Ne.size;for(var Ze in ce){if(n(Ce)&&ce[Ze].r){var gt=ce[Ze].r.val,Ve=ce[Ze].r.size;if(gt>Ue){var We=(Ce*gt+(Ve-B)*Ue)/(gt-Ue),Ke=(Ve*(1-Ue)+(Ce-B)*(1-gt))/(gt-Ue);We+Ke>R+j&&(R=We,j=Ke)}}if(n(Ie)&&ce[Ze].t){var ut=ce[Ze].t.val,mt=ce[Ze].t.size;if(ut>_e){var Lt=(Ie*ut+(mt-E)*_e)/(ut-_e),rt=(mt*(1-_e)+(Ie-E)*(1-ut))/(ut-_e);Lt+rt>fe+se&&(fe=Lt,se=rt)}}}}}var dt=s.constrain(B-O.l-O.r,H,re),ot=s.constrain(E-O.t-O.b,Z,ie),pt=Math.max(0,B-dt),Ct=Math.max(0,E-ot);if(pt){var Ee=(R+j)/pt;Ee>1&&(R/=Ee,j/=Ee)}if(Ct){var Oe=(fe+se)/Ct;Oe>1&&(fe/=Oe,se/=Oe)}if(b.l=Math.round(R),b.r=Math.round(j),b.t=Math.round(se),b.b=Math.round(fe),b.p=Math.round(O.pad),b.w=Math.round(B)-b.l-b.r,b.h=Math.round(E)-b.t-b.b,!w._replotting&&x.didMarginChange(N,b)){"_redrawFromAutoMarginCount"in w?w._redrawFromAutoMarginCount++:w._redrawFromAutoMarginCount=1;var at=3*(1+Object.keys(ye).length);if(w._redrawFromAutoMarginCount<at)return r.call("_doPlot",c);w._size=N,s.warn("Too many auto-margin redraws.")}ue(c)};function ue(c){var w=p.list(c,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(B){for(var E=0;E<w.length;E++){var b=w[E][B];b&&b()}})}var ge=["l","r","t","b","p","w","h"];x.didMarginChange=function(c,w){for(var B=0;B<ge.length;B++){var E=ge[B],b=c[E],O=w[E];if(!n(b)||Math.abs(O-b)>1)return!0}return!1},x.graphJson=function(c,w,B,E,b,O){(b&&w&&!c._fullData||b&&!w&&!c._fullLayout)&&x.supplyDefaults(c);var N=b?c._fullData:c.data,R=b?c._fullLayout:c.layout,j=(c._transitionData||{})._frames;function se(ye,xe){if(typeof ye=="function")return xe?"_function_":null;if(s.isPlainObject(ye)){var De={},ke;return Object.keys(ye).sort().forEach(function(Ne){if(["_","["].indexOf(Ne.charAt(0))===-1){if(typeof ye[Ne]=="function"){xe&&(De[Ne]="_function");return}if(B==="keepdata"){if(Ne.substr(Ne.length-3)==="src")return}else if(B==="keepstream"){if(ke=ye[Ne+"src"],typeof ke=="string"&&ke.indexOf(":")>0&&!s.isPlainObject(ye.stream))return}else if(B!=="keepall"&&(ke=ye[Ne+"src"],typeof ke=="string"&&ke.indexOf(":")>0))return;De[Ne]=se(ye[Ne],xe)}}),De}return Array.isArray(ye)?ye.map(function(Ne){return se(Ne,xe)}):s.isTypedArray(ye)?s.simpleMap(ye,s.identity):s.isJSDate(ye)?s.ms2DateTimeLocal(+ye):ye}var fe={data:(N||[]).map(function(ye){var xe=se(ye);return w&&delete xe.fit,xe})};if(!w&&(fe.layout=se(R),b)){var ce=R._size;fe.layout.computed={margin:{b:ce.b,l:ce.l,r:ce.r,t:ce.t}}}return j&&(fe.frames=se(j)),O&&(fe.config=se(c._context,!0)),E==="object"?fe:JSON.stringify(fe)},x.modifyFrames=function(c,w){var B,E,b,O=c._transitionData._frames,N=c._transitionData._frameHash;for(B=0;B<w.length;B++)switch(E=w[B],E.type){case"replace":b=E.value;var R=(O[E.index]||{}).name,j=b.name;O[E.index]=N[j]=b,j!==R&&(delete N[R],N[j]=b);break;case"insert":b=E.value,N[b.name]=b,O.splice(E.index,0,b);break;case"delete":b=O[E.index],delete N[b.name],O.splice(E.index,1);break}return Promise.resolve()},x.computeFrame=function(c,w){var B=c._transitionData._frameHash,E,b,O,N;if(!w)throw new Error("computeFrame must be given a string frame name");var R=B[w.toString()];if(!R)return!1;for(var j=[R],se=[R.name];R.baseframe&&(R=B[R.baseframe.toString()])&&se.indexOf(R.name)===-1;)j.push(R),se.push(R.name);for(var fe={};R=j.pop();)if(R.layout&&(fe.layout=x.extendLayout(fe.layout,R.layout)),R.data){if(fe.data||(fe.data=[]),b=R.traces,!b)for(b=[],E=0;E<R.data.length;E++)b[E]=E;for(fe.traces||(fe.traces=[]),E=0;E<R.data.length;E++)O=b[E],O!=null&&(N=fe.traces.indexOf(O),N===-1&&(N=fe.data.length,fe.traces[N]=O),fe.data[N]=x.extendTrace(fe.data[N],R.data[E]))}return fe},x.recomputeFrameHash=function(c){for(var w=c._transitionData._frameHash={},B=c._transitionData._frames,E=0;E<B.length;E++){var b=B[E];b&&b.name&&(w[b.name]=b)}},x.extendObjectWithContainers=function(c,w,B){var E,b,O,N,R,j,se,fe,ce=s.extendDeepNoArrays({},w||{}),ye=s.expandObjectPaths(ce),xe={};if(B&&B.length)for(O=0;O<B.length;O++)E=s.nestedProperty(ye,B[O]),b=E.get(),b===void 0?s.nestedProperty(xe,B[O]).set(null):(E.set(null),s.nestedProperty(xe,B[O]).set(b));if(c=s.extendDeepNoArrays(c||{},ye),B&&B.length){for(O=0;O<B.length;O++)if(R=s.nestedProperty(xe,B[O]),se=R.get(),!!se){for(j=s.nestedProperty(c,B[O]),fe=j.get(),Array.isArray(fe)||(fe=[],j.set(fe)),N=0;N<se.length;N++){var De=se[N];De===null?fe[N]=null:fe[N]=x.extendObjectWithContainers(fe[N],De)}j.set(fe)}}return c},x.dataArrayContainers=["transforms","dimensions"],x.layoutArrayContainers=r.layoutArrayContainers,x.extendTrace=function(c,w){return x.extendObjectWithContainers(c,w,x.dataArrayContainers)},x.extendLayout=function(c,w){return x.extendObjectWithContainers(c,w,x.layoutArrayContainers)},x.transition=function(c,w,B,E,b,O){var N={redraw:b.redraw},R={},j=[];return N.prepareFn=function(){for(var se=Array.isArray(w)?w.length:0,fe=E.slice(0,se),ce=0;ce<fe.length;ce++){var ye=fe[ce],xe=c._fullData[ye],De=xe._module;if(!!De){if(De.animatable){var ke=De.basePlotModule.name;R[ke]||(R[ke]=[]),R[ke].push(ye)}c.data[fe[ce]]=x.extendTrace(c.data[fe[ce]],w[ce])}}var Ne=s.expandObjectPaths(s.extendDeepNoArrays({},B)),Ue=/^[xy]axis[0-9]*$/;for(var Ce in Ne)!Ue.test(Ce)||delete Ne[Ce].range;x.extendLayout(c.layout,Ne),delete c.calcdata,x.supplyDefaults(c),x.doCalcdata(c);var _e=s.expandObjectPaths(B);if(_e){var Ie=c._fullLayout._plots;for(var Ze in Ie){var gt=Ie[Ze],Ve=gt.xaxis,We=gt.yaxis,Ke=Ve.range.slice(),ut=We.range.slice(),mt=null,Lt=null,rt=null,dt=null;Array.isArray(_e[Ve._name+".range"])?mt=_e[Ve._name+".range"].slice():Array.isArray((_e[Ve._name]||{}).range)&&(mt=_e[Ve._name].range.slice()),Array.isArray(_e[We._name+".range"])?Lt=_e[We._name+".range"].slice():Array.isArray((_e[We._name]||{}).range)&&(Lt=_e[We._name].range.slice()),Ke&&mt&&(Ve.r2l(Ke[0])!==Ve.r2l(mt[0])||Ve.r2l(Ke[1])!==Ve.r2l(mt[1]))&&(rt={xr0:Ke,xr1:mt}),ut&&Lt&&(We.r2l(ut[0])!==We.r2l(Lt[0])||We.r2l(ut[1])!==We.r2l(Lt[1]))&&(dt={yr0:ut,yr1:Lt}),(rt||dt)&&j.push(s.extendFlat({plotinfo:gt},rt,dt))}}return Promise.resolve()},N.runFn=function(se){var fe,ce=c._fullLayout._basePlotModules,ye=j.length,xe;if(B)for(xe=0;xe<ce.length;xe++)ce[xe].transitionAxes&&ce[xe].transitionAxes(c,j,O,se);ye?(fe=s.extendFlat({},O),fe.duration=0,delete R.cartesian):fe=O;for(var De in R){var ke=R[De],Ne=c._fullData[ke[0]]._module;Ne.basePlotModule.plot(c,ke,fe,se)}},ee(c,O,N)},x.transitionFromReact=function(c,w,B,E){var b=c._fullLayout,O=b.transition,N={},R=[];return N.prepareFn=function(){var j=b._plots;N.redraw=!1,w.anim==="some"&&(N.redraw=!0),B.anim==="some"&&(N.redraw=!0);for(var se in j){var fe=j[se],ce=fe.xaxis,ye=fe.yaxis,xe=E[ce._name].range.slice(),De=E[ye._name].range.slice(),ke=ce.range.slice(),Ne=ye.range.slice();ce.setScale(),ye.setScale();var Ue=null,Ce=null;(ce.r2l(xe[0])!==ce.r2l(ke[0])||ce.r2l(xe[1])!==ce.r2l(ke[1]))&&(Ue={xr0:xe,xr1:ke}),(ye.r2l(De[0])!==ye.r2l(Ne[0])||ye.r2l(De[1])!==ye.r2l(Ne[1]))&&(Ce={yr0:De,yr1:Ne}),(Ue||Ce)&&R.push(s.extendFlat({plotinfo:fe},Ue,Ce))}return Promise.resolve()},N.runFn=function(j){for(var se=c._fullData,fe=c._fullLayout,ce=fe._basePlotModules,ye,xe,De,ke=[],Ne=0;Ne<se.length;Ne++)ke.push(Ne);function Ue(){if(!!c._fullLayout)for(var _e=0;_e<ce.length;_e++)ce[_e].transitionAxes&&ce[_e].transitionAxes(c,R,ye,j)}function Ce(){if(!!c._fullLayout)for(var _e=0;_e<ce.length;_e++)ce[_e].plot(c,De,xe,j)}R.length&&w.anim?O.ordering==="traces first"?(ye=s.extendFlat({},O,{duration:0}),De=ke,xe=O,setTimeout(Ue,O.duration),Ce()):(ye=O,De=null,xe=s.extendFlat({},O,{duration:0}),setTimeout(Ce,ye.duration),Ue()):R.length?(ye=O,Ue()):w.anim&&(De=ke,xe=O,Ce())},ee(c,O,N)};function ee(c,w,B){var E=!1;function b(ce){var ye=Promise.resolve();if(!ce)return ye;for(;ce.length;)ye=ye.then(ce.shift());return ye}function O(ce){if(!!ce)for(;ce.length;)ce.shift()}function N(){return c.emit("plotly_transitioning",[]),new Promise(function(ce){c._transitioning=!0,w.duration>0&&(c._transitioningWithDuration=!0),c._transitionData._interruptCallbacks.push(function(){E=!0}),B.redraw&&c._transitionData._interruptCallbacks.push(function(){return r.call("redraw",c)}),c._transitionData._interruptCallbacks.push(function(){c.emit("plotly_transitioninterrupted",[])});var ye=0,xe=0;function De(){return ye++,function(){xe++,!E&&xe===ye&&R(ce)}}B.runFn(De),setTimeout(De())})}function R(ce){if(!!c._transitionData)return O(c._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(B.redraw)return r.call("redraw",c)}).then(function(){c._transitioning=!1,c._transitioningWithDuration=!1,c.emit("plotly_transitioned",[])}).then(ce)}function j(){if(!!c._transitionData)return c._transitioning=!1,b(c._transitionData._interruptCallbacks)}var se=[x.previousPromises,j,B.prepareFn,x.rehover,N],fe=s.syncOrAsync(se,c);return(!fe||!fe.then)&&(fe=Promise.resolve()),fe.then(function(){return c})}x.doCalcdata=function(c,w){var B=p.list(c),E=c._fullData,b=c._fullLayout,O,N,R,j,se=new Array(E.length),fe=(c.calcdata||[]).slice();for(c.calcdata=se,b._numBoxes=0,b._numViolins=0,b._violinScaleGroupStats={},c._hmpixcount=0,c._hmlumcount=0,b._piecolormap={},b._sunburstcolormap={},b._treemapcolormap={},b._iciclecolormap={},b._funnelareacolormap={},R=0;R<E.length;R++)if(Array.isArray(w)&&w.indexOf(R)===-1){se[R]=fe[R];continue}for(R=0;R<E.length;R++)O=E[R],O._arrayAttrs=f.findArrayAttributes(O),O._extremes={};var ce=b._subplots.polar||[];for(R=0;R<ce.length;R++)B.push(b[ce[R]].radialaxis,b[ce[R]].angularaxis);for(var ye in b._colorAxes){var xe=b[ye];xe.cauto!==!1&&(delete xe.cmin,delete xe.cmax)}var De=!1;function ke(Ce){if(O=E[Ce],N=O._module,O.visible===!0&&O.transforms){if(N&&N.calc){var _e=N.calc(c,O);_e[0]&&_e[0].t&&_e[0].t._scene&&delete _e[0].t._scene.dirty}for(j=0;j<O.transforms.length;j++){var Ie=O.transforms[j];N=M[Ie.type],N&&N.calcTransform&&(O._hasCalcTransform=!0,De=!0,N.calcTransform(c,O,Ie))}}}function Ne(Ce,_e){if(O=E[Ce],N=O._module,!!N.isContainer===_e){var Ie=[];if(O.visible===!0&&O._length!==0){delete O._indexToPoints;var Ze=O.transforms||[];for(j=Ze.length-1;j>=0;j--)if(Ze[j].enabled){O._indexToPoints=Ze[j]._indexToPoints;break}N&&N.calc&&(Ie=N.calc(c,O))}(!Array.isArray(Ie)||!Ie[0])&&(Ie=[{x:h,y:h}]),Ie[0].t||(Ie[0].t={}),Ie[0].trace=O,se[Ce]=Ie}}for(oe(B,E,b),R=0;R<E.length;R++)Ne(R,!0);for(R=0;R<E.length;R++)ke(R);for(De&&oe(B,E,b),R=0;R<E.length;R++)Ne(R,!0);for(R=0;R<E.length;R++)Ne(R,!1);Q(c);var Ue=ne(B,c);if(Ue.length){for(b._numBoxes=0,b._numViolins=0,R=0;R<Ue.length;R++)Ne(Ue[R],!0);for(R=0;R<Ue.length;R++)Ne(Ue[R],!1);Q(c)}r.getComponentMethod("fx","calc")(c),r.getComponentMethod("errorbars","calc")(c)};var q=/(total|sum|min|max|mean|median) (ascending|descending)/;function ne(c,w){var B=[],E,b,O,N,R;function j(pt,Ct,Ee){var Oe=Ct._id.charAt(0);if(pt==="histogram2dcontour"){var at=Ct._counterAxes[0],pe=p.getFromId(w,at),Ae=Oe==="x"||at==="x"&&pe.type==="category",Se=Oe==="y"||at==="y"&&pe.type==="category";return function(Pe,tt){return Pe===0||tt===0||Ae&&Pe===Ee[tt].length-1||Se&&tt===Ee.length-1?-1:(Oe==="y"?tt:Pe)-1}}else return function(Pe,tt){return Oe==="y"?tt:Pe}}var se={min:function(pt){return s.aggNums(Math.min,null,pt)},max:function(pt){return s.aggNums(Math.max,null,pt)},sum:function(pt){return s.aggNums(function(Ct,Ee){return Ct+Ee},null,pt)},total:function(pt){return s.aggNums(function(Ct,Ee){return Ct+Ee},null,pt)},mean:function(pt){return s.mean(pt)},median:function(pt){return s.median(pt)}};for(E=0;E<c.length;E++){var fe=c[E];if(fe.type==="category"){var ce=fe.categoryorder.match(q);if(ce){var ye=ce[1],xe=ce[2],De=fe._id.charAt(0),ke=De==="x",Ne=[];for(b=0;b<fe._categories.length;b++)Ne.push([fe._categories[b],[]]);for(b=0;b<fe._traceIndices.length;b++){var Ue=fe._traceIndices[b],Ce=w._fullData[Ue];if(Ce.visible===!0){var _e=Ce.type;r.traceIs(Ce,"histogram")&&(delete Ce._xautoBinFinished,delete Ce._yautoBinFinished);var Ie=_e==="splom",Ze=_e==="scattergl",gt=w.calcdata[Ue];for(O=0;O<gt.length;O++){var Ve=gt[O],We,Ke;if(Ie){var ut=Ce._axesDim[fe._id];if(!ke){var mt=Ce._diag[ut][0];mt&&(fe=w._fullLayout[p.id2name(mt)])}var Lt=Ve.trace.dimensions[ut].values;for(N=0;N<Lt.length;N++)for(We=fe._categoriesMap[Lt[N]],R=0;R<Ve.trace.dimensions.length;R++)if(R!==ut){var rt=Ve.trace.dimensions[R];Ne[We][1].push(rt.values[N])}}else if(Ze){for(N=0;N<Ve.t.x.length;N++)ke?(We=Ve.t.x[N],Ke=Ve.t.y[N]):(We=Ve.t.y[N],Ke=Ve.t.x[N]),Ne[We][1].push(Ke);Ve.t&&Ve.t._scene&&delete Ve.t._scene.dirty}else if(Ve.hasOwnProperty("z")){Ke=Ve.z;var dt=j(Ce.type,fe,Ke);for(N=0;N<Ke.length;N++)for(R=0;R<Ke[N].length;R++)We=dt(R,N),We+1&&Ne[We][1].push(Ke[N][R])}else for(We=Ve.p,We===void 0&&(We=Ve[De]),Ke=Ve.s,Ke===void 0&&(Ke=Ve.v),Ke===void 0&&(Ke=ke?Ve.y:Ve.x),Array.isArray(Ke)||(Ke===void 0?Ke=[]:Ke=[Ke]),N=0;N<Ke.length;N++)Ne[We][1].push(Ke[N])}}}fe._categoriesValue=Ne;var ot=[];for(b=0;b<Ne.length;b++)ot.push([Ne[b][0],se[ye](Ne[b][1])]);ot.sort(function(pt,Ct){return pt[1]-Ct[1]}),fe._categoriesAggregatedValue=ot,fe._initialCategories=ot.map(function(pt){return pt[0]}),xe==="descending"&&fe._initialCategories.reverse(),B=B.concat(fe.sortByInitialCategories())}}}return B}function oe(c,w,B){var E={};function b(j){j.clearCalc(),j.type==="multicategory"&&j.setupMultiCategory(w),E[j._id]=1}s.simpleMap(c,b);for(var O=B._axisMatchGroups||[],N=0;N<O.length;N++)for(var R in O[N])E[R]||b(B[p.id2name(R)])}function Q(c){var w=c._fullLayout,B=w._visibleModules,E={},b,O,N;for(O=0;O<B.length;O++){var R=B[O],j=R.crossTraceCalc;if(j){var se=R.basePlotModule.name;E[se]?s.pushUnique(E[se],j):E[se]=[j]}}for(N in E){var fe=E[N],ce=w._subplots[N];if(Array.isArray(ce))for(b=0;b<ce.length;b++){var ye=ce[b],xe=N==="cartesian"?w._plots[ye]:w[ye];for(O=0;O<fe.length;O++)fe[O](c,xe,ye)}else for(O=0;O<fe.length;O++)fe[O](c)}}x.rehover=function(c){c._fullLayout._rehover&&c._fullLayout._rehover()},x.redrag=function(c){c._fullLayout._redrag&&c._fullLayout._redrag()},x.generalUpdatePerTraceModule=function(c,w,B,E){var b=w.traceHash,O={},N;for(N=0;N<B.length;N++){var R=B[N],j=R[0].trace;j.visible&&(O[j.type]=O[j.type]||[],O[j.type].push(R))}for(var se in b)if(!O[se]){var fe=b[se][0],ce=fe[0].trace;ce.visible=!1,O[se]=[fe]}for(var ye in O){var xe=O[ye],De=xe[0][0].trace._module;De.plot(c,w,s.filterVisible(xe),E)}w.traceHash=O},x.plotBasePlot=function(c,w,B,E,b){var O=r.getModule(c),N=D(w.calcdata,O)[0];O.plot(w,N,E,b)},x.cleanBasePlot=function(c,w,B,E,b){var O=b._has&&b._has(c),N=B._has&&B._has(c);O&&!N&&b["_"+c+"layer"].selectAll("g.trace").remove()}},{"../components/color":102,"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plot_api/plot_template":268,"../plots/get_data":312,"../registry":318,"./animation_attributes":273,"./attributes":275,"./cartesian/axis_ids":283,"./cartesian/handle_outline":290,"./command":308,"./font_attributes":310,"./frame_attributes":311,"./layout_attributes":314,"@plotly/d3":11,"d3-format":13,"d3-time-format":14,"fast-isnumeric":17}],317:[function(t,P,k){var e=t("../constants/docs");e.FORMAT_LINK,e.DATE_FORMAT_LINK;function a(i){var n=i.description?" "+i.description:"",r=i.keys||[];if(r.length>0){for(var f=[],u=0;u<r.length;u++)f[u]="`"+r[u]+"`";n=n+"Finally, the template string has access to ",r.length===1?n="variable "+f[0]:n="variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return n}k.hovertemplateAttrs=function(i,n){i=i||{},n=n||{},a(n);var r={valType:"string",dflt:"",editType:i.editType||"none"};return i.arrayOk!==!1&&(r.arrayOk=!0),r},k.texttemplateAttrs=function(i,n){i=i||{},n=n||{},a(n);var r={valType:"string",dflt:"",editType:i.editType||"calc"};return i.arrayOk!==!1&&(r.arrayOk=!0),r}},{"../constants/docs":209}],318:[function(t,P,k){var e=t("./lib/loggers"),a=t("./lib/noop"),i=t("./lib/push_unique"),n=t("./lib/is_plain_object"),r=t("./lib/dom").addStyleRule,f=t("./lib/extend"),u=t("./plots/attributes"),s=t("./plots/layout_attributes"),o=f.extendFlat,h=f.extendDeepAll;k.modules={},k.allCategories={},k.allTypes=[],k.subplotsRegistry={},k.transformsRegistry={},k.componentsRegistry={},k.layoutArrayContainers=[],k.layoutArrayRegexes=[],k.traceLayoutAttributes={},k.localeRegistry={},k.apiMethodRegistry={},k.collectableSubplotTypes=null,k.register=function(A){if(k.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var V=0;V<A.length;V++){var T=A[V];if(!T)throw new Error("Invalid module was attempted to be registered!");switch(T.moduleType){case"trace":p(T);break;case"transform":g(T);break;case"component":y(T);break;case"locale":D(T);break;case"apiMethod":var Y=T.name;k.apiMethodRegistry[Y]=T.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},k.getModule=function(m){var A=k.modules[v(m)];return A?A._module:!1},k.traceIs=function(m,A){if(m=v(m),m==="various")return!1;var V=k.modules[m];return V||(m&&e.log("Unrecognized trace type "+m+"."),V=k.modules[u.type.dflt]),!!V.categories[A]},k.getTransformIndices=function(m,A){for(var V=[],T=m.transforms||[],Y=0;Y<T.length;Y++)T[Y].type===A&&V.push(Y);return V},k.hasTransform=function(m,A){for(var V=m.transforms||[],T=0;T<V.length;T++)if(V[T].type===A)return!0;return!1},k.getComponentMethod=function(m,A){var V=k.componentsRegistry[m];return V&&V[A]||a},k.call=function(){var m=arguments[0],A=[].slice.call(arguments,1);return k.apiMethodRegistry[m].apply(null,A)};function p(m){var A=m.name,V=m.categories,T=m.meta;if(k.modules[A]){e.log("Type "+A+" already registered");return}k.subplotsRegistry[m.basePlotModule.name]||d(m.basePlotModule);for(var Y={},G=0;G<V.length;G++)Y[V[G]]=!0,k.allCategories[V[G]]=!0;k.modules[A]={_module:m,categories:Y},T&&Object.keys(T).length&&(k.modules[A].meta=T),k.allTypes.push(A);for(var S in k.componentsRegistry)L(S,A);m.layoutAttributes&&o(k.traceLayoutAttributes,m.layoutAttributes);var U=m.basePlotModule,W=U.name;if(W==="mapbox"){var K=U.constants.styleRules;for(var J in K)r(".js-plotly-plot .plotly .mapboxgl-"+J,K[J])}(W==="geo"||W==="mapbox")&&typeof window!==void 0&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function d(m){var A=m.name;if(k.subplotsRegistry[A]){e.log("Plot type "+A+" already registered.");return}C(m),k.subplotsRegistry[A]=m;for(var V in k.componentsRegistry)M(V,m.name)}function y(m){if(typeof m.name!="string")throw new Error("Component module *name* must be a string.");var A=m.name;k.componentsRegistry[A]=m,m.layoutAttributes&&(m.layoutAttributes._isLinkedToArray&&i(k.layoutArrayContainers,A),C(m));for(var V in k.modules)L(A,V);for(var T in k.subplotsRegistry)M(A,T);for(var Y in k.transformsRegistry)x(A,Y);m.schema&&m.schema.layout&&h(s,m.schema.layout)}function g(m){if(typeof m.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+m.name,V=typeof m.transform=="function",T=typeof m.calcTransform=="function";if(!V&&!T)throw new Error(A+" is missing a *transform* or *calcTransform* method.");V&&T&&e.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),n(m.attributes)||e.log(A+" registered without an *attributes* object."),typeof m.supplyDefaults!="function"&&e.log(A+" registered without a *supplyDefaults* method."),k.transformsRegistry[m.name]=m;for(var Y in k.componentsRegistry)x(Y,m.name)}function D(m){var A=m.name,V=A.split("-")[0],T=m.dictionary,Y=m.format,G=T&&Object.keys(T).length,S=Y&&Object.keys(Y).length,U=k.localeRegistry,W=U[A];if(W||(U[A]=W={}),V!==A){var K=U[V];K||(U[V]=K={}),G&&K.dictionary===W.dictionary&&(K.dictionary=T),S&&K.format===W.format&&(K.format=Y)}G&&(W.dictionary=T),S&&(W.format=Y)}function C(m){if(m.layoutAttributes){var A=m.layoutAttributes._arrayAttrRegexps;if(A)for(var V=0;V<A.length;V++)i(k.layoutArrayRegexes,A[V])}}function L(m,A){var V=k.componentsRegistry[m].schema;if(!(!V||!V.traces)){var T=V.traces[A];T&&h(k.modules[A]._module.attributes,T)}}function x(m,A){var V=k.componentsRegistry[m].schema;if(!(!V||!V.transforms)){var T=V.transforms[A];T&&h(k.transformsRegistry[A].attributes,T)}}function M(m,A){var V=k.componentsRegistry[m].schema;if(!(!V||!V.subplots)){var T=k.subplotsRegistry[A],Y=T.layoutAttributes,G=T.attr==="subplot"?T.name:T.attr;Array.isArray(G)&&(G=G[0]);var S=V.subplots[G];Y&&S&&h(Y,S)}}function v(m){return typeof m=="object"&&(m=m.type),m}},{"./lib/dom":224,"./lib/extend":226,"./lib/is_plain_object":233,"./lib/loggers":236,"./lib/noop":241,"./lib/push_unique":246,"./plots/attributes":275,"./plots/layout_attributes":314}],319:[function(t,P,k){var e=t("../registry"),a=t("../lib"),i=a.extendFlat,n=a.extendDeep;function r(u){var s;switch(u){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}function f(u){var s=["xaxis","yaxis","zaxis"];return s.indexOf(u.slice(0,5))>-1}P.exports=function(s,o){var h,p=s.data,d=s.layout,y=n([],p),g=n({},d,r(o.tileClass)),D=s._context||{};if(o.width&&(g.width=o.width),o.height&&(g.height=o.height),o.tileClass==="thumbnail"||o.tileClass==="themes__thumb"){g.annotations=[];var C=Object.keys(g);for(h=0;h<C.length;h++)f(C[h])&&(g[C[h]].title={text:""});for(h=0;h<y.length;h++){var L=y[h];L.showscale=!1,L.marker&&(L.marker.showscale=!1),e.traceIs(L,"pie-like")&&(L.textposition="none")}}if(Array.isArray(o.annotations))for(h=0;h<o.annotations.length;h++)g.annotations.push(o.annotations[h]);var x=Object.keys(g).filter(function(V){return V.match(/^scene\d*$/)});if(x.length){var M={};for(o.tileClass==="thumbnail"&&(M={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),h=0;h<x.length;h++){var v=g[x[h]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),i(v.xaxis,M),i(v.yaxis,M),i(v.zaxis,M),v._scene=null}}var m=document.createElement("div");o.tileClass&&(m.className=o.tileClass);var A={gd:m,td:m,layout:g,data:y,config:{staticPlot:o.staticPlot===void 0?!0:o.staticPlot,plotGlPixelRatio:o.plotGlPixelRatio===void 0?2:o.plotGlPixelRatio,displaylogo:o.displaylogo||!1,showLink:o.showLink||!1,showTips:o.showTips||!1,mapboxAccessToken:D.mapboxAccessToken}};return o.setBackground!=="transparent"&&(A.config.setBackground=o.setBackground||"opaque"),A.gd.defaultLayout=r(o.tileClass),A}},{"../lib":232,"../registry":318}],320:[function(t,P,k){var e=t("../lib"),a=t("../plot_api/to_image"),i=t("./filesaver"),n=t("./helpers");function r(f,u){var s;return e.isPlainObject(f)||(s=e.getGraphDiv(f)),u=u||{},u.format=u.format||"png",u.width=u.width||null,u.height=u.height||null,u.imageDataOnly=!0,new Promise(function(o,h){s&&s._snapshotInProgress&&h(new Error("Snapshotting already in progress.")),e.isIE()&&u.format!=="svg"&&h(new Error(n.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var p=a(f,u),d=u.filename||f.fn||"newplot";d+="."+u.format.replace("-","."),p.then(function(y){return s&&(s._snapshotInProgress=!1),i(y,d,u.format)}).then(function(y){o(y)}).catch(function(y){s&&(s._snapshotInProgress=!1),h(y)})})}P.exports=r},{"../lib":232,"../plot_api/to_image":271,"./filesaver":321,"./helpers":322}],321:[function(t,P,k){var e=t("../lib"),a=t("./helpers");function i(n,r,f){var u=document.createElement("a"),s="download"in u,o=new Promise(function(h,p){var d,y;if(e.isIE())return d=a.createBlob(n,"svg"),window.navigator.msSaveBlob(d,r),d=null,h(r);if(s)return d=a.createBlob(n,f),y=a.createObjectURL(d),u.href=y,u.download=r,document.body.appendChild(u),u.click(),document.body.removeChild(u),a.revokeObjectURL(y),d=null,h(r);if(e.isSafari()){var g=f==="svg"?",":";base64,";return a.octetStream(g+encodeURIComponent(n)),h(r)}p(new Error("download error"))});return o}P.exports=i},{"../lib":232,"./helpers":322}],322:[function(t,P,k){var e=t("../registry");k.getDelay=function(n){return n._has&&(n._has("gl3d")||n._has("gl2d")||n._has("mapbox"))?500:0},k.getRedrawFunc=function(n){return function(){e.getComponentMethod("colorbar","draw")(n)}},k.encodeSVG=function(n){return"data:image/svg+xml,"+encodeURIComponent(n)},k.encodeJSON=function(n){return"data:application/json,"+encodeURIComponent(n)};var a=window.URL||window.webkitURL;k.createObjectURL=function(n){return a.createObjectURL(n)},k.revokeObjectURL=function(n){return a.revokeObjectURL(n)},k.createBlob=function(n,r){if(r==="svg")return new window.Blob([n],{type:"image/svg+xml;charset=utf-8"});if(r==="full-json")return new window.Blob([n],{type:"application/json;charset=utf-8"});var f=i(window.atob(n));return new window.Blob([f],{type:"image/"+r})},k.octetStream=function(n){document.location.href="data:application/octet-stream"+n};function i(n){for(var r=n.length,f=new ArrayBuffer(r),u=new Uint8Array(f),s=0;s<r;s++)u[s]=n.charCodeAt(s);return f}k.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,k.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},{"../registry":318}],323:[function(t,P,k){var e=t("./helpers"),a={getDelay:e.getDelay,getRedrawFunc:e.getRedrawFunc,clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage"),downloadImage:t("./download")};P.exports=a},{"./cloneplot":319,"./download":320,"./helpers":322,"./svgtoimg":324,"./toimage":325,"./tosvg":326}],324:[function(t,P,k){var e=t("../lib"),a=t("events").EventEmitter,i=t("./helpers");function n(r){var f=r.emitter||new a,u=new Promise(function(s,o){var h=window.Image,p=r.svg,d=r.format||"png";if(e.isIE()&&d!=="svg"){var y=new Error(i.MSG_IE_BAD_FORMAT);return o(y),r.promise?u:f.emit("error",y)}var g=r.canvas,D=r.scale||1,C=r.width||300,L=r.height||150,x=D*C,M=D*L,v=g.getContext("2d"),m=new h,A,V;d==="svg"||e.isSafari()?V=i.encodeSVG(p):(A=i.createBlob(p,"svg"),V=i.createObjectURL(A)),g.width=x,g.height=M,m.onload=function(){var T;switch(A=null,i.revokeObjectURL(V),d!=="svg"&&v.drawImage(m,0,0,x,M),d){case"jpeg":T=g.toDataURL("image/jpeg");break;case"png":T=g.toDataURL("image/png");break;case"webp":T=g.toDataURL("image/webp");break;case"svg":T=V;break;default:var Y="Image format is not jpeg, png, svg or webp.";if(o(new Error(Y)),!r.promise)return f.emit("error",Y)}s(T),r.promise||f.emit("success",T)},m.onerror=function(T){if(A=null,i.revokeObjectURL(V),o(T),!r.promise)return f.emit("error",T)},m.src=V});return r.promise?u:f}P.exports=n},{"../lib":232,"./helpers":322,events:12}],325:[function(t,P,k){var e=t("events").EventEmitter,a=t("../registry"),i=t("../lib"),n=t("./helpers"),r=t("./cloneplot"),f=t("./tosvg"),u=t("./svgtoimg");function s(o,h){var p=new e,d=r(o,{format:"png"}),y=d.gd;y.style.position="absolute",y.style.left="-5000px",document.body.appendChild(y);function g(){var C=n.getDelay(y._fullLayout);setTimeout(function(){var L=f(y),x=document.createElement("canvas");x.id=i.randstr(),p=u({format:h.format,width:y._fullLayout.width,height:y._fullLayout.height,canvas:x,emitter:p,svg:L}),p.clean=function(){y&&document.body.removeChild(y)}},C)}var D=n.getRedrawFunc(y);return a.call("_doPlot",y,d.data,d.layout,d.config).then(D).then(g).catch(function(C){p.emit("error",C)}),p}P.exports=s},{"../lib":232,"../registry":318,"./cloneplot":319,"./helpers":322,"./svgtoimg":324,"./tosvg":326,events:12}],326:[function(t,P,k){var e=t("@plotly/d3"),a=t("../lib"),i=t("../components/drawing"),n=t("../components/color"),r=t("../constants/xmlns_namespaces"),f=/"/g,u="TOBESTRIPPED",s=new RegExp('("'+u+")|("+u+'")',"g");function o(p){var d=e.select("body").append("div").style({display:"none"}).html(""),y=p.replace(/(&[^;]*;)/gi,function(g){return g==="&lt;"?"&#60;":g==="&rt;"?"&#62;":g.indexOf("<")!==-1||g.indexOf(">")!==-1?"":d.html(g).text()});return d.remove(),y}function h(p){return p.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}P.exports=function(d,y,g){var D=d._fullLayout,C=D._paper,L=D._toppaper,x=D.width,M=D.height,v,m;C.insert("rect",":first-child").call(i.setRect,0,0,x,M).call(n.fill,D.paper_bgcolor);var A=D._basePlotModules||[];for(v=0;v<A.length;v++){var V=A[v];V.toSVG&&V.toSVG(d)}if(L){var T=L.node().childNodes,Y=Array.prototype.slice.call(T);for(v=0;v<Y.length;v++){var G=Y[v];G.childNodes.length&&C.node().appendChild(G)}}D._draggers&&D._draggers.remove(),C.node().style.background="",C.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var W=e.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){W.remove();return}else W.style({visibility:null,display:null});var K=this.style.fontFamily;K&&K.indexOf('"')!==-1&&W.style("font-family",K.replace(f,u))});var S=[];if(D._gradientUrlQueryParts)for(m in D._gradientUrlQueryParts)S.push(m);if(D._patternUrlQueryParts)for(m in D._patternUrlQueryParts)S.push(m);S.length&&C.selectAll(S.join(",")).each(function(){var W=e.select(this),K=this.style.fill;K&&K.indexOf("url(")!==-1&&W.style("fill",K.replace(f,u));var J=this.style.stroke;J&&J.indexOf("url(")!==-1&&W.style("stroke",J.replace(f,u))}),(y==="pdf"||y==="eps")&&C.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),C.node().setAttributeNS(r.xmlns,"xmlns",r.svg),C.node().setAttributeNS(r.xmlns,"xmlns:xlink",r.xlink),y==="svg"&&g&&(C.attr("width",g*x),C.attr("height",g*M),C.attr("viewBox","0 0 "+x+" "+M));var U=new window.XMLSerializer().serializeToString(C.node());return U=o(U),U=h(U),U=U.replace(s,"'"),a.isIE()&&(U=U.replace(/"/gi,"'"),U=U.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),U=U.replace(/(\\')/gi,'"')),U}},{"../components/color":102,"../components/drawing":124,"../constants/xmlns_namespaces":213,"../lib":232,"@plotly/d3":11}],327:[function(t,P,k){var e=t("../../lib");P.exports=function(i,n){for(var r=0;r<i.length;r++)i[r].i=r;e.mergeArray(n.text,i,"tx"),e.mergeArray(n.hovertext,i,"htx");var f=n.marker;if(f){e.mergeArray(f.opacity,i,"mo",!0),e.mergeArray(f.color,i,"mc");var u=f.line;u&&(e.mergeArray(u.color,i,"mlc"),e.mergeArrayCastPositive(u.width,i,"mlw"))}}},{"../../lib":232}],328:[function(t,P,k){var e=t("../scatter/attributes"),a=t("../../plots/cartesian/axis_format_attributes").axisHoverFormat,i=t("../../plots/template_attributes").hovertemplateAttrs,n=t("../../plots/template_attributes").texttemplateAttrs,r=t("../../components/colorscale/attributes"),f=t("../../plots/font_attributes"),u=t("./constants"),s=t("../../components/drawing/attributes").pattern,o=t("../../lib/extend").extendFlat,h=f({editType:"calc",arrayOk:!0,colorEditType:"style"}),p=e.marker,d=p.line,y=o({},d.width,{dflt:0}),g=o({width:y,editType:"calc"},r("marker.line")),D=o({line:g,editType:"calc"},r("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:s});P.exports={x:e.x,x0:e.x0,dx:e.dx,y:e.y,y0:e.y0,dy:e.dy,xperiod:e.xperiod,yperiod:e.yperiod,xperiod0:e.xperiod0,yperiod0:e.yperiod0,xperiodalignment:e.xperiodalignment,yperiodalignment:e.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:e.text,texttemplate:n({editType:"plot"},{keys:u.eventDataKeys}),hovertext:e.hovertext,hovertemplate:i({},{keys:u.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:o({},h,{}),insidetextfont:o({},h,{}),outsidetextfont:o({},h,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:o({},e.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:D,offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},selected:{marker:{opacity:e.selected.marker.opacity,color:e.selected.marker.color,editType:"style"},textfont:e.selected.textfont,editType:"style"},unselected:{marker:{opacity:e.unselected.marker.opacity,color:e.unselected.marker.color,editType:"style"},textfont:e.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorscale/attributes":109,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"../scatter/attributes":358,"./constants":330}],329:[function(t,P,k){var e=t("../../plots/cartesian/axes"),a=t("../../plots/cartesian/align_period"),i=t("../../components/colorscale/helpers").hasColorscale,n=t("../../components/colorscale/calc"),r=t("./arrays_to_calcdata"),f=t("../scatter/calc_selection");P.exports=function(s,o){var h=e.getFromId(s,o.xaxis||"x"),p=e.getFromId(s,o.yaxis||"y"),d,y,g,D,C,L,x={msUTC:!!(o.base||o.base===0)};o.orientation==="h"?(d=h.makeCalcdata(o,"x",x),g=p.makeCalcdata(o,"y"),D=a(o,p,"y",g),C=!!o.yperiodalignment,L="y"):(d=p.makeCalcdata(o,"y",x),g=h.makeCalcdata(o,"x"),D=a(o,h,"x",g),C=!!o.xperiodalignment,L="x"),y=D.vals;for(var M=Math.min(y.length,d.length),v=new Array(M),m=0;m<M;m++)v[m]={p:y[m],s:d[m]},C&&(v[m].orig_p=g[m],v[m][L+"End"]=D.ends[m],v[m][L+"Start"]=D.starts[m]),o.ids&&(v[m].id=String(o.ids[m]));return i(o,"marker")&&n(s,o,{vals:o.marker.color,containerStr:"marker",cLetter:"c"}),i(o,"marker.line")&&n(s,o,{vals:o.marker.line.color,containerStr:"marker.line",cLetter:"c"}),r(v,o),f(v,o),v}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"../scatter/calc_selection":360,"./arrays_to_calcdata":327}],330:[function(t,P,k){P.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},{}],331:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib").isArrayOrTypedArray,i=t("../../constants/numerical").BADNUM,n=t("../../registry"),r=t("../../plots/cartesian/axes"),f=t("../../plots/cartesian/constraints").getAxisGroup,u=t("./sieve.js");function s(G,S){for(var U=S.xaxis,W=S.yaxis,K=G._fullLayout,J=G._fullData,ae=G.calcdata,z=[],H=[],Z=0;Z<J.length;Z++){var re=J[Z];if(re.visible===!0&&n.traceIs(re,"bar")&&re.xaxis===U._id&&re.yaxis===W._id&&(re.orientation==="h"?z.push(ae[Z]):H.push(ae[Z]),re._computePh))for(var ie=G.calcdata[Z],ue=0;ue<ie.length;ue++)typeof ie[ue].ph0=="function"&&(ie[ue].ph0=ie[ue].ph0()),typeof ie[ue].ph1=="function"&&(ie[ue].ph1=ie[ue].ph1())}var ge={xCat:U.type==="category"||U.type==="multicategory",yCat:W.type==="category"||W.type==="multicategory",mode:K.barmode,norm:K.barnorm,gap:K.bargap,groupgap:K.bargroupgap};o(G,U,W,H,ge),o(G,W,U,z,ge)}function o(G,S,U,W,K){if(!!W.length){var J,ae,z,H,Z;switch(h(U,W),K.mode){case"overlay":p(S,U,W,K);break;case"group":for(J=[],ae=[],z=0;z<W.length;z++)H=W[z],Z=H[0].trace,Z.offset===void 0?ae.push(H):J.push(H);ae.length&&d(G,S,U,ae,K),J.length&&p(S,U,J,K);break;case"stack":case"relative":for(J=[],ae=[],z=0;z<W.length;z++)H=W[z],Z=H[0].trace,Z.base===void 0?ae.push(H):J.push(H);ae.length&&y(G,S,U,ae,K),J.length&&p(S,U,J,K);break}T(W,S)}}function h(G,S){var U,W;for(U=0;U<S.length;U++){var K=S[U],J=K[0].trace,ae=J.type==="funnel"?J._base:J.base,z,H=J.orientation==="h"?J.xcalendar:J.ycalendar,Z=G.type==="category"||G.type==="multicategory"?function(){return null}:G.d2c;if(a(ae)){for(W=0;W<Math.min(ae.length,K.length);W++)z=Z(ae[W],0,H),e(z)?(K[W].b=+z,K[W].hasB=1):K[W].b=0;for(;W<K.length;W++)K[W].b=0}else{z=Z(ae,0,H);var re=e(z);for(z=re?z:0,W=0;W<K.length;W++)K[W].b=z,re&&(K[W].hasB=1)}}}function p(G,S,U,W){for(var K=0;K<U.length;K++){var J=U[K],ae=new u([J],{posAxis:G,sepNegVal:!1,overlapNoMerge:!W.norm});g(G,ae,W),W.norm?(m(ae),V(S,ae,W)):M(S,ae)}}function d(G,S,U,W,K){var J=new u(W,{posAxis:S,sepNegVal:!1,overlapNoMerge:!K.norm});D(G,S,J,K),A(J,S),K.norm?(m(J),V(U,J,K)):M(U,J)}function y(G,S,U,W,K){var J=new u(W,{posAxis:S,sepNegVal:K.mode==="relative",overlapNoMerge:!(K.norm||K.mode==="stack"||K.mode==="relative")});g(S,J,K),v(U,J,K);for(var ae=0;ae<W.length;ae++)for(var z=W[ae],H=0;H<z.length;H++){var Z=z[H];if(Z.s!==i){var re=Z.b+Z.s===J.get(Z.p,Z.s);re&&(Z._outmost=!0)}}K.norm&&V(U,J,K)}function g(G,S,U){for(var W=S.minDiff,K=S.traces,J=W*(1-U.gap),ae=J,z=ae*(1-(U.groupgap||0)),H=-z/2,Z=0;Z<K.length;Z++){var re=K[Z],ie=re[0].t;ie.barwidth=z,ie.poffset=H,ie.bargroupwidth=J,ie.bardelta=W}S.binWidth=K[0][0].t.barwidth/100,C(S),L(G,S),x(G,S)}function D(G,S,U,W){for(var K=G._fullLayout,J=U.positions,ae=U.distinctPositions,z=U.minDiff,H=U.traces,Z=H.length,re=J.length!==ae.length,ie=z*(1-W.gap),ue=f(K,S._id)+H[0][0].trace.orientation,ge=K._alignmentOpts[ue]||{},ee=0;ee<Z;ee++){var q=H[ee],ne=q[0].trace,oe=ge[ne.alignmentgroup]||{},Q=Object.keys(oe.offsetGroups||{}).length,c;Q?c=ie/Q:c=re?ie/Z:ie;var w=c*(1-(W.groupgap||0)),B;Q?B=((2*ne._offsetIndex+1-Q)*c-w)/2:B=re?((2*ee+1-Z)*c-w)/2:-w/2;var E=q[0].t;E.barwidth=w,E.poffset=B,E.bargroupwidth=ie,E.bardelta=z}U.binWidth=H[0][0].t.barwidth/100,C(U),L(S,U),x(S,U,re)}function C(G){var S=G.traces,U,W;for(U=0;U<S.length;U++){var K=S[U],J=K[0],ae=J.trace,z=J.t,H=ae._offset||ae.offset,Z=z.poffset,re;if(a(H)){for(re=Array.prototype.slice.call(H,0,K.length),W=0;W<re.length;W++)e(re[W])||(re[W]=Z);for(W=re.length;W<K.length;W++)re.push(Z);z.poffset=re}else H!==void 0&&(z.poffset=H);var ie=ae._width||ae.width,ue=z.barwidth;if(a(ie)){var ge=Array.prototype.slice.call(ie,0,K.length);for(W=0;W<ge.length;W++)e(ge[W])||(ge[W]=ue);for(W=ge.length;W<K.length;W++)ge.push(ue);if(z.barwidth=ge,H===void 0){for(re=[],W=0;W<K.length;W++)re.push(Z+(ue-ge[W])/2);z.poffset=re}}else ie!==void 0&&(z.barwidth=ie,H===void 0&&(z.poffset=Z+(ue-ie)/2))}}function L(G,S){for(var U=S.traces,W=Y(G),K=0;K<U.length;K++)for(var J=U[K],ae=J[0].t,z=ae.poffset,H=Array.isArray(z),Z=ae.barwidth,re=Array.isArray(Z),ie=0;ie<J.length;ie++){var ue=J[ie],ge=ue.w=re?Z[ie]:Z;ue[W]=ue.p+(H?z[ie]:z)+ge/2}}function x(G,S,U){var W=S.traces,K=S.minDiff,J=K/2;r.minDtick(G,S.minDiff,S.distinctPositions[0],U);for(var ae=0;ae<W.length;ae++){var z=W[ae],H=z[0],Z=H.trace,re=[],ie,ue,ge,ee;for(ee=0;ee<z.length;ee++)ie=z[ee],ue=ie.p-J,ge=ie.p+J,re.push(ue,ge);if(Z.width||Z.offset){var q=H.t,ne=q.poffset,oe=q.barwidth,Q=Array.isArray(ne),c=Array.isArray(oe);for(ee=0;ee<z.length;ee++){ie=z[ee];var w=Q?ne[ee]:ne,B=c?oe[ee]:oe;ue=ie.p+w,ge=ue+B,re.push(ue,ge)}}Z._extremes[G._id]=r.findExtremes(G,re,{padded:!1})}}function M(G,S){for(var U=S.traces,W=Y(G),K=0;K<U.length;K++){for(var J=U[K],ae=J[0].trace,z=[],H=!1,Z=0;Z<J.length;Z++){var re=J[Z],ie=re.b,ue=ie+re.s;re[W]=ue,z.push(ue),re.hasB&&z.push(ie),(!re.hasB||!re.b)&&(H=!0)}ae._extremes[G._id]=r.findExtremes(G,z,{tozero:H,padded:!0})}}function v(G,S,U){var W=Y(G),K=S.traces,J,ae,z,H,Z,re;for(H=0;H<K.length;H++)if(J=K[H],ae=J[0].trace,ae.type==="funnel")for(Z=0;Z<J.length;Z++)re=J[Z],re.s!==i&&S.put(re.p,-.5*re.s);for(H=0;H<K.length;H++){J=K[H],ae=J[0].trace,z=ae.type==="funnel";var ie=[];for(Z=0;Z<J.length;Z++)if(re=J[Z],re.s!==i){var ue;z?ue=re.s:ue=re.s+re.b;var ge=S.put(re.p,ue),ee=ge+ue;re.b=ge,re[W]=ee,U.norm||(ie.push(ee),re.hasB&&ie.push(ge))}U.norm||(ae._extremes[G._id]=r.findExtremes(G,ie,{tozero:!0,padded:!0}))}}function m(G){for(var S=G.traces,U=0;U<S.length;U++)for(var W=S[U],K=0;K<W.length;K++){var J=W[K];J.s!==i&&G.put(J.p,J.b+J.s)}}function A(G,S){for(var U=G.traces,W=0;W<U.length;W++){var K=U[W],J=K[0].trace;if(J.base===void 0)for(var ae=new u([K],{posAxis:S,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<K.length;z++){var H=K[z];if(H.p!==i){var Z=ae.put(H.p,H.b+H.s);Z&&(H.b=Z)}}}}function V(G,S,U){var W=S.traces,K=Y(G),J=U.norm==="fraction"?1:100,ae=J/1e9,z=G.l2c(G.c2l(0)),H=U.mode==="stack"?J:z;function Z(B){return e(G.c2l(B))&&(B<z-ae||B>H+ae||!e(z))}for(var re=0;re<W.length;re++){for(var ie=W[re],ue=ie[0].trace,ge=[],ee=!1,q=!1,ne=0;ne<ie.length;ne++){var oe=ie[ne];if(oe.s!==i){var Q=Math.abs(J/S.get(oe.p,oe.s));oe.b*=Q,oe.s*=Q;var c=oe.b,w=c+oe.s;oe[K]=w,ge.push(w),q=q||Z(w),oe.hasB&&(ge.push(c),q=q||Z(c)),(!oe.hasB||!oe.b)&&(ee=!0)}}ue._extremes[G._id]=r.findExtremes(G,ge,{tozero:ee,padded:q})}}function T(G,S){var U=Y(S),W={},K,J,ae,z=1/0,H=-1/0;for(K=0;K<G.length;K++)for(ae=G[K],J=0;J<ae.length;J++){var Z=ae[J].p;e(Z)&&(z=Math.min(z,Z),H=Math.max(H,Z))}var re=1e4/(H-z),ie=W.round=function(Q){return String(Math.round(re*(Q-z)))};for(K=0;K<G.length;K++){ae=G[K],ae[0].t.extents=W;var ue=ae[0].t.poffset,ge=Array.isArray(ue);for(J=0;J<ae.length;J++){var ee=ae[J],q=ee[U]-ee.w/2;if(e(q)){var ne=ee[U]+ee.w/2,oe=ie(ee.p);W[oe]?W[oe]=[Math.min(q,W[oe][0]),Math.max(ne,W[oe][1])]:W[oe]=[q,ne]}ee.p0=ee.p+(ge?ue[J]:ue),ee.p1=ee.p0+ee.w,ee.s0=ee.b,ee.s1=ee.s0+ee.s}}}function Y(G){return G._id.charAt(0)}P.exports={crossTraceCalc:s,setGroupPositions:o}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../plots/cartesian/constraints":287,"../../registry":318,"./sieve.js":341,"fast-isnumeric":17}],332:[function(t,P,k){var e=t("../../lib"),a=t("../../components/color"),i=t("../../registry"),n=t("../scatter/xy_defaults"),r=t("../scatter/period_defaults"),f=t("./style_defaults"),u=t("../../plots/cartesian/constraints").getAxisGroup,s=t("./attributes"),o=e.coerceFont;function h(g,D,C,L){function x(V,T){return e.coerce(g,D,s,V,T)}var M=n(g,D,L,x);if(!M){D.visible=!1;return}r(g,D,L,x),x("xhoverformat"),x("yhoverformat"),x("orientation",D.x&&!D.y?"h":"v"),x("base"),x("offset"),x("width"),x("text"),x("hovertext"),x("hovertemplate");var v=x("textposition");y(g,D,L,x,v,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f(g,D,x,C,L);var m=(D.marker.line||{}).color,A=i.getComponentMethod("errorbars","supplyDefaults");A(g,D,m||a.defaultLine,{axis:"y"}),A(g,D,m||a.defaultLine,{axis:"x",inherit:"y"}),e.coerceSelectionMarkerOpacity(D,x)}function p(g,D,C,L){var x=D.orientation,M=D[{v:"x",h:"y"}[x]+"axis"],v=u(C,M)+x,m=C._alignmentOpts||{},A=L("alignmentgroup"),V=m[v];V||(V=m[v]={});var T=V[A];T?T.traces.push(D):T=V[A]={traces:[D],alignmentIndex:Object.keys(V).length,offsetGroups:{}};var Y=L("offsetgroup"),G=T.offsetGroups,S=G[Y];Y&&(S||(S=G[Y]={offsetIndex:Object.keys(G).length}),D._offsetIndex=S.offsetIndex)}function d(g,D){var C,L;function x(v){return e.coerce(L._input,L,s,v)}if(D.barmode==="group")for(var M=0;M<g.length;M++)L=g[M],L.type==="bar"&&(C=L._input,p(C,L,D,x))}function y(g,D,C,L,x,M){M=M||{};var v=M.moduleHasSelected!==!1,m=M.moduleHasUnselected!==!1,A=M.moduleHasConstrain!==!1,V=M.moduleHasCliponaxis!==!1,T=M.moduleHasTextangle!==!1,Y=M.moduleHasInsideanchor!==!1,G=!!M.hasPathbar,S=Array.isArray(x)||x==="auto",U=S||x==="inside",W=S||x==="outside";if(U||W){var K=o(L,"textfont",C.font),J=e.extendFlat({},K),ae=g.textfont&&g.textfont.color,z=!ae;if(z&&delete J.color,o(L,"insidetextfont",J),G){var H=e.extendFlat({},K);z&&delete H.color,o(L,"pathbar.textfont",H)}W&&o(L,"outsidetextfont",K),v&&L("selected.textfont.color"),m&&L("unselected.textfont.color"),A&&L("constraintext"),V&&L("cliponaxis"),T&&L("textangle"),L("texttemplate")}U&&Y&&L("insidetextanchor")}P.exports={supplyDefaults:h,crossTraceDefaults:d,handleGroupingDefaults:p,handleText:y}},{"../../components/color":102,"../../lib":232,"../../plots/cartesian/constraints":287,"../../registry":318,"../scatter/period_defaults":378,"../scatter/xy_defaults":385,"./attributes":328,"./style_defaults":343}],333:[function(t,P,k){P.exports=function(a,i,n){return a.x="xVal"in i?i.xVal:i.x,a.y="yVal"in i?i.yVal:i.y,i.xa&&(a.xaxis=i.xa),i.ya&&(a.yaxis=i.ya),n.orientation==="h"?(a.label=a.y,a.value=a.x):(a.label=a.x,a.value=a.y),a}},{}],334:[function(t,P,k){var e=t("fast-isnumeric"),a=t("tinycolor2"),i=t("../../lib").isArrayOrTypedArray;k.coerceString=function(n,r,f){if(typeof r=="string"){if(r||!n.noBlank)return r}else if((typeof r=="number"||r===!0)&&!n.strict)return String(r);return f!==void 0?f:n.dflt},k.coerceNumber=function(n,r,f){if(e(r)){r=+r;var u=n.min,s=n.max,o=u!==void 0&&r<u||s!==void 0&&r>s;if(!o)return r}return f!==void 0?f:n.dflt},k.coerceColor=function(n,r,f){return a(r).isValid()?r:f!==void 0?f:n.dflt},k.coerceEnumerated=function(n,r,f){return n.coerceNumber&&(r=+r),n.values.indexOf(r)!==-1?r:f!==void 0?f:n.dflt},k.getValue=function(n,r){var f;return Array.isArray(n)?r<n.length&&(f=n[r]):f=n,f},k.getLineWidth=function(n,r){var f=0<r.mlw?r.mlw:i(n.marker.line.width)?0:n.marker.line.width;return f}},{"../../lib":232,"fast-isnumeric":17,tinycolor2:67}],335:[function(t,P,k){var e=t("../../components/fx"),a=t("../../registry"),i=t("../../components/color"),n=t("../../lib").fillText,r=t("./helpers").getLineWidth,f=t("../../plots/cartesian/axes").hoverLabelText,u=t("../../constants/numerical").BADNUM;function s(p,d,y,g,D){var C=o(p,d,y,g,D);if(C){var L=C.cd,x=L[0].trace,M=L[C.index];return C.color=h(x,M),a.getComponentMethod("errorbars","hoverInfo")(M,x,C),[C]}}function o(p,d,y,g,D){var C=p.cd,L=C[0].trace,x=C[0].t,M=g==="closest",v=L.type==="waterfall",m=p.maxHoverDistance,A=p.maxSpikeDistance,V,T,Y,G,S,U,W;L.orientation==="h"?(V=y,T=d,Y="y",G="x",S=ne,U=ge):(V=d,T=y,Y="x",G="y",U=ne,S=ge);var K=L[Y+"period"],J=M||K;function ae(j){return H(j,-1)}function z(j){return H(j,1)}function H(j,se){var fe=j.w;return j[Y]+se*fe/2}function Z(j){return j[Y+"End"]-j[Y+"Start"]}var re=M?ae:K?function(j){return j.p-Z(j)/2}:function(j){return Math.min(ae(j),j.p-x.bardelta/2)},ie=M?z:K?function(j){return j.p+Z(j)/2}:function(j){return Math.max(z(j),j.p+x.bardelta/2)};function ue(j,se,fe){return D.finiteRange&&(fe=0),e.inbox(j-V,se-V,fe+Math.min(1,Math.abs(se-j)/W)-1)}function ge(j){return ue(re(j),ie(j),m)}function ee(j){return ue(ae(j),z(j),A)}function q(j){var se=j[G];if(v){var fe=Math.abs(j.rawS)||0;T>0?se+=fe:T<0&&(se-=fe)}return se}function ne(j){var se=T,fe=j.b,ce=q(j);return e.inbox(fe-se,ce-se,m+(ce-se)/(ce-fe)-1)}function oe(j){var se=T,fe=j.b,ce=q(j);return e.inbox(fe-se,ce-se,A+(ce-se)/(ce-fe)-1)}var Q=p[Y+"a"],c=p[G+"a"];W=Math.abs(Q.r2c(Q.range[1])-Q.r2c(Q.range[0]));function w(j){return(S(j)+U(j))/2}var B=e.getDistanceFunction(g,S,U,w);if(e.getClosest(C,B,p),p.index!==!1&&C[p.index].p!==u){J||(re=function(j){return Math.min(ae(j),j.p-x.bargroupwidth/2)},ie=function(j){return Math.max(z(j),j.p+x.bargroupwidth/2)});var E=p.index,b=C[E],O=L.base?b.b+b.s:b.s;p[G+"0"]=p[G+"1"]=c.c2p(b[G],!0),p[G+"LabelVal"]=O;var N=x.extents[x.extents.round(b.p)];p[Y+"0"]=Q.c2p(M?re(b):N[0],!0),p[Y+"1"]=Q.c2p(M?ie(b):N[1],!0);var R=b.orig_p!==void 0;return p[Y+"LabelVal"]=R?b.orig_p:b.p,p.labelLabel=f(Q,p[Y+"LabelVal"],L[Y+"hoverformat"]),p.valueLabel=f(c,p[G+"LabelVal"],L[G+"hoverformat"]),p.baseLabel=f(c,b.b,L[G+"hoverformat"]),p.spikeDistance=(oe(b)+ee(b))/2,p[Y+"Spike"]=Q.c2p(b.p,!0),n(b,L,p),p.hovertemplate=L.hovertemplate,p}}function h(p,d){var y=d.mcc||p.marker.color,g=d.mlcc||p.marker.line.color,D=r(p,d);if(i.opacity(y))return y;if(i.opacity(g)&&D)return g}P.exports={hoverPoints:s,hoverOnBars:o,getTraceColor:h}},{"../../components/color":102,"../../components/fx":142,"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./helpers":334}],336:[function(t,P,k){P.exports={attributes:t("./attributes"),layoutAttributes:t("./layout_attributes"),supplyDefaults:t("./defaults").supplyDefaults,crossTraceDefaults:t("./defaults").crossTraceDefaults,supplyLayoutDefaults:t("./layout_defaults"),calc:t("./calc"),crossTraceCalc:t("./cross_trace_calc").crossTraceCalc,colorbar:t("../scatter/marker_colorbar"),arraysToCalcdata:t("./arrays_to_calcdata"),plot:t("./plot").plot,style:t("./style").style,styleOnSelect:t("./style").styleOnSelect,hoverPoints:t("./hover").hoverPoints,eventData:t("./event_data"),selectPoints:t("./select"),moduleType:"trace",name:"bar",basePlotModule:t("../../plots/cartesian"),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},{"../../plots/cartesian":293,"../scatter/marker_colorbar":376,"./arrays_to_calcdata":327,"./attributes":328,"./calc":329,"./cross_trace_calc":331,"./defaults":332,"./event_data":333,"./hover":335,"./layout_attributes":337,"./layout_defaults":338,"./plot":339,"./select":340,"./style":342}],337:[function(t,P,k){P.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],338:[function(t,P,k){var e=t("../../registry"),a=t("../../plots/cartesian/axes"),i=t("../../lib"),n=t("./layout_attributes");P.exports=function(r,f,u){function s(x,M){return i.coerce(r,f,n,x,M)}for(var o=!1,h=!1,p=!1,d={},y=s("barmode"),g=0;g<u.length;g++){var D=u[g];if(e.traceIs(D,"bar")&&D.visible)o=!0;else continue;if(y==="group"){var C=D.xaxis+D.yaxis;d[C]&&(p=!0),d[C]=!0}if(D.visible&&D.type==="histogram"){var L=a.getFromId({_fullLayout:f},D[D.orientation==="v"?"xaxis":"yaxis"]);L.type!=="category"&&(h=!0)}}if(!o){delete f.barmode;return}y!=="overlay"&&s("barnorm"),s("bargap",h&&!p?0:.2),s("bargroupgap")}},{"../../lib":232,"../../plots/cartesian/axes":279,"../../registry":318,"./layout_attributes":337}],339:[function(t,P,k){var e=t("@plotly/d3"),a=t("fast-isnumeric"),i=t("../../lib"),n=t("../../lib/svg_text_utils"),r=t("../../components/color"),f=t("../../components/drawing"),u=t("../../registry"),s=t("../../plots/cartesian/axes").tickText,o=t("./uniform_text"),h=o.recordMinTextSize,p=o.clearMinTextSize,d=t("./style"),y=t("./helpers"),g=t("./constants"),D=t("./attributes"),C=D.text,L=D.textposition,x=t("../../components/fx/helpers").appendArrayPointValue,M=g.TEXTPAD;function v(re){return re.id}function m(re){if(re.ids)return v}function A(re,ie){return re<ie?1:-1}function V(re,ie,ue,ge){var ee=[],q=[],ne=ge?ie:ue,oe=ge?ue:ie;return ee[0]=ne.c2p(re.s0,!0),q[0]=oe.c2p(re.p0,!0),ee[1]=ne.c2p(re.s1,!0),q[1]=oe.c2p(re.p1,!0),ge?[ee,q]:[q,ee]}function T(re,ie,ue,ge){if(!ie.uniformtext.mode&&Y(ue)){var ee;return ge&&(ee=ge()),re.transition().duration(ue.duration).ease(ue.easing).each("end",function(){ee&&ee()}).each("interrupt",function(){ee&&ee()})}else return re}function Y(re){return re&&re.duration>0}function G(re,ie,ue,ge,ee,q){var ne=ie.xaxis,oe=ie.yaxis,Q=re._fullLayout;ee||(ee={mode:Q.barmode,norm:Q.barmode,gap:Q.bargap,groupgap:Q.bargroupgap},p("bar",Q));var c=i.makeTraceGroups(ge,ue,"trace bars").each(function(w){var B=e.select(this),E=w[0].trace,b=E.type==="waterfall",O=E.type==="funnel",N=E.type==="bar",R=N||O,j=0;b&&E.connector.visible&&E.connector.mode==="between"&&(j=E.connector.line.width/2);var se=E.orientation==="h",fe=Y(ee),ce=i.ensureSingle(B,"g","points"),ye=m(E),xe=ce.selectAll("g.point").data(i.identity,ye);xe.enter().append("g").classed("point",!0),xe.exit().remove(),xe.each(function(ke,Ne){var Ue=e.select(this),Ce=V(ke,ne,oe,se),_e=Ce[0][0],Ie=Ce[0][1],Ze=Ce[1][0],gt=Ce[1][1],Ve=(se?Ie-_e:gt-Ze)==0;Ve&&R&&y.getLineWidth(E,ke)&&(Ve=!1),Ve||(Ve=!a(_e)||!a(Ie)||!a(Ze)||!a(gt)),ke.isBlank=Ve,Ve&&(se?Ie=_e:gt=Ze),j&&!Ve&&(se?(_e-=A(_e,Ie)*j,Ie+=A(_e,Ie)*j):(Ze-=A(Ze,gt)*j,gt+=A(Ze,gt)*j));var We,Ke;if(E.type==="waterfall"){if(!Ve){var ut=E[ke.dir].marker;We=ut.line.width,Ke=ut.color}}else We=y.getLineWidth(E,ke),Ke=ke.mc||E.marker.color;function mt(Ct){var Ee=e.round(We/2%1,2);return ee.gap===0&&ee.groupgap===0?e.round(Math.round(Ct)-Ee,2):Ct}function Lt(Ct,Ee,Oe){return Oe&&Ct===Ee?Ct:Math.abs(Ct-Ee)>=2?mt(Ct):Ct>Ee?Math.ceil(Ct):Math.floor(Ct)}if(!re._context.staticPlot){var rt=r.opacity(Ke),dt=rt<1||We>.01?mt:Lt;_e=dt(_e,Ie,se),Ie=dt(Ie,_e,se),Ze=dt(Ze,gt,!se),gt=dt(gt,Ze,!se)}var ot=T(i.ensureSingle(Ue,"path"),Q,ee,q);if(ot.style("vector-effect","non-scaling-stroke").attr("d",isNaN((Ie-_e)*(gt-Ze))||Ve&&re._context.staticPlot?"M0,0Z":"M"+_e+","+Ze+"V"+gt+"H"+Ie+"V"+Ze+"Z").call(f.setClipUrl,ie.layerClipId,re),!Q.uniformtext.mode&&fe){var pt=f.makePointStyleFns(E);f.singlePointStyle(ke,ot,E,pt,re)}S(re,ie,Ue,w,Ne,_e,Ie,Ze,gt,ee,q),ie.layerClipId&&f.hideOutsideRangePoint(ke,Ue.select("text"),ne,oe,E.xcalendar,E.ycalendar)});var De=E.cliponaxis===!1;f.setClipUrl(B,De?null:ie.layerClipId,re)});u.getComponentMethod("errorbars","plot")(re,c,ie,ee)}function S(re,ie,ue,ge,ee,q,ne,oe,Q,c,w){var B=ie.xaxis,E=ie.yaxis,b=re._fullLayout,O;function N(Ct,Ee,Oe){var at=i.ensureSingle(Ct,"text").text(Ee).attr({class:"bartext bartext-"+O,"text-anchor":"middle","data-notex":1}).call(f.font,Oe).call(n.convertToTspans,re);return at}var R=ge[0].trace,j=R.orientation==="h",se=ae(b,ge,ee,B,E);O=z(R,ee);var fe=c.mode==="stack"||c.mode==="relative",ce=ge[ee],ye=!fe||ce._outmost;if(!se||O==="none"||(ce.isBlank||q===ne||oe===Q)&&(O==="auto"||O==="inside")){ue.select("text").remove();return}var xe=b.font,De=d.getBarColor(ge[ee],R),ke=d.getInsideTextFont(R,ee,xe,De),Ne=d.getOutsideTextFont(R,ee,xe),Ue=ue.datum();j?B.type==="log"&&Ue.s0<=0&&(B.range[0]<B.range[1]?q=0:q=B._length):E.type==="log"&&Ue.s0<=0&&(E.range[0]<E.range[1]?oe=E._length:oe=0);var Ce=Math.abs(ne-q)-2*M,_e=Math.abs(Q-oe)-2*M,Ie,Ze,gt,Ve,We;if(O==="outside"&&!ye&&!ce.hasB&&(O="inside"),O==="auto")if(ye){O="inside",We=i.ensureUniformFontSize(re,ke),Ie=N(ue,se,We),Ze=f.bBox(Ie.node()),gt=Ze.width,Ve=Ze.height;var Ke=gt>0&&Ve>0,ut=gt<=Ce&&Ve<=_e,mt=gt<=_e&&Ve<=Ce,Lt=j?Ce>=gt*(_e/Ve):_e>=Ve*(Ce/gt);Ke&&(ut||mt||Lt)?O="inside":(O="outside",Ie.remove(),Ie=null)}else O="inside";if(!Ie){We=i.ensureUniformFontSize(re,O==="outside"?Ne:ke),Ie=N(ue,se,We);var rt=Ie.attr("transform");if(Ie.attr("transform",""),Ze=f.bBox(Ie.node()),gt=Ze.width,Ve=Ze.height,Ie.attr("transform",rt),gt<=0||Ve<=0){Ie.remove();return}}var dt=R.textangle,ot,pt;O==="outside"?(pt=R.constraintext==="both"||R.constraintext==="outside",ot=J(q,ne,oe,Q,Ze,{isHorizontal:j,constrained:pt,angle:dt})):(pt=R.constraintext==="both"||R.constraintext==="inside",ot=K(q,ne,oe,Q,Ze,{isHorizontal:j,constrained:pt,angle:dt,anchor:R.insidetextanchor})),ot.fontSize=We.size,h(R.type==="histogram"?"bar":R.type,ot,b),ce.transform=ot,T(Ie,b,c,w).attr("transform",i.getTextTransform(ot))}function U(re){return re==="auto"?0:re}function W(re,ie){var ue=Math.PI/180*ie,ge=Math.abs(Math.sin(ue)),ee=Math.abs(Math.cos(ue));return{x:re.width*ee+re.height*ge,y:re.width*ge+re.height*ee}}function K(re,ie,ue,ge,ee,q){var ne=!!q.isHorizontal,oe=!!q.constrained,Q=q.angle||0,c=q.anchor||"end",w=c==="end",B=c==="start",E=q.leftToRight||0,b=(E+1)/2,O=1-b,N=ee.width,R=ee.height,j=Math.abs(ie-re),se=Math.abs(ge-ue),fe=j>2*M&&se>2*M?M:0;j-=2*fe,se-=2*fe;var ce=U(Q);Q==="auto"&&!(N<=j&&R<=se)&&(N>j||R>se)&&(!(N>se||R>j)||N<R!=j<se)&&(ce+=90);var ye=W(ee,ce),xe=1;oe&&(xe=Math.min(1,j/ye.x,se/ye.y));var De=ee.left*O+ee.right*b,ke=(ee.top+ee.bottom)/2,Ne=(re+M)*O+(ie-M)*b,Ue=(ue+ge)/2,Ce=0,_e=0;if(B||w){var Ie=(ne?ye.x:ye.y)/2,Ze=ne?A(re,ie):A(ue,ge);ne?B?(Ne=re+Ze*fe,Ce=-Ze*Ie):(Ne=ie-Ze*fe,Ce=Ze*Ie):B?(Ue=ue+Ze*fe,_e=-Ze*Ie):(Ue=ge-Ze*fe,_e=Ze*Ie)}return{textX:De,textY:ke,targetX:Ne,targetY:Ue,anchorX:Ce,anchorY:_e,scale:xe,rotate:ce}}function J(re,ie,ue,ge,ee,q){var ne=!!q.isHorizontal,oe=!!q.constrained,Q=q.angle||0,c=ee.width,w=ee.height,B=Math.abs(ie-re),E=Math.abs(ge-ue),b;ne?b=E>2*M?M:0:b=B>2*M?M:0;var O=1;oe&&(O=ne?Math.min(1,E/w):Math.min(1,B/c));var N=U(Q),R=W(ee,N),j=(ne?R.x:R.y)/2,se=(ee.left+ee.right)/2,fe=(ee.top+ee.bottom)/2,ce=(re+ie)/2,ye=(ue+ge)/2,xe=0,De=0,ke=ne?A(ie,re):A(ue,ge);return ne?(ce=ie-ke*b,xe=ke*j):(ye=ge+ke*b,De=-ke*j),{textX:se,textY:fe,targetX:ce,targetY:ye,anchorX:xe,anchorY:De,scale:O,rotate:N}}function ae(re,ie,ue,ge,ee){var q=ie[0].trace,ne=q.texttemplate,oe;return ne?oe=H(re,ie,ue,ge,ee):q.textinfo?oe=Z(ie,ue,ge,ee):oe=y.getValue(q.text,ue),y.coerceString(C,oe)}function z(re,ie){var ue=y.getValue(re.textposition,ie);return y.coerceEnumerated(L,ue)}function H(re,ie,ue,ge,ee){var q=ie[0].trace,ne=i.castOption(q,ue,"texttemplate");if(!ne)return"";var oe=q.type==="waterfall",Q=q.type==="funnel",c,w,B,E;q.orientation==="h"?(c="y",w=ee,B="x",E=ge):(c="x",w=ge,B="y",E=ee);function b(ce){return s(w,w.c2l(ce),!0).text}function O(ce){return s(E,E.c2l(ce),!0).text}var N=ie[ue],R={};R.label=N.p,R.labelLabel=R[c+"Label"]=b(N.p);var j=i.castOption(q,N.i,"text");(j===0||j)&&(R.text=j),R.value=N.s,R.valueLabel=R[B+"Label"]=O(N.s);var se={};x(se,q,N.i),oe&&(R.delta=+N.rawS||N.s,R.deltaLabel=O(R.delta),R.final=N.v,R.finalLabel=O(R.final),R.initial=R.final-R.delta,R.initialLabel=O(R.initial)),Q&&(R.value=N.s,R.valueLabel=O(R.value),R.percentInitial=N.begR,R.percentInitialLabel=i.formatPercent(N.begR),R.percentPrevious=N.difR,R.percentPreviousLabel=i.formatPercent(N.difR),R.percentTotal=N.sumR,R.percenTotalLabel=i.formatPercent(N.sumR));var fe=i.castOption(q,N.i,"customdata");return fe&&(R.customdata=fe),i.texttemplateString(ne,R,re._d3locale,se,R,q._meta||{})}function Z(re,ie,ue,ge){var ee=re[0].trace,q=ee.orientation==="h",ne=ee.type==="waterfall",oe=ee.type==="funnel";function Q(ye){var xe=q?ge:ue;return s(xe,ye,!0).text}function c(ye){var xe=q?ue:ge;return s(xe,+ye,!0).text}var w=ee.textinfo,B=re[ie],E=w.split("+"),b=[],O,N=function(ye){return E.indexOf(ye)!==-1};if(N("label")&&b.push(Q(re[ie].p)),N("text")&&(O=i.castOption(ee,B.i,"text"),(O===0||O)&&b.push(O)),ne){var R=+B.rawS||B.s,j=B.v,se=j-R;N("initial")&&b.push(c(se)),N("delta")&&b.push(c(R)),N("final")&&b.push(c(j))}if(oe){N("value")&&b.push(c(B.s));var fe=0;N("percent initial")&&fe++,N("percent previous")&&fe++,N("percent total")&&fe++;var ce=fe>1;N("percent initial")&&(O=i.formatPercent(B.begR),ce&&(O+=" of initial"),b.push(O)),N("percent previous")&&(O=i.formatPercent(B.difR),ce&&(O+=" of previous"),b.push(O)),N("percent total")&&(O=i.formatPercent(B.sumR),ce&&(O+=" of total"),b.push(O))}return b.join("<br>")}P.exports={plot:G,toMoveInsideBar:K}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx/helpers":138,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/cartesian/axes":279,"../../registry":318,"./attributes":328,"./constants":330,"./helpers":334,"./style":342,"./uniform_text":344,"@plotly/d3":11,"fast-isnumeric":17}],340:[function(t,P,k){P.exports=function(i,n){var r=i.cd,f=i.xaxis,u=i.yaxis,s=r[0].trace,o=s.type==="funnel",h=s.orientation==="h",p=[],d;if(n===!1)for(d=0;d<r.length;d++)r[d].selected=0;else for(d=0;d<r.length;d++){var y=r[d],g="ct"in y?y.ct:e(y,f,u,h,o);n.contains(g,!1,d,i)?(p.push({pointNumber:d,x:f.c2d(y.x),y:u.c2d(y.y)}),y.selected=1):y.selected=0}return p};function e(a,i,n,r,f){var u=i.c2p(r?a.s0:a.p0,!0),s=i.c2p(r?a.s1:a.p1,!0),o=n.c2p(r?a.p0:a.s0,!0),h=n.c2p(r?a.p1:a.s1,!0);return f?[(u+s)/2,(o+h)/2]:r?[s,(o+h)/2]:[(u+s)/2,h]}},{}],341:[function(t,P,k){P.exports=i;var e=t("../../lib").distinctVals,a=t("../../constants/numerical").BADNUM;function i(n,r){this.traces=n,this.sepNegVal=r.sepNegVal,this.overlapNoMerge=r.overlapNoMerge;for(var f=1/0,u=[],s=0;s<n.length;s++){for(var o=n[s],h=0;h<o.length;h++){var p=o[h];p.p!==a&&u.push(p.p)}o[0]&&o[0].width1&&(f=Math.min(o[0].width1,f))}this.positions=u;var d=e(u);this.distinctPositions=d.vals,d.vals.length===1&&f!==1/0?this.minDiff=f:this.minDiff=Math.min(d.minDiff,f);var y=(r.posAxis||{}).type;(y==="category"||y==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}i.prototype.put=function(r,f){var u=this.getLabel(r,f),s=this.bins[u]||0;return this.bins[u]=s+f,s},i.prototype.get=function(r,f){var u=this.getLabel(r,f);return this.bins[u]||0},i.prototype.getLabel=function(r,f){var u=f<0&&this.sepNegVal?"v":"^",s=this.overlapNoMerge?r:Math.round(r/this.binWidth);return u+s}},{"../../constants/numerical":212,"../../lib":232}],342:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../components/color"),i=t("../../components/drawing"),n=t("../../lib"),r=t("../../registry"),f=t("./uniform_text").resizeText,u=t("./attributes"),s=u.textfont,o=u.insidetextfont,h=u.outsidetextfont,p=t("./helpers");function d(T){var Y=e.select(T).selectAll("g.barlayer").selectAll("g.trace");f(T,Y,"bar");var G=Y.size(),S=T._fullLayout;Y.style("opacity",function(U){return U[0].trace.opacity}).each(function(U){(S.barmode==="stack"&&G>1||S.bargap===0&&S.bargroupgap===0&&!U[0].trace.marker.line.width)&&e.select(this).attr("shape-rendering","crispEdges")}),Y.selectAll("g.points").each(function(U){var W=e.select(this),K=U[0].trace;y(W,K,T)}),r.getComponentMethod("errorbars","style")(Y)}function y(T,Y,G){i.pointStyle(T.selectAll("path"),Y,G),g(T,Y,G)}function g(T,Y,G){T.selectAll("text").each(function(S){var U=e.select(this),W=n.ensureUniformFontSize(G,x(U,S,Y,G));i.font(U,W)})}function D(T,Y,G){var S=Y[0].trace;S.selectedpoints?C(G,S,T):(y(G,S,T),r.getComponentMethod("errorbars","style")(G))}function C(T,Y,G){i.selectedPointStyle(T.selectAll("path"),Y),L(T.selectAll("text"),Y,G)}function L(T,Y,G){T.each(function(S){var U=e.select(this),W;if(S.selected){W=n.ensureUniformFontSize(G,x(U,S,Y,G));var K=Y.selected.textfont&&Y.selected.textfont.color;K&&(W.color=K),i.font(U,W)}else i.selectedTextStyle(U,Y)})}function x(T,Y,G,S){var U=S._fullLayout.font,W=G.textfont;if(T.classed("bartext-inside")){var K=V(Y,G);W=v(G,Y.i,U,K)}else T.classed("bartext-outside")&&(W=m(G,Y.i,U));return W}function M(T,Y,G){return A(s,T.textfont,Y,G)}function v(T,Y,G,S){var U=M(T,Y,G),W=T._input.textfont===void 0||T._input.textfont.color===void 0||Array.isArray(T.textfont.color)&&T.textfont.color[Y]===void 0;return W&&(U={color:a.contrast(S),family:U.family,size:U.size}),A(o,T.insidetextfont,Y,U)}function m(T,Y,G){var S=M(T,Y,G);return A(h,T.outsidetextfont,Y,S)}function A(T,Y,G,S){Y=Y||{};var U=p.getValue(Y.family,G),W=p.getValue(Y.size,G),K=p.getValue(Y.color,G);return{family:p.coerceString(T.family,U,S.family),size:p.coerceNumber(T.size,W,S.size),color:p.coerceColor(T.color,K,S.color)}}function V(T,Y){return Y.type==="waterfall"?Y[T.dir].marker.color:T.mcc||T.mc||Y.marker.color}P.exports={style:d,styleTextPoints:g,styleOnSelect:D,getInsideTextFont:v,getOutsideTextFont:m,getBarColor:V,resizeText:f}},{"../../components/color":102,"../../components/drawing":124,"../../lib":232,"../../registry":318,"./attributes":328,"./helpers":334,"./uniform_text":344,"@plotly/d3":11}],343:[function(t,P,k){var e=t("../../components/color"),a=t("../../components/colorscale/helpers").hasColorscale,i=t("../../components/colorscale/defaults"),n=t("../../lib").coercePattern;P.exports=function(f,u,s,o,h){var p=s("marker.color",o),d=a(f,"marker");d&&i(f,u,h,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",e.defaultLine),a(f,"marker.line")&&i(f,u,h,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),n(s,"marker.pattern",p,d),s("selected.marker.color"),s("unselected.marker.color")}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],344:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../lib");function i(u,s,o){var h=u._fullLayout,p=h["_"+o+"Text_minsize"];if(p){var d=h.uniformtext.mode==="hide",y;switch(o){case"funnelarea":case"pie":case"sunburst":y="g.slice";break;case"treemap":case"icicle":y="g.slice, g.pathbar";break;default:y="g.points > g.point"}s.selectAll(y).each(function(g){var D=g.transform;if(D){D.scale=d&&D.hide?0:p/D.fontSize;var C=e.select(this).select("text");C.attr("transform",a.getTextTransform(D))}})}}function n(u,s,o){if(o.uniformtext.mode){var h=f(u),p=o.uniformtext.minsize,d=s.scale*s.fontSize;s.hide=d<p,o[h]=o[h]||1/0,s.hide||(o[h]=Math.min(o[h],Math.max(d,p)))}}function r(u,s){var o=f(u);s[o]=void 0}function f(u){return"_"+u+"Text_minsize"}P.exports={recordMinTextSize:n,clearMinTextSize:r,resizeText:i}},{"../../lib":232,"@plotly/d3":11}],345:[function(t,P,k){var e=t("../../plots/attributes"),a=t("../../plots/domain").attributes,i=t("../../plots/font_attributes"),n=t("../../components/color/attributes"),r=t("../../plots/template_attributes").hovertemplateAttrs,f=t("../../plots/template_attributes").texttemplateAttrs,u=t("../../lib/extend").extendFlat,s=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});P.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:u({},e.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:r({},{keys:["label","color","value","percent","text"]}),texttemplate:f({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:u({},s,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:u({},s,{}),outsidetextfont:u({},s,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:u({},s,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:a({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:u({},s,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},{"../../components/color/attributes":101,"../../lib/extend":226,"../../plots/attributes":275,"../../plots/domain":309,"../../plots/font_attributes":310,"../../plots/template_attributes":317}],346:[function(t,P,k){var e=t("../../plots/plots");k.name="pie",k.plot=function(a,i,n,r){e.plotBasePlot(k.name,a,i,n,r)},k.clean=function(a,i,n,r){e.cleanBasePlot(k.name,a,i,n,r)}},{"../../plots/plots":316}],347:[function(t,P,k){var e=t("fast-isnumeric"),a=t("tinycolor2"),i=t("../../components/color"),n={};function r(o,h){var p=[],d=o._fullLayout,y=d.hiddenlabels||[],g=h.labels,D=h.marker.colors||[],C=h.values,L=h._length,x=h._hasValues&&L,M,v;if(h.dlabel)for(g=new Array(L),M=0;M<L;M++)g[M]=String(h.label0+M*h.dlabel);var m={},A=f(d["_"+h.type+"colormap"]),V=0,T=!1;for(M=0;M<L;M++){var Y,G,S;if(x){if(Y=C[M],!e(Y))continue;Y=+Y}else Y=1;G=g[M],(G===void 0||G==="")&&(G=M),G=String(G);var U=m[G];U===void 0?(m[G]=p.length,S=y.indexOf(G)!==-1,S||(V+=Y),p.push({v:Y,label:G,color:A(D[M],G),i:M,pts:[M],hidden:S})):(T=!0,v=p[U],v.v+=Y,v.pts.push(M),v.hidden||(V+=Y),v.color===!1&&D[M]&&(v.color=A(D[M],G)))}p=p.filter(function(K){return K.v>=0});var W=h.type==="funnelarea"?T:h.sort;return W&&p.sort(function(K,J){return J.v-K.v}),p[0]&&(p[0].vTotal=V),p}function f(o){return function(p,d){return!p||(p=a(p),!p.isValid())?!1:(p=i.addOpacity(p,p.getAlpha()),o[d]||(o[d]=p),p)}}function u(o,h){var p=(h||{}).type;p||(p="pie");var d=o._fullLayout,y=o.calcdata,g=d[p+"colorway"],D=d["_"+p+"colormap"];d["extend"+p+"colors"]&&(g=s(g,n));for(var C=0,L=0;L<y.length;L++){var x=y[L],M=x[0].trace.type;if(M===p)for(var v=0;v<x.length;v++){var m=x[v];m.color===!1&&(D[m.label]?m.color=D[m.label]:(D[m.label]=m.color=g[C%g.length],C++))}}}function s(o,h){var p,d=JSON.stringify(o),y=h[d];if(!y){for(y=o.slice(),p=0;p<o.length;p++)y.push(a(o[p]).lighten(20).toHexString());for(p=0;p<o.length;p++)y.push(a(o[p]).darken(20).toHexString());h[d]=y}return y}P.exports={calc:r,crossTraceCalc:u,makePullColorFn:f,generateExtendedColors:s}},{"../../components/color":102,"fast-isnumeric":17,tinycolor2:67}],348:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib"),i=t("./attributes"),n=t("../../plots/domain").defaults,r=t("../bar/defaults").handleText;function f(s,o){var h=Array.isArray(s),p=a.isArrayOrTypedArray(o),d=Math.min(h?s.length:1/0,p?o.length:1/0);if(isFinite(d)||(d=0),d&&p){for(var y,g=0;g<d;g++){var D=o[g];if(e(D)&&D>0){y=!0;break}}y||(d=0)}return{hasLabels:h,hasValues:p,len:d}}function u(s,o,h,p){function d(S,U){return a.coerce(s,o,i,S,U)}var y=d("labels"),g=d("values"),D=f(y,g),C=D.len;if(o._hasLabels=D.hasLabels,o._hasValues=D.hasValues,!o._hasLabels&&o._hasValues&&(d("label0"),d("dlabel")),!C){o.visible=!1;return}o._length=C;var L=d("marker.line.width");L&&d("marker.line.color"),d("marker.colors"),d("scalegroup");var x=d("text"),M=d("texttemplate"),v;if(M||(v=d("textinfo",Array.isArray(x)?"text+percent":"percent")),d("hovertext"),d("hovertemplate"),M||v&&v!=="none"){var m=d("textposition");r(s,o,p,d,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var A=Array.isArray(m)||m==="auto",V=A||m==="outside";V&&d("automargin"),(m==="inside"||m==="auto"||Array.isArray(m))&&d("insidetextorientation")}n(o,p,d);var T=d("hole"),Y=d("title.text");if(Y){var G=d("title.position",T?"middle center":"top center");!T&&G==="middle center"&&(o.title.position="top center"),a.coerceFont(d,"title.font",p.font)}d("sort"),d("direction"),d("rotation"),d("pull")}P.exports={handleLabelsAndValues:f,supplyDefaults:u}},{"../../lib":232,"../../plots/domain":309,"../bar/defaults":332,"./attributes":345,"fast-isnumeric":17}],349:[function(t,P,k){var e=t("../../components/fx/helpers").appendArrayMultiPointValues;P.exports=function(i,n){var r={curveNumber:n.index,pointNumbers:i.pts,data:n._input,fullData:n,label:i.label,color:i.color,value:i.v,percent:i.percent,text:i.text,bbox:i.bbox,v:i.v};return i.pts.length===1&&(r.pointNumber=r.i=i.pts[0]),e(r,n,i.pts),n.type==="funnelarea"&&(delete r.v,delete r.i),r}},{"../../components/fx/helpers":138}],350:[function(t,P,k){var e=t("../../lib");function a(i){return i.indexOf("e")!==-1?i.replace(/[.]?0+e/,"e"):i.indexOf(".")!==-1?i.replace(/[.]?0+$/,""):i}k.formatPiePercent=function(n,r){var f=a((n*100).toPrecision(3));return e.numSeparate(f,r)+"%"},k.formatPieValue=function(n,r){var f=a(n.toPrecision(10));return e.numSeparate(f,r)},k.getFirstFilled=function(n,r){if(!!Array.isArray(n))for(var f=0;f<r.length;f++){var u=n[r[f]];if(u||u===0||u==="")return u}},k.castOption=function(n,r){if(Array.isArray(n))return k.getFirstFilled(n,r);if(n)return n},k.getRotationAngle=function(i){return(i==="auto"?0:i)*Math.PI/180}},{"../../lib":232}],351:[function(t,P,k){P.exports={attributes:t("./attributes"),supplyDefaults:t("./defaults").supplyDefaults,supplyLayoutDefaults:t("./layout_defaults"),layoutAttributes:t("./layout_attributes"),calc:t("./calc").calc,crossTraceCalc:t("./calc").crossTraceCalc,plot:t("./plot").plot,style:t("./style"),styleOne:t("./style_one"),moduleType:"trace",name:"pie",basePlotModule:t("./base_plot"),categories:["pie-like","pie","showLegend"],meta:{}}},{"./attributes":345,"./base_plot":346,"./calc":347,"./defaults":348,"./layout_attributes":352,"./layout_defaults":353,"./plot":354,"./style":355,"./style_one":356}],352:[function(t,P,k){P.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],353:[function(t,P,k){var e=t("../../lib"),a=t("./layout_attributes");P.exports=function(n,r){function f(u,s){return e.coerce(n,r,a,u,s)}f("hiddenlabels"),f("piecolorway",r.colorway),f("extendpiecolors")}},{"../../lib":232,"./layout_attributes":352}],354:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../plots/plots"),i=t("../../components/fx"),n=t("../../components/color"),r=t("../../components/drawing"),f=t("../../lib"),u=f.strScale,s=f.strTranslate,o=t("../../lib/svg_text_utils"),h=t("../bar/uniform_text"),p=h.recordMinTextSize,d=h.clearMinTextSize,y=t("../bar/constants").TEXTPAD,g=t("./helpers"),D=t("./event_data"),C=t("../../lib").isValidTextValue;function L(Q,c){var w=Q._fullLayout,B=w._size;d("pie",w),A(c,Q),ue(c,B);var E=f.makeTraceGroups(w._pielayer,c,"trace").each(function(b){var O=e.select(this),N=b[0],R=N.trace;ee(b),O.attr("stroke-linejoin","round"),O.each(function(){var j=e.select(this).selectAll("g.slice").data(b);j.enter().append("g").classed("slice",!0),j.exit().remove();var se=[[[],[]],[[],[]]],fe=!1;j.each(function(Ce,_e){if(Ce.hidden){e.select(this).selectAll("path,g").remove();return}Ce.pointNumber=Ce.i,Ce.curveNumber=R.index,se[Ce.pxmid[1]<0?0:1][Ce.pxmid[0]<0?0:1].push(Ce);var Ie=N.cx,Ze=N.cy,gt=e.select(this),Ve=gt.selectAll("path.surface").data([Ce]);if(Ve.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),gt.call(M,Q,b),R.pull){var We=+g.castOption(R.pull,Ce.pts)||0;We>0&&(Ie+=We*Ce.pxmid[0],Ze+=We*Ce.pxmid[1])}Ce.cxFinal=Ie,Ce.cyFinal=Ze;function Ke(pt,Ct,Ee,Oe){var at=Oe*(Ct[0]-pt[0]),pe=Oe*(Ct[1]-pt[1]);return"a"+Oe*N.r+","+Oe*N.r+" 0 "+Ce.largeArc+(Ee?" 1 ":" 0 ")+at+","+pe}var ut=R.hole;if(Ce.v===N.vTotal){var mt="M"+(Ie+Ce.px0[0])+","+(Ze+Ce.px0[1])+Ke(Ce.px0,Ce.pxmid,!0,1)+Ke(Ce.pxmid,Ce.px0,!0,1)+"Z";ut?Ve.attr("d","M"+(Ie+ut*Ce.px0[0])+","+(Ze+ut*Ce.px0[1])+Ke(Ce.px0,Ce.pxmid,!1,ut)+Ke(Ce.pxmid,Ce.px0,!1,ut)+"Z"+mt):Ve.attr("d",mt)}else{var Lt=Ke(Ce.px0,Ce.px1,!0,1);if(ut){var rt=1-ut;Ve.attr("d","M"+(Ie+ut*Ce.px1[0])+","+(Ze+ut*Ce.px1[1])+Ke(Ce.px1,Ce.px0,!1,ut)+"l"+rt*Ce.px0[0]+","+rt*Ce.px0[1]+Lt+"Z")}else Ve.attr("d","M"+Ie+","+Ze+"l"+Ce.px0[0]+","+Ce.px0[1]+Lt+"Z")}ne(Q,Ce,N);var dt=g.castOption(R.textposition,Ce.pts),ot=gt.selectAll("g.slicetext").data(Ce.text&&dt!=="none"?[0]:[]);ot.enter().append("g").classed("slicetext",!0),ot.exit().remove(),ot.each(function(){var pt=f.ensureSingle(e.select(this),"text","",function(Pe){Pe.attr("data-notex",1)}),Ct=f.ensureUniformFontSize(Q,dt==="outside"?v(R,Ce,w.font):m(R,Ce,w.font));pt.text(Ce.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(r.font,Ct).call(o.convertToTspans,Q);var Ee=r.bBox(pt.node()),Oe;if(dt==="outside")Oe=J(Ee,Ce);else if(Oe=V(Ee,Ce,N),dt==="auto"&&Oe.scale<1){var at=f.ensureUniformFontSize(Q,R.outsidetextfont);pt.call(r.font,at),Ee=r.bBox(pt.node()),Oe=J(Ee,Ce)}var pe=Oe.textPosAngle,Ae=pe===void 0?Ce.pxmid:q(N.r,pe);if(Oe.targetX=Ie+Ae[0]*Oe.rCenter+(Oe.x||0),Oe.targetY=Ze+Ae[1]*Oe.rCenter+(Oe.y||0),oe(Oe,Ee),Oe.outside){var Se=Oe.targetY;Ce.yLabelMin=Se-Ee.height/2,Ce.yLabelMid=Se,Ce.yLabelMax=Se+Ee.height/2,Ce.labelExtraX=0,Ce.labelExtraY=0,fe=!0}Oe.fontSize=Ct.size,p(R.type,Oe,w),b[_e].transform=Oe,pt.attr("transform",f.getTextTransform(Oe))})});var ce=e.select(this).selectAll("g.titletext").data(R.title.text?[0]:[]);if(ce.enter().append("g").classed("titletext",!0),ce.exit().remove(),ce.each(function(){var Ce=f.ensureSingle(e.select(this),"text","",function(Ze){Ze.attr("data-notex",1)}),_e=R.title.text;R._meta&&(_e=f.templateString(_e,R._meta)),Ce.text(_e).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(r.font,R.title.font).call(o.convertToTspans,Q);var Ie;R.title.position==="middle center"?Ie=ae(N):Ie=z(N,B),Ce.attr("transform",s(Ie.x,Ie.y)+u(Math.min(1,Ie.scale))+s(Ie.tx,Ie.ty))}),fe&&ie(se,R),x(j,R),fe&&R.automargin){var ye=r.bBox(O.node()),xe=R.domain,De=B.w*(xe.x[1]-xe.x[0]),ke=B.h*(xe.y[1]-xe.y[0]),Ne=(.5*De-N.r)/B.w,Ue=(.5*ke-N.r)/B.h;a.autoMargin(Q,"pie."+R.uid+".automargin",{xl:xe.x[0]-Ne,xr:xe.x[1]+Ne,yb:xe.y[0]-Ue,yt:xe.y[1]+Ue,l:Math.max(N.cx-N.r-ye.left,0),r:Math.max(ye.right-(N.cx+N.r),0),b:Math.max(ye.bottom-(N.cy+N.r),0),t:Math.max(N.cy-N.r-ye.top,0),pad:5})}})});setTimeout(function(){E.selectAll("tspan").each(function(){var b=e.select(this);b.attr("dy")&&b.attr("dy",b.attr("dy"))})},0)}function x(Q,c){Q.each(function(w){var B=e.select(this);if(!w.labelExtraX&&!w.labelExtraY){B.select("path.textline").remove();return}var E=B.select("g.slicetext text");w.transform.targetX+=w.labelExtraX,w.transform.targetY+=w.labelExtraY,E.attr("transform",f.getTextTransform(w.transform));var b=w.cxFinal+w.pxmid[0],O=w.cyFinal+w.pxmid[1],N="M"+b+","+O,R=(w.yLabelMax-w.yLabelMin)*(w.pxmid[0]<0?-1:1)/4;if(w.labelExtraX){var j=w.labelExtraX*w.pxmid[1]/w.pxmid[0],se=w.yLabelMid+w.labelExtraY-(w.cyFinal+w.pxmid[1]);Math.abs(j)>Math.abs(se)?N+="l"+se*w.pxmid[0]/w.pxmid[1]+","+se+"H"+(b+w.labelExtraX+R):N+="l"+w.labelExtraX+","+j+"v"+(se-j)+"h"+R}else N+="V"+(w.yLabelMid+w.labelExtraY)+"h"+R;f.ensureSingle(B,"path","textline").call(n.stroke,c.outsidetextfont.color).attr({"stroke-width":Math.min(2,c.outsidetextfont.size/8),d:N,fill:"none"})})}function M(Q,c,w){var B=w[0],E=B.cx,b=B.cy,O=B.trace,N=O.type==="funnelarea";"_hasHoverLabel"in O||(O._hasHoverLabel=!1),"_hasHoverEvent"in O||(O._hasHoverEvent=!1),Q.on("mouseover",function(R){var j=c._fullLayout,se=c._fullData[O.index];if(!(c._dragging||j.hovermode===!1)){var fe=se.hoverinfo;if(Array.isArray(fe)&&(fe=i.castHoverinfo({hoverinfo:[g.castOption(fe,R.pts)],_module:O._module},j,0)),fe==="all"&&(fe="label+text+value+percent+name"),se.hovertemplate||fe!=="none"&&fe!=="skip"&&fe){var ce=R.rInscribed||0,ye=E+R.pxmid[0]*(1-ce),xe=b+R.pxmid[1]*(1-ce),De=j.separators,ke=[];if(fe&&fe.indexOf("label")!==-1&&ke.push(R.label),R.text=g.castOption(se.hovertext||se.text,R.pts),fe&&fe.indexOf("text")!==-1){var Ne=R.text;f.isValidTextValue(Ne)&&ke.push(Ne)}R.value=R.v,R.valueLabel=g.formatPieValue(R.v,De),fe&&fe.indexOf("value")!==-1&&ke.push(R.valueLabel),R.percent=R.v/B.vTotal,R.percentLabel=g.formatPiePercent(R.percent,De),fe&&fe.indexOf("percent")!==-1&&ke.push(R.percentLabel);var Ue=se.hoverlabel,Ce=Ue.font,_e=[];i.loneHover({trace:O,x0:ye-ce*B.r,x1:ye+ce*B.r,y:xe,_x0:N?E+R.TL[0]:ye-ce*B.r,_x1:N?E+R.TR[0]:ye+ce*B.r,_y0:N?b+R.TL[1]:xe-ce*B.r,_y1:N?b+R.BL[1]:xe+ce*B.r,text:ke.join("<br>"),name:se.hovertemplate||fe.indexOf("name")!==-1?se.name:void 0,idealAlign:R.pxmid[0]<0?"left":"right",color:g.castOption(Ue.bgcolor,R.pts)||R.color,borderColor:g.castOption(Ue.bordercolor,R.pts),fontFamily:g.castOption(Ce.family,R.pts),fontSize:g.castOption(Ce.size,R.pts),fontColor:g.castOption(Ce.color,R.pts),nameLength:g.castOption(Ue.namelength,R.pts),textAlign:g.castOption(Ue.align,R.pts),hovertemplate:g.castOption(se.hovertemplate,R.pts),hovertemplateLabels:R,eventData:[D(R,se)]},{container:j._hoverlayer.node(),outerContainer:j._paper.node(),gd:c,inOut_bbox:_e}),R.bbox=_e[0],O._hasHoverLabel=!0}O._hasHoverEvent=!0,c.emit("plotly_hover",{points:[D(R,se)],event:e.event})}}),Q.on("mouseout",function(R){var j=c._fullLayout,se=c._fullData[O.index],fe=e.select(this).datum();O._hasHoverEvent&&(R.originalEvent=e.event,c.emit("plotly_unhover",{points:[D(fe,se)],event:e.event}),O._hasHoverEvent=!1),O._hasHoverLabel&&(i.loneUnhover(j._hoverlayer.node()),O._hasHoverLabel=!1)}),Q.on("click",function(R){var j=c._fullLayout,se=c._fullData[O.index];c._dragging||j.hovermode===!1||(c._hoverdata=[D(R,se)],i.click(c,e.event))})}function v(Q,c,w){var B=g.castOption(Q.outsidetextfont.color,c.pts)||g.castOption(Q.textfont.color,c.pts)||w.color,E=g.castOption(Q.outsidetextfont.family,c.pts)||g.castOption(Q.textfont.family,c.pts)||w.family,b=g.castOption(Q.outsidetextfont.size,c.pts)||g.castOption(Q.textfont.size,c.pts)||w.size;return{color:B,family:E,size:b}}function m(Q,c,w){var B=g.castOption(Q.insidetextfont.color,c.pts);!B&&Q._input.textfont&&(B=g.castOption(Q._input.textfont.color,c.pts));var E=g.castOption(Q.insidetextfont.family,c.pts)||g.castOption(Q.textfont.family,c.pts)||w.family,b=g.castOption(Q.insidetextfont.size,c.pts)||g.castOption(Q.textfont.size,c.pts)||w.size;return{color:B||n.contrast(c.color),family:E,size:b}}function A(Q,c){for(var w,B,E=0;E<Q.length;E++)if(w=Q[E][0],B=w.trace,B.title.text){var b=B.title.text;B._meta&&(b=f.templateString(b,B._meta));var O=r.tester.append("text").attr("data-notex",1).text(b).call(r.font,B.title.font).call(o.convertToTspans,c),N=r.bBox(O.node(),!0);w.titleBox={width:N.width,height:N.height},O.remove()}}function V(Q,c,w){var B=w.r||c.rpx1,E=c.rInscribed,b=c.startangle===c.stopangle;if(b)return{rCenter:1-E,scale:0,rotate:0,textPosAngle:0};var O=c.ring,N=O===1&&Math.abs(c.startangle-c.stopangle)===Math.PI*2,R=c.halfangle,j=c.midangle,se=w.trace.insidetextorientation,fe=se==="horizontal",ce=se==="tangential",ye=se==="radial",xe=se==="auto",De=[],ke;if(!xe){var Ne=function(Ve,We){if(T(c,Ve)){var Ke=Math.abs(Ve-c.startangle),ut=Math.abs(Ve-c.stopangle),mt=Ke<ut?Ke:ut;We==="tan"?ke=G(Q,B,O,mt,0):ke=Y(Q,B,O,mt,Math.PI/2),ke.textPosAngle=Ve,De.push(ke)}},Ue;if(fe||ce){for(Ue=4;Ue>=-4;Ue-=2)Ne(Math.PI*Ue,"tan");for(Ue=4;Ue>=-4;Ue-=2)Ne(Math.PI*(Ue+1),"tan")}if(fe||ye){for(Ue=4;Ue>=-4;Ue-=2)Ne(Math.PI*(Ue+1.5),"rad");for(Ue=4;Ue>=-4;Ue-=2)Ne(Math.PI*(Ue+.5),"rad")}}if(N||xe||fe){var Ce=Math.sqrt(Q.width*Q.width+Q.height*Q.height);if(ke={scale:E*B*2/Ce,rCenter:1-E,rotate:0},ke.textPosAngle=(c.startangle+c.stopangle)/2,ke.scale>=1)return ke;De.push(ke)}(xe||ye)&&(ke=Y(Q,B,O,R,j),ke.textPosAngle=(c.startangle+c.stopangle)/2,De.push(ke)),(xe||ce)&&(ke=G(Q,B,O,R,j),ke.textPosAngle=(c.startangle+c.stopangle)/2,De.push(ke));for(var _e=0,Ie=0,Ze=0;Ze<De.length;Ze++){var gt=De[Ze].scale;if(Ie<gt&&(Ie=gt,_e=Ze),!xe&&Ie>=1)break}return De[_e]}function T(Q,c){var w=Q.startangle,B=Q.stopangle;return w>c&&c>B||w<c&&c<B}function Y(Q,c,w,B,E){c=Math.max(0,c-2*y);var b=Q.width/Q.height,O=W(b,B,c,w);return{scale:O*2/Q.height,rCenter:S(b,O/c),rotate:U(E)}}function G(Q,c,w,B,E){c=Math.max(0,c-2*y);var b=Q.height/Q.width,O=W(b,B,c,w);return{scale:O*2/Q.width,rCenter:S(b,O/c),rotate:U(E+Math.PI/2)}}function S(Q,c){return Math.cos(c)-Q*c}function U(Q){return(180/Math.PI*Q+720)%180-90}function W(Q,c,w,B){var E=Q+1/(2*Math.tan(c));return w*Math.min(1/(Math.sqrt(E*E+.5)+E),B/(Math.sqrt(Q*Q+B/2)+Q))}function K(Q,c){return Q.v===c.vTotal&&!c.trace.hole?1:Math.min(1/(1+1/Math.sin(Q.halfangle)),Q.ring/2)}function J(Q,c){var w=c.pxmid[0],B=c.pxmid[1],E=Q.width/2,b=Q.height/2;return w<0&&(E*=-1),B<0&&(b*=-1),{scale:1,rCenter:1,rotate:0,x:E+Math.abs(b)*(E>0?1:-1)/2,y:b/(1+w*w/(B*B)),outside:!0}}function ae(Q){var c=Math.sqrt(Q.titleBox.width*Q.titleBox.width+Q.titleBox.height*Q.titleBox.height);return{x:Q.cx,y:Q.cy,scale:Q.trace.hole*Q.r*2/c,tx:0,ty:-Q.titleBox.height/2+Q.trace.title.font.size}}function z(Q,c){var w=1,B=1,E,b=Q.trace,O={x:Q.cx,y:Q.cy},N={tx:0,ty:0};N.ty+=b.title.font.size,E=re(b),b.title.position.indexOf("top")!==-1?(O.y-=(1+E)*Q.r,N.ty-=Q.titleBox.height):b.title.position.indexOf("bottom")!==-1&&(O.y+=(1+E)*Q.r);var R=H(Q.r,Q.trace.aspectratio),j=c.w*(b.domain.x[1]-b.domain.x[0])/2;return b.title.position.indexOf("left")!==-1?(j=j+R,O.x-=(1+E)*R,N.tx+=Q.titleBox.width/2):b.title.position.indexOf("center")!==-1?j*=2:b.title.position.indexOf("right")!==-1&&(j=j+R,O.x+=(1+E)*R,N.tx-=Q.titleBox.width/2),w=j/Q.titleBox.width,B=Z(Q,c)/Q.titleBox.height,{x:O.x,y:O.y,scale:Math.min(w,B),tx:N.tx,ty:N.ty}}function H(Q,c){return Q/(c===void 0?1:c)}function Z(Q,c){var w=Q.trace,B=c.h*(w.domain.y[1]-w.domain.y[0]);return Math.min(Q.titleBox.height,B/2)}function re(Q){var c=Q.pull;if(!c)return 0;var w;if(Array.isArray(c))for(c=0,w=0;w<Q.pull.length;w++)Q.pull[w]>c&&(c=Q.pull[w]);return c}function ie(Q,c){var w,B,E,b,O,N,R,j,se,fe,ce,ye,xe;function De(Ce,_e){return Ce.pxmid[1]-_e.pxmid[1]}function ke(Ce,_e){return _e.pxmid[1]-Ce.pxmid[1]}function Ne(Ce,_e){_e||(_e={});var Ie=_e.labelExtraY+(B?_e.yLabelMax:_e.yLabelMin),Ze=B?Ce.yLabelMin:Ce.yLabelMax,gt=B?Ce.yLabelMax:Ce.yLabelMin,Ve=Ce.cyFinal+O(Ce.px0[1],Ce.px1[1]),We=Ie-Ze,Ke,ut,mt,Lt,rt,dt;if(We*R>0&&(Ce.labelExtraY=We),!!Array.isArray(c.pull))for(ut=0;ut<fe.length;ut++)mt=fe[ut],!(mt===Ce||(g.castOption(c.pull,Ce.pts)||0)>=(g.castOption(c.pull,mt.pts)||0))&&((Ce.pxmid[1]-mt.pxmid[1])*R>0?(Lt=mt.cyFinal+O(mt.px0[1],mt.px1[1]),We=Lt-Ze-Ce.labelExtraY,We*R>0&&(Ce.labelExtraY+=We)):(gt+Ce.labelExtraY-Ve)*R>0&&(Ke=3*N*Math.abs(ut-fe.indexOf(Ce)),rt=mt.cxFinal+b(mt.px0[0],mt.px1[0]),dt=rt+Ke-(Ce.cxFinal+Ce.pxmid[0])-Ce.labelExtraX,dt*N>0&&(Ce.labelExtraX+=dt)))}for(B=0;B<2;B++)for(E=B?De:ke,O=B?Math.max:Math.min,R=B?1:-1,w=0;w<2;w++){for(b=w?Math.max:Math.min,N=w?1:-1,j=Q[B][w],j.sort(E),se=Q[1-B][w],fe=se.concat(j),ye=[],ce=0;ce<j.length;ce++)j[ce].yLabelMid!==void 0&&ye.push(j[ce]);for(xe=!1,ce=0;B&&ce<se.length;ce++)if(se[ce].yLabelMid!==void 0){xe=se[ce];break}for(ce=0;ce<ye.length;ce++){var Ue=ce&&ye[ce-1];xe&&!ce&&(Ue=xe),Ne(ye[ce],Ue)}}}function ue(Q,c){for(var w=[],B=0;B<Q.length;B++){var E=Q[B][0],b=E.trace,O=b.domain,N=c.w*(O.x[1]-O.x[0]),R=c.h*(O.y[1]-O.y[0]);b.title.text&&b.title.position!=="middle center"&&(R-=Z(E,c));var j=N/2,se=R/2;b.type==="funnelarea"&&!b.scalegroup&&(se/=b.aspectratio),E.r=Math.min(j,se)/(1+re(b)),E.cx=c.l+c.w*(b.domain.x[1]+b.domain.x[0])/2,E.cy=c.t+c.h*(1-b.domain.y[0])-R/2,b.title.text&&b.title.position.indexOf("bottom")!==-1&&(E.cy-=Z(E,c)),b.scalegroup&&w.indexOf(b.scalegroup)===-1&&w.push(b.scalegroup)}ge(Q,w)}function ge(Q,c){for(var w,B,E,b=0;b<c.length;b++){var O=1/0,N=c[b];for(B=0;B<Q.length;B++)if(w=Q[B][0],E=w.trace,E.scalegroup===N){var R;if(E.type==="pie")R=w.r*w.r;else if(E.type==="funnelarea"){var j,se;E.aspectratio>1?(j=w.r,se=j/E.aspectratio):(se=w.r,j=se*E.aspectratio),j*=(1+E.baseratio)/2,R=j*se}O=Math.min(O,R/w.vTotal)}for(B=0;B<Q.length;B++)if(w=Q[B][0],E=w.trace,E.scalegroup===N){var fe=O*w.vTotal;E.type==="funnelarea"&&(fe/=(1+E.baseratio)/2,fe/=E.aspectratio),w.r=Math.sqrt(fe)}}}function ee(Q){var c=Q[0],w=c.r,B=c.trace,E=g.getRotationAngle(B.rotation),b=2*Math.PI/c.vTotal,O="px0",N="px1",R,j,se;if(B.direction==="counterclockwise"){for(R=0;R<Q.length&&Q[R].hidden;R++);if(R===Q.length)return;E+=b*Q[R].v,b*=-1,O="px1",N="px0"}for(se=q(w,E),R=0;R<Q.length;R++)j=Q[R],!j.hidden&&(j[O]=se,j.startangle=E,E+=b*j.v/2,j.pxmid=q(w,E),j.midangle=E,E+=b*j.v/2,se=q(w,E),j.stopangle=E,j[N]=se,j.largeArc=j.v>c.vTotal/2?1:0,j.halfangle=Math.PI*Math.min(j.v/c.vTotal,.5),j.ring=1-B.hole,j.rInscribed=K(j,c))}function q(Q,c){return[Q*Math.sin(c),-Q*Math.cos(c)]}function ne(Q,c,w){var B=Q._fullLayout,E=w.trace,b=E.texttemplate,O=E.textinfo;if(!b&&O&&O!=="none"){var N=O.split("+"),R=function(_e){return N.indexOf(_e)!==-1},j=R("label"),se=R("text"),fe=R("value"),ce=R("percent"),ye=B.separators,xe;if(xe=j?[c.label]:[],se){var De=g.getFirstFilled(E.text,c.pts);C(De)&&xe.push(De)}fe&&xe.push(g.formatPieValue(c.v,ye)),ce&&xe.push(g.formatPiePercent(c.v/w.vTotal,ye)),c.text=xe.join("<br>")}function ke(_e){return{label:_e.label,value:_e.v,valueLabel:g.formatPieValue(_e.v,B.separators),percent:_e.v/w.vTotal,percentLabel:g.formatPiePercent(_e.v/w.vTotal,B.separators),color:_e.color,text:_e.text,customdata:f.castOption(E,_e.i,"customdata")}}if(b){var Ne=f.castOption(E,c.i,"texttemplate");if(!Ne)c.text="";else{var Ue=ke(c),Ce=g.getFirstFilled(E.text,c.pts);(C(Ce)||Ce==="")&&(Ue.text=Ce),c.text=f.texttemplateString(Ne,Ue,Q._fullLayout._d3locale,Ue,E._meta||{})}}}function oe(Q,c){var w=Q.rotate*Math.PI/180,B=Math.cos(w),E=Math.sin(w),b=(c.left+c.right)/2,O=(c.top+c.bottom)/2;Q.textX=b*B-O*E,Q.textY=b*E+O*B,Q.noCenter=!0}P.exports={plot:L,formatSliceLabel:ne,transformInsideText:V,determineInsideTextFont:m,positionTitleOutside:z,prerenderTitles:A,layoutAreas:ue,attachFxHandlers:M,computeTransform:oe}},{"../../components/color":102,"../../components/drawing":124,"../../components/fx":142,"../../lib":232,"../../lib/svg_text_utils":255,"../../plots/plots":316,"../bar/constants":330,"../bar/uniform_text":344,"./event_data":349,"./helpers":350,"@plotly/d3":11}],355:[function(t,P,k){var e=t("@plotly/d3"),a=t("./style_one"),i=t("../bar/uniform_text").resizeText;P.exports=function(r){var f=r._fullLayout._pielayer.selectAll(".trace");i(r,f,"pie"),f.each(function(u){var s=u[0],o=s.trace,h=e.select(this);h.style({opacity:o.opacity}),h.selectAll("path.surface").each(function(p){e.select(this).call(a,p,o)})})}},{"../bar/uniform_text":344,"./style_one":356,"@plotly/d3":11}],356:[function(t,P,k){var e=t("../../components/color"),a=t("./helpers").castOption;P.exports=function(n,r,f){var u=f.marker.line,s=a(u.color,r.pts)||e.defaultLine,o=a(u.width,r.pts)||0;n.style("stroke-width",o).call(e.fill,r.color).call(e.stroke,s)}},{"../../components/color":102,"./helpers":350}],357:[function(t,P,k){var e=t("../../lib");P.exports=function(i,n){for(var r=0;r<i.length;r++)i[r].i=r;e.mergeArray(n.text,i,"tx"),e.mergeArray(n.texttemplate,i,"txt"),e.mergeArray(n.hovertext,i,"htx"),e.mergeArray(n.customdata,i,"data"),e.mergeArray(n.textposition,i,"tp"),n.textfont&&(e.mergeArrayCastPositive(n.textfont.size,i,"ts"),e.mergeArray(n.textfont.color,i,"tc"),e.mergeArray(n.textfont.family,i,"tf"));var f=n.marker;if(f){e.mergeArrayCastPositive(f.size,i,"ms"),e.mergeArrayCastPositive(f.opacity,i,"mo"),e.mergeArray(f.symbol,i,"mx"),e.mergeArray(f.color,i,"mc");var u=f.line;f.line&&(e.mergeArray(u.color,i,"mlc"),e.mergeArrayCastPositive(u.width,i,"mlw"));var s=f.gradient;s&&s.type!=="none"&&(e.mergeArray(s.type,i,"mgt"),e.mergeArray(s.color,i,"mgc"))}}},{"../../lib":232}],358:[function(t,P,k){var e=t("../../plots/cartesian/axis_format_attributes").axisHoverFormat,a=t("../../plots/template_attributes").texttemplateAttrs,i=t("../../plots/template_attributes").hovertemplateAttrs,n=t("../../components/colorscale/attributes"),r=t("../../plots/font_attributes"),f=t("../../components/drawing/attributes").dash,u=t("../../components/drawing"),s=t("./constants"),o=t("../../lib/extend").extendFlat;function h(y){return{valType:"any",dflt:0,editType:"calc"}}function p(y){return{valType:"any",editType:"calc"}}function d(y){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}P.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h(),yperiod:h(),xperiod0:p(),yperiod0:p(),xperiodalignment:d(),yperiodalignment:d(),xhoverformat:e("x"),yhoverformat:e("y"),stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:a({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:s.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:o({},f,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},marker:o({symbol:{valType:"enumerated",values:u.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:o({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},n("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},n("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:r({editType:"calc",colorEditType:"style",arrayOk:!0})}},{"../../components/colorscale/attributes":109,"../../components/drawing":124,"../../components/drawing/attributes":123,"../../lib/extend":226,"../../plots/cartesian/axis_format_attributes":282,"../../plots/font_attributes":310,"../../plots/template_attributes":317,"./constants":362}],359:[function(t,P,k){var e=t("fast-isnumeric"),a=t("../../lib"),i=t("../../plots/cartesian/axes"),n=t("../../plots/cartesian/align_period"),r=t("../../constants/numerical").BADNUM,f=t("./subtypes"),u=t("./colorscale_calc"),s=t("./arrays_to_calcdata"),o=t("./calc_selection");function h(C,L){var x=C._fullLayout,M=i.getFromId(C,L.xaxis||"x"),v=i.getFromId(C,L.yaxis||"y"),m=M.makeCalcdata(L,"x"),A=v.makeCalcdata(L,"y"),V=n(L,M,"x",m),T=n(L,v,"y",A),Y=V.vals,G=T.vals,S=L._length,U=new Array(S),W=L.ids,K=D(L,x,M,v),J=!1,ae,z,H,Z,re,ie;y(x,L);var ue="x",ge="y",ee;if(K)a.pushUnique(K.traceIndices,L._expandedIndex),ae=K.orientation==="v",ae?(ge="s",ee="x"):(ue="s",ee="y"),re=K.stackgaps==="interpolate";else{var q=d(L,S);p(C,L,M,v,Y,G,q)}var ne=!!L.xperiodalignment,oe=!!L.yperiodalignment;for(z=0;z<S;z++){var Q=U[z]={},c=e(Y[z]),w=e(G[z]);c&&w?(Q[ue]=Y[z],Q[ge]=G[z],ne&&(Q.orig_x=m[z],Q.xEnd=V.ends[z],Q.xStart=V.starts[z]),oe&&(Q.orig_y=A[z],Q.yEnd=T.ends[z],Q.yStart=T.starts[z])):K&&(ae?c:w)?(Q[ee]=ae?Y[z]:G[z],Q.gap=!0,re?(Q.s=r,J=!0):Q.s=0):Q[ue]=Q[ge]=r,W&&(Q.id=String(W[z]))}if(s(U,L),u(C,L),o(U,L),K){for(z=0;z<U.length;)U[z][ee]===r?U.splice(z,1):z++;if(a.sort(U,function(O,N){return O[ee]-N[ee]||O.i-N.i}),J){for(z=0;z<U.length-1&&U[z].gap;)z++;for(ie=U[z].s,ie||(ie=U[z].s=0),H=0;H<z;H++)U[H].s=ie;for(Z=U.length-1;Z>z&&U[Z].gap;)Z--;for(ie=U[Z].s,H=U.length-1;H>Z;H--)U[H].s=ie;for(;z<Z;)if(z++,U[z].gap){for(H=z+1;U[H].gap;)H++;for(var B=U[z-1][ee],E=U[z-1].s,b=(U[H].s-E)/(U[H][ee]-B);z<H;)U[z].s=E+(U[z][ee]-B)*b,z++}}}return U}function p(C,L,x,M,v,m,A){var V=L._length,T=C._fullLayout,Y=x._id,G=M._id,S=T._firstScatter[g(L)]===L.uid,U=(D(L,T,x,M)||{}).orientation,W=L.fill;x._minDtick=0,M._minDtick=0;var K={padded:!0},J={padded:!0};A&&(K.ppad=J.ppad=A);var ae=V<2||v[0]!==v[V-1]||m[0]!==m[V-1];ae&&(W==="tozerox"||W==="tonextx"&&(S||U==="h"))?K.tozero=!0:!(L.error_y||{}).visible&&(W==="tonexty"||W==="tozeroy"||!f.hasMarkers(L)&&!f.hasText(L))&&(K.padded=!1,K.ppad=0),ae&&(W==="tozeroy"||W==="tonexty"&&(S||U==="v"))?J.tozero=!0:(W==="tonextx"||W==="tozerox")&&(J.padded=!1),Y&&(L._extremes[Y]=i.findExtremes(x,v,K)),G&&(L._extremes[G]=i.findExtremes(M,m,J))}function d(C,L){if(!!f.hasMarkers(C)){var x=C.marker,M=1.6*(C.marker.sizeref||1),v;if(C.marker.sizemode==="area"?v=function(Y){return Math.max(Math.sqrt((Y||0)/M),3)}:v=function(Y){return Math.max((Y||0)/M,3)},a.isArrayOrTypedArray(x.size)){var m={type:"linear"};i.setConvert(m);for(var A=m.makeCalcdata(C.marker,"size"),V=new Array(L),T=0;T<L;T++)V[T]=v(A[T]);return V}else return v(x.size)}}function y(C,L){var x=g(L),M=C._firstScatter;M[x]||(M[x]=L.uid)}function g(C){var L=C.stackgroup;return C.xaxis+C.yaxis+C.type+(L?"-"+L:"")}function D(C,L,x,M){var v=C.stackgroup;if(!!v){var m=L._scatterStackOpts[x._id+M._id][v],A=m.orientation==="v"?M:x;if(A.type==="linear"||A.type==="log")return m}}P.exports={calc:h,calcMarkerSize:d,calcAxisExpansion:p,setFirstScatter:y,getStackOpts:D}},{"../../constants/numerical":212,"../../lib":232,"../../plots/cartesian/align_period":276,"../../plots/cartesian/axes":279,"./arrays_to_calcdata":357,"./calc_selection":360,"./colorscale_calc":361,"./subtypes":383,"fast-isnumeric":17}],360:[function(t,P,k){var e=t("../../lib");P.exports=function(i,n){e.isArrayOrTypedArray(n.selectedpoints)&&e.tagSelected(i,n)}},{"../../lib":232}],361:[function(t,P,k){var e=t("../../components/colorscale/helpers").hasColorscale,a=t("../../components/colorscale/calc"),i=t("./subtypes");P.exports=function(r,f){i.hasLines(f)&&e(f,"line")&&a(r,f,{vals:f.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(f)&&(e(f,"marker")&&a(r,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),e(f,"marker.line")&&a(r,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},{"../../components/colorscale/calc":110,"../../components/colorscale/helpers":113,"./subtypes":383}],362:[function(t,P,k){P.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},{}],363:[function(t,P,k){var e=t("./calc");P.exports=function(r,f){var u=f.xaxis,s=f.yaxis,o=u._id+s._id,h=r._fullLayout._scatterStackOpts[o];if(!!h){var p=r.calcdata,d,y,g,D,C,L,x,M,v,m,A,V,T,Y,G;for(var S in h){m=h[S];var U=m.traceIndices;if(!!U.length){for(A=m.stackgaps==="interpolate",V=m.groupnorm,m.orientation==="v"?(T="x",Y="y"):(T="y",Y="x"),G=new Array(U.length),d=0;d<G.length;d++)G[d]=!1;L=p[U[0]];var W=new Array(L.length);for(d=0;d<L.length;d++)W[d]=L[d][T];for(d=1;d<U.length;d++){for(C=p[U[d]],y=g=0;y<C.length;y++){for(x=C[y][T];x>W[g]&&g<W.length;g++)a(C,y,W[g],d,G,A,T),y++;if(x!==W[g]){for(D=0;D<d;D++)a(p[U[D]],g,x,D,G,A,T);W.splice(g,0,x)}g++}for(;g<W.length;g++)a(C,y,W[g],d,G,A,T),y++}var K=W.length;for(y=0;y<L.length;y++){for(M=L[y][Y]=L[y].s,d=1;d<U.length;d++)C=p[U[d]],C[0].trace._rawLength=C[0].trace._length,C[0].trace._length=K,M+=C[y].s,C[y][Y]=M;if(V)for(v=(V==="fraction"?M:M/100)||1,d=0;d<U.length;d++){var J=p[U[d]][y];J[Y]/=v,J.sNorm=J.s/v}}for(d=0;d<U.length;d++){C=p[U[d]];var ae=C[0].trace,z=e.calcMarkerSize(ae,ae._rawLength),H=Array.isArray(z);if(z&&G[d]||H){var Z=z;for(z=new Array(K),y=0;y<K;y++)z[y]=C[y].gap?0:H?Z[C[y].i]:Z}var re=new Array(K),ie=new Array(K);for(y=0;y<K;y++)re[y]=C[y].x,ie[y]=C[y].y;e.calcAxisExpansion(r,ae,u,s,re,ie,z),C[0].t.orientation=m.orientation}}}}};function a(n,r,f,u,s,o,h){s[u]=!0;var p={i:null,gap:!0,s:0};if(p[h]=f,n.splice(r,0,p),r&&f===n[r-1][h]){var d=n[r-1];p.s=d.s,p.i=d.i,p.gap=d.gap}else o&&(p.s=i(n,r,f,h));r||(n[0].t=n[1].t,n[0].trace=n[1].trace,delete n[1].t,delete n[1].trace)}function i(n,r,f,u){var s=n[r-1],o=n[r+1];return o?s?s.s+(o.s-s.s)*(f-s[u])/(o[u]-s[u]):o.s:s.s}},{"./calc":359}],364:[function(t,P,k){P.exports=function(a){for(var i=0;i<a.length;i++){var n=a[i];if(n.type==="scatter"){var r=n.fill;if(!(r==="none"||r==="toself")&&(n.opacity=void 0,r==="tonexty"||r==="tonextx"))for(var f=i-1;f>=0;f--){var u=a[f];if(u.type==="scatter"&&u.xaxis===n.xaxis&&u.yaxis===n.yaxis){u.opacity=void 0;break}}}}}},{}],365:[function(t,P,k){var e=t("../../lib"),a=t("../../registry"),i=t("./attributes"),n=t("./constants"),r=t("./subtypes"),f=t("./xy_defaults"),u=t("./period_defaults"),s=t("./stack_defaults"),o=t("./marker_defaults"),h=t("./line_defaults"),p=t("./line_shape_defaults"),d=t("./text_defaults"),y=t("./fillcolor_defaults");P.exports=function(D,C,L,x){function M(S,U){return e.coerce(D,C,i,S,U)}var v=f(D,C,x,M);if(v||(C.visible=!1),!!C.visible){u(D,C,x,M),M("xhoverformat"),M("yhoverformat");var m=s(D,C,x,M),A=!m&&v<n.PTS_LINESONLY?"lines+markers":"lines";M("text"),M("hovertext"),M("mode",A),r.hasLines(C)&&(h(D,C,L,x,M),p(D,C,M),M("connectgaps"),M("line.simplify")),r.hasMarkers(C)&&o(D,C,L,x,M,{gradient:!0}),r.hasText(C)&&(M("texttemplate"),d(D,C,x,M));var V=[];(r.hasMarkers(C)||r.hasText(C))&&(M("cliponaxis"),M("marker.maxdisplayed"),V.push("points")),M("fill",m?m.fillDflt:"none"),C.fill!=="none"&&(y(D,C,L,M),r.hasLines(C)||p(D,C,M));var T=(C.line||{}).color,Y=(C.marker||{}).color;(C.fill==="tonext"||C.fill==="toself")&&V.push("fills"),M("hoveron",V.join("+")||"points"),C.hoveron!=="fills"&&M("hovertemplate");var G=a.getComponentMethod("errorbars","supplyDefaults");G(D,C,T||Y||L,{axis:"y"}),G(D,C,T||Y||L,{axis:"x",inherit:"y"}),e.coerceSelectionMarkerOpacity(C,M)}}},{"../../lib":232,"../../registry":318,"./attributes":358,"./constants":362,"./fillcolor_defaults":366,"./line_defaults":371,"./line_shape_defaults":373,"./marker_defaults":377,"./period_defaults":378,"./stack_defaults":381,"./subtypes":383,"./text_defaults":384,"./xy_defaults":385}],366:[function(t,P,k){var e=t("../../components/color"),a=t("../../lib").isArrayOrTypedArray;P.exports=function(n,r,f,u){var s=!1;if(r.marker){var o=r.marker.color,h=(r.marker.line||{}).color;o&&!a(o)?s=o:h&&!a(h)&&(s=h)}u("fillcolor",e.addOpacity((r.line||{}).color||s||f,.5))}},{"../../components/color":102,"../../lib":232}],367:[function(t,P,k){var e=t("../../plots/cartesian/axes");P.exports=function(i,n,r){var f={},u={_fullLayout:r},s=e.getFromTrace(u,n,"x"),o=e.getFromTrace(u,n,"y");return f.xLabel=e.tickText(s,s.c2l(i.x),!0).text,f.yLabel=e.tickText(o,o.c2l(i.y),!0).text,f}},{"../../plots/cartesian/axes":279}],368:[function(t,P,k){var e=t("../../components/color"),a=t("./subtypes");P.exports=function(n,r){var f,u;if(n.mode==="lines")return f=n.line.color,f&&e.opacity(f)?f:n.fillcolor;if(n.mode==="none")return n.fill?n.fillcolor:"";var s=r.mcc||(n.marker||{}).color,o=r.mlcc||((n.marker||{}).line||{}).color;return u=s&&e.opacity(s)?s:o&&e.opacity(o)&&(r.mlw||((n.marker||{}).line||{}).width)?o:"",u?e.opacity(u)<.3?e.addOpacity(u,.3):u:(f=(n.line||{}).color,f&&e.opacity(f)&&a.hasLines(n)&&n.line.width?f:n.fillcolor)}},{"../../components/color":102,"./subtypes":383}],369:[function(t,P,k){var e=t("../../lib"),a=t("../../components/fx"),i=t("../../registry"),n=t("./get_trace_color"),r=t("../../components/color"),f=e.fillText;P.exports=function(s,o,h,p){var d=s.cd,y=d[0].trace,g=s.xa,D=s.ya,C=g.c2p(o),L=D.c2p(h),x=[C,L],M=y.hoveron||"",v=y.mode.indexOf("markers")!==-1?3:.5,m=!!y.xperiodalignment,A=!!y.yperiodalignment;if(M.indexOf("points")!==-1){var V=function(j){if(m){var se=g.c2p(j.xStart),fe=g.c2p(j.xEnd);return C>=Math.min(se,fe)&&C<=Math.max(se,fe)?0:1/0}var ce=Math.max(3,j.mrc||0),ye=1-1/ce,xe=Math.abs(g.c2p(j.x)-C);return xe<ce?ye*xe/ce:xe-ce+ye},T=function(j){if(A){var se=D.c2p(j.yStart),fe=D.c2p(j.yEnd);return L>=Math.min(se,fe)&&L<=Math.max(se,fe)?0:1/0}var ce=Math.max(3,j.mrc||0),ye=1-1/ce,xe=Math.abs(D.c2p(j.y)-L);return xe<ce?ye*xe/ce:xe-ce+ye},Y=function(j){var se=Math.max(v,j.mrc||0),fe=g.c2p(j.x)-C,ce=D.c2p(j.y)-L;return Math.max(Math.sqrt(fe*fe+ce*ce)-se,1-v/se)},G=a.getDistanceFunction(p,V,T,Y);if(a.getClosest(d,G,s),s.index!==!1){var S=d[s.index],U=g.c2p(S.x,!0),W=D.c2p(S.y,!0),K=S.mrc||1;s.index=S.i;var J=d[0].t.orientation,ae=J&&(S.sNorm||S.s),z=J==="h"?ae:S.orig_x!==void 0?S.orig_x:S.x,H=J==="v"?ae:S.orig_y!==void 0?S.orig_y:S.y;return e.extendFlat(s,{color:n(y,S),x0:U-K,x1:U+K,xLabelVal:z,y0:W-K,y1:W+K,yLabelVal:H,spikeDistance:Y(S),hovertemplate:y.hovertemplate}),f(S,y,s),i.getComponentMethod("errorbars","hoverInfo")(S,y,s),[s]}}if(M.indexOf("fills")!==-1&&y._polygons){var Z=y._polygons,re=[],ie=!1,ue=1/0,ge=-1/0,ee=1/0,q=-1/0,ne,oe,Q,c,w,B,E,b,O;for(ne=0;ne<Z.length;ne++)Q=Z[ne],Q.contains(x)&&(ie=!ie,re.push(Q),ee=Math.min(ee,Q.ymin),q=Math.max(q,Q.ymax));if(ie){ee=Math.max(ee,0),q=Math.min(q,D._length);var N=(ee+q)/2;for(ne=0;ne<re.length;ne++)for(c=re[ne].pts,oe=1;oe<c.length;oe++)b=c[oe-1][1],O=c[oe][1],b>N!=O>=N&&(B=c[oe-1][0],E=c[oe][0],O-b&&(w=B+(E-B)*(N-b)/(O-b),ue=Math.min(ue,w),ge=Math.max(ge,w)));ue=Math.max(ue,0),ge=Math.min(ge,g._length);var R=r.defaultLine;return r.opacity(y.fillcolor)?R=y.fillcolor:r.opacity((y.line||{}).color)&&(R=y.line.color),e.extendFlat(s,{distance:s.maxHoverDistance,x0:ue,x1:ge,y0:N,y1:N,color:R,hovertemplate:!1}),delete s.index,y.text&&!Array.isArray(y.text)?s.text=String(y.text):s.text=y.name,[s]}}}},{"../../components/color":102,"../../components/fx":142,"../../lib":232,"../../registry":318,"./get_trace_color":368}],370:[function(t,P,k){var e=t("./subtypes");P.exports={hasLines:e.hasLines,hasMarkers:e.hasMarkers,hasText:e.hasText,isBubble:e.isBubble,attributes:t("./attributes"),supplyDefaults:t("./defaults"),crossTraceDefaults:t("./cross_trace_defaults"),calc:t("./calc").calc,crossTraceCalc:t("./cross_trace_calc"),arraysToCalcdata:t("./arrays_to_calcdata"),plot:t("./plot"),colorbar:t("./marker_colorbar"),formatLabels:t("./format_labels"),style:t("./style").style,styleOnSelect:t("./style").styleOnSelect,hoverPoints:t("./hover"),selectPoints:t("./select"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t("../../plots/cartesian"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},{"../../plots/cartesian":293,"./arrays_to_calcdata":357,"./attributes":358,"./calc":359,"./cross_trace_calc":363,"./cross_trace_defaults":364,"./defaults":365,"./format_labels":367,"./hover":369,"./marker_colorbar":376,"./plot":379,"./select":380,"./style":382,"./subtypes":383}],371:[function(t,P,k){var e=t("../../lib").isArrayOrTypedArray,a=t("../../components/colorscale/helpers").hasColorscale,i=t("../../components/colorscale/defaults");P.exports=function(r,f,u,s,o,h){var p=(r.marker||{}).color;if(o("line.color",u),a(r,"line"))i(r,f,s,o,{prefix:"line.",cLetter:"c"});else{var d=(e(p)?!1:p)||u;o("line.color",d)}o("line.width"),(h||{}).noDash||o("line.dash")}},{"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"../../lib":232}],372:[function(t,P,k){var e=t("../../constants/numerical"),a=e.BADNUM,i=e.LOG_CLIP,n=i+.5,r=i-.5,f=t("../../lib"),u=f.segmentsIntersect,s=f.constrain,o=t("./constants");P.exports=function(p,d){var y=d.xaxis,g=d.yaxis,D=y.type==="log",C=g.type==="log",L=y._length,x=g._length,M=d.connectGaps,v=d.baseTolerance,m=d.shape,A=m==="linear",V=d.fill&&d.fill!=="none",T=[],Y=o.minTolerance,G=p.length,S=new Array(G),U=0,W,K,J,ae,z,H,Z,re,ie,ue,ge,ee,q,ne,oe,Q;function c(rt){var dt=p[rt];if(!dt)return!1;var ot=d.linearized?y.l2p(dt.x):y.c2p(dt.x),pt=d.linearized?g.l2p(dt.y):g.c2p(dt.y);if(ot===a){if(D&&(ot=y.c2p(dt.x,!0)),ot===a)return!1;C&&pt===a&&(ot*=Math.abs(y._m*x*(y._m>0?n:r)/(g._m*L*(g._m>0?n:r)))),ot*=1e3}if(pt===a){if(C&&(pt=g.c2p(dt.y,!0)),pt===a)return!1;pt*=1e3}return[ot,pt]}function w(rt,dt,ot,pt){var Ct=ot-rt,Ee=pt-dt,Oe=.5-rt,at=.5-dt,pe=Ct*Ct+Ee*Ee,Ae=Ct*Oe+Ee*at;if(Ae>0&&Ae<pe){var Se=Oe*Ee-at*Ct;if(Se*Se<pe)return!0}}var B,E;function b(rt,dt){var ot=rt[0]/L,pt=rt[1]/x,Ct=Math.max(0,-ot,ot-1,-pt,pt-1);return Ct&&B!==void 0&&w(ot,pt,B,E)&&(Ct=0),Ct&&dt&&w(ot,pt,dt[0]/L,dt[1]/x)&&(Ct=0),(1+o.toleranceGrowth*Ct)*v}function O(rt,dt){var ot=rt[0]-dt[0],pt=rt[1]-dt[1];return Math.sqrt(ot*ot+pt*pt)}var N=o.maxScreensAway,R=-L*N,j=L*(1+N),se=-x*N,fe=x*(1+N),ce=[[R,se,j,se],[j,se,j,fe],[j,fe,R,fe],[R,fe,R,se]],ye,xe,De,ke,Ne,Ue;function Ce(rt,dt){for(var ot=[],pt=0,Ct=0;Ct<4;Ct++){var Ee=ce[Ct],Oe=u(rt[0],rt[1],dt[0],dt[1],Ee[0],Ee[1],Ee[2],Ee[3]);Oe&&(!pt||Math.abs(Oe.x-ot[0][0])>1||Math.abs(Oe.y-ot[0][1])>1)&&(Oe=[Oe.x,Oe.y],pt&&O(Oe,rt)<O(ot[0],rt)?ot.unshift(Oe):ot.push(Oe),pt++)}return ot}function _e(rt){if(rt[0]<R||rt[0]>j||rt[1]<se||rt[1]>fe)return[s(rt[0],R,j),s(rt[1],se,fe)]}function Ie(rt,dt){if(rt[0]===dt[0]&&(rt[0]===R||rt[0]===j)||rt[1]===dt[1]&&(rt[1]===se||rt[1]===fe))return!0}function Ze(rt,dt){var ot=[],pt=_e(rt),Ct=_e(dt);return pt&&Ct&&Ie(pt,Ct)||(pt&&ot.push(pt),Ct&&ot.push(Ct)),ot}function gt(rt,dt,ot){return function(pt,Ct){var Ee=_e(pt),Oe=_e(Ct),at=[];if(Ee&&Oe&&Ie(Ee,Oe))return at;Ee&&at.push(Ee),Oe&&at.push(Oe);var pe=2*f.constrain((pt[rt]+Ct[rt])/2,dt,ot)-((Ee||pt)[rt]+(Oe||Ct)[rt]);if(pe){var Ae;Ee&&Oe?Ae=pe>0==Ee[rt]>Oe[rt]?Ee:Oe:Ae=Ee||Oe,Ae[rt]+=pe}return at}}var Ve;m==="linear"||m==="spline"?Ve=Ce:m==="hv"||m==="vh"?Ve=Ze:m==="hvh"?Ve=gt(0,R,j):m==="vhv"&&(Ve=gt(1,se,fe));function We(rt,dt){var ot=dt[0]-rt[0],pt=(dt[1]-rt[1])/ot,Ct=(rt[1]*dt[0]-dt[1]*rt[0])/ot;return Ct>0?[pt>0?R:j,fe]:[pt>0?j:R,se]}function Ke(rt){var dt=rt[0],ot=rt[1],pt=dt===S[U-1][0],Ct=ot===S[U-1][1];if(!(pt&&Ct))if(U>1){var Ee=dt===S[U-2][0],Oe=ot===S[U-2][1];pt&&(dt===R||dt===j)&&Ee?Oe?U--:S[U-1]=rt:Ct&&(ot===se||ot===fe)&&Oe?Ee?U--:S[U-1]=rt:S[U++]=rt}else S[U++]=rt}function ut(rt){S[U-1][0]!==rt[0]&&S[U-1][1]!==rt[1]&&Ke([De,ke]),Ke(rt),Ne=null,De=ke=0}function mt(rt){if(B=rt[0]/L,E=rt[1]/x,ye=rt[0]<R?R:rt[0]>j?j:0,xe=rt[1]<se?se:rt[1]>fe?fe:0,ye||xe){if(!U)S[U++]=[ye||rt[0],xe||rt[1]];else if(Ne){var dt=Ve(Ne,rt);dt.length>1&&(ut(dt[0]),S[U++]=dt[1])}else Ue=Ve(S[U-1],rt)[0],S[U++]=Ue;var ot=S[U-1];ye&&xe&&(ot[0]!==ye||ot[1]!==xe)?(Ne&&(De!==ye&&ke!==xe?Ke(De&&ke?We(Ne,rt):[De||ye,ke||xe]):De&&ke&&Ke([De,ke])),Ke([ye,xe])):De-ye&&ke-xe&&Ke([ye||De,xe||ke]),Ne=rt,De=ye,ke=xe}else Ne&&ut(Ve(Ne,rt)[0]),S[U++]=rt}for(W=0;W<G;W++)if(K=c(W),!!K){for(U=0,Ne=null,mt(K),W++;W<G;W++){if(ae=c(W),!ae){if(M)continue;break}if(!A||!d.simplify){mt(ae);continue}var Lt=c(W+1);if(ue=O(ae,K),!(!(V&&(U===0||U===G-1))&&ue<b(ae,Lt)*Y)){for(re=[(ae[0]-K[0])/ue,(ae[1]-K[1])/ue],z=K,ge=ue,ee=ne=oe=0,Z=!1,J=ae,W++;W<p.length;W++){if(H=Lt,Lt=c(W+1),!H){if(M)continue;break}if(ie=[H[0]-K[0],H[1]-K[1]],Q=ie[0]*re[1]-ie[1]*re[0],ne=Math.min(ne,Q),oe=Math.max(oe,Q),oe-ne>b(H,Lt))break;J=H,q=ie[0]*re[0]+ie[1]*re[1],q>ge?(ge=q,ae=H,Z=!1):q<ee&&(ee=q,z=H,Z=!0)}if(Z?(mt(ae),J!==z&&mt(z)):(z!==K&&mt(z),J!==ae&&mt(ae)),mt(J),W>=p.length||!H)break;mt(H),K=H}}Ne&&Ke([De||Ne[0],ke||Ne[1]]),T.push(S.slice(0,U))}return T}},{"../../constants/numerical":212,"../../lib":232,"./constants":362}],373:[function(t,P,k){P.exports=function(a,i,n){var r=n("line.shape");r==="spline"&&n("line.smoothing")}},{}],374:[function(t,P,k){var e={tonextx:1,tonexty:1,tonext:1};P.exports=function(i,n,r){var f,u,s,o,h,p={},d=!1,y=-1,g=0,D=-1;for(u=0;u<r.length;u++)f=r[u][0].trace,s=f.stackgroup||"",s?s in p?h=p[s]:(h=p[s]=g,g++):f.fill in e&&D>=0?h=D:(h=D=g,g++),h<y&&(d=!0),f._groupIndex=y=h;var C=r.slice();d&&C.sort(function(x,M){var v=x[0].trace,m=M[0].trace;return v._groupIndex-m._groupIndex||v.index-m.index});var L={};for(u=0;u<C.length;u++)f=C[u][0].trace,s=f.stackgroup||"",f.visible===!0?(f._nexttrace=null,f.fill in e&&(o=L[s],f._prevtrace=o||null,o&&(o._nexttrace=f)),f._ownfill=f.fill&&(f.fill.substr(0,6)==="tozero"||f.fill==="toself"||f.fill.substr(0,2)==="to"&&!f._prevtrace),L[s]=f):f._prevtrace=f._nexttrace=f._ownfill=null;return C}},{}],375:[function(t,P,k){var e=t("fast-isnumeric");P.exports=function(i,n){n||(n=2);var r=i.marker,f=r.sizeref||1,u=r.sizemin||0,s=r.sizemode==="area"?function(o){return Math.sqrt(o/f)}:function(o){return o/f};return function(o){var h=s(o/n);return e(h)&&h>0?Math.max(h,u):0}}},{"fast-isnumeric":17}],376:[function(t,P,k){P.exports={container:"marker",min:"cmin",max:"cmax"}},{}],377:[function(t,P,k){var e=t("../../components/color"),a=t("../../components/colorscale/helpers").hasColorscale,i=t("../../components/colorscale/defaults"),n=t("./subtypes");P.exports=function(f,u,s,o,h,p){var d=n.isBubble(f),y=(f.line||{}).color,g;if(p=p||{},y&&(s=y),h("marker.symbol"),h("marker.opacity",d?.7:1),h("marker.size"),h("marker.color",s),a(f,"marker")&&i(f,u,o,h,{prefix:"marker.",cLetter:"c"}),p.noSelect||(h("selected.marker.color"),h("unselected.marker.color"),h("selected.marker.size"),h("unselected.marker.size")),p.noLine||(y&&!Array.isArray(y)&&u.marker.color!==y?g=y:d?g=e.background:g=e.defaultLine,h("marker.line.color",g),a(f,"marker.line")&&i(f,u,o,h,{prefix:"marker.line.",cLetter:"c"}),h("marker.line.width",d?1:0)),d&&(h("marker.sizeref"),h("marker.sizemin"),h("marker.sizemode")),p.gradient){var D=h("marker.gradient.type");D!=="none"&&h("marker.gradient.color")}}},{"../../components/color":102,"../../components/colorscale/defaults":112,"../../components/colorscale/helpers":113,"./subtypes":383}],378:[function(t,P,k){var e=t("../../lib").dateTick0,a=t("../../constants/numerical"),i=a.ONEWEEK;function n(r,f){return r%i==0?e(f,1):e(f,0)}P.exports=function(f,u,s,o,h){if(h||(h={x:!0,y:!0}),h.x){var p=o("xperiod");p&&(o("xperiod0",n(p,u.xcalendar)),o("xperiodalignment"))}if(h.y){var d=o("yperiod");d&&(o("yperiod0",n(d,u.ycalendar)),o("yperiodalignment"))}}},{"../../constants/numerical":212,"../../lib":232}],379:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../registry"),i=t("../../lib"),n=i.ensureSingle,r=i.identity,f=t("../../components/drawing"),u=t("./subtypes"),s=t("./line_points"),o=t("./link_traces"),h=t("../../lib/polygon").tester;P.exports=function(D,C,L,x,M,v){var m,A,V=!M,T=!!M&&M.duration>0,Y=o(D,C,L);if(m=x.selectAll("g.trace").data(Y,function(S){return S[0].trace.uid}),m.enter().append("g").attr("class",function(S){return"trace scatter trace"+S[0].trace.uid}).style("stroke-miterlimit",2),m.order(),p(D,m,C),T){v&&(A=v());var G=e.transition().duration(M.duration).ease(M.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});G.each(function(){x.selectAll("g.trace").each(function(S,U){d(D,U,C,S,Y,this,M)})})}else m.each(function(S,U){d(D,U,C,S,Y,this,M)});V&&m.exit().remove(),x.selectAll("path:not([d])").remove()};function p(g,D,C){D.each(function(L){var x=n(e.select(this),"g","fills");f.setClipUrl(x,C.layerClipId,g);var M=L[0].trace,v=[];M._ownfill&&v.push("_ownFill"),M._nexttrace&&v.push("_nextFill");var m=x.selectAll("g").data(v,r);m.enter().append("g"),m.exit().each(function(A){M[A]=null}).remove(),m.order().each(function(A){M[A]=n(e.select(this),"path","js-fill")})})}function d(g,D,C,L,x,M,v){var m;y(g,D,C,L,x);var A=!!v&&v.duration>0;function V(Ce){return A?Ce.transition():Ce}var T=C.xaxis,Y=C.yaxis,G=L[0].trace,S=G.line,U=e.select(M),W=n(U,"g","errorbars"),K=n(U,"g","lines"),J=n(U,"g","points"),ae=n(U,"g","text");if(a.getComponentMethod("errorbars","plot")(g,W,C,v),G.visible!==!0)return;V(U).style("opacity",G.opacity);var z,H,Z=G.fill.charAt(G.fill.length-1);Z!=="x"&&Z!=="y"&&(Z=""),L[0][C.isRangePlot?"nodeRangePlot3":"node3"]=U;var re="",ie=[],ue=G._prevtrace;ue&&(re=ue._prevRevpath||"",H=ue._nextFill,ie=ue._polygons);var ge,ee,q="",ne="",oe,Q,c,w,B,E,b,O=[],N=i.noop;if(z=G._ownFill,u.hasLines(G)||G.fill!=="none"){for(H&&H.datum(L),["hv","vh","hvh","vhv"].indexOf(S.shape)!==-1?(oe=f.steps(S.shape),Q=f.steps(S.shape.split("").reverse().join(""))):S.shape==="spline"?oe=Q=function(Ce){var _e=Ce[Ce.length-1];return Ce.length>1&&Ce[0][0]===_e[0]&&Ce[0][1]===_e[1]?f.smoothclosed(Ce.slice(1),S.smoothing):f.smoothopen(Ce,S.smoothing)}:oe=Q=function(Ce){return"M"+Ce.join("L")},c=function(Ce){return Q(Ce.reverse())},O=s(L,{xaxis:T,yaxis:Y,connectGaps:G.connectgaps,baseTolerance:Math.max(S.width||1,3)/4,shape:S.shape,simplify:S.simplify,fill:G.fill}),b=G._polygons=new Array(O.length),m=0;m<O.length;m++)G._polygons[m]=h(O[m]);O.length&&(w=O[0][0],B=O[O.length-1],E=B[B.length-1]),N=function(Ce){return function(_e){if(ge=oe(_e),ee=c(_e),q?Z?(q+="L"+ge.substr(1),ne=ee+("L"+ne.substr(1))):(q+="Z"+ge,ne=ee+"Z"+ne):(q=ge,ne=ee),u.hasLines(G)&&_e.length>1){var Ie=e.select(this);if(Ie.datum(L),Ce)V(Ie.style("opacity",0).attr("d",ge).call(f.lineGroupStyle)).style("opacity",1);else{var Ze=V(Ie);Ze.attr("d",ge),f.singleLineStyle(L,Ze)}}}}}var R=K.selectAll(".js-line").data(O);V(R.exit()).style("opacity",0).remove(),R.each(N(!1)),R.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(f.lineGroupStyle).each(N(!0)),f.setClipUrl(R,C.layerClipId,g);function j(Ce){V(Ce).attr("d","M0,0Z")}O.length?(z?(z.datum(L),w&&E&&(Z?(Z==="y"?w[1]=E[1]=Y.c2p(0,!0):Z==="x"&&(w[0]=E[0]=T.c2p(0,!0)),V(z).attr("d","M"+E+"L"+w+"L"+q.substr(1)).call(f.singleFillStyle)):V(z).attr("d",q+"Z").call(f.singleFillStyle))):H&&(G.fill.substr(0,6)==="tonext"&&q&&re?(G.fill==="tonext"?V(H).attr("d",q+"Z"+re+"Z").call(f.singleFillStyle):V(H).attr("d",q+"L"+re.substr(1)+"Z").call(f.singleFillStyle),G._polygons=G._polygons.concat(ie)):(j(H),G._polygons=null)),G._prevRevpath=ne,G._prevPolygons=b):(z?j(z):H&&j(H),G._polygons=G._prevRevpath=G._prevPolygons=null);function se(Ce){return Ce.filter(function(_e){return!_e.gap&&_e.vis})}function fe(Ce){return Ce.filter(function(_e){return _e.vis})}function ce(Ce){return Ce.filter(function(_e){return!_e.gap})}function ye(Ce){return Ce.id}function xe(Ce){if(Ce.ids)return ye}function De(){return!1}function ke(Ce,_e,Ie){var Ze,gt,Ve,We=Ie[0].trace,Ke=u.hasMarkers(We),ut=u.hasText(We),mt=xe(We),Lt=De,rt=De;if(Ke||ut){var dt=r,ot=We.stackgroup,pt=ot&&g._fullLayout._scatterStackOpts[T._id+Y._id][ot].stackgaps==="infer zero";We.marker.maxdisplayed||We._needsCull?dt=pt?fe:se:ot&&!pt&&(dt=ce),Ke&&(Lt=dt),ut&&(rt=dt)}gt=Ce.selectAll("path.point"),Ze=gt.data(Lt,mt);var Ct=Ze.enter().append("path").classed("point",!0);A&&Ct.call(f.pointStyle,We,g).call(f.translatePoints,T,Y).style("opacity",0).transition().style("opacity",1),Ze.order();var Ee;Ke&&(Ee=f.makePointStyleFns(We)),Ze.each(function(Oe){var at=e.select(this),pe=V(at);Ve=f.translatePoint(Oe,pe,T,Y),Ve?(f.singlePointStyle(Oe,pe,We,Ee,g),C.layerClipId&&f.hideOutsideRangePoint(Oe,pe,T,Y,We.xcalendar,We.ycalendar),We.customdata&&at.classed("plotly-customdata",Oe.data!==null&&Oe.data!==void 0)):pe.remove()}),A?Ze.exit().transition().style("opacity",0).remove():Ze.exit().remove(),gt=_e.selectAll("g"),Ze=gt.data(rt,mt),Ze.enter().append("g").classed("textpoint",!0).append("text"),Ze.order(),Ze.each(function(Oe){var at=e.select(this),pe=V(at.select("text"));Ve=f.translatePoint(Oe,pe,T,Y),Ve?C.layerClipId&&f.hideOutsideRangePoint(Oe,at,T,Y,We.xcalendar,We.ycalendar):at.remove()}),Ze.selectAll("text").call(f.textPointStyle,We,g).each(function(Oe){var at=T.c2p(Oe.x),pe=Y.c2p(Oe.y);e.select(this).selectAll("tspan.line").each(function(){V(e.select(this)).attr({x:at,y:pe})})}),Ze.exit().remove()}J.datum(L),ae.datum(L),ke(J,ae,L);var Ne=G.cliponaxis===!1,Ue=Ne?null:C.layerClipId;f.setClipUrl(J,Ue,g),f.setClipUrl(ae,Ue,g)}function y(g,D,C,L,x){var M=C.xaxis,v=C.yaxis,m=e.extent(i.simpleMap(M.range,M.r2c)),A=e.extent(i.simpleMap(v.range,v.r2c)),V=L[0].trace;if(!!u.hasMarkers(V)){var T=V.marker.maxdisplayed;if(T!==0){var Y=L.filter(function(W){return W.x>=m[0]&&W.x<=m[1]&&W.y>=A[0]&&W.y<=A[1]}),G=Math.ceil(Y.length/T),S=0;x.forEach(function(W,K){var J=W[0].trace;u.hasMarkers(J)&&J.marker.maxdisplayed>0&&K<D&&S++});var U=Math.round(S*G/3+Math.floor(S/3)*G/7.1);L.forEach(function(W){delete W.vis}),Y.forEach(function(W,K){Math.round((K+U)%G)===0&&(W.vis=!0)})}}}},{"../../components/drawing":124,"../../lib":232,"../../lib/polygon":244,"../../registry":318,"./line_points":372,"./link_traces":374,"./subtypes":383,"@plotly/d3":11}],380:[function(t,P,k){var e=t("./subtypes");P.exports=function(i,n){var r=i.cd,f=i.xaxis,u=i.yaxis,s=[],o=r[0].trace,h,p,d,y,g=!e.hasMarkers(o)&&!e.hasText(o);if(g)return[];if(n===!1)for(h=0;h<r.length;h++)r[h].selected=0;else for(h=0;h<r.length;h++)p=r[h],d=f.c2p(p.x),y=u.c2p(p.y),p.i!==null&&n.contains([d,y],!1,h,i)?(s.push({pointNumber:p.i,x:f.c2d(p.x),y:u.c2d(p.y)}),p.selected=1):p.selected=0;return s}},{"./subtypes":383}],381:[function(t,P,k){var e=["orientation","groupnorm","stackgaps"];P.exports=function(i,n,r,f){var u=r._scatterStackOpts,s=f("stackgroup");if(s){var o=n.xaxis+n.yaxis,h=u[o];h||(h=u[o]={});var p=h[s],d=!1;p?p.traces.push(n):(p=h[s]={traceIndices:[],traces:[n]},d=!0);for(var y={orientation:n.x&&!n.y?"h":"v"},g=0;g<e.length;g++){var D=e[g],C=D+"Found";if(!p[C]){var L=i[D]!==void 0,x=D==="orientation";if((L||d)&&(p[D]=f(D,y[D]),x&&(p.fillDflt=p[D]==="h"?"tonextx":"tonexty"),L&&(p[C]=!0,!d&&(delete p.traces[0][D],x))))for(var M=0;M<p.traces.length-1;M++){var v=p.traces[M];v._input.fill!==v.fill&&(v.fill=p.fillDflt)}}}return p}}},{}],382:[function(t,P,k){var e=t("@plotly/d3"),a=t("../../components/drawing"),i=t("../../registry");function n(s){var o=e.select(s).selectAll("g.trace.scatter");o.style("opacity",function(h){return h[0].trace.opacity}),o.selectAll("g.points").each(function(h){var p=e.select(this),d=h.trace||h[0].trace;r(p,d,s)}),o.selectAll("g.text").each(function(h){var p=e.select(this),d=h.trace||h[0].trace;f(p,d,s)}),o.selectAll("g.trace path.js-line").call(a.lineGroupStyle),o.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),i.getComponentMethod("errorbars","style")(o)}function r(s,o,h){a.pointStyle(s.selectAll("path.point"),o,h)}function f(s,o,h){a.textPointStyle(s.selectAll("text"),o,h)}function u(s,o,h){var p=o[0].trace;p.selectedpoints?(a.selectedPointStyle(h.selectAll("path.point"),p),a.selectedTextStyle(h.selectAll("text"),p)):(r(h,p,s),f(h,p,s))}P.exports={style:n,stylePoints:r,styleText:f,styleOnSelect:u}},{"../../components/drawing":124,"../../registry":318,"@plotly/d3":11}],383:[function(t,P,k){var e=t("../../lib");P.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){return e.isPlainObject(a.marker)&&e.isArrayOrTypedArray(a.marker.size)}}},{"../../lib":232}],384:[function(t,P,k){var e=t("../../lib");P.exports=function(a,i,n,r,f){f=f||{},r("textposition"),e.coerceFont(r,"textfont",n.font),f.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))}},{"../../lib":232}],385:[function(t,P,k){var e=t("../../lib"),a=t("../../registry");P.exports=function(n,r,f,u){var s=u("x"),o=u("y"),h,p=a.getComponentMethod("calendars","handleTraceDefaults");if(p(n,r,["x","y"],f),s){var d=e.minRowLength(s);o?h=Math.min(d,e.minRowLength(o)):(h=d,u("y0"),u("dy"))}else{if(!o)return 0;h=e.minRowLength(o),u("x0"),u("dx")}return r._length=h,h}},{"../../lib":232,"../../registry":318}],386:[function(t,P,k){var e=t("../plots/cartesian/axes"),a=t("../lib"),i=t("../plot_api/plot_schema"),n=t("./helpers").pointsAccessorFunction,r=t("../constants/numerical").BADNUM;k.moduleType="transform",k.name="aggregate";var f=k.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},u=f.aggregations;k.supplyDefaults=function(y,g){var D={},C;function L(W,K){return a.coerce(y,D,f,W,K)}var x=L("enabled");if(!x)return D;var M=i.findArrayAttributes(g),v={};for(C=0;C<M.length;C++)v[M[C]]=1;var m=L("groups");if(!Array.isArray(m)){if(!v[m])return D.enabled=!1,D;v[m]=0}var A=y.aggregations||[],V=D.aggregations=new Array(A.length),T;function Y(W,K){return a.coerce(A[C],T,u,W,K)}for(C=0;C<A.length;C++){T={_index:C};var G=Y("target"),S=Y("func"),U=Y("enabled");U&&G&&(v[G]||S==="count"&&v[G]===void 0)?(S==="stddev"&&Y("funcmode"),v[G]=0,V[C]=T):V[C]={enabled:!1,_index:C}}for(C=0;C<M.length;C++)v[M[C]]&&V.push({target:M[C],func:u.func.dflt,enabled:!0,_index:-1});return D},k.calcTransform=function(y,g,D){if(!!D.enabled){var C=D.groups,L=a.getTargetArray(g,{target:C});if(!!L){var x,M,v,m,A={},V={},T=[],Y=n(g.transforms,D),G=L.length;for(g._length&&(G=Math.min(G,g._length)),x=0;x<G;x++)M=L[x],v=A[M],v===void 0?(A[M]=T.length,m=[x],T.push(m),V[A[M]]=Y(x)):(T[v].push(x),V[A[M]]=(V[A[M]]||[]).concat(Y(x)));D._indexToPoints=V;var S=D.aggregations;for(x=0;x<S.length;x++)s(y,g,T,S[x]);typeof C=="string"&&s(y,g,T,{target:C,func:"first",enabled:!0}),g._length=T.length}}};function s(y,g,D,C){if(!!C.enabled){for(var L=C.target,x=a.nestedProperty(g,L),M=x.get(),v=e.getDataConversions(y,g,L,M),m=o(C,v),A=new Array(D.length),V=0;V<D.length;V++)A[V]=m(M,D[V]);x.set(A),C.func==="count"&&a.pushUnique(g._arrayAttrs,L)}}function o(y,g){var D=y.func,C=g.d2c,L=g.c2d;switch(D){case"count":return h;case"first":return p;case"last":return d;case"sum":return function(x,M){for(var v=0,m=0;m<M.length;m++){var A=C(x[M[m]]);A!==r&&(v+=A)}return L(v)};case"avg":return function(x,M){for(var v=0,m=0,A=0;A<M.length;A++){var V=C(x[M[A]]);V!==r&&(v+=V,m++)}return m?L(v/m):r};case"min":return function(x,M){for(var v=1/0,m=0;m<M.length;m++){var A=C(x[M[m]]);A!==r&&(v=Math.min(v,A))}return v===1/0?r:L(v)};case"max":return function(x,M){for(var v=-1/0,m=0;m<M.length;m++){var A=C(x[M[m]]);A!==r&&(v=Math.max(v,A))}return v===-1/0?r:L(v)};case"range":return function(x,M){for(var v=1/0,m=-1/0,A=0;A<M.length;A++){var V=C(x[M[A]]);V!==r&&(v=Math.min(v,V),m=Math.max(m,V))}return m===-1/0||v===1/0?r:L(m-v)};case"change":return function(x,M){var v=C(x[M[0]]),m=C(x[M[M.length-1]]);return v===r||m===r?r:L(m-v)};case"median":return function(x,M){for(var v=[],m=0;m<M.length;m++){var A=C(x[M[m]]);A!==r&&v.push(A)}if(!v.length)return r;v.sort(a.sorterAsc);var V=(v.length-1)/2;return L((v[Math.floor(V)]+v[Math.ceil(V)])/2)};case"mode":return function(x,M){for(var v={},m=0,A=r,V=0;V<M.length;V++){var T=C(x[M[V]]);if(T!==r){var Y=v[T]=(v[T]||0)+1;Y>m&&(m=Y,A=T)}}return m?L(A):r};case"rms":return function(x,M){for(var v=0,m=0,A=0;A<M.length;A++){var V=C(x[M[A]]);V!==r&&(v+=V*V,m++)}return m?L(Math.sqrt(v/m)):r};case"stddev":return function(x,M){var v=0,m=0,A=1,V=r,T;for(T=0;T<M.length&&V===r;T++)V=C(x[M[T]]);if(V===r)return r;for(;T<M.length;T++){var Y=C(x[M[T]]);if(Y!==r){var G=Y-V;v+=G,m+=G*G,A++}}var S=y.funcmode==="sample"?A-1:A;return S?Math.sqrt((m-v*v/A)/S):0}}}function h(y,g){return g.length}function p(y,g){return y[g[0]]}function d(y,g){return y[g[g.length-1]]}},{"../constants/numerical":212,"../lib":232,"../plot_api/plot_schema":267,"../plots/cartesian/axes":279,"./helpers":389}],387:[function(t,P,k){var e=t("../lib"),a=t("../registry"),i=t("../plots/cartesian/axes"),n=t("./helpers").pointsAccessorFunction,r=t("../constants/filter_ops"),f=r.COMPARISON_OPS,u=r.INTERVAL_OPS,s=r.SET_OPS;k.moduleType="transform",k.name="filter",k.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(f).concat(u).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},k.supplyDefaults=function(h){var p={};function d(C,L){return e.coerce(h,p,k.attributes,C,L)}var y=d("enabled");if(y){var g=d("target");if(e.isArrayOrTypedArray(g)&&g.length===0)return p.enabled=!1,p;d("preservegaps"),d("operation"),d("value");var D=a.getComponentMethod("calendars","handleDefaults");D(h,p,"valuecalendar",null),D(h,p,"targetcalendar",null)}return p},k.calcTransform=function(h,p,d){if(!d.enabled)return;var y=e.getTargetArray(p,d);if(!y)return;var g=d.target,D=y.length;p._length&&(D=Math.min(D,p._length));var C=d.targetcalendar,L=p._arrayAttrs,x=d.preservegaps;if(typeof g=="string"){var M=e.nestedProperty(p,g+"calendar").get();M&&(C=M)}var v=i.getDataToCoordFunc(h,p,g,y),m=o(d,v,C),A={},V={},T=0;function Y(J,ae){for(var z=0;z<L.length;z++){var H=e.nestedProperty(p,L[z]);J(H,ae)}}var G,S;x?(G=function(J){A[J.astr]=e.extendDeep([],J.get()),J.set(new Array(D))},S=function(J,ae){var z=A[J.astr][ae];J.get()[ae]=z}):(G=function(J){A[J.astr]=e.extendDeep([],J.get()),J.set([])},S=function(J,ae){var z=A[J.astr][ae];J.get().push(z)}),Y(G);for(var U=n(p.transforms,d),W=0;W<D;W++){var K=m(y[W]);K?(Y(S,W),V[T++]=U(W)):x&&T++}d._indexToPoints=V,p._length=T};function o(h,p,d){var y=h.operation,g=h.value,D=Array.isArray(g);function C(v){return v.indexOf(y)!==-1}var L=function(v){return p(v,0,h.valuecalendar)},x=function(v){return p(v,0,d)},M;switch(C(f)?M=L(D?g[0]:g):C(u)?M=D?[L(g[0]),L(g[1])]:[L(g),L(g)]:C(s)&&(M=D?g.map(L):[L(g)]),y){case"=":return function(v){return x(v)===M};case"!=":return function(v){return x(v)!==M};case"<":return function(v){return x(v)<M};case"<=":return function(v){return x(v)<=M};case">":return function(v){return x(v)>M};case">=":return function(v){return x(v)>=M};case"[]":return function(v){var m=x(v);return m>=M[0]&&m<=M[1]};case"()":return function(v){var m=x(v);return m>M[0]&&m<M[1]};case"[)":return function(v){var m=x(v);return m>=M[0]&&m<M[1]};case"(]":return function(v){var m=x(v);return m>M[0]&&m<=M[1]};case"][":return function(v){var m=x(v);return m<=M[0]||m>=M[1]};case")(":return function(v){var m=x(v);return m<M[0]||m>M[1]};case"](":return function(v){var m=x(v);return m<=M[0]||m>M[1]};case")[":return function(v){var m=x(v);return m<M[0]||m>=M[1]};case"{}":return function(v){return M.indexOf(x(v))!==-1};case"}{":return function(v){return M.indexOf(x(v))===-1}}}},{"../constants/filter_ops":210,"../lib":232,"../plots/cartesian/axes":279,"../registry":318,"./helpers":389}],388:[function(t,P,k){var e=t("../lib"),a=t("../plot_api/plot_schema"),i=t("../plots/plots"),n=t("./helpers").pointsAccessorFunction;k.moduleType="transform",k.name="groupby",k.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},k.supplyDefaults=function(f,u,s){var o,h={};function p(L,x){return e.coerce(f,h,k.attributes,L,x)}var d=p("enabled");if(!d)return h;p("groups"),p("nameformat",s._dataLength>1?"%{group} (%{trace})":"%{group}");var y=f.styles,g=h.styles=[];if(y)for(o=0;o<y.length;o++){var D=g[o]={};e.coerce(y[o],g[o],k.attributes.styles,"target");var C=e.coerce(y[o],g[o],k.attributes.styles,"value");e.isPlainObject(C)?D.value=e.extendDeep({},C):C&&delete D.value}return h},k.transform=function(f,u){var s,o,h,p=[];for(o=0;o<f.length;o++)for(s=r(f[o],u),h=0;h<s.length;h++)p.push(s[h]);return p};function r(f,u){var s,o,h,p,d,y,g,D,C,L,x=u.transform,M=u.transformIndex,v=f.transforms[M].groups,m=n(f.transforms,x);if(!e.isArrayOrTypedArray(v)||v.length===0)return[f];var A=e.filterUnique(v),V=new Array(A.length),T=v.length,Y=a.findArrayAttributes(f),G=x.styles||[],S={};for(s=0;s<G.length;s++)S[G[s].target]=G[s].value;x.styles&&(L=e.keyedContainer(x,"styles","target","value.name"));var U={},W={};for(s=0;s<A.length;s++){y=A[s],U[y]=s,W[y]=0,g=V[s]=e.extendDeepNoArrays({},f),g._group=y,g.transforms[M]._indexToPoints={};var K=null;for(L&&(K=L.get(y)),K||K===""?g.name=K:g.name=e.templateString(x.nameformat,{trace:f.name,group:y}),D=g.transforms,g.transforms=[],o=0;o<D.length;o++)g.transforms[o]=e.extendDeepNoArrays({},D[o]);for(o=0;o<Y.length;o++)e.nestedProperty(g,Y[o]).set([])}for(h=0;h<Y.length;h++){for(p=Y[h],o=0,C=[];o<A.length;o++)C[o]=e.nestedProperty(V[o],p).get();for(d=e.nestedProperty(f,p).get(),o=0;o<T;o++)C[U[v[o]]].push(d[o])}for(o=0;o<T;o++){g=V[U[v[o]]];var J=g.transforms[M]._indexToPoints;J[W[v[o]]]=m(o),W[v[o]]++}for(s=0;s<A.length;s++)y=A[s],g=V[s],i.clearExpandedTraceDefaultColors(g),g=e.extendDeepNoArrays(g,S[y]||{});return V}},{"../lib":232,"../plot_api/plot_schema":267,"../plots/plots":316,"./helpers":389}],389:[function(t,P,k){k.pointsAccessorFunction=function(e,a){for(var i,n,r=0;r<e.length&&(i=e[r],i!==a);r++)!i._indexToPoints||i.enabled===!1||(n=i._indexToPoints);var f=n?function(u){return n[u]}:function(u){return[u]};return f}},{}],390:[function(t,P,k){var e=t("../lib"),a=t("../plots/cartesian/axes"),i=t("./helpers").pointsAccessorFunction,n=t("../constants/numerical").BADNUM;k.moduleType="transform",k.name="sort",k.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},k.supplyDefaults=function(u){var s={};function o(p,d){return e.coerce(u,s,k.attributes,p,d)}var h=o("enabled");return h&&(o("target"),o("order")),s},k.calcTransform=function(u,s,o){if(!!o.enabled){var h=e.getTargetArray(s,o);if(!!h){var p=o.target,d=h.length;s._length&&(d=Math.min(d,s._length));var y=s._arrayAttrs,g=a.getDataToCoordFunc(u,s,p,h),D=r(o,h,g,d),C=i(s.transforms,o),L={},x,M;for(x=0;x<y.length;x++){var v=e.nestedProperty(s,y[x]),m=v.get(),A=new Array(d);for(M=0;M<d;M++)A[M]=m[D[M]];v.set(A)}for(M=0;M<d;M++)L[M]=C(D[M]);o._indexToPoints=L,s._length=d}}};function r(u,s,o,h){var p=new Array(h),d=new Array(h),y;for(y=0;y<h;y++)p[y]={v:s[y],i:y};for(p.sort(f(u,o)),y=0;y<h;y++)d[y]=p[y].i;return d}function f(u,s){switch(u.order){case"ascending":return function(o,h){var p=s(o.v),d=s(h.v);return p===n?1:d===n?-1:p-d};case"descending":return function(o,h){var p=s(o.v),d=s(h.v);return p===n?1:d===n?-1:d-p}}}},{"../constants/numerical":212,"../lib":232,"../plots/cartesian/axes":279,"./helpers":389}],391:[function(t,P,k){k.version="2.8.1"},{}]},{},[8])(8)})})(uu);var Vh=Ph(uu.exports);export{ba as F,Gh as P,Bs as a,Vv as b,zh as c,Fh as d,Oh as e,Ih as f,Bv as g,Hh as h,Vh as i,va as j,Yh as k,Wi as n,Ov as o,Bh as r,Nh as t,Uh as w};
